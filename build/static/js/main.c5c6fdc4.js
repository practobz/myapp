/*! For license information please see main.c5c6fdc4.js.LICENSE.txt */
(()=>{var e={356:(e,t,s)=>{e.exports=s(9645).last},528:(e,t)=>{"use strict";var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler");Symbol.for("react.provider");var o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case r:case i:case a:case d:case u:case x:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case m:case o:return e;default:return t}}case n:return t}}}t.zv=function(e){return g(e)===r}},579:(e,t,s)=>{"use strict";e.exports=s(1153)},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1153:(e,t,s)=>{"use strict";var n=s(5043),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,a={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1203:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1293:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof s&&(s={});let n,r=null,a=null,i=null,o=0,l=null;const{leading:c=!1,trailing:d=!0,maxWait:u}=s,m="maxWait"in s,h=m?Math.max(Number(u)||0,t):0,x=t=>(null!==r&&(n=e.apply(a,r)),r=a=null,o=t,n),p=e=>(l=null,d&&null!==r?x(e):n),g=e=>{if(null===i)return!0;const s=e-i;return s>=t||s<0||m&&e-o>=h},f=()=>{const e=Date.now();if(g(e))return p(e);l=setTimeout(f,(e=>{const s=t-(null===i?0:e-i),n=h-(e-o);return m?Math.min(s,n):s})(e))},b=function(){const e=Date.now(),s=g(e);for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];if(r=u,a=this,i=e,s){if(null===l)return o=p=e,l=setTimeout(f,t),c&&null!==r?x(p):n;if(m)return clearTimeout(l),l=setTimeout(f,t),x(e)}var p;return null===l&&(l=setTimeout(f,t)),n};return b.cancel=()=>{null!==l&&clearTimeout(l),o=0,i=r=a=l=null},b.flush=()=>null===l?n:p(Date.now()),b}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],s=e.length;if(0===s)return t;let n=0,r="",a="",i=!1;for(46===e.charCodeAt(0)&&(t.push(""),n++);n<s;){const o=e[n];a?"\\"===o&&n+1<s?(n++,r+=e[n]):o===a?a="":r+=o:i?'"'===o||"'"===o?a=o:"]"===o?(i=!1,t.push(r),r=""):r+=o:"["===o?(i=!0,r&&(t.push(r),r="")):"."===o?r&&(t.push(r),r=""):r+=o,n++}return r&&t.push(r),t}},2104:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(1203),r=s(9921);t.isArrayLikeObject=function(e){return r.isObjectLike(e)&&n.isArrayLike(e)}},2132:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(8268),r=s(870),a=s(4803),i=s(9972);function o(e,t,s,n){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,s,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,s,n);if(t instanceof Map)return function(e,t,s,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[r,a]of t.entries()){if(!1===s(e.get(r),a,r,e,t,n))return!1}return!0}(e,t,s,n);if(t instanceof Set)return c(e,t,s,n);const r=Object.keys(t);if(null==e)return 0===r.length;if(0===r.length)return!0;if(n&&n.has(t))return n.get(t)===e;n&&n.set(t,e);try{for(let i=0;i<r.length;i++){const o=r[i];if(!a.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!s(e[o],t[o],o,e,t,n))return!1}return!0}finally{n&&n.delete(t)}}(e,t,s,n);case"function":return Object.keys(t).length>0?o(e,{...t},s,n):i.eq(e,t);default:return r.isObject(e)?"string"!==typeof t||""===t:i.eq(e,t)}}function l(e,t,s,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const r=new Set;for(let a=0;a<t.length;a++){const i=t[a];let o=!1;for(let l=0;l<e.length;l++){if(r.has(l))continue;let c=!1;if(s(e[l],i,a,e,t,n)&&(c=!0),c){r.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,s,n){return 0===t.size||e instanceof Set&&l([...e],[...t],s,n)}t.isMatchWith=function(e,t,s){return"function"!==typeof s?n.isMatch(e,t):o(e,t,function e(t,n,r,a,i,l){const c=s(t,n,r,a,i,l);return void 0!==c?Boolean(c):o(t,n,e,l)},new Map)},t.isSetMatch=c},2204:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(5316),r=s(7312),a=s(3799);t.sortBy=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];const o=s.length;return o>1&&a.isIterateeCall(e,s[0],s[1])?s=[]:o>2&&a.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),n.orderBy(e,r.flatten(s),["asc"])}},2330:(e,t,s)=>{"use strict";var n=s(5043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useState,i=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!r(e,s)}catch(n){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),n=a({inst:{value:s,getSnapshot:t}}),r=n[0].inst,d=n[1];return o(function(){r.value=s,r.getSnapshot=t,c(r)&&d({inst:r})},[e,s,t]),i(function(){return c(r)&&d({inst:r}),e(function(){c(r)&&d({inst:r})})},[e]),l(s),s};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const t=e[Symbol.toStringTag];if(null==t)return!1;return!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},2715:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(9599),r=s(7330),a=s(3808),i=s(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return r.property(e)}}},2730:(e,t,s)=>{"use strict";var n=s(5043),r=s(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},x={};function p(e,t,s,n,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,s,n){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,n){if(null===t||"undefined"===typeof t||function(e,t,s,n){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,n))return!0;if(n)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,r,n)&&(s=null),n||null===r?function(e){return!!u.call(x,e)||!u.call(h,e)&&(m.test(e)?x[e]=!0:(h[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):r.mustUseProperty?e[r.propertyName]=null===s?3!==r.type&&"":s:(t=r.attributeName,n=r.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(r=r.type)||4===r&&!0===s?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,b);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,R=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=n.stack.split("\n"),i=r.length-1,o=a.length-1;1<=i&&0<=o&&r[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==a[o]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(s){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var r=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var s=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function J(e,t){var s=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;s=W(null!=t.value?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Q(e,t);var s=W(t.value),n=t.type;if(null!=s)"number"===n?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&G(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,n){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+W(s),t=null,r=0;r<e.length;r++){if(e[r].value===s)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(a(92));if(te(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:W(s)}}function ae(e,t){var s=W(t.value),n=W(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function pe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var n=0===s.indexOf("--"),r=pe(s,t[s],n);"float"===s&&(s="cssFloat"),n?e.setProperty(s,r):e[s]=r}}Object.keys(he).forEach(function(e){xe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var fe=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function Se(e){if(e=vr(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=jr(t),we(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Ee=!1;function Oe(e,t,s){if(Ee)return e(t,s);Ee=!0;try{return Ae(e,t,s)}finally{Ee=!1,(null!==Ne||null!==ke)&&(Pe(),Ce())}}function Ie(e,t){var s=e.stateNode;if(null===s)return null;var n=jr(s);if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(a(231,t,typeof s));return s}var Te=!1;if(d)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(de){Te=!1}function De(e,t,s,n,r,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Le=!1,Re=null,Fe=!1,ze=null,Ue={onError:function(e){Le=!0,Re=e}};function $e(e,t,s,n,r,a,i,o,l){Le=!1,Re=null,De.apply(Ue,arguments)}function Be(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var s=e,n=t;;){var r=s.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(n=r.return)){s=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===s)return We(r),e;if(i===n)return We(r),t;i=i.sibling}throw Error(a(188))}if(s.return!==n.return)s=r,n=i;else{for(var o=!1,l=r.child;l;){if(l===s){o=!0,s=r,n=i;break}if(l===n){o=!0,n=r,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=r;break}if(l===n){o=!0,n=i,s=r;break}l=l.sibling}if(!o)throw Error(a(189))}}if(s.alternate!==n)throw Error(a(190))}if(3!==s.tag)throw Error(a(188));return s.stateNode.current===s?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Je=r.unstable_requestPaint,Qe=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,st=r.unstable_LowPriority,nt=r.unstable_IdlePriority,rt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var s=e.pendingLanes;if(0===s)return 0;var n=0,r=e.suspendedLanes,a=e.pingedLanes,i=268435455&s;if(0!==i){var o=i&~r;0!==o?n=ut(o):0!==(a&=i)&&(n=ut(a))}else 0!==(i=s&~r)?n=ut(i):0!==a&&(n=ut(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(s=31-it(t)),n|=e[s],t&=~r;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ft(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=s}function bt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-it(s),r=1<<n;r&t|e[n]&t&&(e[n]|=t),s&=~r}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,St,_t=!1,Ct=[],At=null,Pt=null,Et=null,Ot=new Map,It=new Map,Tt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Lt(e,t,s,n,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Rt(e){var t=br(e.target);if(null!==t){var s=Be(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ve(s)))return e.blockedOn=t,void St(e.priority,function(){Nt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=vr(s))&&wt(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);ye=n,s.target.dispatchEvent(n),ye=null,t.shift()}return!0}function zt(e,t,s){Ft(e)&&s.delete(t)}function Ut(){_t=!1,null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Et&&Ft(Et)&&(Et=null),Ot.forEach(zt),It.forEach(zt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return $t(t,e)}if(0<Ct.length){$t(Ct[0],e);for(var s=1;s<Ct.length;s++){var n=Ct[s];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&$t(At,e),null!==Pt&&$t(Pt,e),null!==Et&&$t(Et,e),Ot.forEach(t),It.forEach(t),s=0;s<Tt.length;s++)(n=Tt[s]).blockedOn===e&&(n.blockedOn=null);for(;0<Tt.length&&null===(s=Tt[0]).blockedOn;)Rt(s),null===s.blockedOn&&Tt.shift()}var Vt=y.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,s,n){var r=vt,a=Vt.transition;Vt.transition=null;try{vt=1,Yt(e,t,s,n)}finally{vt=r,Vt.transition=a}}function qt(e,t,s,n){var r=vt,a=Vt.transition;Vt.transition=null;try{vt=4,Yt(e,t,s,n)}finally{vt=r,Vt.transition=a}}function Yt(e,t,s,n){if(Wt){var r=Kt(e,t,s,n);if(null===r)Wn(e,t,n,Gt,s),Dt(e,n);else if(function(e,t,s,n,r){switch(t){case"focusin":return At=Lt(At,e,t,s,n,r),!0;case"dragenter":return Pt=Lt(Pt,e,t,s,n,r),!0;case"mouseover":return Et=Lt(Et,e,t,s,n,r),!0;case"pointerover":var a=r.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,s,n,r)),!0;case"gotpointercapture":return a=r.pointerId,It.set(a,Lt(It.get(a)||null,e,t,s,n,r)),!0}return!1}(r,e,t,s,n))n.stopPropagation();else if(Dt(e,n),4&t&&-1<Mt.indexOf(e)){for(;null!==r;){var a=vr(r);if(null!==a&&jt(a),null===(a=Kt(e,t,s,n))&&Wn(e,t,n,Gt,s),a===r)break;r=a}null!==r&&n.stopPropagation()}else Wn(e,t,n,null,s)}}var Gt=null;function Kt(e,t,s,n){if(Gt=null,null!==(e=br(e=je(n))))if(null===(t=Be(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case st:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function es(){if(Zt)return Zt;var e,t,s=Xt,n=s.length,r="value"in Qt?Qt.value:Qt.textContent,a=r.length;for(e=0;e<n&&s[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&s[n-t]===r[a-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function ns(){return!1}function rs(e){function t(t,s,n,r,a){for(var i in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?ss:ns,this.isPropagationStopped=ns,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var as,is,os,ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=rs(ls),ds=R({},ls,{view:0,detail:0}),us=rs(ds),ms=R({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&"mousemove"===e.type?(as=e.screenX-os.screenX,is=e.screenY-os.screenY):is=as=0,os=e),as)},movementY:function(e){return"movementY"in e?e.movementY:is}}),hs=rs(ms),xs=rs(R({},ms,{dataTransfer:0})),ps=rs(R({},ds,{relatedTarget:0})),gs=rs(R({},ls,{animationName:0,elapsedTime:0,pseudoElement:0})),fs=R({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bs=rs(fs),vs=rs(R({},ls,{data:0})),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},js={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ws[e])&&!!t[e]}function ks(){return Ns}var Ss=R({},ds,{key:function(e){if(e.key){var t=ys[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?js[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_s=rs(Ss),Cs=rs(R({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),As=rs(R({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks})),Ps=rs(R({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0})),Es=R({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Os=rs(Es),Is=[9,13,27,32],Ts=d&&"CompositionEvent"in window,Ms=null;d&&"documentMode"in document&&(Ms=document.documentMode);var Ds=d&&"TextEvent"in window&&!Ms,Ls=d&&(!Ts||Ms&&8<Ms&&11>=Ms),Rs=String.fromCharCode(32),Fs=!1;function zs(e,t){switch(e){case"keyup":return-1!==Is.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Us(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $s=!1;var Bs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bs[e.type]:"textarea"===t}function Ws(e,t,s,n){_e(n),0<(t=qn(t,"onChange")).length&&(s=new cs("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Hs=null,qs=null;function Ys(e){Fn(e,0)}function Gs(e){if(Y(yr(e)))return e}function Ks(e,t){if("change"===e)return t}var Js=!1;if(d){var Qs;if(d){var Xs="oninput"in document;if(!Xs){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),Xs="function"===typeof Zs.oninput}Qs=Xs}else Qs=!1;Js=Qs&&(!document.documentMode||9<document.documentMode)}function en(){Hs&&(Hs.detachEvent("onpropertychange",tn),qs=Hs=null)}function tn(e){if("value"===e.propertyName&&Gs(qs)){var t=[];Ws(t,qs,e,je(e)),Oe(Ys,t)}}function sn(e,t,s){"focusin"===e?(en(),qs=s,(Hs=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gs(qs)}function rn(e,t){if("click"===e)return Gs(t)}function an(e,t){if("input"===e||"change"===e)return Gs(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!u.call(t,r)||!on(e[r],t[r]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var s,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=G((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function xn(e){var t=mn(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&un(s.ownerDocument.documentElement,s)){if(null!==n&&hn(s))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=s.textContent.length,a=Math.min(n.start,r);n=void 0===n.end?a:Math.min(n.end,r),!e.extend&&a>n&&(r=n,n=a,a=r),r=dn(s,a);var i=dn(s,n);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,fn=null,bn=null,vn=!1;function yn(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;vn||null==gn||gn!==G(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&ln(bn,n)||(bn=n,0<(n=qn(fn,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=gn)))}function jn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var wn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!wn[e])return e;var t,s=wn[e];for(t in s)if(s.hasOwnProperty(t)&&t in kn)return Nn[e]=s[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var _n=Sn("animationend"),Cn=Sn("animationiteration"),An=Sn("animationstart"),Pn=Sn("transitionend"),En=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){En.set(e,t),l(t,[e])}for(var Tn=0;Tn<On.length;Tn++){var Mn=On[Tn];In(Mn.toLowerCase(),"on"+(Mn[0].toUpperCase()+Mn.slice(1)))}In(_n,"onAnimationEnd"),In(Cn,"onAnimationIteration"),In(An,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Rn(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,n,r,i,o,l,c){if($e.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=Re;Le=!1,Re=null,Fe||(Fe=!0,ze=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;Rn(r,o,c),a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;Rn(r,o,c),a=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zn(e,t){var s=t[pr];void 0===s&&(s=t[pr]=new Set);var n=e+"__bubble";s.has(n)||(Vn(t,e,2,!1),s.add(n))}function Un(e,t,s){var n=0;t&&(n|=4),Vn(s,e,n,t)}var $n="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[$n]){e[$n]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ln.has(t)||Un(t,!1,e),Un(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$n]||(t[$n]=!0,Un("selectionchange",!1,t))}}function Vn(e,t,s,n){switch(Jt(t)){case 1:var r=Ht;break;case 4:r=qt;break;default:r=Yt}s=r.bind(null,t,s,e),r=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):void 0!==r?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function Wn(e,t,s,n,r){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=br(o)))return;if(5===(l=i.tag)||6===l){n=a=i;continue e}o=o.parentNode}}n=n.return}Oe(function(){var n=a,r=je(s),i=[];e:{var o=En.get(e);if(void 0!==o){var l=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":l=_s;break;case"focusin":c="focus",l=ps;break;case"focusout":c="blur",l=ps;break;case"beforeblur":case"afterblur":l=ps;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=xs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=As;break;case _n:case Cn:case An:l=gs;break;case Pn:l=Ps;break;case"scroll":l=us;break;case"wheel":l=Os;break;case"copy":case"cut":case"paste":l=bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cs}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var h,x=n;null!==x;){var p=(h=x).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Ie(x,m))&&d.push(Hn(x,p,h)))),u)break;x=x.return}0<d.length&&(o=new l(o,c,null,s,r),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===ye||!(c=s.relatedTarget||s.fromElement)||!br(c)&&!c[xr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=s.relatedTarget||s.toElement)?br(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=hs,p="onMouseLeave",m="onMouseEnter",x="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cs,p="onPointerLeave",m="onPointerEnter",x="pointer"),u=null==l?o:yr(l),h=null==c?o:yr(c),(o=new d(p,x+"leave",l,s,r)).target=u,o.relatedTarget=h,p=null,br(r)===n&&((d=new d(m,x+"enter",c,s,r)).target=h,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(m=c,x=0,h=d=l;h;h=Yn(h))x++;for(h=0,p=m;p;p=Yn(p))h++;for(;0<x-h;)d=Yn(d),x--;for(;0<h-x;)m=Yn(m),h--;for(;x--;){if(d===m||null!==m&&d===m.alternate)break e;d=Yn(d),m=Yn(m)}d=null}else d=null;null!==l&&Gn(i,o,l,d,!1),null!==c&&null!==u&&Gn(i,u,c,d,!0)}if("select"===(l=(o=n?yr(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Ks;else if(Vs(o))if(Js)g=an;else{g=nn;var f=sn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=rn);switch(g&&(g=g(e,n))?Ws(i,g,s,r):(f&&f(e,o,n),"focusout"===e&&(f=o._wrapperState)&&f.controlled&&"number"===o.type&&ee(o,"number",o.value)),f=n?yr(n):window,e){case"focusin":(Vs(f)||"true"===f.contentEditable)&&(gn=f,fn=n,bn=null);break;case"focusout":bn=fn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,yn(i,s,r);break;case"selectionchange":if(pn)break;case"keydown":case"keyup":yn(i,s,r)}var b;if(Ts)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else $s?zs(e,s)&&(v="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(v="onCompositionStart");v&&(Ls&&"ko"!==s.locale&&($s||"onCompositionStart"!==v?"onCompositionEnd"===v&&$s&&(b=es()):(Xt="value"in(Qt=r)?Qt.value:Qt.textContent,$s=!0)),0<(f=qn(n,v)).length&&(v=new vs(v,e,null,s,r),i.push({event:v,listeners:f}),b?v.data=b:null!==(b=Us(s))&&(v.data=b))),(b=Ds?function(e,t){switch(e){case"compositionend":return Us(t);case"keypress":return 32!==t.which?null:(Fs=!0,Rs);case"textInput":return(e=t.data)===Rs&&Fs?null:e;default:return null}}(e,s):function(e,t){if($s)return"compositionend"===e||!Ts&&zs(e,t)?(e=es(),Zt=Xt=Qt=null,$s=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ls&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(n=qn(n,"onBeforeInput")).length&&(r=new vs("onBeforeInput","beforeinput",null,s,r),i.push({event:r,listeners:n}),r.data=b))}Fn(i,t)})}function Hn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function qn(e,t){for(var s=t+"Capture",n=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Ie(e,s))&&n.unshift(Hn(e,a,r)),null!=(a=Ie(e,t))&&n.push(Hn(e,a,r))),e=e.return}return n}function Yn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gn(e,t,s,n,r){for(var a=t._reactName,i=[];null!==s&&s!==n;){var o=s,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Ie(s,a))&&i.unshift(Hn(s,l,o)):r||null!=(l=Ie(s,a))&&i.push(Hn(s,l,o))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var Kn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Jn,"")}function Xn(e,t,s){if(t=Qn(t),Qn(e)!==t&&s)throw Error(a(425))}function Zn(){}var er=null,tr=null;function sr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(or)}:nr;function or(e){setTimeout(function(){throw e})}function lr(e,t){var s=t,n=0;do{var r=s.nextSibling;if(e.removeChild(s),r&&8===r.nodeType)if("/$"===(s=r.data)){if(0===n)return e.removeChild(r),void Bt(t);n--}else"$"!==s&&"$?"!==s&&"$!"!==s||n++;s=r}while(s);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),mr="__reactFiber$"+ur,hr="__reactProps$"+ur,xr="__reactContainer$"+ur,pr="__reactEvents$"+ur,gr="__reactListeners$"+ur,fr="__reactHandles$"+ur;function br(e){var t=e[mr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[xr]||s[mr]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=dr(e);null!==e;){if(s=e[mr])return s;e=dr(e)}return t}s=(e=s).parentNode}return null}function vr(e){return!(e=e[mr]||e[xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function jr(e){return e[hr]||null}var wr=[],Nr=-1;function kr(e){return{current:e}}function Sr(e){0>Nr||(e.current=wr[Nr],wr[Nr]=null,Nr--)}function _r(e,t){Nr++,wr[Nr]=e.current,e.current=t}var Cr={},Ar=kr(Cr),Pr=kr(!1),Er=Cr;function Or(e,t){var s=e.type.contextTypes;if(!s)return Cr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in s)a[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ir(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Tr(){Sr(Pr),Sr(Ar)}function Mr(e,t,s){if(Ar.current!==Cr)throw Error(a(168));_r(Ar,t),_r(Pr,s)}function Dr(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return s;for(var r in n=n.getChildContext())if(!(r in t))throw Error(a(108,V(e)||"Unknown",r));return R({},s,n)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Er=Ar.current,_r(Ar,e),_r(Pr,Pr.current),!0}function Rr(e,t,s){var n=e.stateNode;if(!n)throw Error(a(169));s?(e=Dr(e,t,Er),n.__reactInternalMemoizedMergedChildContext=e,Sr(Pr),Sr(Ar),_r(Ar,e)):Sr(Pr),_r(Pr,s)}var Fr=null,zr=!1,Ur=!1;function $r(e){null===Fr?Fr=[e]:Fr.push(e)}function Br(){if(!Ur&&null!==Fr){Ur=!0;var e=0,t=vt;try{var s=Fr;for(vt=1;e<s.length;e++){var n=s[e];do{n=n(!0)}while(null!==n)}Fr=null,zr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Ye(Ze,Br),r}finally{vt=t,Ur=!1}}return null}var Vr=[],Wr=0,Hr=null,qr=0,Yr=[],Gr=0,Kr=null,Jr=1,Qr="";function Xr(e,t){Vr[Wr++]=qr,Vr[Wr++]=Hr,Hr=e,qr=t}function Zr(e,t,s){Yr[Gr++]=Jr,Yr[Gr++]=Qr,Yr[Gr++]=Kr,Kr=e;var n=Jr;e=Qr;var r=32-it(n)-1;n&=~(1<<r),s+=1;var a=32-it(t)+r;if(30<a){var i=r-r%5;a=(n&(1<<i)-1).toString(32),n>>=i,r-=i,Jr=1<<32-it(t)+r|s<<r|n,Qr=a+e}else Jr=1<<a|s<<r|n,Qr=e}function ea(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ta(e){for(;e===Hr;)Hr=Vr[--Wr],Vr[Wr]=null,qr=Vr[--Wr],Vr[Wr]=null;for(;e===Kr;)Kr=Yr[--Gr],Yr[Gr]=null,Qr=Yr[--Gr],Yr[Gr]=null,Jr=Yr[--Gr],Yr[Gr]=null}var sa=null,na=null,ra=!1,aa=null;function ia(e,t){var s=Oc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function oa(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sa=e,na=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sa=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Kr?{id:Jr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Oc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sa=e,na=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ra){var t=na;if(t){var s=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cr(s.nextSibling);var n=sa;t&&oa(e,t)?ia(n,s):(e.flags=-4097&e.flags|2,ra=!1,sa=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,sa=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sa=e}function ua(e){if(e!==sa)return!1;if(!ra)return da(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!sr(e.type,e.memoizedProps)),t&&(t=na)){if(la(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=cr(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){na=cr(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}na=null}}else na=sa?cr(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=na;e;)e=cr(e.nextSibling)}function ha(){na=sa=null,ra=!1}function xa(e){null===aa?aa=[e]:aa.push(e)}var pa=y.ReactCurrentBatchConfig;function ga(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(a(309));var n=s.stateNode}if(!n)throw Error(a(147,e));var r=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function va(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function i(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=2,s):n:(t.flags|=2,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,s,n){return null===t||6!==t.tag?((t=Rc(s,e.mode,n)).return=e,t):((t=r(t,s)).return=e,t)}function c(e,t,s,n){var a=s.type;return a===N?u(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&ba(a)===t.type)?((n=r(t,s.props)).ref=ga(e,t,s),n.return=e,n):((n=Mc(s.type,s.key,s.props,null,e.mode,n)).ref=ga(e,t,s),n.return=e,n)}function d(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Fc(s,e.mode,n)).return=e,t):((t=r(t,s.children||[])).return=e,t)}function u(e,t,s,n,a){return null===t||7!==t.tag?((t=Dc(s,e.mode,n,a)).return=e,t):((t=r(t,s)).return=e,t)}function m(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(s=Mc(t.type,t.key,t.props,null,e.mode,s)).ref=ga(e,null,t),s.return=e,s;case w:return(t=Fc(t,e.mode,s)).return=e,t;case I:return m(e,(0,t._init)(t._payload),s)}if(te(t)||D(t))return(t=Dc(t,e.mode,s,null)).return=e,t;fa(e,t)}return null}function h(e,t,s,n){var r=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==r?null:l(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return s.key===r?c(e,t,s,n):null;case w:return s.key===r?d(e,t,s,n):null;case I:return h(e,t,(r=s._init)(s._payload),n)}if(te(s)||D(s))return null!==r?null:u(e,t,s,n,null);fa(e,s)}return null}function x(e,t,s,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(s)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?s:n.key)||null,n,r);case w:return d(t,e=e.get(null===n.key?s:n.key)||null,n,r);case I:return x(e,t,s,(0,n._init)(n._payload),r)}if(te(n)||D(n))return u(t,e=e.get(s)||null,n,r,null);fa(t,n)}return null}function p(r,a,o,l){for(var c=null,d=null,u=a,p=a=0,g=null;null!==u&&p<o.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var f=h(r,u,o[p],l);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(r,u),a=i(f,a,p),null===d?c=f:d.sibling=f,d=f,u=g}if(p===o.length)return s(r,u),ra&&Xr(r,p),c;if(null===u){for(;p<o.length;p++)null!==(u=m(r,o[p],l))&&(a=i(u,a,p),null===d?c=u:d.sibling=u,d=u);return ra&&Xr(r,p),c}for(u=n(r,u);p<o.length;p++)null!==(g=x(u,r,p,o[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),a=i(g,a,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),ra&&Xr(r,p),c}function g(r,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,p=o,g=o=0,f=null,b=l.next();null!==p&&!b.done;g++,b=l.next()){p.index>g?(f=p,p=null):f=p.sibling;var v=h(r,p,b.value,c);if(null===v){null===p&&(p=f);break}e&&p&&null===v.alternate&&t(r,p),o=i(v,o,g),null===u?d=v:u.sibling=v,u=v,p=f}if(b.done)return s(r,p),ra&&Xr(r,g),d;if(null===p){for(;!b.done;g++,b=l.next())null!==(b=m(r,b.value,c))&&(o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return ra&&Xr(r,g),d}for(p=n(r,p);!b.done;g++,b=l.next())null!==(b=x(p,r,g,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),o=i(b,o,g),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach(function(e){return t(r,e)}),ra&&Xr(r,g),d}return function e(n,a,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){s(n,d.sibling),(a=r(d,i.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&ba(c)===d.type){s(n,d.sibling),(a=r(d,i.props)).ref=ga(n,d,i),a.return=n,n=a;break e}s(n,d);break}t(n,d),d=d.sibling}i.type===N?((a=Dc(i.props.children,n.mode,l,i.key)).return=n,n=a):((l=Mc(i.type,i.key,i.props,null,n.mode,l)).ref=ga(n,a,i),l.return=n,n=l)}return o(n);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){s(n,a.sibling),(a=r(a,i.children||[])).return=n,n=a;break e}s(n,a);break}t(n,a),a=a.sibling}(a=Fc(i,n.mode,l)).return=n,n=a}return o(n);case I:return e(n,a,(d=i._init)(i._payload),l)}if(te(i))return p(n,a,i,l);if(D(i))return g(n,a,i,l);fa(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(s(n,a.sibling),(a=r(a,i)).return=n,n=a):(s(n,a),(a=Rc(i,n.mode,l)).return=n,n=a),o(n)):s(n,a)}}var ya=va(!0),ja=va(!1),wa=kr(null),Na=null,ka=null,Sa=null;function _a(){Sa=ka=Na=null}function Ca(e){var t=wa.current;Sr(wa),e._currentValue=t}function Aa(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Pa(e,t){Na=e,Sa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Na)throw Error(a(308));ka=e,Na.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Oa=null;function Ia(e){null===Oa?Oa=[e]:Oa.push(e)}function Ta(e,t,s,n){var r=t.interleaved;return null===r?(s.next=s,Ia(t)):(s.next=r.next,r.next=s),t.interleaved=s,Ma(e,n)}function Ma(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Da=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Al)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Ma(e,s)}return null===(r=n.interleaved)?(t.next=t,Ia(n)):(t.next=r.next,r.next=t),n.interleaved=t,Ma(e,s)}function Ua(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,bt(e,s)}}function $a(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var r=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===a?r=a=i:a=a.next=i,s=s.next}while(null!==s);null===a?r=a=t:a=a.next=t}else r=a=t;return s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ba(e,t,s,n){var r=e.updateQueue;Da=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=r.baseState;for(i=0,d=c=l=null,o=a;;){var m=o.lane,h=o.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,p=o;switch(m=t,h=s,p.tag){case 1:if("function"===typeof(x=p.payload)){u=x.call(h,u,m);break e}u=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null===(m="function"===typeof(x=p.payload)?x.call(h,u,m):x)||void 0===m)break e;u=R({},u,m);break e;case 2:Da=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(m=o).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=u}}function Va(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=s,"function"!==typeof r)throw Error(a(191,r));r.call(n)}}}var Wa={},Ha=kr(Wa),qa=kr(Wa),Ya=kr(Wa);function Ga(e){if(e===Wa)throw Error(a(174));return e}function Ka(e,t){switch(_r(Ya,t),_r(qa,e),_r(Ha,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Ha),_r(Ha,t)}function Ja(){Sr(Ha),Sr(qa),Sr(Ya)}function Qa(e){Ga(Ya.current);var t=Ga(Ha.current),s=le(t,e.type);t!==s&&(_r(qa,e),_r(Ha,s))}function Xa(e){qa.current===e&&(Sr(Ha),Sr(qa))}var Za=kr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function si(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ni=y.ReactCurrentDispatcher,ri=y.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(a(321))}function xi(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!on(e[s],t[s]))return!1;return!0}function pi(e,t,s,n,r,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Xi:Zi,e=s(n,r),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ni.current=eo,e=s(n,r)}while(di)}if(ni.current=Qi,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function gi(){var e=0!==ui;return ui=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=bi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var n=oi,r=n.baseQueue,i=s.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}n.baseQueue=r=i,s.pending=null}if(null!==r){i=r.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=n):c=c.next=m,ii.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==i);null===c?o=n:c.next=l,on(n,t.memoizedState)||(vo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(null!==(e=s.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,Ll|=i,r=r.next}while(r!==e)}else null===r&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ji(e){var t=bi(),s=t.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=e;var n=s.dispatch,r=s.pending,i=t.memoizedState;if(null!==r){s.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);on(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function wi(){}function Ni(e,t){var s=ii,n=bi(),r=t(),i=!on(n.memoizedState,r);if(i&&(n.memoizedState=r,vo=!0),n=n.queue,Di(_i.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(s.flags|=2048,Ei(9,Si.bind(null,s,n,r,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&ai)||ki(s,t,r)}return r}function ki(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Si(e,t,s,n){t.value=s,t.getSnapshot=n,Ci(t)&&Ai(e)}function _i(e,t,s){return s(function(){Ci(t)&&Ai(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!on(e,s)}catch(n){return!0}}function Ai(e){var t=Ma(e,1);null!==t&&sc(t,e,1,-1)}function Pi(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function Ei(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function Oi(){return bi().memoizedState}function Ii(e,t,s,n){var r=fi();ii.flags|=e,r.memoizedState=Ei(1|t,s,void 0,void 0===n?null:n)}function Ti(e,t,s,n){var r=bi();n=void 0===n?null:n;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==n&&xi(n,i.deps))return void(r.memoizedState=Ei(t,s,a,n))}ii.flags|=e,r.memoizedState=Ei(1|t,s,a,n)}function Mi(e,t){return Ii(8390656,8,e,t)}function Di(e,t){return Ti(2048,8,e,t)}function Li(e,t){return Ti(4,2,e,t)}function Ri(e,t){return Ti(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zi(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ti(4,4,Fi.bind(null,t,e),s)}function Ui(){}function $i(e,t){var s=bi();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&xi(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Bi(e,t){var s=bi();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&xi(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Vi(e,t,s){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=s):(on(s,t)||(s=pt(),ii.lanes|=s,Ll|=s,e.baseState=!0),t)}function Wi(e,t){var s=vt;vt=0!==s&&4>s?s:4,e(!0);var n=ri.transition;ri.transition={};try{e(!1),t()}finally{vt=s,ri.transition=n}}function Hi(){return bi().memoizedState}function qi(e,t,s){var n=tc(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Gi(e))Ki(t,s);else if(null!==(s=Ta(e,t,s,n))){sc(s,e,n,ec()),Ji(s,t,n)}}function Yi(e,t,s){var n=tc(e),r={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Ki(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,s);if(r.hasEagerState=!0,r.eagerState=o,on(o,i)){var l=t.interleaved;return null===l?(r.next=r,Ia(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(s=Ta(e,t,r,n))&&(sc(s,e,n,r=ec()),Ji(s,t,n))}}function Gi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ki(e,t){di=ci=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Ji(e,t,s){if(0!==(4194240&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,bt(e,s)}}var Qi={readContext:Ea,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:Ea,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Mi,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ii(4194308,4,Fi.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var s=fi();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=fi();return t=void 0!==s?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qi.bind(null,ii,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Pi,useDebugValue:Ui,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Wi.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=ii,r=fi();if(ra){if(void 0===s)throw Error(a(407));s=s()}else{if(s=t(),null===Pl)throw Error(a(349));0!==(30&ai)||ki(n,t,s)}r.memoizedState=s;var i={value:s,getSnapshot:t};return r.queue=i,Mi(_i.bind(null,n,i,e),[e]),n.flags|=2048,Ei(9,Si.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=fi(),t=Pl.identifierPrefix;if(ra){var s=Qr;t=":"+t+"R"+(s=(Jr&~(1<<32-it(Jr)-1)).toString(32)+s),0<(s=ui++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ea,useCallback:$i,useContext:Ea,useEffect:Di,useImperativeHandle:zi,useInsertionEffect:Li,useLayoutEffect:Ri,useMemo:Bi,useReducer:yi,useRef:Oi,useState:function(){return yi(vi)},useDebugValue:Ui,useDeferredValue:function(e){return Vi(bi(),oi.memoizedState,e)},useTransition:function(){return[yi(vi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Ea,useCallback:$i,useContext:Ea,useEffect:Di,useImperativeHandle:zi,useInsertionEffect:Li,useLayoutEffect:Ri,useMemo:Bi,useReducer:ji,useRef:Oi,useState:function(){return ji(vi)},useDebugValue:Ui,useDeferredValue:function(e){var t=bi();return null===oi?t.memoizedState=e:Vi(t,oi.memoizedState,e)},useTransition:function(){return[ji(vi)[0],bi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var s in t=R({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function so(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:R({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ec(),r=tc(e),a=Fa(n,r);a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=za(e,a,r))&&(sc(t,e,r,n),Ua(t,e,r))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ec(),r=tc(e),a=Fa(n,r);a.tag=1,a.payload=t,void 0!==s&&null!==s&&(a.callback=s),null!==(t=za(e,a,r))&&(sc(t,e,r,n),Ua(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),n=tc(e),r=Fa(s,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=za(e,r,n))&&(sc(t,e,n,s),Ua(t,e,n))}};function ro(e,t,s,n,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ln(s,n)||!ln(r,a))}function ao(e,t,s){var n=!1,r=Cr,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(r=Ir(t)?Er:Ar.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?Or(e,r):Cr),t=new t(s,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,s,n){var r=e.stateNode;r.props=s,r.state=e.memoizedState,r.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Ea(a):(a=Ir(t)?Er:Ar.current,r.context=Or(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(so(e,t,a,s),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&no.enqueueReplaceState(r,r.state,null),Ba(e,s,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var s="",n=t;do{s+=$(n),n=n.return}while(n);var r=s}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var mo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,s){(s=Fa(-1,s)).tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Wl||(Wl=!0,Hl=n),uo(0,t)},s}function xo(e,t,s){(s=Fa(-1,s)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;s.payload=function(){return n(r)},s.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(s.callback=function(){uo(0,t),"function"!==typeof n&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function po(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new mo;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(s)||(r.add(s),e=Sc.bind(null,e,t,s),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,s,n,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Fa(-1,1)).tag=2,za(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var bo=y.ReactCurrentOwner,vo=!1;function yo(e,t,s,n){t.child=null===e?ja(t,null,s,n):ya(t,e.child,s,n)}function jo(e,t,s,n,r){s=s.render;var a=t.ref;return Pa(t,r),n=pi(e,t,s,n,a,r),s=gi(),null===e||vo?(ra&&s&&ea(t),t.flags|=1,yo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function wo(e,t,s,n,r){if(null===e){var a=s.type;return"function"!==typeof a||Ic(a)||void 0!==a.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Mc(s.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,No(e,t,a,n,r))}if(a=e.child,0===(e.lanes&r)){var i=a.memoizedProps;if((s=null!==(s=s.compare)?s:ln)(i,n)&&e.ref===t.ref)return Wo(e,t,r)}return t.flags|=1,(e=Tc(a,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,s,n,r){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(vo=!1,t.pendingProps=n=a,0===(e.lanes&r))return t.lanes=e.lanes,Wo(e,t,r);0!==(131072&e.flags)&&(vo=!0)}}return _o(e,t,s,n,r)}function ko(e,t,s){var n=t.pendingProps,r=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Tl,Il),Il|=s;else{if(0===(1073741824&s))return e=null!==a?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_r(Tl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:s,_r(Tl,Il),Il|=n}else null!==a?(n=a.baseLanes|s,t.memoizedState=null):n=s,_r(Tl,Il),Il|=n;return yo(e,t,r,s),t.child}function So(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,s,n,r){var a=Ir(s)?Er:Ar.current;return a=Or(t,a),Pa(t,r),s=pi(e,t,s,n,a,r),n=gi(),null===e||vo?(ra&&n&&ea(t),t.flags|=1,yo(e,t,s,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function Co(e,t,s,n,r){if(Ir(s)){var a=!0;Lr(t)}else a=!1;if(Pa(t,r),null===t.stateNode)Vo(e,t),ao(t,s,n),oo(t,s,n,r),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Or(t,c=Ir(s)?Er:Ar.current);var d=s.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&io(t,i,n,c),Da=!1;var m=t.memoizedState;i.state=m,Ba(t,n,i,r),l=t.memoizedState,o!==n||m!==l||Pr.current||Da?("function"===typeof d&&(so(t,s,d,n),l=t.memoizedState),(o=Da||ro(t,s,o,n,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ra(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=s.contextType)&&null!==l?l=Ea(l):l=Or(t,l=Ir(s)?Er:Ar.current);var h=s.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,n,l),Da=!1,m=t.memoizedState,i.state=m,Ba(t,n,i,r);var x=t.memoizedState;o!==u||m!==x||Pr.current||Da?("function"===typeof h&&(so(t,s,h,n),x=t.memoizedState),(c=Da||ro(t,s,c,n,m,x,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,x,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,x,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ao(e,t,s,n,a,r)}function Ao(e,t,s,n,r,a){So(e,t);var i=0!==(128&t.flags);if(!n&&!i)return r&&Rr(t,s,!1),Wo(e,t,a);n=t.stateNode,bo.current=t;var o=i&&"function"!==typeof s.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,o,a)):yo(e,t,o,a),t.memoizedState=n.state,r&&Rr(t,s,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Mr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mr(0,t.context,!1),Ka(e,t.containerInfo)}function Eo(e,t,s,n,r){return ha(),xa(r),t.flags|=256,yo(e,t,s,n),t.child}var Oo,Io,To,Mo,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,s){var n,r=t.pendingProps,i=Za.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_r(Za,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,r,0,null),e=Dc(e,r,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(s),t.memoizedState=Do,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,s,n,r,i,o){if(s)return 256&t.flags?(t.flags&=-257,zo(e,t,o,n=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,r=t.mode,n=Lc({mode:"visible",children:n.children},r,0,null),(i=Dc(i,r,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&ya(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,i);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var l=n.dgst;return n=l,zo(e,t,o,n=co(i=Error(a(419)),n,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(n=Pl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Ma(e,r),sc(n,e,r,-1))}return pc(),zo(e,t,o,n=co(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,na=cr(r.nextSibling),sa=t,ra=!0,aa=null,null!==e&&(Yr[Gr++]=Jr,Yr[Gr++]=Qr,Yr[Gr++]=Kr,Jr=e.id,Qr=e.overflow,Kr=t),t=Fo(t,n.children),t.flags|=4096,t)}(e,t,l,r,n,i,s);if(o){o=r.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Tc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=Tc(n,o):(o=Dc(o,l,s,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~s,t.memoizedState=Do,r}return e=(o=e.child).sibling,r=Tc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=s),r.return=t,r.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,s,n){return null!==n&&xa(n),ya(t,e.child,null,s),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Aa(e.return,t,s)}function $o(e,t,s,n,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=r)}function Bo(e,t,s){var n=t.pendingProps,r=n.revealOrder,a=n.tail;if(yo(e,t,n.children,s),0!==(2&(n=Za.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,s,t);else if(19===e.tag)Uo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_r(Za,n),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(s=t.child,r=null;null!==s;)null!==(e=s.alternate)&&null===ei(e)&&(r=s),s=s.sibling;null===(s=r)?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),$o(t,!1,r,s,a);break;case"backwards":for(s=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}$o(t,!0,s,null,a);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(s=Tc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Tc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Ho(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Yo(e,t,s){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Ir(t.type)&&Tr(),qo(t),null;case 3:return n=t.stateNode,Ja(),Sr(Pr),Sr(Ar),si(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Io(e,t),qo(t),null;case 5:Xa(t);var r=Ga(Ya.current);if(s=t.type,null!==e&&null!=t.stateNode)To(e,t,s,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return qo(t),null}if(e=Ga(Ha.current),ua(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[mr]=t,n[hr]=i,e=0!==(1&t.mode),s){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(r=0;r<Dn.length;r++)zn(Dn[r],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":J(n,i),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},zn("invalid",n);break;case"textarea":re(n,i),zn("invalid",n)}for(var l in be(s,i),r=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zn("scroll",n)}switch(s){case"input":q(n),Z(n,i,!0);break;case"textarea":q(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Zn)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),"select"===s&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[mr]=t,e[hr]=n,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(s,n),s){case"dialog":zn("cancel",e),zn("close",e),r=n;break;case"iframe":case"object":case"embed":zn("load",e),r=n;break;case"video":case"audio":for(r=0;r<Dn.length;r++)zn(Dn[r],e);r=n;break;case"source":zn("error",e),r=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),r=n;break;case"details":zn("toggle",e),r=n;break;case"input":J(e,n),r=K(e,n),zn("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=R({},n,{value:void 0}),zn("invalid",e);break;case"textarea":re(e,n),r=ne(e,n),zn("invalid",e)}for(i in be(s,r),c=r)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==s||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&zn("scroll",e):null!=d&&v(e,i,d,l))}switch(s){case"input":q(e),Z(e,n,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?se(e,!!n.multiple,i,!1):null!=n.defaultValue&&se(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(s=Ga(Ya.current),Ga(Ha.current),ua(t)){if(n=t.stateNode,s=t.memoizedProps,n[mr]=t,(i=n.nodeValue!==s)&&null!==(e=sa))switch(e.tag){case 3:Xn(n.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,s,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===s.nodeType?s:s.ownerDocument).createTextNode(n))[mr]=t,t.stateNode=n}return qo(t),null;case 13:if(Sr(Za),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==na&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[mr]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Ml&&(Ml=3):pc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Ja(),Io(e,t),null===e&&Bn(t.stateNode.containerInfo),qo(t),null;case 10:return Ca(t.type._context),qo(t),null;case 19:if(Sr(Za),null===(i=t.memoizedState))return qo(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Ho(i,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;null!==s;)e=n,(i=s).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return _r(Za,1&Za.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Bl&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ei(l))){if(t.flags|=128,n=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ra)return qo(t),null}else 2*Qe()-i.renderingStartTime>Bl&&1073741824!==s&&(t.flags|=128,n=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(s=i.last)?s.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,s=Za.current,_r(Za,n?1&s|2:1&s),t):(qo(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Il)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Go(e,t){switch(ta(t),t.tag){case 1:return Ir(t.type)&&Tr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),Sr(Pr),Sr(Ar),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Sr(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Za),null;case 4:return Ja(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Oo=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Io=function(){},To=function(e,t,s,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,Ga(Ha.current);var a,i=null;switch(s){case"input":r=K(e,r),n=K(e,n),i=[];break;case"select":r=R({},r,{value:void 0}),n=R({},n,{value:void 0}),i=[];break;case"textarea":r=ne(e,r),n=ne(e,n),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in be(s,n),s=null,r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(a in l)l.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=r?r[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(i||(i=[]),i.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Mo=function(e,t,s,n){s!==n&&(t.flags|=4)};var Ko=!1,Jo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(n){kc(e,t,n)}else s.current=null}function el(e,t,s){try{s()}catch(n){kc(e,t,n)}}var tl=!1;function sl(e,t,s){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,s,a)}r=r.next}while(r!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function rl(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mr],delete t[hr],delete t[pr],delete t[gr],delete t[fr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,s),e=e.sibling;null!==e;)ll(e,t,s),e=e.sibling}function cl(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,s),e=e.sibling;null!==e;)cl(e,t,s),e=e.sibling}var dl=null,ul=!1;function ml(e,t,s){for(s=s.child;null!==s;)hl(e,t,s),s=s.sibling}function hl(e,t,s){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,s)}catch(o){}switch(s.tag){case 5:Jo||Zo(s,t);case 6:var n=dl,r=ul;dl=null,ml(e,t,s),ul=r,null!==(dl=n)&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):dl.removeChild(s.stateNode));break;case 18:null!==dl&&(ul?(e=dl,s=s.stateNode,8===e.nodeType?lr(e.parentNode,s):1===e.nodeType&&lr(e,s),Bt(e)):lr(dl,s.stateNode));break;case 4:n=dl,r=ul,dl=s.stateNode.containerInfo,ul=!0,ml(e,t,s),dl=n,ul=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(n=s.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var a=r,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(s,t,i),r=r.next}while(r!==n)}ml(e,t,s);break;case 1:if(!Jo&&(Zo(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){kc(s,t,o)}ml(e,t,s);break;case 21:ml(e,t,s);break;case 22:1&s.mode?(Jo=(n=Jo)||null!==s.memoizedState,ml(e,t,s),Jo=n):ml(e,t,s);break;default:ml(e,t,s)}}function xl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Qo),t.forEach(function(t){var n=Ac.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}}function pl(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var r=s[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(i,o,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){kc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),fl(e),4&n){try{sl(3,e,e.return),nl(3,e)}catch(g){kc(e,e.return,g)}try{sl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:pl(t,e),fl(e),512&n&&null!==s&&Zo(s,s.return);break;case 5:if(pl(t,e),fl(e),512&n&&null!==s&&Zo(s,s.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(g){kc(e,e.return,g)}}if(4&n&&null!=(r=e.stateNode)){var i=e.memoizedProps,o=null!==s?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(r,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?ge(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):v(r,u,m,d)}switch(l){case"input":X(r,i);break;case"textarea":ae(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var x=i.value;null!=x?se(r,!!i.multiple,x,!1):h!==!!i.multiple&&(null!=i.defaultValue?se(r,!!i.multiple,i.defaultValue,!0):se(r,!!i.multiple,i.multiple?[]:"",!1))}r[hr]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(pl(t,e),fl(e),4&n){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(pl(t,e),fl(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:pl(t,e),fl(e);break;case 13:pl(t,e),fl(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||($l=Qe())),4&n&&xl(e);break;case 22:if(u=null!==s&&null!==s.memoizedState,1&e.mode?(Jo=(d=Jo)||u,pl(t,e),Jo=d):pl(t,e),fl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(m=Xo=u;null!==Xo;){switch(x=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:sl(4,h,h.return);break;case 1:Zo(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){n=h,s=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){kc(n,s,g)}}break;case 5:Zo(h,h.return);break;case 22:if(null!==h.memoizedState){jl(m);continue}}null!==x?(x.return=h,Xo=x):jl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pl(t,e),fl(e),4&n&&xl(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(il(s)){var n=s;break e}s=s.return}throw Error(a(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(me(r,""),n.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var i=n.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,s){Xo=e,vl(e,t,s)}function vl(e,t,s){for(var n=0!==(1&e.mode);null!==Xo;){var r=Xo,a=r.child;if(22===r.tag&&n){var i=null!==r.memoizedState||Ko;if(!i){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Ko;var c=Jo;if(Ko=i,(Jo=l)&&!c)for(Xo=r;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?wl(r):null!==l?(l.return=i,Xo=l):wl(r);for(;null!==a;)Xo=a,vl(a,t,s),a=a.sibling;Xo=r,Ko=o,Jo=c}yl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Xo=a):yl(e)}}function yl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Jo)if(null===s)n.componentDidMount();else{var r=t.elementType===t.type?s.memoizedProps:to(t.type,s.memoizedProps);n.componentDidUpdate(r,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Va(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Va(t,o,s)}break;case 5:var l=t.stateNode;if(null===s&&4&t.flags){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(a(163))}Jo||512&t.flags&&rl(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xo=null;break}if(null!==(s=t.sibling)){s.return=t.return,Xo=s;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xo=s;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{nl(4,t)}catch(l){kc(t,s,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(l){kc(t,r,l)}}var a=t.return;try{rl(t)}catch(l){kc(t,a,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var Nl,kl=Math.ceil,Sl=y.ReactCurrentDispatcher,_l=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,Al=0,Pl=null,El=null,Ol=0,Il=0,Tl=kr(0),Ml=0,Dl=null,Ll=0,Rl=0,Fl=0,zl=null,Ul=null,$l=0,Bl=1/0,Vl=null,Wl=!1,Hl=null,ql=null,Yl=!1,Gl=null,Kl=0,Jl=0,Ql=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Al)?Qe():-1!==Xl?Xl:Xl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ol?Ol&-Ol:null!==pa.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,s,n){if(50<Jl)throw Jl=0,Ql=null,Error(a(185));ft(e,s,n),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Rl|=s),4===Ml&&oc(e,Ol)),nc(e,n),1===s&&0===Al&&0===(1&t.mode)&&(Bl=Qe()+500,zr&&Br()))}function nc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=r[i];-1===l?0!==(o&s)&&0===(o&n)||(r[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var n=mt(e,e===Pl?Ol:0);if(0===n)null!==s&&Ge(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=s&&Ge(s),1===t)0===e.tag?function(e){zr=!0,$r(e)}(lc.bind(null,e)):$r(lc.bind(null,e)),ir(function(){0===(6&Al)&&Br()}),s=null;else{switch(yt(n)){case 1:s=Ze;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=nt}s=Pc(s,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function rc(e,t){if(Xl=-1,Zl=0,0!==(6&Al))throw Error(a(327));var s=e.callbackNode;if(wc()&&e.callbackNode!==s)return null;var n=mt(e,e===Pl?Ol:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var r=Al;Al|=2;var i=xc();for(Pl===e&&Ol===t||(Vl=null,Bl=Qe()+500,mc(e,t));;)try{bc();break}catch(l){hc(e,l)}_a(),Sl.current=i,Al=r,null!==El?t=0:(Pl=null,Ol=0,t=Ml)}if(0!==t){if(2===t&&(0!==(r=xt(e))&&(n=r,t=ac(e,r))),1===t)throw s=Dl,mc(e,0),oc(e,n),nc(e,Qe()),s;if(6===t)oc(e,n);else{if(r=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var n=0;n<s.length;n++){var r=s[n],a=r.getSnapshot;r=r.value;try{if(!on(a(),r))return!1}catch(o){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,n))&&(0!==(i=xt(e))&&(n=i,t=ac(e,i))),1===t))throw s=Dl,mc(e,0),oc(e,n),nc(e,Qe()),s;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:jc(e,Ul,Vl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=$l+500-Qe())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nr(jc.bind(null,e,Ul,Vl),t);break}jc(e,Ul,Vl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var o=31-it(n);i=1<<o,(o=t[o])>r&&(r=o),n&=~i}if(n=r,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=nr(jc.bind(null,e,Ul,Vl),n);break}jc(e,Ul,Vl);break;default:throw Error(a(329))}}}return nc(e,Qe()),e.callbackNode===s?rc.bind(null,e):null}function ac(e,t){var s=zl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=s,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-it(t),n=1<<s;e[s]=-1,t&=~n}}function lc(e){if(0!==(6&Al))throw Error(a(327));wc();var t=mt(e,0);if(0===(1&t))return nc(e,Qe()),null;var s=gc(e,t);if(0!==e.tag&&2===s){var n=xt(e);0!==n&&(t=n,s=ac(e,n))}if(1===s)throw s=Dl,mc(e,0),oc(e,t),nc(e,Qe()),s;if(6===s)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Ul,Vl),nc(e,Qe()),null}function cc(e,t){var s=Al;Al|=1;try{return e(t)}finally{0===(Al=s)&&(Bl=Qe()+500,zr&&Br())}}function dc(e){null!==Gl&&0===Gl.tag&&0===(6&Al)&&wc();var t=Al;Al|=1;var s=Cl.transition,n=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=n,Cl.transition=s,0===(6&(Al=t))&&Br()}}function uc(){Il=Tl.current,Sr(Tl)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,rr(s)),null!==El)for(s=El.return;null!==s;){var n=s;switch(ta(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Tr();break;case 3:Ja(),Sr(Pr),Sr(Ar),si();break;case 5:Xa(n);break;case 4:Ja();break;case 13:case 19:Sr(Za);break;case 10:Ca(n.type._context);break;case 22:case 23:uc()}s=s.return}if(Pl=e,El=e=Tc(e.current,null),Ol=Il=t,Ml=0,Dl=null,Fl=Rl=Ll=0,Ul=zl=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(n=(s=Oa[t]).interleaved)){s.interleaved=null;var r=n.next,a=s.pending;if(null!==a){var i=a.next;a.next=r,n.next=i}s.pending=n}Oa=null}return e}function hc(e,t){for(;;){var s=El;try{if(_a(),ni.current=Qi,ci){for(var n=ii.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}ci=!1}if(ai=0,li=oi=ii=null,di=!1,ui=0,_l.current=null,null===s||null===s.return){Ml=1,Dl=t,El=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=go(o);if(null!==x){x.flags&=-257,fo(x,o,l,0,t),1&x.mode&&po(i,d,t),c=d;var p=(t=x).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(i,d,t),pc();break e}c=Error(a(426))}else if(ra&&1&l.mode){var f=go(o);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),fo(f,o,l,0,t),xa(lo(c,l));break e}}i=c=lo(c,l),4!==Ml&&(Ml=2),null===zl?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,$a(i,ho(0,c,t));break e;case 1:l=c;var b=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===ql||!ql.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,$a(i,xo(i,l,t));break e}}i=i.return}while(null!==i)}yc(s)}catch(y){t=y,El===s&&null!==s&&(El=s=s.return);continue}break}}function xc(){var e=Sl.current;return Sl.current=Qi,null===e?Qi:e}function pc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Rl)||oc(Pl,Ol)}function gc(e,t){var s=Al;Al|=2;var n=xc();for(Pl===e&&Ol===t||(Vl=null,mc(e,t));;)try{fc();break}catch(r){hc(e,r)}if(_a(),Al=s,Sl.current=n,null!==El)throw Error(a(261));return Pl=null,Ol=0,Ml}function fc(){for(;null!==El;)vc(El)}function bc(){for(;null!==El&&!Ke();)vc(El)}function vc(e){var t=Nl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?yc(e):El=t,_l.current=null}function yc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=Yo(s,t,Il)))return void(El=s)}else{if(null!==(s=Go(s,t)))return s.flags&=32767,void(El=s);if(null===e)return Ml=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Ml&&(Ml=5)}function jc(e,t,s){var n=vt,r=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,s,n){do{wc()}while(null!==Gl);if(0!==(6&Al))throw Error(a(327));s=e.finishedWork;var r=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var r=31-it(s),a=1<<r;t[r]=0,n[r]=-1,e[r]=-1,s&=~a}}(e,i),e===Pl&&(El=Pl=null,Ol=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||Yl||(Yl=!0,Pc(tt,function(){return wc(),null})),i=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=vt;vt=1;var l=Al;Al|=4,_l.current=null,function(e,t){if(er=Wt,hn(e=mn())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch(j){s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var x;m!==s||0!==r&&3!==m.nodeType||(l=o+r),m!==i||0!==n&&3!==m.nodeType||(c=o+n),3===m.nodeType&&(o+=m.nodeValue.length),null!==(x=m.firstChild);)h=m,m=x;for(;;){if(m===e)break t;if(h===s&&++d===r&&(l=o),h===i&&++u===n&&(c=o),null!==(x=m.nextSibling))break;h=(m=h).parentNode}m=x}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(tr={focusedElem:e,selectionRange:s},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,f=p.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),f);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}p=tl,tl=!1}(e,s),gl(s,e),xn(tr),Wt=!!er,tr=er=null,e.current=s,bl(s,e,r),Je(),Al=l,vt=o,Cl.transition=i}else e.current=s;if(Yl&&(Yl=!1,Gl=e,Kl=r),i=e.pendingLanes,0===i&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,s=0;s<t.length;s++)r=t[s],n(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Kl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Br()}(e,t,s,n)}finally{Cl.transition=r,vt=n}return null}function wc(){if(null!==Gl){var e=yt(Kl),t=Cl.transition,s=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Gl)var n=!1;else{if(e=Gl,Gl=null,Kl=0,0!==(6&Al))throw Error(a(331));var r=Al;for(Al|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:sl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Xo=m;else for(;null!==Xo;){var h=(u=Xo).sibling,x=u.return;if(al(u),u===d){Xo=null;break}if(null!==h){h.return=x,Xo=h;break}Xo=x}}}var p=i.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:sl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Xo=b;break e}Xo=i.return}}var v=e.current;for(Xo=v;null!==Xo;){var y=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Xo=y;else e:for(o=v;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Xo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Xo=j;break e}Xo=l.return}}if(Al=r,Br(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(w){}n=!0}return n}finally{vt=s,Cl.transition=t}}return!1}function Nc(e,t,s){e=za(e,t=ho(0,t=lo(s,t),1),1),t=ec(),null!==e&&(ft(e,1,t),nc(e,t))}function kc(e,t,s){if(3===e.tag)Nc(e,e,s);else for(;null!==t;){if(3===t.tag){Nc(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ql||!ql.has(n))){t=za(t,e=xo(t,e=lo(s,e),1),1),e=ec(),null!==t&&(ft(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Pl===e&&(Ol&s)===s&&(4===Ml||3===Ml&&(130023424&Ol)===Ol&&500>Qe()-$l?mc(e,0):Fl|=s),nc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Ma(e,t))&&(ft(e,t,s),nc(e,s))}function Cc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),_c(e,s)}function Ac(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(s=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),_c(e,s)}function Pc(e,t){return Ye(e,t)}function Ec(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,s,n){return new Ec(e,t,s,n)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var s=e.alternate;return null===s?((s=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Mc(e,t,s,n,r,i){var o=2;if(n=e,"function"===typeof e)Ic(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Dc(s.children,r,i,t);case k:o=8,r|=8;break;case S:return(e=Oc(12,s,t,2|r)).elementType=S,e.lanes=i,e;case P:return(e=Oc(13,s,t,r)).elementType=P,e.lanes=i,e;case E:return(e=Oc(19,s,t,r)).elementType=E,e.lanes=i,e;case T:return Lc(s,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case A:o=11;break e;case O:o=14;break e;case I:o=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(o,s,t,r)).elementType=e,t.type=n,t.lanes=i,t}function Dc(e,t,s,n){return(e=Oc(7,e,n,t)).lanes=s,e}function Lc(e,t,s,n){return(e=Oc(22,e,n,t)).elementType=T,e.lanes=s,e.stateNode={isHidden:!1},e}function Rc(e,t,s){return(e=Oc(6,e,null,t)).lanes=s,e}function Fc(e,t,s){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,s,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,s,n,r,a,i,o,l){return e=new zc(e,t,s,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function $c(e){if(!e)return Cr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ir(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var s=e.type;if(Ir(s))return Dr(e,s,t)}return t}function Bc(e,t,s,n,r,a,i,o,l){return(e=Uc(s,n,!0,e,0,a,0,o,l)).context=$c(null),s=e.current,(a=Fa(n=ec(),r=tc(s))).callback=void 0!==t&&null!==t?t:null,za(s,a,r),e.current.lanes=r,ft(e,r,n),nc(e,n),e}function Vc(e,t,s,n){var r=t.current,a=ec(),i=tc(r);return s=$c(s),null===t.context?t.context=s:t.pendingContext=s,(t=Fa(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=za(r,t,i))&&(sc(e,r,i,a),Ua(e,r,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)vo=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return vo=!1,function(e,t,s){switch(t.tag){case 3:Po(t),ha();break;case 5:Qa(t);break;case 1:Ir(t.type)&&Lr(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;_r(wa,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(_r(Za,1&Za.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Ro(e,t,s):(_r(Za,1&Za.current),null!==(e=Wo(e,t,s))?e.sibling:null);_r(Za,1&Za.current);break;case 19:if(n=0!==(s&t.childLanes),0!==(128&e.flags)){if(n)return Bo(e,t,s);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),_r(Za,Za.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,s)}return Wo(e,t,s)}(e,t,s);vo=0!==(131072&e.flags)}else vo=!1,ra&&0!==(1048576&t.flags)&&Zr(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vo(e,t),e=t.pendingProps;var r=Or(t,Ar.current);Pa(t,s),r=pi(null,t,n,e,r,s);var i=gi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ir(n)?(i=!0,Lr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,La(t),r.updater=no,t.stateNode=r,r._reactInternals=t,oo(t,n,e,s),t=Ao(null,t,n,!0,i,s)):(t.tag=0,ra&&i&&ea(t),yo(null,t,r,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(n),e=to(n,e),r){case 0:t=_o(null,t,n,e,s);break e;case 1:t=Co(null,t,n,e,s);break e;case 11:t=jo(null,t,n,e,s);break e;case 14:t=wo(null,t,n,to(n.type,e),s);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,_o(e,t,n,r=t.elementType===n?r:to(n,r),s);case 1:return n=t.type,r=t.pendingProps,Co(e,t,n,r=t.elementType===n?r:to(n,r),s);case 3:e:{if(Po(t),null===e)throw Error(a(387));n=t.pendingProps,r=(i=t.memoizedState).element,Ra(e,t),Ba(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Eo(e,t,n,s,r=lo(Error(a(423)),t));break e}if(n!==r){t=Eo(e,t,n,s,r=lo(Error(a(424)),t));break e}for(na=cr(t.stateNode.containerInfo.firstChild),sa=t,ra=!0,aa=null,s=ja(t,null,n,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(ha(),n===r){t=Wo(e,t,s);break e}yo(e,t,n,s)}t=t.child}return t;case 5:return Qa(t),null===e&&ca(t),n=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,o=r.children,sr(n,r)?o=null:null!==i&&sr(n,i)&&(t.flags|=32),So(e,t),yo(e,t,o,s),t.child;case 6:return null===e&&ca(t),null;case 13:return Ro(e,t,s);case 4:return Ka(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ya(t,null,n,s):yo(e,t,n,s),t.child;case 11:return n=t.type,r=t.pendingProps,jo(e,t,n,r=t.elementType===n?r:to(n,r),s);case 7:return yo(e,t,t.pendingProps,s),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,_r(wa,n._currentValue),n._currentValue=o,null!==i)if(on(i.value,o)){if(i.children===r.children&&!Pr.current){t=Wo(e,t,s);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Fa(-1,s&-s)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,null!==(c=i.alternate)&&(c.lanes|=s),Aa(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=s,null!==(l=o.alternate)&&(l.lanes|=s),Aa(o,s,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,r.children,s),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,Pa(t,s),n=n(r=Ea(r)),t.flags|=1,yo(e,t,n,s),t.child;case 14:return r=to(n=t.type,t.pendingProps),wo(e,t,n,r=to(n.type,r),s);case 15:return No(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:to(n,r),Vo(e,t),t.tag=1,Ir(n)?(e=!0,Lr(t)):e=!1,Pa(t,s),ao(t,n,r),oo(t,n,r,s),Ao(null,t,n,!0,e,s);case 19:return Bo(e,t,s);case 22:return ko(e,t,s)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,s,n,r){var a=s._reactRootContainer;if(a){var i=a;if("function"===typeof r){var o=r;r=function(){var e=Wc(i);o.call(e)}}Vc(t,i,e,r)}else i=function(e,t,s,n,r){if(r){if("function"===typeof n){var a=n;n=function(){var e=Wc(i);a.call(e)}}var i=Bc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[xr]=i.current,Bn(8===e.nodeType?e.parentNode:e),dc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof n){var o=n;n=function(){var e=Wc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[xr]=l.current,Bn(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,l,s,n)}),l}(s,t,e,r,n);return Wc(i)}Kc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Kc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[xr]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Tt.length&&0!==t&&t<Tt[s].priority;s++);Tt.splice(s,0,e),0===s&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ut(t.pendingLanes);0!==s&&(bt(t,1|s),nc(t,Qe()),0===(6&Al)&&(Bl=Qe()+500,Br()))}break;case 13:dc(function(){var t=Ma(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),qc(e,1)}},wt=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)sc(t,e,134217728,ec());qc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),s=Ma(e,t);if(null!==s)sc(s,e,t,ec());qc(e,t)}},kt=function(){return vt},St=function(e,t){var s=vt;try{return vt=e,t()}finally{vt=s}},we=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var r=jr(n);if(!r)throw Error(a(90));Y(n),X(n,r)}}}break;case"textarea":ae(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ae=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[vr,yr,jr,_e,Ce,cc]},td={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{rt=nd.inject(sd),at=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var s=!1,n="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,s,0,n,r),e[xr]=t.current,Bn(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Jc(e))throw Error(a(405));var n=null!=s&&s.hydratedSources||null,r=!1,i="",o=Yc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(r=!0),void 0!==s.identifierPrefix&&(i=s.identifierPrefix),void 0!==s.onRecoverableError&&(o=s.onRecoverableError)),t=Bc(t,null,e,1,null!=s?s:null,r,0,i,o),e[xr]=t.current,Bn(e),n)for(e=0;e<n.length;e++)r=(r=(s=n[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,r]:t.mutableSourceEagerHydrationData.push(s,r);return new Kc(t)},t.render=function(e,t,s){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[xr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Qc(s))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,s,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){return"string"===typeof e||"symbol"===typeof e?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(4704),r=s(1203),a=s(870),i=s(9972);t.isIterateeCall=function(e,t,s){return!!a.isObject(s)&&(!!("number"===typeof t&&r.isArrayLike(s)&&n.isIndex(t)&&t<s.length||"string"===typeof t&&t in s)&&i.eq(s[t],e))}},3808:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(8268),r=s(5261);t.matches=function(e){return e=r.cloneDeep(e),t=>n.isMatch(t,e)}},3821:(e,t,s)=>{e.exports=s(2204).sortBy},4202:(e,t)=>{"use strict";var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function f(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||x}function b(){}function v(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||x}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=f.prototype;var y=v.prototype=new b;y.constructor=v,p(y,f.prototype),y.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,a={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:s,type:e,key:i,ref:o,props:a,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case n:l=!0}}if(l)return i=i(l=e),e=""===a?"."+A(l,0):a,j(i)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),P(i,t,r,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+A(o=e[c],c);l+=P(o,t,r,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,r,d=a+A(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,s){if(null==e)return e;var n=[],r=0;return P(e,n,"","",function(e){return t.call(s,e,r++)}),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},T={transition:null},M={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,s){E(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=r,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:s,type:e.type,key:a,ref:i,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,s){return I.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,s){return I.current.useReducer(e,t,s)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return I.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const s=new Map;for(let n=0;n<e.length;n++){const r=e[n],a=t(r);s.has(a)||s.set(a,r)}return Array.from(s.values())}},4250:(e,t,s)=>{e.exports=s(8182).isEqual},4332:(e,t,s)=>{e.exports=s(5053).uniqBy},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4391:(e,t,s)=>{"use strict";var n=s(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const s=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return s.test(e)}}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4879:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043:(e,t,s)=>{"use strict";e.exports=s(4202)},5053:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(4208),r=s(9599),a=s(2104),i=s(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.identity;return a.isArrayLikeObject(e)?n.uniqBy(Array.from(e),i.iteratee(t)):[]}},5261:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(2489),r=s(4704),a=s(6321),i=s(1444);t.has=function(e,t){let s;if(s=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==e?.[t]?i.toPath(t):[t],0===s.length)return!1;let o=e;for(let n=0;n<s.length;n++){const e=s[n];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||a.isArguments(o))&&r.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(9709),r=s(7043),a=s(1444);t.orderBy=function(e,t,s,i){if(null==e)return[];s=i?void 0:s,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(s)||(s=null==s?[]:[s]),s=s.map(e=>String(e));const o=(e,t)=>{let s=e;for(let n=0;n<t.length&&null!=s;++n)s=s[t[n]];return s},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||r.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let r=0;r<l.length;r++){const a=n.compareValues(e.criteria[r],t.criteria[r],s[r]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:r=!0,trailing:a=!0}=s;return n.debounce(e,t,{leading:r,maxWait:t,trailing:a})}},5508:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(6433),r=s(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(s,a,i,o)=>{const l=t?.(s,a,i,o);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case r.numberTag:case r.stringTag:case r.booleanTag:{const t=new e.constructor(e?.valueOf());return n.copyProperties(t,e),t}case r.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}})}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(6443),r=s(5990),a=s(7599),i=s(4803),o=s(3757);function l(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u=d?.(e,t,s,n);if(null!=u)return u;if(i.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let r=0;r<e.length;r++)t[r]=l(e[r],r,s,n,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[r,a]of e)t.set(r,l(a,r,s,n,d));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const r of e)t.add(l(r,void 0,s,n,d));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let r=0;r<e.length;r++)t[r]=l(e[r],r,s,n,d);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,s,n,d),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,s,n,d),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,s,n,d),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,s,n,d),t}if("object"===typeof e&&function(e){switch(r.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,s,n,d),t}return e}function c(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const i=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<i.length;n++){const o=i[n],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,s,r,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6770:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},7043:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(2777),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(a.test(e)||!r.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(3799),r=s(4879);t.range=function(e,t,s){s&&"number"!==typeof s&&n.isIterateeCall(e,t,s)&&(t=s=void 0),e=r.toFinite(e),void 0===t?(t=e,e=0):t=r.toFinite(t),s=void 0===s?e<t?1:-1:r.toFinite(s);const a=Math.max(Math.ceil((t-e)/(s||1)),0),i=new Array(a);for(let n=0;n<a;n++)i[n]=e,e+=s;return i}},7234:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,r=e[n];if(!(0<a(r,t)))break e;e[n]=t,e[s]=r,s=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,s))c<r&&0>a(d,l)?(e[n]=d,e[c]=s,n=c):(e[n]=l,e[o]=s,n=o);else{if(!(c<r&&0>a(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,x=!1,p=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function j(e){if(g=!1,y(e),!p)if(null!==n(c))p=!0,T(w);else{var t=n(d);null!==t&&M(j,t.startTime-e)}}function w(e,s){p=!1,g&&(g=!1,b(_),_=-1),x=!0;var a=h;try{for(y(s),m=n(c);null!==m&&(!(m.expirationTime>s)||e&&!P());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=s);s=t.unstable_now(),"function"===typeof o?m.callback=o:m===n(c)&&r(c),y(s)}else r(c);m=n(c)}if(null!==m)var l=!0;else{var u=n(d);null!==u&&M(j,u.startTime-s),l=!1}return l}finally{m=null,h=a,x=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,C=5,A=-1;function P(){return!(t.unstable_now()-A<C)}function E(){if(null!==S){var e=t.unstable_now();A=e;var s=!0;try{s=S(!0,e)}finally{s?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(E)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,I=O.port2;O.port1.onmessage=E,N=function(){I.postMessage(null)}}else N=function(){f(E,0)};function T(e){S=e,k||(k=!0,N())}function M(e,s){_=f(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||x||(p=!0,T(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var s=h;h=t;try{return e()}finally{h=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=h;h=e;try{return t()}finally{h=s}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,s(d,e),null===n(c)&&e===n(d)&&(g?(b(_),_=-1):g=!0,M(j,a-i))):(e.sortIndex=o,s(c,e),p||x||(p=!0,T(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var s=h;h=t;try{return e.apply(this,arguments)}finally{h=s}}}},7237:(e,t,s)=>{"use strict";s(8365)},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,s="~";function n(){}function r(e,t,s){this.fn=e,this.context=t,this.once=s||!1}function a(e,t,n,a,i){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new r(n,a||e,i),l=s?s+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(s=!1)),o.prototype.eventNames=function(){var e,n,r=[];if(0===this._eventsCount)return r;for(n in e=this._events)t.call(e,n)&&r.push(s?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e){var t=s?s+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,i=new Array(a);r<a;r++)i[r]=n[r].fn;return i},o.prototype.listenerCount=function(e){var t=s?s+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,r,a,i){var o=s?s+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,a),!0;case 6:return d.fn.call(d.context,t,n,r,a,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,r);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,s){return a(this,e,t,s,!1)},o.prototype.once=function(e,t,s){return a(this,e,t,s,!0)},o.prototype.removeListener=function(e,t,n,r){var a=s?s+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||i(this,a);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||r&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,e.exports=o},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const s=[],n=Math.floor(t),r=(e,t)=>{for(let a=0;a<e.length;a++){const i=e[a];Array.isArray(i)&&t<n?r(i,t+1):s.push(i)}};return r(e,0),s}},7330:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7770:(e,t,s)=>{e.exports=s(9323).get},7820:(e,t,s)=>{e.exports=s(5414).throttle},7950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(2730)},8182:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(9330),r=s(4737);t.isEqual=function(e,t){return n.isEqualWith(e,t,r.noop)}},8210:function(e,t,s){var n;!function(){"use strict";var r,a=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,m=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=1e7,p=9007199254740991,g=u(1286742750677284.5),f={};function b(e,t){var s,n,r,a,i,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),o?A(t,m):t;if(c=e.d,d=t.d,i=e.e,r=t.e,c=c.slice(),a=i-r){for(a<0?(n=c,a=-a,l=d.length):(n=d,r=i,l=c.length),a>(l=(i=Math.ceil(m/7))>l?i+1:l+1)&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((l=c.length)-(a=d.length)<0&&(a=l,n=d,d=c,c=n),s=0;a;)s=(c[--a]=c[a]+d[a]+s)/x|0,c[a]%=x;for(s&&(c.unshift(s),++r),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=r,o?A(t,m):t}function v(e,t,s){if(e!==~~e||e<t||e>s)throw Error(c+e)}function y(e){var t,s,n,r=e.length-1,a="",i=e[0];if(r>0){for(a+=i,t=1;t<r;t++)(s=7-(n=e[t]+"").length)&&(a+=S(s)),a+=n;(s=7-(n=(i=e[t])+"").length)&&(a+=S(s))}else if(0===i)return"0";for(;i%10===0;)i/=10;return a+i}f.absoluteValue=f.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},f.comparedTo=f.cmp=function(e){var t,s,n,r,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,s=(n=a.d.length)<(r=e.d.length)?n:r;t<s;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===r?0:n>r^a.s<0?1:-1},f.decimalPlaces=f.dp=function(){var e=this,t=e.d.length-1,s=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)s--;return s<0?0:s},f.dividedBy=f.div=function(e){return j(this,new this.constructor(e))},f.dividedToIntegerBy=f.idiv=function(e){var t=this.constructor;return A(j(this,new t(e),0,1),t.precision)},f.equals=f.eq=function(e){return!this.cmp(e)},f.exponent=function(){return N(this)},f.greaterThan=f.gt=function(e){return this.cmp(e)>0},f.greaterThanOrEqualTo=f.gte=function(e){return this.cmp(e)>=0},f.isInteger=f.isint=function(){return this.e>this.d.length-2},f.isNegative=f.isneg=function(){return this.s<0},f.isPositive=f.ispos=function(){return this.s>0},f.isZero=function(){return 0===this.s},f.lessThan=f.lt=function(e){return this.cmp(e)<0},f.lessThanOrEqualTo=f.lte=function(e){return this.cmp(e)<1},f.logarithm=f.log=function(e){var t,s=this,n=s.constructor,a=n.precision,i=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(r))throw Error(l+"NaN");if(s.s<1)throw Error(l+(s.s?"NaN":"-Infinity"));return s.eq(r)?new n(0):(o=!1,t=j(_(s,i),_(e,i),i),o=!0,A(t,a))},f.minus=f.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):b(t,(e.s=-e.s,e))},f.modulo=f.mod=function(e){var t,s=this,n=s.constructor,r=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return s.s?(o=!1,t=j(s,e,0,1).times(e),o=!0,s.minus(t)):A(new n(s),r)},f.naturalExponential=f.exp=function(){return w(this)},f.naturalLogarithm=f.ln=function(){return _(this)},f.negated=f.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},f.plus=f.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b(t,e):P(t,(e.s=-e.s,e))},f.precision=f.sd=function(e){var t,s,n,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(r)+1,s=7*(n=r.d.length-1)+1,n=r.d[n]){for(;n%10==0;n/=10)s--;for(n=r.d[0];n>=10;n/=10)s++}return e&&t>s?t:s},f.squareRoot=f.sqrt=function(){var e,t,s,n,r,a,i,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(r=Math.sqrt(+c))||r==1/0?(((t=y(c.d)).length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),n=new d(t=r==1/0?"5e"+e:(t=r.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new d(r.toString()),r=i=(s=d.precision)+3;;)if(n=(a=n).plus(j(c,a,i+2)).times(.5),y(a.d).slice(0,i)===(t=y(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),r==i&&"4999"==t){if(A(a,s+1,0),a.times(a).eq(c)){n=a;break}}else if("9999"!=t)break;i+=4}return o=!0,A(n,s)},f.times=f.mul=function(e){var t,s,n,r,a,i,l,c,d,u=this,m=u.constructor,h=u.d,p=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,s=u.e+e.e,(c=h.length)<(d=p.length)&&(a=h,h=p,p=a,i=c,c=d,d=i),a=[],n=i=c+d;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,r=c+n;r>n;)l=a[r]+p[n]*h[r-n-1]+t,a[r--]=l%x|0,t=l/x|0;a[r]=(a[r]+t)%x|0}for(;!a[--i];)a.pop();return t?++s:a.shift(),e.d=a,e.e=s,o?A(e,m.precision):e},f.toDecimalPlaces=f.todp=function(e,t){var s=this,n=s.constructor;return s=new n(s),void 0===e?s:(v(e,0,a),void 0===t?t=n.rounding:v(t,0,8),A(s,e+N(s)+1,t))},f.toExponential=function(e,t){var s,n=this,r=n.constructor;return void 0===e?s=E(n,!0):(v(e,0,a),void 0===t?t=r.rounding:v(t,0,8),s=E(n=A(new r(n),e+1,t),!0,e+1)),s},f.toFixed=function(e,t){var s,n,r=this,i=r.constructor;return void 0===e?E(r):(v(e,0,a),void 0===t?t=i.rounding:v(t,0,8),s=E((n=A(new i(r),e+N(r)+1,t)).abs(),!1,e+N(n)+1),r.isneg()&&!r.isZero()?"-"+s:s)},f.toInteger=f.toint=function(){var e=this,t=e.constructor;return A(new t(e),N(e)+1,t.rounding)},f.toNumber=function(){return+this},f.toPower=f.pow=function(e){var t,s,n,a,i,c,d=this,m=d.constructor,h=+(e=new m(e));if(!e.s)return new m(r);if(!(d=new m(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(r))return d;if(n=m.precision,e.eq(r))return A(d,n);if(c=(t=e.e)>=(s=e.d.length-1),i=d.s,c){if((s=h<0?-h:h)<=p){for(a=new m(r),t=Math.ceil(n/7+4),o=!1;s%2&&O((a=a.times(d)).d,t),0!==(s=u(s/2));)O((d=d.times(d)).d,t);return o=!0,e.s<0?new m(r).div(a):A(a,n)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,s)]?-1:1,d.s=1,o=!1,a=e.times(_(d,n+12)),o=!0,(a=w(a)).s=i,a},f.toPrecision=function(e,t){var s,n,r=this,i=r.constructor;return void 0===e?n=E(r,(s=N(r))<=i.toExpNeg||s>=i.toExpPos):(v(e,1,a),void 0===t?t=i.rounding:v(t,0,8),n=E(r=A(new i(r),e,t),e<=(s=N(r))||s<=i.toExpNeg,e)),n},f.toSignificantDigits=f.tosd=function(e,t){var s=this.constructor;return void 0===e?(e=s.precision,t=s.rounding):(v(e,1,a),void 0===t?t=s.rounding:v(t,0,8)),A(new s(this),e,t)},f.toString=f.valueOf=f.val=f.toJSON=function(){var e=this,t=N(e),s=e.constructor;return E(e,t<=s.toExpNeg||t>=s.toExpPos)};var j=function(){function e(e,t){var s,n=0,r=e.length;for(e=e.slice();r--;)s=e[r]*t+n,e[r]=s%x|0,n=s/x|0;return n&&e.unshift(n),e}function t(e,t,s,n){var r,a;if(s!=n)a=s>n?1:-1;else for(r=a=0;r<s;r++)if(e[r]!=t[r]){a=e[r]>t[r]?1:-1;break}return a}function s(e,t,s){for(var n=0;s--;)e[s]-=n,n=e[s]<t[s]?1:0,e[s]=n*x+e[s]-t[s];for(;!e[0]&&e.length>1;)e.shift()}return function(n,r,a,i){var o,c,d,u,m,h,p,g,f,b,v,y,j,w,k,S,_,C,P=n.constructor,E=n.s==r.s?1:-1,O=n.d,I=r.d;if(!n.s)return new P(n);if(!r.s)throw Error(l+"Division by zero");for(c=n.e-r.e,_=I.length,k=O.length,g=(p=new P(E)).d=[],d=0;I[d]==(O[d]||0);)++d;if(I[d]>(O[d]||0)&&--c,(y=null==a?a=P.precision:i?a+(N(n)-N(r))+1:a)<0)return new P(0);if(y=y/7+2|0,d=0,1==_)for(u=0,I=I[0],y++;(d<k||u)&&y--;d++)j=u*x+(O[d]||0),g[d]=j/I|0,u=j%I|0;else{for((u=x/(I[0]+1)|0)>1&&(I=e(I,u),O=e(O,u),_=I.length,k=O.length),w=_,b=(f=O.slice(0,_)).length;b<_;)f[b++]=0;(C=I.slice()).unshift(0),S=I[0],I[1]>=x/2&&++S;do{u=0,(o=t(I,f,_,b))<0?(v=f[0],_!=b&&(v=v*x+(f[1]||0)),(u=v/S|0)>1?(u>=x&&(u=x-1),1==(o=t(m=e(I,u),f,h=m.length,b=f.length))&&(u--,s(m,_<h?C:I,h))):(0==u&&(o=u=1),m=I.slice()),(h=m.length)<b&&m.unshift(0),s(f,m,b),-1==o&&(o=t(I,f,_,b=f.length))<1&&(u++,s(f,_<b?C:I,b)),b=f.length):0===o&&(u++,f=[0]),g[d++]=u,o&&f[0]?f[b++]=O[w]||0:(f=[O[w]],b=1)}while((w++<k||void 0!==f[0])&&y--)}return g[0]||g.shift(),p.e=c,A(p,i?a+N(p)+1:a)}}();function w(e,t){var s,n,a,i,l,c=0,u=0,h=e.constructor,x=h.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new h(r);for(null==t?(o=!1,l=x):l=t,i=new h(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(l+=Math.log(m(2,u))/Math.LN10*2+5|0,s=n=a=new h(r),h.precision=l;;){if(n=A(n.times(e),l),s=s.times(++c),y((i=a.plus(j(n,s,l))).d).slice(0,l)===y(a.d).slice(0,l)){for(;u--;)a=A(a.times(a),l);return h.precision=x,null==t?(o=!0,A(a,x)):a}a=i}}function N(e){for(var t=7*e.e,s=e.d[0];s>=10;s/=10)t++;return t}function k(e,t,s){if(t>e.LN10.sd())throw o=!0,s&&(e.precision=s),Error(l+"LN10 precision limit exceeded");return A(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function _(e,t){var s,n,a,i,c,d,u,m,h,x=1,p=e,g=p.d,f=p.constructor,b=f.precision;if(p.s<1)throw Error(l+(p.s?"NaN":"-Infinity"));if(p.eq(r))return new f(0);if(null==t?(o=!1,m=b):m=t,p.eq(10))return null==t&&(o=!0),k(f,m);if(m+=10,f.precision=m,n=(s=y(g)).charAt(0),i=N(p),!(Math.abs(i)<15e14))return u=k(f,m+2,b).times(i+""),p=_(new f(n+"."+s.slice(1)),m-10).plus(u),f.precision=b,null==t?(o=!0,A(p,b)):p;for(;n<7&&1!=n||1==n&&s.charAt(1)>3;)n=(s=y((p=p.times(e)).d)).charAt(0),x++;for(i=N(p),n>1?(p=new f("0."+s),i++):p=new f(n+"."+s.slice(1)),d=c=p=j(p.minus(r),p.plus(r),m),h=A(p.times(p),m),a=3;;){if(c=A(c.times(h),m),y((u=d.plus(j(c,new f(a),m))).d).slice(0,m)===y(d.d).slice(0,m))return d=d.times(2),0!==i&&(d=d.plus(k(f,m+2,b).times(i+""))),d=j(d,new f(x),m),f.precision=b,null==t?(o=!0,A(d,b)):d;d=u,a+=2}}function C(e,t){var s,n,r;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(s<0&&(s=n),s+=+t.slice(n+1),t=t.substring(0,n)):s<0&&(s=t.length),n=0;48===t.charCodeAt(n);)++n;for(r=t.length;48===t.charCodeAt(r-1);)--r;if(t=t.slice(n,r)){if(r-=n,s=s-n-1,e.e=u(s/7),e.d=[],n=(s+1)%7,s<0&&(n+=7),n<r){for(n&&e.d.push(+t.slice(0,n)),r-=7;n<r;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=r;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(d+s)}else e.s=0,e.e=0,e.d=[0];return e}function A(e,t,s){var n,r,a,i,l,c,h,p,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if((n=t-i)<0)n+=7,r=t,h=f[p=0];else{if((p=Math.ceil((n+1)/7))>=(a=f.length))return e;for(h=a=f[p],i=1;a>=10;a/=10)i++;r=(n%=7)-7+i}if(void 0!==s&&(l=h/(a=m(10,i-r-1))%10|0,c=t<0||void 0!==f[p+1]||h%a,c=s<4?(l||c)&&(0==s||s==(e.s<0?3:2)):l>5||5==l&&(4==s||c||6==s&&(n>0?r>0?h/m(10,i-r):0:f[p-1])%10&1||s==(e.s<0?8:7))),t<1||!f[0])return c?(a=N(e),f.length=1,t=t-a-1,f[0]=m(10,(7-t%7)%7),e.e=u(-t/7)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(0==n?(f.length=p,a=1,p--):(f.length=p+1,a=m(10,7-n),f[p]=r>0?(h/m(10,i-r)%m(10,r)|0)*a:0),c)for(;;){if(0==p){(f[0]+=a)==x&&(f[0]=1,++e.e);break}if(f[p]+=a,f[p]!=x)break;f[p--]=0,a=1}for(n=f.length;0===f[--n];)f.pop();if(o&&(e.e>g||e.e<-g))throw Error(d+N(e));return e}function P(e,t){var s,n,r,a,i,l,c,d,u,m,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),o?A(t,p):t;if(c=e.d,m=t.d,n=t.e,d=e.e,c=c.slice(),i=d-n){for((u=i<0)?(s=c,i=-i,l=m.length):(s=m,n=d,l=c.length),i>(r=Math.max(Math.ceil(p/7),l)+2)&&(i=r,s.length=1),s.reverse(),r=i;r--;)s.push(0);s.reverse()}else{for((u=(r=c.length)<(l=m.length))&&(l=r),r=0;r<l;r++)if(c[r]!=m[r]){u=c[r]<m[r];break}i=0}for(u&&(s=c,c=m,m=s,t.s=-t.s),l=c.length,r=m.length-l;r>0;--r)c[l++]=0;for(r=m.length;r>i;){if(c[--r]<m[r]){for(a=r;a&&0===c[--a];)c[a]=x-1;--c[a],c[r]+=x}c[r]-=m[r]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?A(t,p):t):new h(0)}function E(e,t,s){var n,r=N(e),a=y(e.d),i=a.length;return t?(s&&(n=s-i)>0?a=a.charAt(0)+"."+a.slice(1)+S(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+S(-r-1)+a,s&&(n=s-i)>0&&(a+=S(n))):r>=i?(a+=S(r+1-i),s&&(n=s-r-1)>0&&(a=a+"."+S(n))):((n=r+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),s&&(n=s-i)>0&&(r+1===i&&(a+="."),a+=S(n))),e.s<0?"-"+a:a}function O(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,s,n,r=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if(void 0!==(n=e[s=r[t]])){if(!(u(n)===n&&n>=r[t+1]&&n<=r[t+2]))throw Error(c+s+": "+n);this[s]=n}if(void 0!==(n=e[s="LN10"])){if(n!=Math.LN10)throw Error(c+s+": "+n);this[s]=new this(n)}return this}i=function e(t){var s,n,r;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(c+e);C(t,e)}if(a.prototype=f,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=I,void 0===t&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],s=0;s<r.length;)t.hasOwnProperty(n=r[s++])||(t[n]=this[n]);return a.config(t),a}(i),i.default=i.Decimal=i,r=new i(1),void 0===(n=function(){return i}.call(t,s,t,e))||(e.exports=n)}()},8268:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365:(e,t,s)=>{"use strict";var n=s(5043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useSyncExternalStore,i=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue},8396:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443:(e,t,s)=>{"use strict";e.exports=s(9717)},8845:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(8268),r=s(3272),a=s(8396),i=s(9323),o=s(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":Object.is(e?.valueOf(),-0)&&(e="-0");break;case"number":e=r.toKey(e)}return t=a.cloneDeep(t),function(s){const r=i.get(s,e);return void 0===r?o.has(s,e):void 0===t?void 0===r:n.isMatch(r,t)}}},8853:(e,t,s)=>{"use strict";e.exports=s(7234)},9323:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(7260),r=s(2489),a=s(3272),i=s(1444);t.get=function e(t,s,o){if(null==t)return o;switch(typeof s){case"string":{if(n.isUnsafeProperty(s))return o;const a=t[s];return void 0===a?r.isDeepKey(s)?e(t,i.toPath(s),o):o:a}case"number":case"symbol":{"number"===typeof s&&(s=a.toKey(s));const e=t[s];return void 0===e?o:e}default:{if(Array.isArray(s))return function(e,t,s){if(0===t.length)return s;let r=e;for(let a=0;a<t.length;a++){if(null==r)return s;if(n.isUnsafeProperty(t[a]))return s;r=r[t[a]]}if(void 0===r)return s;return r}(t,s,o);if(s=Object.is(s?.valueOf(),-0)?"-0":String(s),n.isUnsafeProperty(s))return o;const e=t[s];return void 0===e?o:e}}}},9330:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(4385),r=s(6443),a=s(5990),i=s(7599),o=s(9972);function l(e,t,s,n,r,a,i){const o=i(e,t,s,n,r,a);if(void 0!==o)return o;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,a,i)}return c(e,t,a,i)}function c(e,t,s,d){if(Object.is(e,t))return!0;let u=a.getTag(e),m=a.getTag(t);if(u===i.argumentsTag&&(u=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),u!==m)return!1;switch(u){case i.stringTag:return e.toString()===t.toString();case i.numberTag:{const s=e.valueOf(),n=t.valueOf();return o.eq(s,n)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(e.valueOf(),t.valueOf());case i.regexpTag:return e.source===t.source&&e.flags===t.flags;case i.functionTag:return e===t}const h=(s=s??new Map).get(e),x=s.get(t);if(null!=h&&null!=x)return h===t;s.set(e,t),s.set(t,e);try{switch(u){case i.mapTag:if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(!t.has(n)||!l(r,t.get(n),n,e,t,s,d))return!1;return!0;case i.setTag:{if(e.size!==t.size)return!1;const n=Array.from(e.values()),r=Array.from(t.values());for(let a=0;a<n.length;a++){const i=n[a],o=r.findIndex(n=>l(i,n,void 0,e,t,s,d));if(-1===o)return!1;r.splice(o,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!l(e[n],t[n],n,e,t,s,d))return!1;return!0;case i.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),s,d);case i.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),s,d);case i.errorTag:return e.name===t.name&&e.message===t.message;case i.objectTag:{if(!(c(e.constructor,t.constructor,s,d)||n.isPlainObject(e)&&n.isPlainObject(t)))return!1;const a=[...Object.keys(e),...r.getSymbols(e)],i=[...Object.keys(t),...r.getSymbols(t)];if(a.length!==i.length)return!1;for(let n=0;n<a.length;n++){const r=a[n],i=e[r];if(!Object.hasOwn(t,r))return!1;if(!l(i,t[r],r,e,t,s,d))return!1}return!0}default:return!1}}finally{s.delete(e),s.delete(t)}}t.isEqualWith=function(e,t,s){return l(e,t,void 0,void 0,void 0,void 0,s)}},9397:(e,t,s)=>{e.exports=s(2682).isPlainObject},9461:(e,t,s)=>{"use strict";e.exports=s(2330)},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645:(e,t,s)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=s(6392),r=s(8346),a=s(1203);t.last=function(e){if(a.isArrayLike(e))return n.last(r.toArray(e))}},9709:(e,t)=>{"use strict";function s(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const r=s(e),a=s(t);if(r===a&&0===r){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?a-r:r-a}return 0}},9717:(e,t,s)=>{"use strict";var n=s(5043),r=s(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,n,r){var u=o(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=c(function(){function e(e){if(!l){if(l=!0,i=e,e=n(e),void 0!==r&&m.hasValue){var t=m.value;if(r(t,e))return o=t}return o=e}if(t=o,a(i,e))return t;var s=n(e);return void 0!==r&&r(t,s)?(i=e,t):(i=e,o=s)}var i,o,l=!1,c=void 0===s?null:s;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,s,n,r]);var h=i(e,u[0],u[1]);return l(function(){m.hasValue=!0,m.value=h},[h]),d(h),h}},9859:(e,t,s)=>{e.exports=s(7231).range},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var a=Object.create(null);s.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,s.d(a,i),a}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};s.r(e),s.d(e,{scaleBand:()=>Wc,scaleDiverging:()=>Fx,scaleDivergingLog:()=>zx,scaleDivergingPow:()=>$x,scaleDivergingSqrt:()=>Bx,scaleDivergingSymlog:()=>Ux,scaleIdentity:()=>Iu,scaleImplicit:()=>Bc,scaleLinear:()=>Ou,scaleLog:()=>$u,scaleOrdinal:()=>Vc,scalePoint:()=>qc,scalePow:()=>Ju,scaleQuantile:()=>lm,scaleQuantize:()=>cm,scaleRadial:()=>Zu,scaleSequential:()=>Ox,scaleSequentialLog:()=>Ix,scaleSequentialPow:()=>Mx,scaleSequentialQuantile:()=>Lx,scaleSequentialSqrt:()=>Dx,scaleSequentialSymlog:()=>Tx,scaleSqrt:()=>Qu,scaleSymlog:()=>Hu,scaleThreshold:()=>dm,scaleTime:()=>Cx,scaleUtc:()=>Ax,tickFormat:()=>Pu});var t={};s.r(t),s.d(t,{hasBrowserEnv:()=>tI,hasStandardBrowserEnv:()=>nI,hasStandardBrowserWebWorkerEnv:()=>rI,navigator:()=>sI,origin:()=>aI});var n,r=s(5043),a=s.t(r,2),i=s(4391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,s,n){return void 0===s&&(s=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:s,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function x(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function p(e,t,s,r){void 0===r&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,d=a.history,x=n.Pop,p=null,g=f();function f(){return(d.state||{idx:null}).idx}function b(){x=n.Pop;let e=f(),t=null==e?null:e-g;g=e,p&&p({action:x,location:y.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,s="string"===typeof e?e:h(e);return s=s.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==g&&(g=0,d.replaceState(o({},d.state,{idx:g}),""));let y={get action(){return x},get location(){return e(a,d)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(l,b),p=e,()=>{a.removeEventListener(l,b),p=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){x=n.Push;let r=m(y.location,e,t);s&&s(r,e),g=f()+1;let o=u(r,g),l=y.createHref(r);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}i&&p&&p({action:x,location:y.location,delta:1})},replace:function(e,t){x=n.Replace;let r=m(y.location,e,t);s&&s(r,e),g=f();let a=u(r,g),o=y.createHref(r);d.replaceState(a,"",o),i&&p&&p({action:x,location:y.location,delta:0})},go:e=>d.go(e)};return y}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(e,t,s){return void 0===s&&(s="/"),b(e,t,s,!1)}function b(e,t,s,n){let r=I(("string"===typeof t?x(t):t).pathname||"/",s);if(null==r)return null;let a=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=O(r);i=P(a[o],e,n)}return i}function v(e,t,s,n){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===n&&(n="");let r=(e,r,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=R([n,i.relativePath]),l=s.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let n of y(e.path))r(e,t,n);else r(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[s,...n]=t,r=s.endsWith("?"),a=s.replace(/\?$/,"");if(0===n.length)return r?[a,""]:[a];let i=y(n.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,w=3,N=2,k=1,S=10,_=-2,C=e=>"*"===e;function A(e,t){let s=e.split("/"),n=s.length;return s.some(C)&&(n+=_),t&&(n+=N),s.filter(e=>!C(e)).reduce((e,t)=>e+(j.test(t)?w:""===t?k:S),n)}function P(e,t,s){void 0===s&&(s=!1);let{routesMeta:n}=e,r={},a="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&s&&!n[n.length-1].route.index&&(d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:R([a,d.pathname]),pathnameBase:F(R([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=R([a,d.pathnameBase]))}return i}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(n.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1),l=n.reduce((e,t,s)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=o[s]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[s];return e[n]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&"/"!==n?null:e.slice(s)||"/"}function T(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let s=M(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function L(e,t,s,n){let r;void 0===n&&(n=!1),"string"===typeof e?r=x(e):(r=o({},e),c(!r.pathname||!r.pathname.includes("?"),T("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),T("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),T("#","search","hash",r)));let a,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)a=s;else{let e=t.length-1;if(!n&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:s,search:n="",hash:r=""}="string"===typeof e?x(e):e,a=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:a,search:z(n),hash:U(r)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),m=(i||"."===l)&&s.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},W.apply(this,arguments)}const H=r.createContext(null);const q=r.createContext(null);const Y=r.createContext(null);const G=r.createContext(null);const K=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function Q(){return null!=r.useContext(G)}function Z(){return Q()||c(!1),r.useContext(G).location}function ee(e){r.useContext(Y).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(K);return e?function(){let{router:e}=me(de.UseNavigateStable),t=xe(ue.UseNavigateStable),s=r.useRef(!1);ee(()=>{s.current=!0});let n=r.useCallback(function(n,r){void 0===r&&(r={}),s.current&&("number"===typeof n?e.navigate(n):e.navigate(n,W({fromRouteId:t},r)))},[e,t]);return n}():function(){Q()||c(!1);let e=r.useContext(H),{basename:t,future:s,navigator:n}=r.useContext(Y),{matches:a}=r.useContext(K),{pathname:i}=Z(),o=JSON.stringify(D(a,s.v7_relativeSplatPath)),l=r.useRef(!1);ee(()=>{l.current=!0});let d=r.useCallback(function(s,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof s)return void n.go(s);let a=L(s,JSON.parse(o),i,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:R([t,a.pathname])),(r.replace?n.replace:n.push)(a,r.state,r)},[t,n,o,i,e]);return d}()}function se(){let{matches:e}=r.useContext(K),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:s}=void 0===t?{}:t,{future:n}=r.useContext(Y),{matches:a}=r.useContext(K),{pathname:i}=Z(),o=JSON.stringify(D(a,n.v7_relativeSplatPath));return r.useMemo(()=>L(e,JSON.parse(o),i,"path"===s),[e,o,i,s])}function re(e,t,s,a){Q()||c(!1);let{navigator:i}=r.useContext(Y),{matches:o}=r.useContext(K),l=o[o.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,h=Z();if(t){var p;let e="string"===typeof t?x(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||c(!1),m=e}else m=h;let g=m.pathname||"/",b=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=f(e,{pathname:b});let y=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,s,a);return t&&y?r.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:n.Pop}},y):y}function ae(){let e=function(){var e;let t=r.useContext(J),s=he(ue.UseRouteError),n=xe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[n]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),s?r.createElement("pre",{style:a},s):null,null)}const ie=r.createElement(ae,null);class oe extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(K.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:s,children:n}=e,a=r.useContext(H);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),r.createElement(K.Provider,{value:t},n)}function ce(e,t,s,n){var a;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===n&&(n=null),null==e){var i;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let o=e,l=null==(a=s)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:n}=s,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,n,a)=>{let i,c=!1,m=null,h=null;var x;s&&(i=l&&n.route.id?l[n.route.id]:void 0,m=n.route.errorElement||ie,d&&(u<0&&0===a?(x="route-fallback",!1||pe[x]||(pe[x]=!0),c=!0,h=null):u===a&&(c=!0,h=n.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=i?m:c?h:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(le,{match:n,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:t})};return s&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?r.createElement(oe,{location:s.location,revalidation:s.revalidation,component:m,error:i,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function me(e){let t=r.useContext(H);return t||c(!1),t}function he(e){let t=r.useContext(q);return t||c(!1),t}function xe(e){let t=function(){let e=r.useContext(K);return e||c(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||c(!1),s.route.id}const pe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function fe(e){let{to:t,replace:s,state:n,relative:a}=e;Q()||c(!1);let{future:i,static:o}=r.useContext(Y),{matches:l}=r.useContext(K),{pathname:d}=Z(),u=te(),m=L(t,D(l,i.v7_relativeSplatPath),d,"path"===a),h=JSON.stringify(m);return r.useEffect(()=>u(JSON.parse(h),{replace:s,state:n,relative:a}),[u,h,a,s,n]),null}function be(e){c(!1)}function ve(e){let{basename:t="/",children:s=null,location:a,navigationType:i=n.Pop,navigator:o,static:l=!1,future:d}=e;Q()&&c(!1);let u=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:u,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);"string"===typeof a&&(a=x(a));let{pathname:h="/",search:p="",hash:g="",state:f=null,key:b="default"}=a,v=r.useMemo(()=>{let e=I(h,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:f,key:b},navigationType:i}},[u,h,p,g,f,b,i]);return null==v?null:r.createElement(Y.Provider,{value:m},r.createElement(G.Provider,{children:s,value:v}))}function ye(e){let{children:t,location:s}=e;return re(je(t),s)}new Promise(()=>{});r.Component;function je(e,t){void 0===t&&(t=[]);let s=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let a=[...t,n];if(e.type===r.Fragment)return void s.push.apply(s,je(e.props.children,a));e.type!==be&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=je(e.props.children,a)),s.push(i)}),s}var we=s(7950),Ne=s.t(we,2);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ke.apply(this,arguments)}function Se(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(GB){}new Map;const Ce=a.startTransition;Ne.flushSync,a.useId;function Ae(e){let{basename:t,children:s,future:n,window:a}=e,i=r.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),p(function(e,t){let{pathname:s="/",search:n="",hash:r=""}=x(e.location.hash.substr(1));return s.startsWith("/")||s.startsWith(".")||(s="/"+s),m("",{pathname:s,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let s=e.document.querySelector("base"),n="";if(s&&s.getAttribute("href")){let t=e.location.href,s=t.indexOf("#");n=-1===s?t:t.slice(0,s)}return n+"#"+("string"===typeof t?t:h(t))},function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},o)));let l=i.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:g}=n||{},f=r.useCallback(e=>{g&&Ce?Ce(()=>u(e)):u(e)},[u,g]);return r.useLayoutEffect(()=>l.listen(f),[l,f]),r.useEffect(()=>ge(n),[n]),r.createElement(ve,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:l,future:n})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=r.forwardRef(function(e,t){let s,{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:m,viewTransition:x}=e,p=Se(e,_e),{basename:g}=r.useContext(Y),f=!1;if("string"===typeof u&&Ee.test(u)&&(s=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),s=I(t.pathname,g);t.origin===e.origin&&null!=s?u=s+t.search+t.hash:f=!0}catch(GB){}let b=function(e,t){let{relative:s}=void 0===t?{}:t;Q()||c(!1);let{basename:n,navigator:a}=r.useContext(Y),{hash:i,pathname:o,search:l}=ne(e,{relative:s}),d=o;return"/"!==n&&(d="/"===o?n:R([n,o])),a.createHref({pathname:d,search:l,hash:i})}(u,{relative:a}),v=function(e,t){let{target:s,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),u=ne(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==n?n:h(d)===h(u);c(e,{replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,s,e,i,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:m,relative:a,viewTransition:x});return r.createElement("a",ke({},p,{href:s||b,onClick:f||i?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:d}))});var Ie,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Me=s(579);const De=(0,r.createContext)();function Le(){const e=(0,r.useContext)(De);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Re(e){let{children:t}=e;const[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{const e=localStorage.getItem("user");if(e&&"undefined"!==e)try{n(JSON.parse(e))}catch(GB){n(null),localStorage.removeItem("user")}i(!1)},[]);const o=async(e,t)=>{try{const n=new AbortController,r=setTimeout(()=>n.abort(),1e4);console.log("Making request to:",e),console.log("Request body:",t);const a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),signal:n.signal});clearTimeout(r),console.log("Response status:",a.status);const i=await a.text();let o;console.log("Raw response:",i);try{o=JSON.parse(i)}catch(s){console.error("Failed to parse response JSON:",s),o={error:"Invalid response from server"}}if(console.log("Response data:",o),!a.ok){if(409===a.status&&o.error)throw new Error(o.error);throw new Error(o.error||o.message||`HTTP ${a.status}: ${a.statusText}`)}return o}catch(n){if(console.error("Request error:",n),"AbortError"===n.name)throw new Error("Request timed out");throw new Error("Failed to fetch"===n.message?"Cannot connect to backend. Is the server running?":n.message)}};async function l(e,t,s){const r={_id:(await o("https://my-backend-593529385135.asia-south1.run.app/signup/admin",{name:e,email:t,password:s})).userId,name:e,email:t,role:"admin"};n(r),localStorage.setItem("user",JSON.stringify(r))}async function c(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"admin";const r="https://my-backend-593529385135.asia-south1.run.app";let a=`${r}/${s}/login`;"superadmin"===s&&(a=`${r}/superadmin/login`),console.log("Login endpoint:",a);const i=await o(a,{email:e,password:t});let l;l="superadmin"===s?{...i.superadmin,role:"superadmin"}:i.user,n(l),localStorage.setItem("user",JSON.stringify(l))}const d={currentUser:s,isAuthenticated:!!s,signup:l,login:c,logout:function(){n(null),localStorage.removeItem("user")},adminSignup:l,superAdminSignup:async function(e,t,s){const r="https://my-backend-593529385135.asia-south1.run.app";console.log("API URL for superadmin signup:",r);const a={_id:(await o(`${r}/signup/superadmin`,{name:e,email:t,password:s})).userId,name:e,email:t,role:"superadmin"};n(a),localStorage.setItem("user",JSON.stringify(a))},customerSignup:async function(e){const t=await o("https://my-backend-593529385135.asia-south1.run.app/signup/customer",e),s=t.user||t.success&&t.user||{email:e.email,role:"customer"};n(s),localStorage.setItem("user",JSON.stringify(s))},contentCreatorSignup:async function(e,t,s){const r={_id:(await o("https://my-backend-593529385135.asia-south1.run.app/signup/creator",{email:e,password:t,...s})).userId,email:e,role:"content_creator",...s};n(r),localStorage.setItem("user",JSON.stringify(r))},adminLogin:(e,t)=>c(e,t,"admin"),superAdminLogin:(e,t)=>c(e,t,"superadmin"),customerLogin:(e,t)=>c(e,t,"customer"),contentCreatorLogin:(e,t)=>c(e,t,"content_creator"),sendOtp:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signup";return await o("https://my-backend-593529385135.asia-south1.run.app/otp/send",{email:e,type:t})},verifyOtp:async function(e,t){return await o("https://my-backend-593529385135.asia-south1.run.app/otp/verify",{email:e,otp:t})}};return(0,Me.jsx)(De.Provider,{value:d,children:!a&&t})}const Fe=[{id:"1",name:"Shoppers Stop",nextDueDate:"2024-06-10",nextDueContent:"New Collection Arrival",contentItems:[{id:"101",date:"2024-06-10",description:"New Collection Arrival"},{id:"102",date:"2024-06-15",description:"Weekend Sale Announcement"},{id:"103",date:"2024-07-01",description:"Buy One Get One offer"},{id:"104",date:"2024-07-14",description:"Happy Diwali wishes"}]},{id:"2",name:"Pantaloons",nextDueDate:"2024-06-13",nextDueContent:"Winter",contentItems:[{id:"201",date:"2024-06-13",description:"Winter"},{id:"202",date:"2024-06-20",description:"End of Season Sale"}]}],ze=(0,r.createContext)();function Ue(e){let{children:t}=e;const[s,n]=(0,r.useState)(Fe);return(0,Me.jsx)(ze.Provider,{value:{customers:s,addCustomer:e=>{const t={...e,id:Date.now().toString()};n([...s,t])},getCustomer:e=>s.find(t=>t.id===e),addContentItem:(e,t)=>{n(s=>s.map(s=>{if(s.id===e){const e={...t,id:Date.now().toString()},n=[...s.contentItems,e].sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),r=new Date,a=n.find(e=>new Date(e.date).getTime()>=r.getTime())||n[0];return{...s,contentItems:n,nextDueDate:a?a.date:s.nextDueDate,nextDueContent:a?a.description:s.nextDueContent}}return s}))},updateContentItem:(e,t)=>{n(s=>s.map(s=>{if(s.id===e){const e=s.contentItems.map(e=>e.id===t.id?t:e).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),n=new Date,r=e.find(e=>new Date(e.date).getTime()>=n.getTime())||e[0];return{...s,contentItems:e,nextDueDate:r?r.date:s.nextDueDate,nextDueContent:r?r.description:s.nextDueContent}}return s}))},deleteContentItem:(e,t)=>{n(s=>s.map(s=>{if(s.id===e){const e=s.contentItems.filter(e=>e.id!==t).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),n=new Date,r=e.find(e=>new Date(e.date).getTime()>=n.getTime())||e[0];return{...s,contentItems:e,nextDueDate:r?r.date:"",nextDueContent:r?r.description:""}}return s}))}},children:t})}var $e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Be=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(e,t)=>{const s=(0,r.forwardRef)((s,n)=>{let{color:a="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,...u}=s;return(0,r.createElement)("svg",{ref:n,...$e,width:i,height:i,stroke:a,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide",`lucide-${Be(e)}`,c].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])});return s.displayName=`${e}`,s},We=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),He=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),qe=Ve("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),Ye=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ge=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ke=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Je=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Qe=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Xe=function(e){let{size:t="medium"}=e;const s={small:{container:"h-8",icon:32},medium:{container:"h-10",icon:40},large:{container:"h-12",icon:48}}[t];return(0,Me.jsx)("div",{className:`flex items-center ${s.container}`,style:{display:"flex",alignItems:"center"},children:(0,Me.jsx)("img",{src:"/logoAirspark.png",alt:"AirSpark Logo",style:{maxWidth:2.5*s.icon,height:"auto",verticalAlign:"middle",display:"block"}})})},Ze=()=>{const[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),{signup:f}=Le(),b=te(),v=(e=>0===e.length?{strength:0,text:"",color:""}:e.length<6?{strength:1,text:"Weak",color:"text-red-500"}:e.length<8?{strength:2,text:"Fair",color:"text-yellow-500"}:e.length>=8&&/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e)?{strength:4,text:"Strong",color:"text-green-500"}:{strength:3,text:"Good",color:"text-blue-500"})(a);return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-6",children:(0,Me.jsx)(Xe,{size:"large"})}),(0,Me.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Create Account"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-600",children:"Join us and start managing your content"})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:[h&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm font-medium",children:h})]}),(0,Me.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault();const n=e?s?/\S+@\S+\.\S+/.test(s)?a?a.length<6?"Password must be at least 6 characters long":a!==o?"Passwords do not match":"":"Password is required":"Please enter a valid email address":"Email is required":"Name is required";if(n)x(n);else try{x(""),g(!0),await f(e,s,a),b("/admin")}catch(c){var r,i,l;null!==(r=c.message)&&void 0!==r&&r.includes("already exists")||null!==(i=c.message)&&void 0!==i&&i.includes("409")?x("An account with this email already exists. Please sign in instead."):null!==(l=c.message)&&void 0!==l&&l.includes("Invalid email")?x("Please enter a valid email address."):x(c.message||"Failed to create account. Please try again."),console.error(c)}finally{g(!1)}},children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(He,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your full name",value:e,onChange:e=>t(e.target.value)})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qe,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your email address",value:s,onChange:e=>n(e.target.value)})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Create a strong password",value:a,onChange:e=>i(e.target.value)}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{d(!c)},children:c?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),a&&(0,Me.jsxs)("div",{className:"mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Password strength:"}),(0,Me.jsx)("span",{className:`text-xs font-medium ${v.color}`,children:v.text})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(1===v.strength?"bg-red-500 w-1/4":2===v.strength?"bg-yellow-500 w-2/4":3===v.strength?"bg-blue-500 w-3/4":4===v.strength?"bg-green-500 w-full":"w-0")})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Confirm your password",value:o,onChange:e=>l(e.target.value)}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{m(!u)},children:u?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),o&&(0,Me.jsx)("div",{className:"mt-2 flex items-center",children:a===o?(0,Me.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords match"})]}):(0,Me.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Me.jsx)(We,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords do not match"})]})})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:p?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating account..."]}):(0,Me.jsxs)("div",{className:"flex items-center",children:["Create Account",(0,Me.jsx)(Qe,{className:"h-5 w-5 ml-2"})]})})})]}),(0,Me.jsxs)("div",{className:"mt-8 text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsx)(Oe,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:"Sign in instead"})})]})]}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})})]})})},et=()=>{const[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{login:u}=Le(),m=te();return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-6",children:(0,Me.jsx)(Xe,{size:"large"})}),(0,Me.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Welcome Back"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-600",children:"Sign in to your admin account"})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:[o&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm font-medium",children:o})]}),(0,Me.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),e&&s)try{l(""),d(!0),await u(e,s,"admin"),m("/admin")}catch(i){var n,r,a;null!==(n=i.message)&&void 0!==n&&n.includes("Invalid credentials")||null!==(r=i.message)&&void 0!==r&&r.includes("401")?l("Invalid email or password. Please check your credentials or sign up to create an account."):null!==(a=i.message)&&void 0!==a&&a.includes("User not found")?l("No account found with this email. Please sign up to create an account."):l("Failed to log in. Please try again."),console.error(i)}finally{d(!1)}else l("Please enter both email and password")},children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qe,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your email address",value:e,onChange:e=>t(e.target.value)})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your password",value:s,onChange:e=>n(e.target.value)}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{i(!a)},children:a?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):(0,Me.jsxs)("div",{className:"flex items-center",children:["Sign In",(0,Me.jsx)(Qe,{className:"h-5 w-5 ml-2"})]})})})]}),(0,Me.jsxs)("div",{className:"mt-8 text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"New to our platform?"})})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsx)(Oe,{to:"/signup",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200",children:"Create an account"})})]})]}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})})},tt=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),st=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),nt=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),rt=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),at=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const it=function(){return(0,Me.jsx)("footer",{className:"bg-white border-t",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto py-4 px-2 sm:px-4 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-2 md:space-y-0",children:[(0,Me.jsxs)("div",{className:"flex justify-center md:justify-start space-x-4 sm:space-x-6",children:[(0,Me.jsx)("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:"About Us"}),(0,Me.jsx)("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:"Privacy Policy"}),(0,Me.jsx)("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:"Terms of Service"}),(0,Me.jsx)("a",{href:"#",className:"text-gray-400 hover:text-gray-500",children:"Contact"})]}),(0,Me.jsx)("div",{className:"mt-2 md:mt-0",children:(0,Me.jsxs)("p",{className:"text-center md:text-right text-xs sm:text-sm text-gray-400",children:["\xa9 ",(new Date).getFullYear()," Aureum Solutions. All rights reserved."]})})]})})})};const ot=function(e){let{children:t,title:s}=e;const[n,a]=(0,r.useState)(!1),{logout:i,currentUser:o}=Le(),l=te();return Z(),(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200/50 sticky top-0 z-50",children:(0,Me.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{onClick:()=>l("/admin/dashboard"),className:"cursor-pointer",children:(0,Me.jsx)(Xe,{size:"medium"})}),(0,Me.jsxs)("div",{className:"ml-6",children:[(0,Me.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:s}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"Manage your content strategy"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"hidden md:flex items-center space-x-3",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(tt,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm w-64"})]}),(0,Me.jsxs)("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 relative",children:[(0,Me.jsx)(st,{className:"h-5 w-5"}),(0,Me.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]})]}),(0,Me.jsxs)("div",{className:"relative z-50",children:[(0,Me.jsxs)("button",{onClick:()=>a(!n),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-all duration-200",children:[(0,Me.jsx)("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-white text-sm font-semibold",children:null!==o&&void 0!==o&&o.email?o.email[0].toUpperCase():"A"})}),(0,Me.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===o||void 0===o?void 0:o.displayName)||"Admin User"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:(null===o||void 0===o?void 0:o.email)||"admin@aureumcreative.com"})]}),(0,Me.jsx)(nt,{className:"h-4 w-4 text-gray-500"})]}),n&&(0,Me.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200/50 py-2 z-50",children:[(0,Me.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===o||void 0===o?void 0:o.displayName)||"Admin User"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:(null===o||void 0===o?void 0:o.email)||"admin@aureumcreative.com"})]}),(0,Me.jsxs)("button",{onClick:()=>{l(""),a(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[(0,Me.jsx)(rt,{className:"h-4 w-4 mr-3"}),"Settings"]}),(0,Me.jsxs)("button",{onClick:()=>{(async()=>{await(null===i||void 0===i?void 0:i()),l("/login")})(),a(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,Me.jsx)(at,{className:"h-4 w-4 mr-3"}),"Logout"]})]})]})]})]})})}),(0,Me.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:t}),(0,Me.jsx)(it,{})]})},lt=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ct=Ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),dt=Ve("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),ut=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),mt=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ht=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),xt=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),pt=Ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),gt=Ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ft=Ve("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const bt=function(){const{currentUser:e}=Le(),[t,s]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(""),m=te();(0,r.useEffect)(()=>{h()},[]);const h=async()=>{c(!0),u("");try{if(e&&"admin"===e.role){const t="https://my-backend-593529385135.asia-south1.run.app",n=await fetch(`${t}/admin/assigned-customers?adminId=${e._id||e.id}`);if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const r=await n.json();s(r)}const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/users?role=content_creator"),n=await t.json();a(Array.isArray(n)?n:n.creators||[]);const r=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars"),i=await r.json(),l=Array.isArray(i)?i.flatMap(e=>Array.isArray(e.contentItems)?e.contentItems:[]):[];o(l)}catch(d){u("Error fetching dashboard data"),console.error("Error fetching dashboard data:",d)}finally{c(!1)}},x=t.length,p=n.length,g=i.length;return l?(0,Me.jsx)(ot,{title:"Dashboard",children:(0,Me.jsx)("div",{className:"flex justify-center items-center h-96",children:(0,Me.jsx)("span",{className:"text-lg text-gray-600",children:"Loading dashboard..."})})}):d?(0,Me.jsx)(ot,{title:"Dashboard",children:(0,Me.jsx)("div",{className:"flex justify-center items-center h-96",children:(0,Me.jsx)("span",{className:"text-lg text-red-600",children:d})})}):(0,Me.jsx)(ot,{title:"Dashboard",children:(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-slate-900 via-blue-900 to-indigo-900 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:(0,Me.jsxs)("div",{className:"relative z-10",children:[(0,Me.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Me.jsx)("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl mr-4",children:(0,Me.jsx)(lt,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-white via-yellow-200 to-yellow-400 bg-clip-text text-transparent",children:"Welcome to Aureum Solutions"}),(0,Me.jsx)("p",{className:"text-blue-100 text-lg mt-2",children:"Manage your social media content effectively and drive engagement"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,Me.jsx)("div",{className:"bg-white/10 rounded-xl p-4 border border-white/20",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(ct,{className:"h-6 w-6 text-yellow-400 mr-3"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-white/80 text-sm",children:"Active Campaigns"}),(0,Me.jsx)("p",{className:"text-white text-xl font-bold",children:x})]})]})}),(0,Me.jsx)("div",{className:"bg-white/10 rounded-xl p-4 border border-white/20",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(dt,{className:"h-6 w-6 text-green-400 mr-3"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-white/80 text-sm",children:"Success Rate"}),(0,Me.jsx)("p",{className:"text-white text-xl font-bold",children:"94%"})]})]})}),(0,Me.jsx)("div",{className:"bg-white/10 rounded-xl p-4 border border-white/20",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(ut,{className:"h-6 w-6 text-blue-400 mr-3"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-white/80 text-sm",children:"Growth Rate"}),(0,Me.jsx)("p",{className:"text-white text-xl font-bold",children:"12.5%"})]})]})})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Me.jsx)("div",{onClick:()=>m("/admin/customers-list"),className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50 hover:shadow-xl transition-all duration-300 group cursor-pointer",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300",children:(0,Me.jsx)(mt,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{className:"ml-6",children:[(0,Me.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Total Customers"}),(0,Me.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:x}),(0,Me.jsx)("p",{className:"text-sm text-green-600 font-medium mt-1",children:"+5% from last month"})]})]})}),(0,Me.jsx)("div",{onClick:()=>m("/admin/content-creators"),className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50 hover:shadow-xl transition-all duration-300 group cursor-pointer",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-4 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300",children:(0,Me.jsx)(ht,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{className:"ml-6",children:[(0,Me.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Total Content Creators"}),(0,Me.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:p}),(0,Me.jsx)("p",{className:"text-sm text-green-600 font-medium mt-1",children:"+8% from last month"})]})]})}),(0,Me.jsx)("div",{onClick:()=>m("/admin/customers"),className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50 hover:shadow-xl transition-all duration-300 group cursor-pointer",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-4 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300",children:(0,Me.jsx)(xt,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{className:"ml-6",children:[(0,Me.jsx)("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Content Items"}),(0,Me.jsx)("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:g}),(0,Me.jsx)("p",{className:"text-sm text-green-600 font-medium mt-1",children:"+12% from last week"})]})]})})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 p-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Quick Actions"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,Me.jsxs)("button",{onClick:()=>m("/admin/customers-list"),className:"flex flex-col items-center justify-center p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(mt,{className:"h-6 w-6 mb-2"}),(0,Me.jsx)("span",{className:"font-semibold text-sm text-center",children:"View Customers"})]}),(0,Me.jsxs)("button",{onClick:()=>m("/admin/content-creators"),className:"flex flex-col items-center justify-center p-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(ht,{className:"h-6 w-6 mb-2"}),(0,Me.jsx)("span",{className:"font-semibold text-sm text-center",children:"Content Creators"})]}),(0,Me.jsxs)("button",{onClick:()=>m("/admin/customers"),className:"flex flex-col items-center justify-center p-4 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-xl hover:from-emerald-700 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(xt,{className:"h-6 w-6 mb-2"}),(0,Me.jsx)("span",{className:"font-semibold text-sm text-center",children:"Content Calendar"})]}),(0,Me.jsxs)("button",{onClick:()=>m("/admin/content-portfolio"),className:"flex flex-col items-center justify-center p-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(pt,{className:"h-6 w-6 mb-2"}),(0,Me.jsx)("span",{className:"font-semibold text-sm text-center",children:"Content Portfolio"})]}),(0,Me.jsxs)("button",{onClick:()=>m("/admin/scheduled-posts"),className:"flex flex-col items-center justify-center p-4 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-700 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(gt,{className:"h-6 w-6 mb-2"}),(0,Me.jsx)("span",{className:"font-semibold text-sm text-center",children:"Scheduled Posts"})]}),(0,Me.jsxs)("button",{onClick:()=>m("/admin/qr-generator"),className:"flex flex-col items-center justify-center p-4 bg-gradient-to-r from-cyan-600 to-blue-400 text-white rounded-xl hover:from-cyan-700 hover:to-blue-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(ft,{className:"h-6 w-6 mb-2"}),(0,Me.jsx)("span",{className:"font-semibold text-sm text-center",children:"Generate QR Codes"})]})]})]})]})})};function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function yt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function jt(e){yt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===vt(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function wt(e){if(yt(1,arguments),!function(e){return yt(1,arguments),e instanceof Date||"object"===vt(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=jt(e);return!isNaN(Number(t))}function Nt(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function kt(e,t){return yt(2,arguments),function(e,t){yt(2,arguments);var s=jt(e).getTime(),n=Nt(t);return new Date(s+n)}(e,-Nt(t))}function St(e){yt(1,arguments);var t=jt(e),s=t.getUTCDay(),n=(s<1?7:0)+s-1;return t.setUTCDate(t.getUTCDate()-n),t.setUTCHours(0,0,0,0),t}function _t(e){yt(1,arguments);var t=jt(e),s=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(s+1,0,4),n.setUTCHours(0,0,0,0);var r=St(n),a=new Date(0);a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0);var i=St(a);return t.getTime()>=r.getTime()?s+1:t.getTime()>=i.getTime()?s:s-1}function Ct(e){yt(1,arguments);var t=jt(e),s=St(t).getTime()-function(e){yt(1,arguments);var t=_t(e),s=new Date(0);return s.setUTCFullYear(t,0,4),s.setUTCHours(0,0,0,0),St(s)}(t).getTime();return Math.round(s/6048e5)+1}var At={};function Pt(){return At}function Et(e,t){var s,n,r,a,i,o,l,c;yt(1,arguments);var d=Pt(),u=Nt(null!==(s=null!==(n=null!==(r=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:d.weekStartsOn)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==s?s:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=jt(e),h=m.getUTCDay(),x=(h<u?7:0)+h-u;return m.setUTCDate(m.getUTCDate()-x),m.setUTCHours(0,0,0,0),m}function Ot(e,t){var s,n,r,a,i,o,l,c;yt(1,arguments);var d=jt(e),u=d.getUTCFullYear(),m=Pt(),h=Nt(null!==(s=null!==(n=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:m.firstWeekContainsDate)&&void 0!==n?n:null===(l=m.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(u+1,0,h),x.setUTCHours(0,0,0,0);var p=Et(x,t),g=new Date(0);g.setUTCFullYear(u,0,h),g.setUTCHours(0,0,0,0);var f=Et(g,t);return d.getTime()>=p.getTime()?u+1:d.getTime()>=f.getTime()?u:u-1}function It(e,t){yt(1,arguments);var s=jt(e),n=Et(s,t).getTime()-function(e,t){var s,n,r,a,i,o,l,c;yt(1,arguments);var d=Pt(),u=Nt(null!==(s=null!==(n=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(o=i.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:d.firstWeekContainsDate)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:1),m=Ot(e,t),h=new Date(0);return h.setUTCFullYear(m,0,u),h.setUTCHours(0,0,0,0),Et(h,t)}(s,t).getTime();return Math.round(n/6048e5)+1}function Tt(e,t){for(var s=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return s+n}var Mt={y:function(e,t){var s=e.getUTCFullYear(),n=s>0?s:1-s;return Tt("yy"===t?n%100:n,t.length)},M:function(e,t){var s=e.getUTCMonth();return"M"===t?String(s+1):Tt(s+1,2)},d:function(e,t){return Tt(e.getUTCDate(),t.length)},a:function(e,t){var s=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return"am"===s?"a.m.":"p.m."}},h:function(e,t){return Tt(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Tt(e.getUTCHours(),t.length)},m:function(e,t){return Tt(e.getUTCMinutes(),t.length)},s:function(e,t){return Tt(e.getUTCSeconds(),t.length)},S:function(e,t){var s=t.length,n=e.getUTCMilliseconds();return Tt(Math.floor(n*Math.pow(10,s-3)),t.length)}};const Dt=Mt;var Lt="midnight",Rt="noon",Ft="morning",zt="afternoon",Ut="evening",$t="night",Bt={G:function(e,t,s){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if("yo"===t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return s.ordinalNumber(r,{unit:"year"})}return Dt.y(e,t)},Y:function(e,t,s,n){var r=Ot(e,n),a=r>0?r:1-r;return"YY"===t?Tt(a%100,2):"Yo"===t?s.ordinalNumber(a,{unit:"year"}):Tt(a,t.length)},R:function(e,t){return Tt(_t(e),t.length)},u:function(e,t){return Tt(e.getUTCFullYear(),t.length)},Q:function(e,t,s){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Tt(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Tt(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){var n=e.getUTCMonth();switch(t){case"M":case"MM":return Dt.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return Tt(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){var r=It(e,n);return"wo"===t?s.ordinalNumber(r,{unit:"week"}):Tt(r,t.length)},I:function(e,t,s){var n=Ct(e);return"Io"===t?s.ordinalNumber(n,{unit:"week"}):Tt(n,t.length)},d:function(e,t,s){return"do"===t?s.ordinalNumber(e.getUTCDate(),{unit:"date"}):Dt.d(e,t)},D:function(e,t,s){var n=function(e){yt(1,arguments);var t=jt(e),s=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=s-t.getTime();return Math.floor(n/864e5)+1}(e);return"Do"===t?s.ordinalNumber(n,{unit:"dayOfYear"}):Tt(n,t.length)},E:function(e,t,s){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){var r=e.getUTCDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Tt(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){var r=e.getUTCDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Tt(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,s){var n=e.getUTCDay(),r=0===n?7:n;switch(t){case"i":return String(r);case"ii":return Tt(r,t.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,s){var n,r=e.getUTCHours();switch(n=12===r?Rt:0===r?Lt:r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,s){var n,r=e.getUTCHours();switch(n=r>=17?Ut:r>=12?zt:r>=4?Ft:$t,t){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,s){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Dt.h(e,t)},H:function(e,t,s){return"Ho"===t?s.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Dt.H(e,t)},K:function(e,t,s){var n=e.getUTCHours()%12;return"Ko"===t?s.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},k:function(e,t,s){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?s.ordinalNumber(n,{unit:"hour"}):Tt(n,t.length)},m:function(e,t,s){return"mo"===t?s.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Dt.m(e,t)},s:function(e,t,s){return"so"===t?s.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Dt.s(e,t)},S:function(e,t){return Dt.S(e,t)},X:function(e,t,s,n){var r=(n._originalDate||e).getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Wt(r);case"XXXX":case"XX":return Ht(r);default:return Ht(r,":")}},x:function(e,t,s,n){var r=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return Wt(r);case"xxxx":case"xx":return Ht(r);default:return Ht(r,":")}},O:function(e,t,s,n){var r=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vt(r,":");default:return"GMT"+Ht(r,":")}},z:function(e,t,s,n){var r=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vt(r,":");default:return"GMT"+Ht(r,":")}},t:function(e,t,s,n){var r=n._originalDate||e;return Tt(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,s,n){return Tt((n._originalDate||e).getTime(),t.length)}};function Vt(e,t){var s=e>0?"-":"+",n=Math.abs(e),r=Math.floor(n/60),a=n%60;if(0===a)return s+String(r);var i=t||"";return s+String(r)+i+Tt(a,2)}function Wt(e,t){return e%60===0?(e>0?"-":"+")+Tt(Math.abs(e)/60,2):Ht(e,t)}function Ht(e,t){var s=t||"",n=e>0?"-":"+",r=Math.abs(e);return n+Tt(Math.floor(r/60),2)+s+Tt(r%60,2)}const qt=Bt;var Yt=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Gt=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Kt={p:Gt,P:function(e,t){var s,n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Yt(e,t);switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Yt(r,t)).replace("{{time}}",Gt(a,t))}};const Jt=Kt;function Qt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var Xt=["D","DD"],Zt=["YY","YYYY"];function es(e,t,s){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ts={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const ss=function(e,t,s){var n,r=ts[e];return n="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!==s&&void 0!==s&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function ns(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const rs={date:ns({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ns({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ns({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var as={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const is=function(e,t,s,n){return as[e]};function os(e){return function(t,s){var n;if("formatting"===(null!==s&&void 0!==s&&s.context?String(s.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,a=null!==s&&void 0!==s&&s.width?String(s.width):r;n=e.formattingValues[a]||e.formattingValues[r]}else{var i=e.defaultWidth,o=null!==s&&void 0!==s&&s.width?String(s.width):e.defaultWidth;n=e.values[o]||e.values[i]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const ls={ordinalNumber:function(e,t){var s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:os({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:os({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:os({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:os({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:os({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function cs(e){return function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;var i,o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var s=0;s<e.length;s++)if(t(e[s]))return s;return}(l,function(e){return e.test(o)}):function(e,t){for(var s in e)if(e.hasOwnProperty(s)&&t(e[s]))return s;return}(l,function(e){return e.test(o)});return i=e.valueCallback?e.valueCallback(c):c,{value:i=s.valueCallback?s.valueCallback(i):i,rest:t.slice(o.length)}}}var ds,us={ordinalNumber:(ds={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.match(ds.matchPattern);if(!s)return null;var n=s[0],r=e.match(ds.parsePattern);if(!r)return null;var a=ds.valueCallback?ds.valueCallback(r[0]):r[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(n.length)}}),era:cs({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:cs({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:cs({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:cs({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const ms={code:"en-US",formatDistance:ss,formatLong:rs,formatRelative:is,localize:ls,match:us,options:{weekStartsOn:0,firstWeekContainsDate:1}};var hs=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xs=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ps=/^'([^]*?)'?$/,gs=/''/g,fs=/[a-zA-Z]/;function bs(e,t,s){var n,r,a,i,o,l,c,d,u,m,h,x,p,g,f,b,v,y;yt(2,arguments);var j=String(t),w=Pt(),N=null!==(n=null!==(r=null===s||void 0===s?void 0:s.locale)&&void 0!==r?r:w.locale)&&void 0!==n?n:ms,k=Nt(null!==(a=null!==(i=null!==(o=null!==(l=null===s||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==l?l:null===s||void 0===s||null===(c=s.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:w.firstWeekContainsDate)&&void 0!==i?i:null===(u=w.locale)||void 0===u||null===(m=u.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==a?a:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=Nt(null!==(h=null!==(x=null!==(p=null!==(g=null===s||void 0===s?void 0:s.weekStartsOn)&&void 0!==g?g:null===s||void 0===s||null===(f=s.locale)||void 0===f||null===(b=f.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==p?p:w.weekStartsOn)&&void 0!==x?x:null===(v=w.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==h?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var _=jt(e);if(!wt(_))throw new RangeError("Invalid time value");var C=kt(_,Qt(_)),A={firstWeekContainsDate:k,weekStartsOn:S,locale:N,_originalDate:_};return j.match(xs).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,Jt[t])(e,N.formatLong):e}).join("").match(hs).map(function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return function(e){var t=e.match(ps);if(!t)return e;return t[1].replace(gs,"'")}(n);var a,i=qt[r];if(i)return null!==s&&void 0!==s&&s.useAdditionalWeekYearTokens||(a=n,-1===Zt.indexOf(a))||es(n,t,String(e)),null!==s&&void 0!==s&&s.useAdditionalDayOfYearTokens||!function(e){return-1!==Xt.indexOf(e)}(n)||es(n,t,String(e)),i(C,n,N.localize,A);if(r.match(fs))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n}).join("")}const vs=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const ys=function(e){let{isOpen:t,onClose:s,title:n,children:a}=e;const i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&s()},n=e=>{i.current&&!i.current.contains(e.target)&&s()};return t&&(document.addEventListener("keydown",e),document.addEventListener("mousedown",n),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousedown",n),document.body.style.overflow=""}},[t,s]),t?(0,Me.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black bg-opacity-50 animate-fade-in",children:(0,Me.jsxs)("div",{ref:i,className:"bg-white rounded-lg shadow-xl w-full max-w-xs sm:max-w-md mx-auto animate-slide-up",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[(0,Me.jsx)("h3",{className:"text-lg font-medium",children:n}),(0,Me.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500 transition-colors",children:(0,Me.jsx)(vs,{className:"h-5 w-5"})})]}),(0,Me.jsx)("div",{className:"p-6",children:a})]})}):null},js={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let ws;const Ns=new Uint8Array(16);const ks=[];for(let s=0;s<256;++s)ks.push((s+256).toString(16).slice(1));function Ss(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ks[e[t+0]]+ks[e[t+1]]+ks[e[t+2]]+ks[e[t+3]]+"-"+ks[e[t+4]]+ks[e[t+5]]+"-"+ks[e[t+6]]+ks[e[t+7]]+"-"+ks[e[t+8]]+ks[e[t+9]]+"-"+ks[e[t+10]]+ks[e[t+11]]+ks[e[t+12]]+ks[e[t+13]]+ks[e[t+14]]+ks[e[t+15]]).toLowerCase()}const _s=function(e,t,s){if(js.randomUUID&&!t&&!e)return js.randomUUID();const n=(e=e||{}).random??e.rng?.()??function(){if(!ws){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ws=crypto.getRandomValues.bind(crypto)}return ws(Ns)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((s=s||0)<0||s+16>t.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[s+e]=n[e];return t}return Ss(n)};const Cs=function(e){let{isOpen:t,onClose:s,onSave:n,title:a,creators:i=[],contentItem:o,platformOptions:l=["facebook","instagram","youtube","linkedin"],multiPlatform:c=!1}=e;const[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(""),[g,f]=(0,r.useState)(Array.isArray(null===o||void 0===o?void 0:o.type)?o.type:null!==o&&void 0!==o&&o.type?[o.type]:[]),[b,v]=(0,r.useState)(""),[y,j]=(0,r.useState)("High"),[w,N]=(0,r.useState)(""),[k,S]=(0,r.useState)({}),[_,C]=(0,r.useState)(!1),A=(0,r.useRef)();return(0,r.useEffect)(()=>{if(o)u(o.date||""),h(o.description||""),p(o.title||""),f(Array.isArray(o.type)?o.type:o.type?[o.type]:[]),v(o.dueDate||""),j(o.priority||"High"),N(o.assignedTo||"");else{const e=(new Date).toISOString().split("T")[0];u(e),v(e),h(""),p(""),f([]),j("High"),N("")}},[o,t]),(0,r.useEffect)(()=>{function e(e){A.current&&!A.current.contains(e.target)&&C(!1)}return _&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[_]),(0,Me.jsx)(ys,{isOpen:t,onClose:s,title:a,children:(0,Me.jsx)("div",{className:"max-h-[80vh] overflow-y-auto px-4 py-6",style:{minHeight:"0"},children:(0,Me.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{const e={};return d||(e.date="Date is required"),m.trim()||(e.description="Content description is required"),x.trim()||(e.contentTitle="Title is required"),b||(e.dueDate="Due date is required"),w||(e.assignedTo="Please select a content creator"),S(e),0===Object.keys(e).length})()&&(n({...o||{},id:(null===o||void 0===o?void 0:o.id)||_s(),date:d,description:m,title:x,type:c?g:g[0],dueDate:b,priority:y,assignedTo:w,originalDate:(null===o||void 0===o?void 0:o.originalDate)||(null===o||void 0===o?void 0:o.date),originalDescription:(null===o||void 0===o?void 0:o.originalDescription)||(null===o||void 0===o?void 0:o.description)}),s())},children:[(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,Me.jsx)("input",{type:"text",className:"input-field",value:x,onChange:e=>p(e.target.value)}),k.contentTitle&&(0,Me.jsx)("p",{className:"text-sm text-red-600",children:k.contentTitle})]}),(0,Me.jsxs)("div",{className:"mb-4",ref:A,children:[(0,Me.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Type"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsxs)("button",{type:"button",className:"form-select w-full text-left flex items-center justify-between bg-white border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 hover:border-blue-400 transition",onClick:()=>C(e=>!e),tabIndex:0,children:[(0,Me.jsx)("div",{className:"flex flex-wrap gap-1",children:0===g.length?(0,Me.jsx)("span",{className:"text-gray-400",children:"Select platforms"}):g.map(e=>(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700 mr-1",children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,Me.jsx)(nt,{className:"h-4 w-4 text-gray-500 ml-2"})]}),_&&(0,Me.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded shadow-lg max-h-48 overflow-y-auto animate-fade-in",children:l.map(e=>(0,Me.jsxs)("label",{className:"flex items-center px-3 py-2 hover:bg-blue-50 cursor-pointer transition",children:[(0,Me.jsx)("input",{type:"checkbox",checked:g.includes(e),onChange:()=>(e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e),className:"mr-2 accent-blue-600"}),(0,Me.jsx)("span",{className:"text-gray-700",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e))})]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Select one or more platforms."})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Due Date"}),(0,Me.jsx)("input",{type:"date",className:"input-field",value:b,onChange:e=>v(e.target.value)}),k.dueDate&&(0,Me.jsx)("p",{className:"text-sm text-red-600",children:k.dueDate})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),(0,Me.jsxs)("select",{className:"input-field",value:y,onChange:e=>j(e.target.value),children:[(0,Me.jsx)("option",{children:"High"}),(0,Me.jsx)("option",{children:"Normal"}),(0,Me.jsx)("option",{children:"Low"})]})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Assign To (Content Creator)"}),(0,Me.jsxs)("select",{className:"input-field",value:w,onChange:e=>N(e.target.value),children:[(0,Me.jsx)("option",{value:"",children:"-- Select Creator --"}),i.map(e=>(0,Me.jsx)("option",{value:e.email,children:e.email},e._id))]}),k.assignedTo&&(0,Me.jsx)("p",{className:"text-sm text-red-600",children:k.assignedTo})]}),(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Content Description"}),(0,Me.jsx)("textarea",{rows:3,className:"input-field",value:m,onChange:e=>h(e.target.value),placeholder:"Enter content description"}),k.description&&(0,Me.jsx)("p",{className:"text-sm text-red-600",children:k.description})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Me.jsx)("button",{type:"button",className:"btn-secondary",onClick:s,children:"Cancel"}),(0,Me.jsx)("button",{type:"submit",className:"btn-primary",children:o?"Update":"Add"})]})]})})})};const As=function(e){let{isOpen:t,onClose:s,onAssign:n,calendarName:a}=e;const[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&m()},[t]);const m=async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/users?role=content_creator");if(!e.ok)throw new Error("Failed to fetch content creators");const t=await e.json();o(Array.isArray(t)?t:t.creators||[])}catch(e){console.error("Error fetching creators:",e),o([])}},h=()=>{c(""),s()};return t?(0,Me.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,Me.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:h}),(0,Me.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white/95 backdrop-blur-sm shadow-2xl rounded-2xl border border-gray-200/50 relative",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-purple-100 rounded-xl mr-3",children:(0,Me.jsx)(ht,{className:"h-6 w-6 text-purple-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Assign Content Creator"}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Calendar: ",a]})]})]}),(0,Me.jsx)("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(vs,{className:"h-5 w-5"})})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Content Creator"}),(0,Me.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.length>0?i.map(e=>(0,Me.jsx)("div",{className:"p-4 border rounded-xl cursor-pointer transition-all duration-200 "+(l===e.email?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"),onClick:()=>c(e.email),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"h-10 w-10 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-white font-semibold text-sm",children:(e.name||"U").charAt(0).toUpperCase()})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name||"Unnamed Creator"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),e.mobile&&(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:e.mobile})]}),l===e.email&&(0,Me.jsx)(ht,{className:"h-5 w-5 text-purple-600"})]})},e._id)):(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)(He,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No content creators available"})]})})]}),(0,Me.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Me.jsx)("button",{type:"button",onClick:h,className:"flex-1 px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200",children:"Cancel"}),(0,Me.jsx)("button",{onClick:()=>{if(!l)return;const e=i.find(e=>e.email===l);u(!0),n(e),u(!1),h()},disabled:d||!l,className:"flex-1 px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:d?"Assigning...":"Assign Creator"})]})]})]})]})}):null},Ps=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Es=function(e){let{isOpen:t,onClose:s,onSave:n,title:a="Create Content Calendar",initialData:i}=e;const[o,l]=(0,r.useState)({name:"",description:""}),[c,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{i&&t?l({name:i.name||"",description:i.description||""}):t||l({name:"",description:""})},[i,t]);const u=e=>{l(t=>({...t,[e.target.name]:e.target.value}))},m=()=>{l({name:"",description:""}),s()};return t?(0,Me.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,Me.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:m}),(0,Me.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white/95 backdrop-blur-sm shadow-2xl rounded-2xl border border-gray-200/50 relative",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-xl mr-3",children:(0,Me.jsx)(xt,{className:"h-6 w-6 text-blue-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:a})]}),(0,Me.jsx)("button",{onClick:m,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(vs,{className:"h-5 w-5"})})]}),(0,Me.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.name.trim()&&(d(!0),n(o),d(!1),m())},className:"space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Calendar Name *"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(Ps,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:u,placeholder:"e.g., August Marketing Calendar",className:"pl-10 pr-4 py-3 w-full bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm",required:!0})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,Me.jsx)("textarea",{id:"description",name:"description",value:o.description,onChange:u,placeholder:"Brief description of this content calendar...",rows:3,className:"px-4 py-3 w-full bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm resize-none"})]}),(0,Me.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Me.jsx)("button",{type:"button",onClick:m,className:"flex-1 px-4 py-3 bg-white border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200",children:"Cancel"}),(0,Me.jsx)("button",{type:"submit",disabled:c||!o.name.trim(),className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?"Creating...":"Create Calendar"})]})]})]})]})}):null},Os=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Is=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ts=Ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Ms=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ds=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ls=Ve("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Rs=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Fs="https://my-backend-593529385135.asia-south1.run.app",zs=()=>{const{id:e}=se(),t=te(),[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(void 0),[p,g]=(0,r.useState)(null),[f,b]=(0,r.useState)([]),[v,y]=(0,r.useState)(new Set),[j,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[P,E]=(0,r.useState)(null),[O,I]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{T(),M(),D()},[e]);const T=async()=>{try{const t=await fetch(`${Fs}/customer/${e}`);if(!t.ok)return n(null);const s=await t.json();n(s)}catch{n(null)}},M=async()=>{try{const t=await fetch(`${Fs}/calendars`);if(!t.ok)return i([]),void l([]);const s=(await t.json()).filter(t=>t.customerId===e);i(s);const n=s.filter(e=>Array.isArray(e.contentItems)&&e.contentItems.length>0).flatMap(e=>e.contentItems.map(t=>({...t,_calendarId:e._id,_id:`${e._id}_${t.date}_${t.description}`}))).sort((e,t)=>new Date(e.date)-new Date(t.date));l(n)}catch(t){i([]),l([])}},D=async()=>{try{const e=await fetch(`${Fs}/users?role=content_creator`);if(!e.ok)throw new Error("Failed to fetch content creators");const t=await e.clone().json(),s=Array.isArray(t)?t:Array.isArray(t.creators)?t.creators:[];b(s)}catch{b([])}},L=e=>{E(e),A(!0),I(new Set)},R=async e=>{if(window.confirm("Are you sure you want to delete this content calendar?")){try{if(!(await fetch(`${Fs}/calendars/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete calendar");M()}catch(t){}I(new Set)}},F=e=>{try{return bs(new Date(e),"do MMMM")}catch(t){return e}};return s?(0,Me.jsxs)(ot,{title:`${s.name} - Details`,children:[(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-4 md:p-6 border border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex items-center justify-between",children:(0,Me.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,Me.jsx)("button",{onClick:()=>t("/admin/customers"),className:"mr-3 md:mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 flex-shrink-0",children:(0,Me.jsx)(Os,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,Me.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:(0,Me.jsx)("span",{className:"text-white font-bold text-sm md:text-lg",children:s.name.charAt(0).toUpperCase()})}),(0,Me.jsxs)("div",{className:"ml-3 md:ml-4 min-w-0 flex-1",children:[(0,Me.jsx)("h2",{className:"text-lg md:text-2xl font-bold text-gray-900 truncate",children:s.name}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-600 truncate",children:"Content Management Dashboard"})]})]})]})})}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-4 md:px-8 py-4 md:py-6 border-b border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Content Calendars"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage content calendars and items"})]}),(0,Me.jsxs)("button",{onClick:()=>_(!0),className:"inline-flex items-center px-4 md:px-6 py-2 md:py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl text-sm md:text-base",children:[(0,Me.jsx)(Is,{className:"h-4 md:h-5 w-4 md:w-5 mr-2"}),"Add Calendar"]})]})}),(0,Me.jsx)("div",{className:"p-4 md:p-8",children:a.length>0?(0,Me.jsx)("div",{className:"space-y-4",children:a.map(e=>{var s;return(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200/50 shadow-sm overflow-hidden",children:[(0,Me.jsx)("div",{className:"p-4 md:p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>(e=>{const t=new Set(v);t.has(e)?t.delete(e):t.add(e),y(t)})(e._id),children:(0,Me.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 min-w-0 flex-1",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(xt,{className:"h-4 md:h-5 w-4 md:w-5 text-blue-600"})}),(0,Me.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Me.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:e.name}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.description}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mt-2 space-y-1 sm:space-y-0",children:[(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===(s=e.contentItems)||void 0===s?void 0:s.length)||0," content items"]}),e.assignedTo&&(0,Me.jsxs)("button",{onClick:s=>{s.stopPropagation(),t(`/admin/content-creator-details/${e.assignedTo}`)},className:"text-xs text-blue-600 hover:text-blue-800 font-medium text-left",children:["Assigned to - ",e.assignedToName||e.assignedTo]})]})]})]}),(0,Me.jsxs)("div",{className:"hidden md:flex items-center space-x-2 ml-4",children:[(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),k(e),d(!0)},className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors",children:[(0,Me.jsx)(Is,{className:"h-4 w-4 mr-1"}),"Add Item"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),L(e)},className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors",children:[(0,Me.jsx)(Ts,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),R(e._id)},className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition-colors",children:[(0,Me.jsx)(Ms,{className:"h-4 w-4 mr-1"}),"Delete"]}),v.has(e._id)?(0,Me.jsx)(nt,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(Ds,{className:"h-5 w-5 text-gray-400"})]}),(0,Me.jsxs)("div",{className:"md:hidden flex items-center space-x-2 ml-2 relative",children:[(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=new Set(O);t.has(e)?t.delete(e):t.add(e),I(t)})(e._id)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)(Ls,{className:"h-5 w-5"})}),v.has(e._id)?(0,Me.jsx)(nt,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(Ds,{className:"h-5 w-5 text-gray-400"}),O.has(e._id)&&(0,Me.jsx)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:(0,Me.jsxs)("div",{className:"py-1",children:[(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),k(e),d(!0),I(new Set)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Me.jsx)(Is,{className:"h-4 w-4 mr-2 text-green-600"}),"Add Item"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),L(e)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Me.jsx)(Ts,{className:"h-4 w-4 mr-2 text-blue-600"}),"Edit Calendar"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),R(e._id)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Me.jsx)(Ms,{className:"h-4 w-4 mr-2 text-red-600"}),"Delete Calendar"]})]})})]})]})}),v.has(e._id)&&(0,Me.jsx)("div",{className:"border-t border-gray-200/50 bg-gray-50/50",children:(0,Me.jsxs)("div",{className:"p-4 md:p-6",children:[(0,Me.jsx)("h5",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Content Items"}),e.contentItems&&e.contentItems.length>0?(0,Me.jsx)("div",{className:"space-y-3",children:e.contentItems.map((s,n)=>(0,Me.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between space-y-3 sm:space-y-0",children:[(0,Me.jsxs)("div",{className:"min-w-0 flex-1",children:[s.title&&(0,Me.jsx)("p",{className:"font-semibold text-blue-800 mb-1 text-sm md:text-base",children:s.title}),(0,Me.jsx)("p",{className:"font-medium text-gray-900 text-sm md:text-base",children:s.description}),(0,Me.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:["Due: ",F(s.date)]}),s.type&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200 mt-2",children:s.type})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between sm:justify-end space-x-2",children:[s.status&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border bg-gray-100 text-gray-800 border-gray-200",children:s.status.replace("_"," ").toUpperCase()}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",onClick:t=>{t.stopPropagation(),((e,t)=>{x({...e,_calendarId:t,originalDate:e.date,originalDescription:e.description}),m(!0)})(s,e._id)},title:"Edit item",children:(0,Me.jsx)(Ts,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50",onClick:t=>{t.stopPropagation(),(async(e,t)=>{try{const s=t.description,n=t.date,r=`${Fs}/calendars/item/${e}/${n}/${encodeURIComponent(s)}`;if(!(await fetch(r,{method:"DELETE"})).ok)throw new Error("Failed to delete item");M()}catch(s){}})(e._id,s)},title:"Delete item",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors rounded-lg hover:bg-indigo-50",onClick:r=>{r.stopPropagation(),t(`/admin/content-upload/${e._id}/${n}`,{state:{calendarId:e._id,calendarName:e.name,itemId:s._id||`${e._id}_${s.date}_${s.description}`,itemName:s.title||s.description}})},title:"Upload Content",children:(0,Me.jsx)(Rs,{className:"h-4 w-4"})})]})]})]})},n))}):(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"No content items in this calendar."})]})})]},e._id)})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(xt,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No content calendars created yet"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-6 text-sm md:text-base px-4",children:"Create a content calendar to start managing this customer's content schedule."}),(0,Me.jsxs)("button",{onClick:()=>_(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Is,{className:"h-5 w-5 mr-2"}),"Create First Calendar"]})]})})]})]})}),O.size>0&&(0,Me.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>I(new Set)}),(0,Me.jsx)(Es,{isOpen:S,onClose:()=>_(!1),onSave:async t=>{try{if(!(await fetch(`${Fs}/calendars`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:e,name:t.name,description:t.description,assignedTo:t.assignedTo||"",assignedToName:t.assignedToName||"",contentItems:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to add calendar");M()}catch(s){}finally{_(!1)}},title:"Create Content Calendar",creators:f}),(0,Me.jsx)(Es,{isOpen:C,onClose:()=>{A(!1),E(null)},onSave:async e=>{try{if(!(await fetch(`${Fs}/calendars/${P._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,...e,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to update calendar");M()}catch(t){}finally{A(!1),E(null)}},title:"Edit Content Calendar",initialData:P,creators:f}),(0,Me.jsx)(Cs,{isOpen:c,onClose:()=>{d(!1),k(null)},onSave:e=>{null!==N&&void 0!==N&&N._id?(async(e,t)=>{if(t)try{const s=a.find(e=>e._id===t);if(!s)return void alert("Calendar not found.");const n=[...s.contentItems||[],e];if(!(await fetch(`${Fs}/calendars/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,contentItems:n,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to add item");M()}catch(s){console.error("\u274c Error adding content item:",s),alert("Failed to add content item.")}else alert("Please select a calendar before adding content.")})(e,N._id):alert("No calendar selected. Please choose a calendar first.")},title:N?`Add Content to ${N.name}`:"Add New Content",creators:Array.isArray(f)?f:[],platformOptions:["facebook","instagram","youtube","linkedin"],multiPlatform:!0}),(0,Me.jsx)(Cs,{isOpen:u,onClose:()=>m(!1),onSave:async e=>{try{const{_calendarId:t,date:s,description:n,originalDate:r,originalDescription:a,type:i,status:o,title:l}=e;if(!t||!r||!a)return;let c=null,d=await fetch(`${Fs}/calendars/${t}`);if(d.ok)c=await d.json();else{const e=await fetch(`${Fs}/calendars`);if(e.ok){c=(await e.json()).find(e=>e._id===t)}}if(!c||!c._id)throw new Error("Calendar not found");const u=(c.contentItems||[]).map(e=>e.date===r&&e.description===a?{...e,date:s,description:n,type:void 0!==i?i:e.type,status:void 0!==o?o:e.status,title:void 0!==l?l:e.title}:e);if(!(await fetch(`${Fs}/calendars/${c._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,contentItems:u,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to update item");M()}catch(t){}finally{m(!1)}},contentItem:h,title:"Edit Content",creators:Array.isArray(f)?f:[],platformOptions:["facebook","instagram","youtube","linkedin"],multiPlatform:!0}),(0,Me.jsx)(As,{isOpen:j,onClose:()=>{w(!1),k(null)},onAssign:async e=>{if(N){try{const t=a.find(e=>e._id===N._id);if(!(await fetch(`${Fs}/calendars/${N._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,assignedTo:e.email,assignedToName:e.name,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to assign creator");M()}catch(t){}w(!1),k(null)}},calendarName:(null===N||void 0===N?void 0:N.name)||"",creators:f})]}):(0,Me.jsx)(ot,{title:"Customer Not Found",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-8 border border-gray-200/50 max-w-md w-full mx-4",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(We,{className:"h-8 w-8 text-red-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Customer not found"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"The customer you're looking for doesn't exist or has been removed."}),(0,Me.jsxs)("button",{onClick:()=>t("/admin"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Os,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})})})},Us=e=>{let{onClick:t,children:s,style:n}=e;return(0,Me.jsx)("button",{onClick:t,style:{padding:"3px 8px",borderRadius:"5px",border:"none",background:"linear-gradient(90deg, #2563eb 60%, #3b82f6 100%)",color:"#fff",cursor:"pointer",fontWeight:500,fontSize:"0.82rem",transition:"background 0.2s, color 0.2s",boxShadow:"0 1px 2px rgba(37,99,235,0.08)",...n},onMouseEnter:e=>e.currentTarget.style.background="#2563eb",onMouseLeave:e=>e.currentTarget.style.background="linear-gradient(90deg, #2563eb 60%, #3b82f6 100%)",children:s})},$s=e=>{let{onImageSelect:t}=e;return(0,Me.jsxs)("label",{style:{display:"block",marginBottom:24,width:"100%",cursor:"pointer"},children:[(0,Me.jsxs)("div",{style:{padding:"18px",borderRadius:"10px",background:"linear-gradient(90deg, #3a8dde 60%, #6dd5ed 100%)",color:"#fff",fontWeight:700,border:"none",fontSize:"1.08rem",boxShadow:"0 2px 8px rgba(58,141,222,0.13)",textAlign:"center",transition:"background 0.2s",marginBottom:0,letterSpacing:1},children:[(0,Me.jsx)("i",{className:"fas fa-upload",style:{marginRight:10}}),"Upload Image"]}),(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];s&&t(s)},style:{display:"none"}})]})},Bs=e=>{let{markers:t,onClick:s,activeMarker:n}=e;return(0,Me.jsxs)("div",{style:{maxHeight:320,overflowY:"auto",marginTop:20,background:"#f7fafc",borderRadius:10,boxShadow:"0 2px 8px rgba(44,62,80,0.06)",padding:"18px 12px"},children:[(0,Me.jsx)("h3",{style:{marginBottom:14,color:"#2563eb",fontWeight:800,fontSize:18,letterSpacing:.5},children:"All Comments"}),(0,Me.jsxs)("ul",{style:{padding:0,listStyle:"none",margin:0},children:[0===t.length&&(0,Me.jsx)("li",{style:{color:"#b0b8c1",fontStyle:"italic",padding:"8px 0"},children:"No comments yet."}),t.map((e,t)=>(0,Me.jsxs)("li",{style:{marginBottom:10,background:n===e.id?"#e3f2fd":"#fff",borderRadius:8,padding:"10px 12px",cursor:"pointer",border:n===e.id?"2px solid #2563eb":"1px solid #e0eafc",transition:"background 0.2s, border 0.2s",boxShadow:n===e.id?"0 2px 8px #2563eb22":"none"},onClick:()=>s(e.id),children:[(0,Me.jsxs)("span",{style:{fontWeight:800,color:e.done?"#27ae60":"#2563eb",fontSize:15},children:[t+1,"."]})," ",(0,Me.jsxs)("span",{style:{background:e.done?"#eafaf1":"#e3f2fd",color:e.done?"#155724":"#2d3a4a",padding:"2px 8px",borderRadius:4,fontWeight:600,fontSize:15},children:[e.comment," ",e.done&&(0,Me.jsx)("span",{style:{color:"#27ae60"},children:"(Done)"})]}),(0,Me.jsx)("br",{}),(0,Me.jsxs)("small",{style:{color:"#8ca0b3",fontSize:12},children:["(",Math.round(e.x),", ",Math.round(e.y),")"]})]},e.id))]})]})},Vs=()=>{const[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),c=e=>{n(s.filter(t=>t.id!==e)),i(null)};return(0,Me.jsx)(ot,{children:(0,Me.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(120deg, #f7fafc 60%, #e0eafc 100%)",fontFamily:"'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",color:"#2d3a4a",display:"flex",flexDirection:"column"},children:[(0,Me.jsxs)("main",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"flex-start",gap:48,padding:"48px 0",background:"none"},children:[(0,Me.jsxs)("section",{style:{background:"#fff",borderRadius:18,boxShadow:"0 4px 32px rgba(44,62,80,0.10)",padding:38,minWidth:280,width:"100%",maxWidth:420,marginTop:12,display:"flex",flexDirection:"column",alignItems:"stretch"},children:[(0,Me.jsx)($s,{onImageSelect:e=>{const s=new FileReader;s.onload=()=>{t(s.result),n([]),i(null)},s.readAsDataURL(e)}}),(0,Me.jsx)(Bs,{markers:s,onClick:e=>{i(e)},activeMarker:a})]}),(0,Me.jsx)("section",{style:{flex:1,background:"#fff",borderRadius:18,boxShadow:"0 4px 32px rgba(44,62,80,0.10)",padding:38,minHeight:340,display:"flex",flexDirection:"column",alignItems:"center",marginTop:12,width:"100%",maxWidth:720},children:e?(0,Me.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[(0,Me.jsx)("img",{src:e,alt:"Uploaded",style:{maxWidth:680,maxHeight:440,borderRadius:14,border:"2px solid #e0eafc",boxShadow:"0 2px 12px rgba(58,141,222,0.10)",cursor:"crosshair"},onClick:e=>{const t=s.find(e=>e.repositioning);if(t){const r=e.target.getBoundingClientRect(),a=e.clientX-r.left,o=e.clientY-r.top;return n(s.map(e=>e.id===t.id?{...e,x:a,y:o,repositioning:!1}:e)),void i(null)}(e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;if(s.some(e=>e.editing))return;const o={id:_s(),x:r,y:a,comment:"",editing:!0,done:!1,repositioning:!1};n([...s,o]),i(o.id)})(e)}}),s.map((t,r)=>{let d=40,u="auto";if(e){const e=document.querySelector('img[alt="Uploaded"]');e&&e.width&&t.x>e.width/2&&(d="auto",u=40)}return(0,Me.jsxs)("div",{style:{position:"absolute",top:t.y-14,left:t.x-14,width:32,height:32,background:t.done?"#27ae60":t.editing?"#2563eb":"#e74c3c",color:"#fff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:800,fontSize:17,boxShadow:"0 2px 8px rgba(58,141,222,0.15)",cursor:"pointer",zIndex:2,border:"2.5px solid #fff",transition:"background 0.2s"},title:t.comment,onMouseEnter:()=>l(t.id),onMouseLeave:()=>l(null),children:[r+1,(t.editing||a===t.id||o===t.id)&&(0,Me.jsx)("div",{style:{position:"absolute",left:d,right:u,top:"50%",transform:"translateY(-50%)",background:"#fff",border:"2px solid #2563eb",borderRadius:10,padding:10,minWidth:160,maxWidth:200,zIndex:10,boxShadow:"0 4px 16px rgba(37,99,235,0.13)",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:8,overflow:"auto"},children:t.editing?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("textarea",{value:t.comment,onChange:e=>{return r=t.id,a=e.target.value,void n(s.map(e=>e.id===r?{...e,comment:a}:e));var r,a},placeholder:"Add a comment...",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1.5px solid #e0eafc",marginBottom:"12px",resize:"none",fontSize:"1rem",background:"#f7fafc",color:"#222",fontFamily:"inherit",minHeight:60},autoFocus:!0,onKeyDown:e=>{"Escape"===e.key&&c(t.id)}}),(0,Me.jsxs)("div",{style:{display:"flex",gap:12,width:"100%"},children:[(0,Me.jsx)(Us,{onClick:e=>{var r;e.stopPropagation(),r=t.id,n(s.map(e=>e.id===r?{...e,editing:!1}:e)),i(null)},style:{flex:1,background:"linear-gradient(90deg, #27ae60 60%, #2ecc71 100%)"},children:"Submit"}),(0,Me.jsx)(Us,{onClick:e=>{e.stopPropagation(),c(t.id)},style:{flex:1,background:"linear-gradient(90deg, #e74c3c 60%, #ff7675 100%)"},children:"Cancel"})]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{style:{marginBottom:6,fontWeight:600,color:"#2563eb",fontSize:15,wordBreak:"break-word"},children:[t.comment," ",t.done&&(0,Me.jsx)("span",{style:{color:"#27ae60"},children:"(Done)"}),t.repositioning&&(0,Me.jsx)("span",{style:{fontStyle:"italic",color:"#3a8dde"},children:" (Repositioning...)"})]}),(0,Me.jsxs)("div",{style:{display:"flex",gap:10,width:"100%",flexWrap:"wrap"},children:[!t.done&&(0,Me.jsx)(Us,{onClick:e=>{var r;e.stopPropagation(),r=t.id,n(s.map(e=>e.id===r?{...e,done:!0}:e))},style:{flex:1,background:"linear-gradient(90deg, #27ae60 60%, #2ecc71 100%)"},children:"Mark as Done"}),(0,Me.jsx)(Us,{onClick:e=>{var r;e.stopPropagation(),r=t.id,n(s.map(e=>e.id===r?{...e,editing:!0,done:!1}:e)),i(r)},style:{flex:1,background:"linear-gradient(90deg, #ffc107 60%, #ffe082 100%)",color:"#212529"},children:"Edit"}),(0,Me.jsx)(Us,{onClick:e=>{e.stopPropagation(),c(t.id)},style:{flex:1,background:"linear-gradient(90deg, #e74c3c 60%, #ff7675 100%)"},children:"Discard"}),(0,Me.jsx)(Us,{onClick:e=>{var r;e.stopPropagation(),r=t.id,n(s.map(e=>e.id===r?{...e,repositioning:!0}:e)),i(r)},style:{flex:1,background:"linear-gradient(90deg, #6dd5ed 60%, #3a8dde 100%)",color:"#2d3a4a"},children:"Reposition"})]})]})})]},t.id)})]}):(0,Me.jsx)("div",{style:{color:"#b0b8c1",fontSize:22,marginTop:120,textAlign:"center",fontWeight:600,letterSpacing:.5},children:"Please upload an image to start."})})]}),(0,Me.jsx)("style",{children:"\n          @media (max-width: 900px) {\n            main {\n              flex-direction: column !important;\n              gap: 24px !important;\n              padding: 24px 0 !important;\n              align-items: stretch !important;\n            }\n            section {\n              min-width: 0 !important;\n              max-width: 100% !important;\n              width: 100% !important;\n              margin-top: 0 !important;\n              padding: 18px !important;\n            }\n          }\n          @media (max-width: 600px) {\n            main {\n              padding: 8px 0 !important;\n            }\n            section {\n              padding: 8px !important;\n            }\n            img {\n              max-width: 100% !important;\n              max-height: 260px !important;\n            }\n          }\n        "}),(0,Me.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"})]})})};const Ws=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Hs=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),qs=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ys="https://my-backend-593529385135.asia-south1.run.app";const Gs=function(){const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),{currentUser:c}=Le(),d=te();(0,r.useEffect)(()=>{u()},[c]);const u=async()=>{if(!c||"admin"!==c.role)return i("Admin authentication required"),void n(!1);try{n(!0),i("");const e=await fetch(`${Ys}/admin/assigned-customers?adminId=${c._id||c.id}`);if(!e.ok){if(404===e.status)return void t([]);throw new Error(`Failed to fetch assigned customers: ${e.status}`)}const s=await e.json();t(s||[])}catch(e){console.error("Error fetching assigned customers:",e),i("Failed to load your assigned customers. Please contact the Super Admin if you need customers assigned.");try{console.log("Attempting fallback to all customers...");const e=await fetch(`${Ys}/customers`);if(e.ok){const s=await e.json();t(s||[]),i("Showing all customers (assignment system unavailable)")}}catch(s){console.error("Fallback also failed:",s)}}finally{n(!1)}},m=e.filter(e=>{var t,s;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))}),h=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"})}catch(a){return"Invalid Date"}};return s?(0,Me.jsx)(ot,{title:"Your Assigned Customers",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading your assigned customers..."})]})})})}):(0,Me.jsx)(ot,{title:"Your Assigned Customers",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex flex-col space-y-4 lg:flex-row lg:items-center lg:justify-between lg:space-y-0",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>d("/admin"),className:"mr-3 sm:mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Your Assigned Customers"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1 sm:mt-2 text-sm sm:text-base",children:"Customers assigned to you by the Super Admin"})]})]})})}),(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-4 sm:p-6 border border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex items-center",children:(0,Me.jsxs)("div",{className:"relative flex-1",children:[(0,Me.jsx)(tt,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Search your assigned customers...",value:o,onChange:e=>l(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"})]})})}),a&&(0,Me.jsxs)("div",{className:"backdrop-blur-sm border px-4 sm:px-6 py-4 rounded-2xl flex items-start shadow-lg "+(a.includes("unavailable")?"bg-yellow-50/80 border-yellow-200 text-yellow-700":"bg-red-50/80 border-red-200 text-red-700"),children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"font-medium text-sm sm:text-base",children:a})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsxs)("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200/50",children:[(0,Me.jsxs)("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Your Assigned Customers (",m.length,")"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:0===e.length?"No customers have been assigned to you yet":"Manage customers assigned to you by the Super Admin"})]}),(0,Me.jsx)("div",{className:"p-4 sm:p-6",children:m.length>0?(0,Me.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,Me.jsx)("div",{className:"bg-white rounded-xl border border-gray-200/50 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group",children:(0,Me.jsx)("div",{className:"p-4 sm:p-6",children:(0,Me.jsx)("div",{className:"flex items-start justify-between",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4 flex-1 min-w-0",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)("div",{className:"h-10 w-10 sm:h-12 sm:w-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Me.jsx)("span",{className:"text-white font-bold text-sm sm:text-lg",children:(e.name||"U").charAt(0).toUpperCase()})})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate pr-2",children:e.name||"Unnamed Customer"}),(0,Me.jsxs)("button",{onClick:()=>{return t=e._id,void d(`/admin/customer-details/${t}`);var t},className:"inline-flex items-center px-3 py-1.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-xs font-medium rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-sm hover:shadow-md flex-shrink-0",children:[(0,Me.jsx)(Ke,{className:"h-3 w-3 mr-1"}),(0,Me.jsx)("span",{className:"hidden xs:inline",children:"View"}),(0,Me.jsx)("span",{className:"xs:hidden",children:"View Details"})]})]}),(0,Me.jsxs)("div",{className:"space-y-1",children:[(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Me.jsx)(Hs,{className:"h-3 w-3 mr-2 text-gray-400 flex-shrink-0"}),(0,Me.jsx)("span",{className:"truncate",children:e.email})]}),e.mobile&&(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Me.jsx)(qs,{className:"h-3 w-3 mr-2 text-gray-400 flex-shrink-0"}),(0,Me.jsx)("span",{children:e.mobile})]})]}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mt-3 space-y-2 sm:space-y-0",children:[(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200 w-fit",children:"ASSIGNED TO YOU"}),(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["Joined ",h(e.createdAt)]})]})]})]})})})},e._id))}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(mt,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o?"No matching customers found":"No customers assigned"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-6 text-sm sm:text-base",children:o?"No customers match your search criteria.":"You don't have any customers assigned to you yet. Please contact the Super Admin to get customers assigned."}),!o&&(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Need customers assigned? Contact your Super Admin."})})]})})]})]})})})},Ks=Ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Js=Ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Qs=Ve("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Xs=Ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const Zs=function(){const{id:e}=se(),t=te(),[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)(null),[S,_]=(0,r.useState)(null),[C,A]=(0,r.useState)(null),[P,E]=(0,r.useState)(new Set),[O,I]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{M(),D(),L()},[e]);const T="https://my-backend-593529385135.asia-south1.run.app",M=async()=>{try{d(!0);const t=await fetch(`${T}/customer/${e}`);if(!t.ok)throw new Error("Failed to fetch customer");const s=await t.json();n(s)}catch(t){m("Failed to load customer details"),console.error("Error fetching customer:",t)}finally{d(!1)}},D=async()=>{try{const t=await fetch(`${T}/calendars`);if(!t.ok)throw new Error("Failed to fetch calendars");const s=(await t.json()).filter(t=>t.customerId===e);i(s)}catch(t){console.error("Error fetching calendars:",t),i([])}},L=async()=>{try{const e=await fetch(`${T}/users?role=content_creator`);if(!e.ok)throw new Error("Failed to fetch content creators");const t=await e.json();l(Array.isArray(t)?t:t.creators||[])}catch(e){l([])}},R=e=>{if(!e)return"N/A";try{return bs(new Date(e),"MMM dd, yyyy")}catch(u){return"Invalid date"}},F=e=>{k(e),w(!0),I(new Set)},z=async e=>{if(window.confirm("Are you sure you want to delete this content calendar?")){try{if(!(await fetch(`${T}/calendars/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete calendar");D()}catch(t){}I(new Set)}};return c?(0,Me.jsx)(ot,{title:"Customer Details",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading customer details..."})]})})})}):u||!s?(0,Me.jsx)(ot,{title:"Customer Details",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-8 border border-gray-200/50 max-w-md mx-auto mt-20",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(We,{className:"h-8 w-8 text-red-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Customer not found"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:u||"The customer you're looking for doesn't exist."}),(0,Me.jsxs)("button",{onClick:()=>t("/admin/customers-list"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Ws,{className:"h-4 w-4 mr-2"}),"Back to Customers List"]})]})})})}):(0,Me.jsxs)(ot,{title:`${s.name||"Customer"} - Details`,children:[(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-4 md:p-6 border border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex items-center justify-between",children:(0,Me.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,Me.jsx)("button",{onClick:()=>t("/admin/customers-list"),className:"mr-3 md:mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 flex-shrink-0",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,Me.jsx)("div",{className:"h-10 w-10 md:h-12 md:w-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",children:(0,Me.jsx)("span",{className:"text-white font-bold text-sm md:text-lg",children:(s.name||"U").charAt(0).toUpperCase()})}),(0,Me.jsxs)("div",{className:"ml-3 md:ml-4 min-w-0 flex-1",children:[(0,Me.jsxs)("h2",{className:"text-lg md:text-2xl font-bold text-gray-900 truncate",children:[s.name||"Unnamed Customer"," - Details"]}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-600 truncate",children:"Customer Profile & Content Management"})]})]})]})})}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 md:p-8 border border-gray-200/50",children:[(0,Me.jsxs)("div",{className:"mb-6 md:mb-8",children:[(0,Me.jsx)("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Customer Information"}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm md:text-base",children:"Complete profile and contact details"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8",children:[(0,Me.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,Me.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Personal Details"}),(0,Me.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(He,{className:"h-4 md:h-5 w-4 md:w-5 text-blue-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Full Name"}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-900 font-medium truncate",children:s.name||"Not provided"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-green-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(Hs,{className:"h-4 md:h-5 w-4 md:w-5 text-green-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Email Address"}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-900 font-medium truncate",children:s.email})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(qs,{className:"h-4 md:h-5 w-4 md:w-5 text-purple-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Mobile Number"}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-900 font-medium",children:s.mobile||"Not provided"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(Ks,{className:"h-4 md:h-5 w-4 md:w-5 text-orange-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Address"}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-900 font-medium",children:s.address||"Not provided"})]})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,Me.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Business Details"}),(0,Me.jsxs)("div",{className:"space-y-3 md:space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(Ps,{className:"h-4 md:h-5 w-4 md:w-5 text-indigo-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"GST Number"}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-900 font-medium truncate",children:s.gstNumber||"Not provided"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-pink-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(Js,{className:"h-4 md:h-5 w-4 md:w-5 text-pink-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Role"}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-900 font-medium capitalize",children:s.role})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(Qs,{className:"h-4 md:h-5 w-4 md:w-5 text-yellow-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Customer ID"}),(0,Me.jsx)("p",{className:"text-xs md:text-sm text-gray-900 font-mono truncate",children:s._id})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 p-3 md:p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-teal-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(xt,{className:"h-4 md:h-5 w-4 md:w-5 text-teal-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500",children:"Registration Date"}),(0,Me.jsx)("p",{className:"text-sm md:text-base text-gray-900 font-medium",children:(e=>{if(!e)return"Not available";try{return bs(new Date(e),"MMMM dd, yyyy 'at' HH:mm")}catch(u){return"Invalid date"}})(s.createdAt)})]})]})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-4 md:px-8 py-4 md:py-6 border-b border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Content Calendars"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1 text-sm md:text-base",children:"Manage content calendars and items"})]}),(0,Me.jsxs)("button",{onClick:()=>x(!0),className:"inline-flex items-center px-4 md:px-6 py-2 md:py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl text-sm md:text-base",children:[(0,Me.jsx)(Is,{className:"h-4 md:h-5 w-4 md:w-5 mr-2"}),"Add Calendar"]})]})}),(0,Me.jsx)("div",{className:"p-4 md:p-8",children:a.length>0?(0,Me.jsx)("div",{className:"space-y-4",children:a.map(e=>{var s;return(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200/50 shadow-sm overflow-hidden",children:[(0,Me.jsx)("div",{className:"p-4 md:p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>(e=>{const t=new Set(P);t.has(e)?t.delete(e):t.add(e),E(t)})(e._id),children:(0,Me.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-3 md:space-x-4 min-w-0 flex-1",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg flex-shrink-0",children:(0,Me.jsx)(xt,{className:"h-4 md:h-5 w-4 md:w-5 text-blue-600"})}),(0,Me.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Me.jsx)("h4",{className:"text-base md:text-lg font-semibold text-gray-900 truncate",children:e.name}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.description}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 mt-2 space-y-1 sm:space-y-0",children:[(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:[(null===(s=e.contentItems)||void 0===s?void 0:s.length)||0," content items"]}),e.assignedTo&&(0,Me.jsxs)("button",{onClick:e=>{e.stopPropagation()},className:"text-xs text-blue-600 hover:text-blue-800 font-medium text-left",children:["Assigned to - ",e.assignedToName||e.assignedTo]})]})]})]}),(0,Me.jsxs)("div",{className:"hidden md:flex items-center space-x-2 ml-4",children:[(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),_(e),g(!0)},className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors",children:[(0,Me.jsx)(Is,{className:"h-4 w-4 mr-1"}),"Add Item"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),F(e)},className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors",children:[(0,Me.jsx)(Xs,{className:"h-4 w-4 mr-1"}),"Edit"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),z(e._id)},className:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition-colors",children:[(0,Me.jsx)(Ms,{className:"h-4 w-4 mr-1"}),"Delete"]}),P.has(e._id)?(0,Me.jsx)(nt,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(Ds,{className:"h-5 w-5 text-gray-400"})]}),(0,Me.jsxs)("div",{className:"md:hidden flex items-center space-x-2 ml-2 relative",children:[(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=new Set(O);t.has(e)?t.delete(e):t.add(e),I(t)})(e._id)},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)(Ls,{className:"h-5 w-5"})}),P.has(e._id)?(0,Me.jsx)(nt,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(Ds,{className:"h-5 w-5 text-gray-400"}),O.has(e._id)&&(0,Me.jsx)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-20",children:(0,Me.jsxs)("div",{className:"py-1",children:[(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),_(e),g(!0),I(new Set)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Me.jsx)(Is,{className:"h-4 w-4 mr-2 text-green-600"}),"Add Item"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),F(e)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Me.jsx)(Xs,{className:"h-4 w-4 mr-2 text-blue-600"}),"Edit Calendar"]}),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),z(e._id)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[(0,Me.jsx)(Ms,{className:"h-4 w-4 mr-2 text-red-600"}),"Delete Calendar"]})]})})]})]})}),P.has(e._id)&&(0,Me.jsx)("div",{className:"border-t border-gray-200/50 bg-gray-50/50",children:(0,Me.jsxs)("div",{className:"p-4 md:p-6",children:[(0,Me.jsx)("h5",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Content Items"}),e.contentItems&&e.contentItems.length>0?(0,Me.jsx)("div",{className:"space-y-3",children:e.contentItems.map((s,n)=>(0,Me.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between space-y-3 sm:space-y-0",children:[(0,Me.jsxs)("div",{className:"min-w-0 flex-1",children:[s.title&&(0,Me.jsx)("p",{className:"font-semibold text-blue-800 mb-1 text-sm md:text-base",children:s.title}),(0,Me.jsx)("p",{className:"font-medium text-gray-900 text-sm md:text-base",children:s.description}),(0,Me.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:["Due: ",R(s.date)]}),s.type&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200 mt-2",children:s.type})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between sm:justify-end space-x-2",children:[s.status&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:s.status.replace("_"," ").toUpperCase()}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50",onClick:()=>((e,t)=>{A({...e,_calendarId:t,originalDate:e.date,originalDescription:e.description}),y(!0)})(s,e._id),title:"Edit item",children:(0,Me.jsx)(Xs,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50",onClick:()=>(async(e,t)=>{try{const s=t.description,n=t.date,r=`${T}/calendars/item/${e}/${n}/${encodeURIComponent(s)}`;if(!(await fetch(r,{method:"DELETE"})).ok)throw new Error("Failed to delete item");D()}catch(s){}})(e._id,s),title:"Delete item",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors rounded-lg hover:bg-indigo-50",onClick:s=>{s.stopPropagation(),t(`/admin/content-upload/${e._id}/${n}`)},title:"Upload Content",children:(0,Me.jsx)(Rs,{className:"h-4 w-4"})})]})]})]})},n))}):(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"No content items in this calendar."})]})})]},e._id)})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(xt,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No content calendars created yet"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-6 text-sm md:text-base px-4",children:"Create a content calendar to start managing this customer's content schedule."}),(0,Me.jsxs)("button",{onClick:()=>x(!0),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Is,{className:"h-5 w-5 mr-2"}),"Create First Calendar"]})]})})]})]})}),O.size>0&&(0,Me.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>I(new Set)}),(0,Me.jsx)(Es,{isOpen:h,onClose:()=>x(!1),onSave:async t=>{try{if(!(await fetch(`${T}/calendars`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:e,name:t.name,description:t.description,assignedTo:t.assignedTo,contentItems:[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to create calendar");D()}catch(s){console.error("Error creating calendar:",s)}},title:"Create Content Calendar",creators:o}),(0,Me.jsx)(Cs,{isOpen:p,onClose:()=>{g(!1),_(null)},onSave:async e=>{if(S)try{let t=null,s=await fetch(`${T}/calendars/${S._id}`);if(s.ok)t=await s.json();else{const e=await fetch(`${T}/calendars`);if(e.ok){t=(await e.json()).find(e=>e._id===S._id)}}if(!t||!t._id)throw new Error("Calendar not found");const n=[...t.contentItems||[],e];if(!(await fetch(`${T}/calendars/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,contentItems:n,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to add content item");D()}catch(t){console.error("Error adding content item:",t)}},title:"Add Content Item",creators:o,platformOptions:["facebook","instagram","youtube","linkedin"],multiPlatform:!0}),(0,Me.jsx)(As,{isOpen:f,onClose:()=>{b(!1),_(null)},onAssign:async e=>{if(S)try{const t=a.find(e=>e._id===S._id);if(!(await fetch(`${T}/calendars/${S._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,assignedTo:e.email,assignedToName:e.name,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to assign creator");D()}catch(t){console.error("Error assigning creator:",t)}},calendarName:(null===S||void 0===S?void 0:S.name)||""}),(0,Me.jsx)(Cs,{isOpen:v,onClose:()=>y(!1),onSave:async e=>{try{const{_calendarId:t,date:s,description:n,originalDate:r,originalDescription:a,type:i,status:o,title:l,assignedTo:c,assignedToName:d}=e;if(!t||!r||!a)return;const u=await fetch(`${T}/calendars/${t}`);let m=null;if(u.ok)m=await u.json();else{const e=await fetch(`${T}/calendars`);if(e.ok){m=(await e.json()).find(e=>e._id===t)}}if(!m||!m._id)throw new Error("Calendar not found");const h=(m.contentItems||[]).map(e=>e.date===r&&e.description===a?{...e,date:s,description:n,type:void 0!==i?i:e.type,status:void 0!==o?o:e.status,title:void 0!==l?l:e.title,assignedTo:void 0!==c?c:e.assignedTo,assignedToName:void 0!==d?d:e.assignedToName}:e);if(!(await fetch(`${T}/calendars/${m._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,contentItems:h,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to update item");D()}catch(t){}finally{y(!1)}},contentItem:C,title:"Edit Content",creators:o,platformOptions:["facebook","instagram","youtube","linkedin"],multiPlatform:!0}),(0,Me.jsx)(Es,{isOpen:j,onClose:()=>{w(!1),k(null)},onSave:async e=>{try{if(!(await fetch(`${T}/calendars/${N._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...N,...e,updatedAt:(new Date).toISOString()})})).ok)throw new Error("Failed to update calendar");D()}catch(t){}finally{w(!1),k(null)}},title:"Edit Content Calendar",initialData:N})]})};const en=function(){const{currentUser:e}=Le(),[t,s]=(0,r.useState)([]),[n,a]=(0,r.useState)({}),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(""),m=te(),h=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t)?"Invalid Date":t.toLocaleDateString(void 0,{day:"numeric",month:"short",year:"numeric"})},x=e=>{const t=(e=>{if(!e)return null;const t=new Date(e)-new Date;return Math.ceil(t/864e5)})(e);return null===t?{color:"gray",text:"No date"}:t<0?{color:"red",text:"Overdue"}:0===t?{color:"orange",text:"Due today"}:t<=3?{color:"yellow",text:`${t} days left`}:{color:"green",text:`${t} days left`}},p=e=>{switch(e.color){case"red":return"bg-red-50 text-red-700 border-red-200";case"orange":return"bg-orange-50 text-orange-700 border-orange-200";case"yellow":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"green":return"bg-emerald-50 text-emerald-700 border-emerald-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}};(0,r.useEffect)(()=>{(async()=>{if(e&&"admin"===e.role)try{const t="https://my-backend-593529385135.asia-south1.run.app",n=await fetch(`${t}/admin/assigned-customers?adminId=${e._id||e.id}`);if(!n.ok)throw new Error("Failed to fetch assigned customers");const r=await n.json();s(r)}catch(t){console.error("Error fetching assigned customers:",t),u("Failed to fetch your assigned customers")}finally{c(!1)}else c(!1)})(),(async()=>{try{const e="https://my-backend-593529385135.asia-south1.run.app",t=await fetch(`${e}/calendars`);if(!t.ok)return{};const s=await t.json(),n={};s.forEach(e=>{n[e.customerId]||(n[e.customerId]=[]),n[e.customerId].push(e)}),a(n)}catch{a({})}})()},[e]),(0,r.useEffect)(()=>{if(t.length>0){const e=t.map(e=>e._id||e.id);(async e=>{try{const t="https://my-backend-593529385135.asia-south1.run.app",s=await fetch(`${t}/api/scheduled-posts`);return s.ok?(await s.json()).filter(t=>"published"===t.status&&e.includes(t.customerId||t.userId)):[]}catch{return[]}})(e).then(o)}},[t]);const g=(0,r.useMemo)(()=>{const e={};return i.forEach(t=>{if("published"===t.status){const s=t.customerId||t.userId;e[s]||(e[s]=new Set);const n=new Date(t.scheduledAt).toISOString().slice(0,10);e[s].add(n)}}),e},[i]);return l?(0,Me.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Me.jsx)(ot,{title:"Customers",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex items-center justify-between",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>m("/admin"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Customers"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage customer content calendars and schedules"})]})]})})}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200/50",children:[(0,Me.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Customer Overview"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Track content schedules and deadlines"})]}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full divide-y divide-gray-200/50",children:[(0,Me.jsx)("thead",{className:"bg-gray-50/50",children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Customer Name"}),(0,Me.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Next Content Due Date"}),(0,Me.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Number of Content Calendars"}),(0,Me.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"View Details"})]})}),(0,Me.jsx)("tbody",{className:"bg-white/50 divide-y divide-gray-200/30",children:l?(0,Me.jsx)("tr",{children:(0,Me.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading customers..."})]})})}):0===t.length?(0,Me.jsx)("tr",{children:(0,Me.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:(0,Me.jsx)(We,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No customers found"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No customers with content calendars found."})]})})}):t.map(e=>{const t=n[e._id||e.id]||[],s=t.length,r=t.reduce((e,t)=>e+(Array.isArray(t.contentItems)?t.contentItems.length:0),0),a=g[e._id||e.id]||new Set,i=t.flatMap(e=>Array.isArray(e.contentItems)?e.contentItems.map(e=>e.date).filter(Boolean):[]).filter(e=>{const t=new Date(e).toISOString().slice(0,10);return!a.has(t)&&!isNaN(new Date(e))}),o=i.length>0?i.sort((e,t)=>new Date(e)-new Date(t))[0]:null,l=x(o);return(0,Me.jsxs)("tr",{className:"hover:bg-white/70 transition-all duration-200 group",children:[(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Me.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-white font-semibold text-sm",children:e.name.charAt(0).toUpperCase()})})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,Me.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Me.jsx)("div",{className:"text-sm font-medium text-gray-900",children:o?h(o):"No due date"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:o?(0,Me.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${p(l)}`,children:l.text}):""})]}),(0,Me.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Me.jsx)("div",{className:"text-sm text-gray-900 font-medium",children:s}),(0,Me.jsxs)("div",{className:"text-xs text-gray-500",children:[r," total items"]})]}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,Me.jsxs)("button",{onClick:()=>{return t=e.id||e._id,void m(`/admin/customers/${t}`);var t},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md group-hover:shadow-lg",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4 mr-2"}),"View Details"]})})]},e.id||e._id)})})]})})]})]})})})},tn="https://my-backend-593529385135.asia-south1.run.app";const sn=function(){const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[a,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),c=te();(0,r.useEffect)(()=>{d()},[]);const d=async()=>{try{n(!0);const e=await fetch(`${tn}/users?role=content_creator`);if(!e.ok)throw new Error("Failed to fetch content creators");const s=await e.json(),r=Array.isArray(s)?s:s.creators||[],a=await Promise.all(r.map(async e=>{try{const t=await fetch(`${tn}/calendars`),s=(await t.json()).filter(t=>t.assignedTo===e.email||t.contentItems&&t.contentItems.some(t=>t.assignedTo===e.email));return{...e,assignedCalendars:s.length}}catch(t){return{...e,assignedCalendars:0}}}));t(a)}catch(e){i("Failed to load content creators"),console.error("Error fetching content creators:",e)}finally{n(!1)}},u=e.filter(e=>{var t,s,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.mobile)||void 0===n?void 0:n.includes(o))});return s?(0,Me.jsx)(ot,{title:"Content Creators",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading content creators..."})]})})})}):(0,Me.jsx)(ot,{title:"Content Creators",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex items-center justify-between",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>c("/admin"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Content Creators"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage and view all content creators"})]})]})})}),(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex items-center",children:(0,Me.jsxs)("div",{className:"relative flex-1",children:[(0,Me.jsx)(tt,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Search content creators by name, email, or phone...",value:o,onChange:e=>l(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"})]})})}),a&&(0,Me.jsxs)("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-6 py-4 rounded-2xl flex items-start shadow-lg",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"font-medium",children:a})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200/50",children:[(0,Me.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Content Creators Directory (",u.length,")"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage content creator information and assignments"})]}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full divide-y divide-gray-200/50",children:[(0,Me.jsx)("thead",{className:"bg-gray-50/50",children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),(0,Me.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Phone Number"}),(0,Me.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Address"}),(0,Me.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned Content Calendars"}),(0,Me.jsx)("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),(0,Me.jsx)("tbody",{className:"bg-white/50 divide-y divide-gray-200/30",children:u.length>0?u.map(e=>(0,Me.jsxs)("tr",{className:"hover:bg-white/70 transition-all duration-200 group",children:[(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Me.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-purple-500 to-indigo-600 flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-white font-semibold text-sm",children:(e.name||"U").charAt(0).toUpperCase()})})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name||"Unnamed Creator"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Content Creator"})]})]})}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,Me.jsx)(qs,{className:"h-4 w-4 mr-2 text-gray-400"}),e.mobile||"Not provided"]})}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,Me.jsx)(Hs,{className:"h-4 w-4 mr-2 text-gray-400"}),e.email]})}),(0,Me.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Me.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.assignedCalendars||0}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:e.assignedCalendars>0?"Active assignments":"No assignments"})]}),(0,Me.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,Me.jsxs)("button",{onClick:()=>{return t=e._id,void c(`/admin/content-creator-details/${t}`);var t},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-sm font-semibold rounded-lg hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md group-hover:shadow-lg",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4 mr-2"}),"View Details"]})})]},e._id)):(0,Me.jsx)("tr",{children:(0,Me.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:(0,Me.jsx)(ht,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No content creators found"}),(0,Me.jsx)("p",{className:"text-gray-500",children:o?"No content creators match your search criteria.":"No content creators have been registered yet."})]})})})})]})})]})]})})})},nn=Ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),rn="https://my-backend-593529385135.asia-south1.run.app";const an=function(){var e;const{id:t}=se(),s=te(),[n,a]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{x()},[t]),(0,r.useEffect)(()=>{n&&p()},[n]);const x=async()=>{try{c(!0);const e=await fetch(`${rn}/users?role=content_creator`);if(!e.ok)throw new Error("Failed to fetch content creators");const s=await e.json(),n=Array.isArray(s)?s:s.creators||[];console.log("All creators:",n),console.log("Looking for ID:",t);const r=n.find(e=>e._id===t);if(r)console.log("Found creator:",r),a(r);else{const e=await fetch(`${rn}/users/${t}`);if(!e.ok)throw new Error("Creator not found");const s=await e.json();console.log("Individual creator API Response:",s);const n=s.doc||s;a(n)}}catch(e){u("Failed to load creator details"),console.error("Error fetching creator:",e)}finally{c(!1)}},p=async()=>{try{const e=await fetch(`${rn}/calendars`);if(!e.ok)throw new Error("Failed to fetch calendars");const t=await e.json(),s=null===n||void 0===n?void 0:n.email;if(!s)return void console.log("No creator email found, skipping calendar assignment check");const r=t.filter(e=>e.assignedTo===s||e.contentItems&&e.contentItems.some(e=>e.assignedTo===s)),a=await Promise.all(r.map(async e=>{try{const t=await fetch(`${rn}/customer/${e.customerId}`),s=await t.json();return{...e,customerName:s.name||"Unknown Customer"}}catch(t){return{...e,customerName:"Unknown Customer"}}}));o(a)}catch(e){console.error("Error fetching assigned calendars:",e)}},g=e=>{if(!e)return"N/A";try{return bs(new Date(e),"MMM dd, yyyy")}catch(d){return"Invalid date"}};return l?(0,Me.jsx)(ot,{title:"Content Creator Details",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading creator details..."})]})})})}):d||!n?(0,Me.jsx)(ot,{title:"Content Creator Details",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-8 border border-gray-200/50 max-w-md mx-auto mt-20",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(We,{className:"h-8 w-8 text-red-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Creator not found"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:d||"The content creator you're looking for doesn't exist."}),(0,Me.jsxs)("button",{onClick:()=>s("/admin/content-creators"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Ws,{className:"h-4 w-4 mr-2"}),"Back to Content Creators"]})]})})})}):(0,Me.jsx)(ot,{title:"Content Creator Details",children:(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>s("/admin/content-creators"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"h-12 w-12 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Me.jsx)("span",{className:"text-white font-bold text-lg",children:(n.name||n.email||"U").charAt(0).toUpperCase()})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:n.name||n.email||"Unnamed Creator"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Content Creator Profile & Assignments"})]})]})]}),(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(0,Me.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border "+(f=n.isActive,f?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"),children:(e=>e?"Active":"Inactive")(n.isActive)})})]})}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-8 border border-gray-200/50",children:[(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Creator Information"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Complete profile and contact details"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Personal Details"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Me.jsx)(He,{className:"h-5 w-5 text-blue-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:n.name||"Not provided"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Me.jsx)(Hs,{className:"h-5 w-5 text-green-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Email Address"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:n.email||"Not provided"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Me.jsx)(qs,{className:"h-5 w-5 text-blue-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Mobile Number"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:n.mobile||"Not provided"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,Me.jsx)(Ks,{className:"h-5 w-5 text-orange-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:n.address||"Not provided"})]})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Professional Details"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg",children:(0,Me.jsx)(Js,{className:"h-5 w-5 text-indigo-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Role"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium capitalize",children:(null===(e=n.role)||void 0===e?void 0:e.replace("_"," "))||"Content Creator"})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Me.jsx)(pt,{className:"h-5 w-5 text-purple-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Specialization"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:(e=>{if(!e)return"Not specified";return{"graphic-design":"Graphic Design","video-editing":"Video Editing","content-writing":"Content Writing","social-media":"Social Media Management",photography:"Photography","web-design":"Web Design"}[e]||e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase())})(n.specialization)})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Me.jsx)(dt,{className:"h-5 w-5 text-yellow-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Experience Level"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:(e=>{if(!e)return"Not specified";return{beginner:"Beginner (0-1 years)",intermediate:"Intermediate (2-4 years)",advanced:"Advanced (5-7 years)",expert:"Expert (8+ years)"}[e]||e.replace(/\b\w/g,e=>e.toUpperCase())})(n.experience)})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-teal-100 rounded-lg",children:(0,Me.jsx)(xt,{className:"h-5 w-5 text-teal-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Registration Date"}),(0,Me.jsx)("p",{className:"text-gray-900 font-medium",children:(e=>{if(!e)return"Not available";try{return bs(new Date(e),"MMMM dd, yyyy 'at' HH:mm")}catch(d){return"Invalid date"}})(n.createdAt)})]})]}),(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50/50 rounded-xl",children:[(0,Me.jsx)("div",{className:"p-2 bg-pink-100 rounded-lg",children:(0,Me.jsx)(Qs,{className:"h-5 w-5 text-pink-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Creator ID"}),(0,Me.jsx)("p",{className:"text-gray-900 font-mono text-sm",children:n._id})]})]})]})]})]}),n.permissions&&n.permissions.length>0&&(0,Me.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permissions & Access"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:n.permissions.map((e,t)=>(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[(0,Me.jsx)(nn,{className:"h-3 w-3 mr-1"}),e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())]},t))})]})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-8 py-6 border-b border-gray-200/50",children:(0,Me.jsx)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Assigned Content Calendars"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1",children:"Content calendars assigned to this creator"})]})})}),(0,Me.jsx)("div",{className:"p-8",children:i.length>0?(0,Me.jsx)("div",{className:"space-y-4",children:i.map(e=>{var t;return(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200/50 shadow-sm overflow-hidden",children:[(0,Me.jsx)("div",{className:"p-6 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>(e=>{const t=new Set(m);t.has(e)?t.delete(e):t.add(e),h(t)})(e._id),children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Me.jsx)(xt,{className:"h-5 w-5 text-blue-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["Customer: ",e.customerName]}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:[(null===(t=e.contentItems)||void 0===t?void 0:t.length)||0," content items"]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:"Assigned"}),m.has(e._id)?(0,Me.jsx)(nt,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(Ds,{className:"h-5 w-5 text-gray-400"})]})]})}),m.has(e._id)&&(0,Me.jsx)("div",{className:"border-t border-gray-200/50 bg-gray-50/50",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsx)("h5",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Content Items"}),e.contentItems&&e.contentItems.length>0?(0,Me.jsx)("div",{className:"space-y-3",children:e.contentItems.map((e,t)=>(0,Me.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:e.description}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Due: ",g(e.date)]}),e.type&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200 mt-2",children:e.type})]}),e.status&&(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:e.status.replace("_"," ").toUpperCase()})]})},t))}):(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"No content items in this calendar."})]})})]},e._id)})}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(xt,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assigned calendars"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"This content creator has not been assigned to any content calendars yet."})]})})]})]})})});var f},on=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ln=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),cn=Ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),dn=Ve("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),un=Ve("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),mn=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),hn=Ve("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);const xn=function(){const e=te(),{currentUser:t}=Le(),[s,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)({}),[u,m]=(0,r.useState)("grouped"),[h,x]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{g(!0),p();const e=setInterval(()=>{g(!1)},3e3);return()=>clearInterval(e)},[t]);const p=async()=>{if(t&&"admin"===t.role)try{const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/admin/assigned-customers?adminId=${t._id||t.id}`);if(e.ok){const t=await e.json(),s={};t.forEach(e=>{s[e._id]=e}),d(s),console.log("\ud83d\udccb Customer lookup map:",s)}else console.log("No assigned customers found for admin:",t._id||t.id)}catch(e){console.error("Failed to fetch customer details:",e)}},g=async function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!t||"admin"!==t.role)return console.error("Admin authentication required"),void n([]);e&&i(!0);try{console.log("\ud83d\udce1 Fetching scheduled posts for admin:",t._id||t.id);const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/admin/assigned-customers?adminId=${t._id||t.id}`);let s=[];if(!e.ok)return console.log("\u26a0\ufe0f No customers assigned to this admin"),void n([]);{const t=await e.json();s=t.map(e=>e._id),console.log("\ud83d\udccb Admin assigned customer IDs:",s)}if(0===s.length)return console.log("\u26a0\ufe0f Admin has no assigned customers"),void n([]);const r=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/scheduled-posts");if(console.log("\ud83d\udce1 Response status:",r.status),!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();console.log("\ud83d\udccb Received all posts data:",a);let i=[];Array.isArray(a)?i=a:a&&Array.isArray(a.posts)?i=a.posts:a&&a.success&&Array.isArray(a.data)&&(i=a.data);const o=i.filter(e=>{const t=e.customerId||e.userId,n=s.includes(t);return n||console.log("\ud83d\udeab Filtering out post from unassigned customer:",t),n});console.log("\ud83d\udccb Total posts:",i.length),console.log("\ud83d\udccb Posts from assigned customers:",o.length),n(o)}catch(s){console.error("\u274c Failed to fetch scheduled posts:",s),n([])}finally{i(!1)}},f=async e=>{if(confirm("Are you sure you want to delete this scheduled post?"))try{(await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/scheduled-posts/${e}`,{method:"DELETE"})).ok&&n(t=>t.filter(t=>t._id!==e))}catch(t){console.error("Delete post error:",t),alert("Failed to delete post")}},b=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"published":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"processing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},v=e=>{switch(e){case"pending":default:return(0,Me.jsx)(on,{className:"h-4 w-4"});case"published":return(0,Me.jsx)(Je,{className:"h-4 w-4"});case"failed":return(0,Me.jsx)(ln,{className:"h-4 w-4"});case"processing":return(0,Me.jsx)(cn,{className:"h-4 w-4 animate-spin"})}},y=Array.isArray(s)?s.filter(e=>"all"===o||e.status===o):[],j=e=>{if(!e||"string"!==typeof e)return!1;const t=e.split(".").pop().toLowerCase();return["mp4","webm","ogg","mov","avi"].includes(t)},w=e=>{var t;return e.isStory||"story"===e.postType?{type:"Story",color:"bg-orange-100 text-orange-700",icon:"\ud83d\udcd6"}:(e.isCarousel||e.useCarouselService)&&(null===(t=e.imageUrls)||void 0===t?void 0:t.length)>1?{type:"Carousel",color:"bg-purple-100 text-purple-700",icon:"\ud83c\udfa0"}:{type:"Post",color:"bg-blue-100 text-blue-700",icon:"\ud83d\udcdd"}},N=e=>{switch(e){case"facebook":return(0,Me.jsx)(dn,{className:"h-5 w-5 text-blue-600"});case"instagram":return(0,Me.jsx)(un,{className:"h-5 w-5 text-pink-600"});case"both":return(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(dn,{className:"h-4 w-4 text-blue-600"}),(0,Me.jsx)(un,{className:"h-4 w-4 text-pink-600"})]});case"youtube":return(0,Me.jsx)("div",{className:"h-5 w-5 bg-red-600 text-white rounded text-xs flex items-center justify-center font-bold",children:"YT"});case"twitter":return(0,Me.jsx)("div",{className:"h-5 w-5 bg-blue-400 text-white rounded text-xs flex items-center justify-center font-bold",children:"X"});case"linkedin":return(0,Me.jsx)("div",{className:"h-5 w-5 bg-blue-700 text-white rounded text-xs flex items-center justify-center font-bold",children:"In"});default:return(0,Me.jsx)("div",{className:"h-5 w-5 bg-gray-400 text-white rounded text-xs flex items-center justify-center",children:"?"})}},k=e=>{if(e.customerName)return{name:e.customerName,id:e.customerId||e.userId||"Unknown ID"};const t=e.customerId||e.userId;return t&&c[t]?{name:c[t].name,id:t}:t?{name:`Customer ${t.slice(-6)}`,id:t}:{name:"Unknown Customer",id:"Unknown ID"}},S=y.reduce((e,t)=>{const s=t.customerId||t.userId||"unknown";return e[s]||(e[s]=[]),e[s].push(t),e},{}),_=Object.keys(S).sort((e,t)=>S[t].length-S[e].length);return(0,Me.jsx)(ot,{children:(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Me.jsx)("div",{className:"flex items-center justify-between",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("button",{onClick:()=>e("/admin"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Scheduled Posts"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1",children:"View and manage scheduled posts for your assigned customers"})]})]})})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(mn,{className:"h-4 w-4 text-gray-500"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"})]}),["all","pending","processing","published","failed"].map(e=>(0,Me.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1 rounded-full text-sm font-medium "+(o===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"View:"}),(0,Me.jsxs)("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[(0,Me.jsxs)("button",{onClick:()=>m("grouped"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+("grouped"===u?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,Me.jsx)(mt,{className:"h-4 w-4 inline mr-1"}),"Grouped"]}),(0,Me.jsx)("button",{onClick:()=>m("list"),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+("list"===u?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"List"})]})]})]}),(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden mb-8",children:(0,Me.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200/50",children:[(0,Me.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Customer Overview"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Track content schedules and deadlines"})]})}),"grouped"===u&&_.length>0&&(0,Me.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Me.jsx)("button",{onClick:()=>{x(new Set(_))},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Expand All"}),(0,Me.jsx)("span",{className:"text-gray-300",children:"|"}),(0,Me.jsx)("button",{onClick:()=>{x(new Set)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Collapse All"})]}),a?(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsx)(cn,{className:"h-8 w-8 animate-spin text-blue-600"})}):"grouped"===u?(0,Me.jsx)("div",{className:"space-y-6",children:_.map(e=>{const t=S[e],s=k(t[0]),n=(e=>{const t=e.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return{total:e.length,pending:t.pending||0,published:t.published||0,failed:t.failed||0,processing:t.processing||0}})(t),r=h.has(e);return(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Me.jsx)("div",{className:"p-6 border-b cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>(e=>{const t=new Set(h);t.has(e)?t.delete(e):t.add(e),x(t)})(e),children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[r?(0,Me.jsx)(nt,{className:"h-5 w-5 text-gray-400"}):(0,Me.jsx)(Ds,{className:"h-5 w-5 text-gray-400"}),(0,Me.jsx)(He,{className:"h-5 w-5 text-blue-600"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.name)||"Unknown Customer"}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["ID: ",(null===s||void 0===s?void 0:s.id)||e]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:n.total}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Total Posts"})]}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[n.pending>0&&(0,Me.jsxs)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full",children:[n.pending," Pending"]}),n.published>0&&(0,Me.jsxs)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:[n.published," Published"]}),n.failed>0&&(0,Me.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:[n.failed," Failed"]}),n.processing>0&&(0,Me.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[n.processing," Processing"]})]})]})]})}),r&&(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg border p-4",children:[e.calendar_name&&(0,Me.jsxs)("div",{className:"text-xs text-blue-700 mb-1",children:[(0,Me.jsx)("strong",{children:"Calendar:"})," ",e.calendar_name]}),e.item_name&&(0,Me.jsxs)("div",{className:"text-xs text-purple-700 mb-2",children:[(0,Me.jsx)("strong",{children:"Item:"})," ",e.item_name]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[N(e.platform),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.pageName||e.channelName||"Social Media Post"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(t=>{const s=w(e);return(0,Me.jsxs)("span",{className:`px-2 py-0.5 ${s.color} text-xs font-semibold rounded-full flex items-center space-x-1`,children:[(0,Me.jsx)("span",{children:s.icon}),(0,Me.jsx)("span",{children:s.type}),"Carousel"===s.type&&(null===(t=e.imageUrls)||void 0===t?void 0:t.length)>1&&(0,Me.jsxs)("span",{children:["(",e.imageUrls.length,")"]})]})})(),(0,Me.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${b(e.status)}`,children:[v(e.status),(0,Me.jsx)("span",{children:e.status})]})]})]}),e.imageUrls&&e.imageUrls.length>1?(0,Me.jsx)("div",{className:"mb-3",children:(0,Me.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[e.imageUrls.slice(0,6).map((e,t)=>j(e)?(0,Me.jsxs)("div",{className:"relative h-20 bg-gray-800 rounded flex items-center justify-center",children:[(0,Me.jsx)(hn,{className:"h-6 w-6 text-white"}),(0,Me.jsx)("span",{className:"absolute top-1 left-1 bg-purple-600 text-white text-xs px-1 rounded",children:t+1})]},t):(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:e,alt:`Item ${t+1}`,className:"w-full h-20 object-cover rounded"}),(0,Me.jsx)("span",{className:"absolute top-1 left-1 bg-purple-600 text-white text-xs px-1 rounded",children:t+1})]},t)),e.imageUrls.length>6&&(0,Me.jsx)("div",{className:"h-20 bg-gray-200 rounded flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-gray-600 text-sm font-semibold",children:["+",e.imageUrls.length-6]})})]})}):e.imageUrl&&j(e.imageUrl)?(0,Me.jsx)("video",{src:e.imageUrl,controls:!0,className:"w-full h-32 object-cover rounded-lg mb-3",style:{background:"#eee"}}):e.imageUrl?(0,Me.jsx)("img",{src:e.imageUrl,alt:"Post content",className:"w-full h-32 object-cover rounded-lg mb-3"}):null,(0,Me.jsx)("p",{className:"text-gray-800 text-sm mb-3 line-clamp-2",children:e.caption}),(0,Me.jsxs)("div",{className:"space-y-1 text-xs text-gray-500 mb-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(xt,{className:"h-3 w-3"}),(0,Me.jsx)("span",{children:new Date(e.scheduledAt).toLocaleDateString()})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(on,{className:"h-3 w-3"}),(0,Me.jsx)("span",{children:new Date(e.scheduledAt).toLocaleTimeString()})]})]}),"failed"===e.status&&e.error&&(0,Me.jsx)("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:(0,Me.jsx)("p",{className:"text-xs text-red-600",children:e.error})}),(0,Me.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,Me.jsx)("button",{onClick:()=>f(e._id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete from scheduler",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})})]},e._id))})})]},e)})}):(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(e=>{const t=k(e);return(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 flex flex-col",style:{height:"400px"},children:(0,Me.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto",style:{minHeight:0},children:[e.calendar_name&&(0,Me.jsxs)("div",{className:"text-xs text-blue-700 mb-1",children:[(0,Me.jsx)("strong",{children:"Calendar:"})," ",e.calendar_name]}),e.item_name&&(0,Me.jsxs)("div",{className:"text-xs text-purple-700 mb-2",children:[(0,Me.jsx)("strong",{children:"Item:"})," ",e.item_name]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[N(e.platform),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-600",children:e.pageName||e.channelName||"Social Media Post"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(t=>{const s=w(e);return(0,Me.jsxs)("span",{className:`px-2 py-0.5 ${s.color} text-xs font-semibold rounded-full flex items-center space-x-1`,children:[(0,Me.jsx)("span",{children:s.icon}),(0,Me.jsx)("span",{children:s.type}),"Carousel"===s.type&&(null===(t=e.imageUrls)||void 0===t?void 0:t.length)>1&&(0,Me.jsxs)("span",{children:["(",e.imageUrls.length,")"]})]})})(),(0,Me.jsxs)("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${b(e.status)}`,children:[v(e.status),(0,Me.jsx)("span",{children:e.status})]})]})]}),t&&(0,Me.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(He,{className:"h-4 w-4 text-blue-600"}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-blue-900 truncate",children:t.name}),(0,Me.jsxs)("p",{className:"text-xs text-blue-600 truncate",children:["ID: ",t.id]})]})]})}),!t&&(0,Me.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(He,{className:"h-4 w-4 text-gray-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Unknown Customer"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Customer info not available"})]})]})}),e.imageUrls&&e.imageUrls.length>1?(0,Me.jsx)("div",{className:"mb-4",children:(0,Me.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[e.imageUrls.slice(0,6).map((e,t)=>j(e)?(0,Me.jsxs)("div",{className:"relative h-24 bg-gray-800 rounded flex items-center justify-center",children:[(0,Me.jsx)(hn,{className:"h-6 w-6 text-white"}),(0,Me.jsx)("span",{className:"absolute top-1 left-1 bg-purple-600 text-white text-xs px-1 rounded",children:t+1})]},t):(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:e,alt:`Item ${t+1}`,className:"w-full h-24 object-cover rounded"}),(0,Me.jsx)("span",{className:"absolute top-1 left-1 bg-purple-600 text-white text-xs px-1 rounded",children:t+1})]},t)),e.imageUrls.length>6&&(0,Me.jsx)("div",{className:"h-24 bg-gray-200 rounded flex items-center justify-center",children:(0,Me.jsxs)("span",{className:"text-gray-600 text-sm font-semibold",children:["+",e.imageUrls.length-6]})})]})}):e.imageUrl&&j(e.imageUrl)?(0,Me.jsx)("video",{src:e.imageUrl,controls:!0,className:"w-full h-40 object-cover rounded-lg mb-4",style:{background:"#eee"}}):e.imageUrl?(0,Me.jsx)("img",{src:e.imageUrl,alt:"Post content",className:"w-full h-40 object-cover rounded-lg mb-4"}):null,e.imageUrl&&j(e.imageUrl)&&"instagram"===e.platform&&(0,Me.jsx)("div",{className:"text-xs text-blue-600 mb-2",children:"This video will be posted as an Instagram Reel."}),e.imageUrl&&j(e.imageUrl)&&"youtube"===e.platform&&(0,Me.jsx)("div",{className:"text-xs text-red-600 mb-2",children:"YouTube video upload scheduled."}),(0,Me.jsx)("p",{className:"text-gray-800 text-sm mb-4 line-clamp-3",children:e.caption}),(0,Me.jsxs)("div",{className:"space-y-2 text-xs text-gray-500 mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(xt,{className:"h-3 w-3"}),(0,Me.jsx)("span",{children:new Date(e.scheduledAt).toLocaleDateString()})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(on,{className:"h-3 w-3"}),(0,Me.jsx)("span",{children:new Date(e.scheduledAt).toLocaleTimeString()})]}),e.publishedAt&&(0,Me.jsxs)("div",{className:"flex items-center space-x-2 text-green-600",children:[(0,Me.jsx)(Je,{className:"h-3 w-3"}),(0,Me.jsxs)("span",{children:["Published: ",new Date(e.publishedAt).toLocaleString()]})]})]}),"failed"===e.status&&e.error&&(0,Me.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-4",children:[(0,Me.jsx)("p",{className:"text-xs text-red-600 font-medium",children:"Error Details:"}),(0,Me.jsx)("p",{className:"text-xs text-red-600",children:e.error}),e.error.includes("access token")&&(0,Me.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"\ud83d\udca1 Customer needs to reconnect their social media account"})]}),"published"===e.status&&e.error&&(0,Me.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2 mb-4",children:[(0,Me.jsx)("p",{className:"text-xs text-yellow-700 font-medium",children:"Partial Success:"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-yellow-600 mt-1",children:[e.facebookPostId?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-green-600",children:[(0,Me.jsx)(dn,{className:"h-3 w-3"}),(0,Me.jsxs)("span",{children:["\u2705 FB: ",e.facebookPostId]})]}):"facebook"===e.platform||"both"===e.platform?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-red-600",children:[(0,Me.jsx)(dn,{className:"h-3 w-3"}),(0,Me.jsx)("span",{children:"\u274c FB Failed"})]}):null,e.instagramPostId?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-green-600",children:[(0,Me.jsx)(un,{className:"h-3 w-3"}),(0,Me.jsxs)("span",{children:["\u2705 IG: ",e.instagramPostId]})]}):"instagram"===e.platform||"both"===e.platform?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-red-600",children:[(0,Me.jsx)(un,{className:"h-3 w-3"}),(0,Me.jsx)("span",{children:"\u274c IG Failed"})]}):null,e.youtubePostId?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-green-600",children:[(0,Me.jsx)("div",{className:"h-3 w-3 bg-red-600 text-white rounded text-xs flex items-center justify-center",children:"Y"}),(0,Me.jsxs)("span",{children:["\u2705 YT: ",e.youtubePostId]})]}):"youtube"===e.platform?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-red-600",children:[(0,Me.jsx)("div",{className:"h-3 w-3 bg-red-600 text-white rounded text-xs flex items-center justify-center",children:"Y"}),(0,Me.jsx)("span",{children:"\u274c YT Failed"})]}):null,e.twitterPostId?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-green-600",children:[(0,Me.jsx)("div",{className:"h-3 w-3 bg-blue-400 text-white rounded text-xs flex items-center justify-center",children:"X"}),(0,Me.jsxs)("span",{children:["\u2705 X: ",e.twitterPostId]})]}):"twitter"===e.platform?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-red-600",children:[(0,Me.jsx)("div",{className:"h-3 w-3 bg-blue-400 text-white rounded text-xs flex items-center justify-center",children:"X"}),(0,Me.jsx)("span",{children:"\u274c X Failed"})]}):null,e.linkedinPostId?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-green-600",children:[(0,Me.jsx)("div",{className:"h-3 w-3 bg-blue-700 text-white rounded text-xs flex items-center justify-center",children:"In"}),(0,Me.jsxs)("span",{children:["\u2705 LinkedIn: ",e.linkedinPostId]})]}):"linkedin"===e.platform?(0,Me.jsxs)("span",{className:"flex items-center space-x-1 text-red-600",children:[(0,Me.jsx)("div",{className:"h-3 w-3 bg-blue-700 text-white rounded text-xs flex items-center justify-center",children:"In"}),(0,Me.jsx)("span",{children:"\u274c LinkedIn Failed"})]}):null]}),(0,Me.jsx)("p",{className:"text-xs text-yellow-600 mt-1 font-mono bg-yellow-100 p-1 rounded",children:e.error})]}),(0,Me.jsx)("div",{className:"flex items-center space-x-2 mt-2",children:(0,Me.jsx)("button",{onClick:()=>f(e._id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete from scheduler",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})})]})},e._id)})}),0===y.length&&!a&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(xt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No scheduled posts found for your assigned customers"}),(0,Me.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Posts from your assigned customers will appear here when they are scheduled"})]})]})]})})},pn=Ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),gn=Ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),fn=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),bn=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),vn=Ve("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),yn=Ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),jn=Ve("MoveVertical",[["polyline",{points:"8 18 12 22 16 18",key:"1uutw3"}],["polyline",{points:"8 6 12 2 16 6",key:"d60sxy"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);async function wn(e,t,s){try{const n=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${e}`,{method:"DELETE"}),r=await n.json();r.success||"not_found"===r.error||"deleted"===r.reason?(alert("Account disconnected. You can now reconnect."),s&&s(e),t&&t()):alert("Failed to disconnect: "+(r.error||"Unknown error"))}catch(n){alert("Error disconnecting account")}}const Nn=function(e){let{selectedContent:t,onClose:s,extractHashtags:n,getCustomerSocialAccounts:a,getCustomerName:i,showIntegration:o,updatePortfolioStatus:l,onRefreshScheduledPosts:c}=e;const d=(0,r.useRef)(null),[u,m]=(0,r.useState)({caption:"",hashtags:"",selectedImages:[],availableImages:[],platforms:[],platformSettings:{},scheduledDate:"",scheduledTime:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,postType:"feed"}),[h,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)([]),[v,y]=(0,r.useState)(null),[j,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(t){var e;b(a(t.customerId));const s=t.versions[t.versions.length-1],r=(null===s||void 0===s||null===(e=s.media)||void 0===e?void 0:e.filter(e=>e.url&&"string"===typeof e.url))||[],i=s.caption||"",o=s.hashtags||n(i),l=i.replace(/#[a-zA-Z0-9_]+/g,"").trim();m({caption:l,hashtags:o,selectedImages:r.length>0?[r[0]]:[],availableImages:r,platforms:[],platformSettings:{},scheduledDate:"",scheduledTime:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,postType:"feed"})}},[t,a]),(0,r.useEffect)(()=>{const e=e=>{if(e.origin!==window.location.origin)return;const s=e.data||{};if("SOCIAL_INTEGRATION_SUCCESS"===s.type&&s.customerId===(null===t||void 0===t?void 0:t.customerId)){const e=a(t.customerId);b(e)}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[t,a]);const N=(e,t)=>f.filter(e=>e.platform===t),k=(e,t)=>N(0,t).length>0,S=e=>{t&&m(t=>{const s=[...t.platforms],n=s.indexOf(e);if(n>-1){s.splice(n,1);const r={...t.platformSettings};return delete r[e],{...t,platforms:s,platformSettings:r}}{s.push(e);const n={...t.platformSettings,[e]:{accountId:"",pageId:"",channelId:"",linkedinAccountId:""}};return{...t,platforms:s,platformSettings:n}}})},_=(e,t,s)=>{m(n=>({...n,platformSettings:{...n.platformSettings,[e]:{...n.platformSettings[e],[t]:s}}}))},C=()=>{y(null)},A=e=>{if(!e)return!1;const t=e.split(".").pop().toLowerCase();return["mp4","webm","ogg","mov","avi","mkv","flv","wmv"].includes(t)},P=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!u.caption)return alert("Please enter a caption"),!1;if(0===u.platforms.length)return alert("Please select at least one platform"),!1;for(const s of u.platforms){const t=u.platformSettings[s];if(null===t||void 0===t||!t.accountId)return alert(`Please select a ${s} account`),!1;if("facebook"===s||"instagram"===s){if(!t.pageId)return alert(`Please select a ${s} page`),!1;if("instagram"===s&&0===u.selectedImages.length)return alert("Instagram requires at least one image"),!1;if("facebook"===s&&"story"===u.postType){if(0===u.selectedImages.length)return alert("Facebook Stories require at least one image or video"),!1;if(e)return alert('Facebook Stories cannot be scheduled far in advance. Please use "Post Now" for Stories.'),!1;const t=u.selectedImages[0];if(t&&t.url){if(!A(t.url)){const e=t.url.split(".").pop().toLowerCase();if(!["jpg","jpeg","png"].includes(e))return alert("Facebook Stories only support JPG and PNG images. Please select a different image or convert the format."),!1}}if(!window.confirm("Facebook Stories may not be available for all page types. If Stories posting fails, the system will automatically fallback to a regular Facebook post. Continue?"))return!1}}else if("youtube"===s){if(!t.channelId)return alert("Please select a YouTube channel"),!1;if(0===u.selectedImages.length)return alert("Please upload a video for YouTube post"),!1}}if(u.platforms.includes("youtube")&&u.selectedImages.length>1)return alert("YouTube only supports single video posts"),!1;if(u.platforms.includes("linkedin")&&!u.caption&&0===u.selectedImages.length)return alert("LinkedIn requires either text content or images"),!1;if(e&&(!u.scheduledDate||!u.scheduledTime))return alert("Please select a date and time for scheduling"),!1;if(e)for(const s of u.platforms)if(("facebook"===s||"instagram"===s)&&u.selectedImages.length>0){var t;const e=A(null===(t=u.selectedImages[0])||void 0===t?void 0:t.url),s="story"===u.postType;if(e&&!s)return alert('Scheduled video posts are not supported for Facebook or Instagram Feed. Please use "Post Now" for video content or post as Stories.'),!1}return!0},E=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const s=u.hashtags?`${u.caption}\n\n${u.hashtags}`:u.caption,n=[];for(const m of u.platforms){const h=u.platformSettings[m],x=a(t.customerId).find(e=>e._id===h.accountId);if(!x)throw new Error(`Selected ${m} account not found`);let p={caption:s,status:e?"pending":"publishing",contentId:t.id,customerId:t.customerId,platform:m,accountId:x._id,platformUserId:x.platformUserId,accessToken:x.accessToken,imageUrls:u.selectedImages.map(e=>e.url),isCarousel:u.selectedImages.length>1&&"youtube"!==m,timezone:u.timezone,calendar_id:t.calendar_id||t.calendarId||"",calendar_name:t.calendar_name||t.calendarName||"",item_id:t.item_id||t.itemId||t.id||"",item_name:t.item_name||t.itemName||t.title||"",postType:u.postType};if(e){const e=new Date(`${u.scheduledDate}T${u.scheduledTime}`);p.scheduledAt=e.toISOString()}else p.scheduledAt=(new Date).toISOString(),p.publishImmediately=!0;if("facebook"===m||"instagram"===m){var r,i,o;const e=null===(r=x.pages)||void 0===r?void 0:r.find(e=>e.id===h.pageId);if(!e)throw new Error(`Selected ${m} page not found`);if(!e.accessToken||e.accessToken.length<50)throw new Error(`Selected ${m} page does not have a valid access token`);var l;if(Object.assign(p,{imageUrl:(null===(i=u.selectedImages[0])||void 0===i?void 0:i.url)||"",pageId:h.pageId,pageName:e.name,pageAccessToken:e.accessToken,instagramId:"instagram"===m?null===(o=e.instagramBusinessAccount)||void 0===o?void 0:o.id:null}),u.selectedImages.length>1&&(p.useCarouselService=!0),"instagram"===m)if(null===(l=e.instagramBusinessAccount)||void 0===l||!l.id)throw new Error("Selected page does not have an Instagram Business Account connected")}else if("youtube"===m){var c,d;const e=null===(c=x.channels)||void 0===c?void 0:c.find(e=>e.id===h.channelId);if(!e)throw new Error("Selected YouTube channel not found");Object.assign(p,{videoUrl:(null===(d=u.selectedImages[0])||void 0===d?void 0:d.url)||"",channelId:h.channelId,channelName:e.name,youtubeAccessToken:x.accessToken})}else"linkedin"===m&&Object.assign(p,{linkedinAccountId:x.platformUserId,linkedinAccessToken:x.accessToken,mediaUrls:u.selectedImages.map(e=>e.url)});e&&(p.calendarId=t.calendar_id||t.calendarId,p.calendarName=t.calendar_name||t.calendarName,p.itemId=t.item_id||t.itemId,p.itemName=t.item_name||t.itemName),n.push(p)}return n},O=e=>{b(t=>t.filter(t=>t._id!==e)),m(t=>{const s=t.platforms.map(t=>({platform:t,account:f.find(s=>s._id===e&&s.platform===t)})).find(e=>e.account);if(!s)return t;const n=s.platform;return{...t,platformSettings:{...t.platformSettings,[n]:{...t.platformSettings[n],accountId:"",pageId:"",channelId:"",linkedinAccountId:""}}}})};return t?(0,Me.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,Me.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl",children:(0,Me.jsx)(gt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Post to Multiple Platforms"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"Select platforms, schedule for later or publish immediately"})]})]}),(0,Me.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-all duration-200",children:(0,Me.jsx)(ln,{className:"h-6 w-6"})})]}),(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 p-6 rounded-xl border border-gray-200",children:[(0,Me.jsx)("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:"Select Platforms (Multi-Select)"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 "+(u.platforms.includes("facebook")?"border-blue-500 bg-blue-50 shadow-md":k(null===t||void 0===t||t.customerId,"facebook")?"border-gray-300 hover:border-blue-400 hover:bg-blue-50":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),children:[(0,Me.jsx)("input",{type:"checkbox",name:"platforms",value:"facebook",checked:u.platforms.includes("facebook"),onChange:()=>k(null===t||void 0===t||t.customerId,"facebook")&&S("facebook"),disabled:!k(null===t||void 0===t||t.customerId,"facebook"),className:"sr-only"}),(0,Me.jsx)(dn,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-900",children:"Facebook"}),!k(null===t||void 0===t||t.customerId,"facebook")&&(0,Me.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:"No account connected"}),k(null===t||void 0===t||t.customerId,"facebook")&&(0,Me.jsx)("div",{className:"flex items-center mt-1",children:(0,Me.jsxs)("span",{className:"text-xs text-green-700 font-semibold flex items-center",children:[(0,Me.jsx)(bn,{className:"h-4 w-4 text-green-600 mr-1"}),"Connected"]})})]}),u.platforms.includes("facebook")&&(0,Me.jsx)(bn,{className:"h-5 w-5 text-blue-600 ml-auto"}),k(null===t||void 0===t||t.customerId,"facebook")?(()=>{const e=N(null===t||void 0===t||t.customerId,"facebook");return e.length>0?(0,Me.jsx)("button",{type:"button",onClick:async t=>{t.stopPropagation(),await wn(e[0]._id,null,O)},className:"ml-2 bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Disconnect"}):null})():(0,Me.jsx)("button",{type:"button",onClick:()=>o("facebook",null===t||void 0===t?void 0:t.customerId,i(null===t||void 0===t?void 0:t.customerId)),className:"ml-2 bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700",children:"Connect"})]}),(0,Me.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 "+(u.platforms.includes("instagram")?"border-pink-500 bg-pink-50 shadow-md":N(null===t||void 0===t||t.customerId,"instagram").length>0?"border-gray-300 hover:border-pink-400 hover:bg-pink-50":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),children:[(0,Me.jsx)("input",{type:"checkbox",name:"platforms",value:"instagram",checked:u.platforms.includes("instagram"),onChange:()=>N(null===t||void 0===t||t.customerId,"instagram").length>0&&S("instagram"),disabled:0===N(null===t||void 0===t||t.customerId,"instagram").length,className:"sr-only"}),(0,Me.jsx)(un,{className:"h-6 w-6 text-pink-600 mr-3"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-900",children:"Instagram"}),0===N(null===t||void 0===t||t.customerId,"instagram").length&&(0,Me.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:"No account connected"}),N(null===t||void 0===t||t.customerId,"instagram").length>0&&(0,Me.jsx)("div",{className:"flex items-center mt-1",children:(0,Me.jsxs)("span",{className:"text-xs text-green-700 font-semibold flex items-center",children:[(0,Me.jsx)(bn,{className:"h-4 w-4 text-green-600 mr-1"}),"Connected"]})})]}),u.platforms.includes("instagram")&&(0,Me.jsx)(bn,{className:"h-5 w-5 text-pink-600 ml-auto"}),0===N(null===t||void 0===t||t.customerId,"instagram").length?(0,Me.jsx)("button",{type:"button",onClick:()=>o("instagram",null===t||void 0===t?void 0:t.customerId,i(null===t||void 0===t?void 0:t.customerId)),className:"ml-2 bg-pink-600 text-white px-2 py-1 rounded text-xs hover:bg-pink-700",children:"Connect"}):(()=>{const e=N(null===t||void 0===t||t.customerId,"instagram");return e.length>0?(0,Me.jsx)("button",{type:"button",onClick:async t=>{t.stopPropagation(),await wn(e[0]._id,null,O)},className:"ml-2 bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Disconnect"}):null})()]}),(0,Me.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 "+(u.platforms.includes("youtube")?"border-red-500 bg-red-50 shadow-md":k(null===t||void 0===t||t.customerId,"youtube")?"border-gray-300 hover:border-red-400 hover:bg-red-50":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),children:[(0,Me.jsx)("input",{type:"checkbox",name:"platforms",value:"youtube",checked:u.platforms.includes("youtube"),onChange:()=>k(null===t||void 0===t||t.customerId,"youtube")&&S("youtube"),disabled:!k(null===t||void 0===t||t.customerId,"youtube"),className:"sr-only"}),(0,Me.jsx)(vn,{className:"h-6 w-6 text-red-600 mr-3"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-900",children:"YouTube"}),!k(null===t||void 0===t||t.customerId,"youtube")&&(0,Me.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:"Not available"}),k(null===t||void 0===t||t.customerId,"youtube")&&(0,Me.jsx)("div",{className:"flex items-center mt-1",children:(0,Me.jsxs)("span",{className:"text-xs text-green-700 font-semibold flex items-center",children:[(0,Me.jsx)(bn,{className:"h-4 w-4 text-green-600 mr-1"}),"Connected"]})})]}),u.platforms.includes("youtube")&&(0,Me.jsx)(bn,{className:"h-5 w-5 text-red-600 ml-auto"}),k(null===t||void 0===t||t.customerId,"youtube")?(()=>{const e=N(null===t||void 0===t||t.customerId,"youtube");return e.length>0?(0,Me.jsx)("button",{type:"button",onClick:async t=>{t.stopPropagation(),await wn(e[0]._id,null,O)},className:"ml-2 bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Disconnect"}):null})():(0,Me.jsx)("button",{type:"button",onClick:()=>o("youtube",null===t||void 0===t?void 0:t.customerId,i(null===t||void 0===t?void 0:t.customerId)),className:"ml-2 bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Connect"})]}),(0,Me.jsxs)("label",{className:"flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 "+(u.platforms.includes("linkedin")?"border-blue-500 bg-blue-50 shadow-md":k(null===t||void 0===t||t.customerId,"linkedin")?"border-gray-300 hover:border-blue-400 hover:bg-blue-50":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-60"),children:[(0,Me.jsx)("input",{type:"checkbox",name:"platforms",value:"linkedin",checked:u.platforms.includes("linkedin"),onChange:()=>k(null===t||void 0===t||t.customerId,"linkedin")&&S("linkedin"),disabled:!k(null===t||void 0===t||t.customerId,"linkedin"),className:"sr-only"}),(0,Me.jsx)(yn,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-900",children:"LinkedIn"}),!k(null===t||void 0===t||t.customerId,"linkedin")&&(0,Me.jsx)("div",{className:"text-xs text-orange-600 mt-1",children:"No account connected"}),k(null===t||void 0===t||t.customerId,"linkedin")&&(0,Me.jsx)("div",{className:"flex items-center mt-1",children:(0,Me.jsxs)("span",{className:"text-xs text-green-700 font-semibold flex items-center",children:[(0,Me.jsx)(bn,{className:"h-4 w-4 text-green-600 mr-1"}),"Connected"]})})]}),u.platforms.includes("linkedin")&&(0,Me.jsx)(bn,{className:"h-5 w-5 text-blue-600 ml-auto"}),k(null===t||void 0===t||t.customerId,"linkedin")?(()=>{const e=N(null===t||void 0===t||t.customerId,"linkedin");return e.length>0?(0,Me.jsx)("button",{type:"button",onClick:async t=>{t.stopPropagation(),await wn(e[0]._id,null,O)},className:"ml-2 bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Disconnect"}):null})():(0,Me.jsx)("button",{type:"button",onClick:()=>o("linkedin",null===t||void 0===t?void 0:t.customerId,i(null===t||void 0===t?void 0:t.customerId)),className:"ml-2 bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700",children:"Connect"})]})]}),u.platforms.length>0&&(0,Me.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,Me.jsxs)("p",{className:"text-sm text-green-800 font-medium",children:["Selected platforms: ",u.platforms.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]}),u.platforms.includes("youtube")&&u.platforms.length>1&&(0,Me.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"\u26a0\ufe0f Note: YouTube only supports single video posts, while other platforms support multiple images/carousel posts."})]})]}),u.platforms.length>0&&(0,Me.jsx)("div",{className:"space-y-6",children:u.platforms.map(e=>{var s,n,r,i,o;return(0,Me.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 capitalize flex items-center",children:["facebook"===e&&(0,Me.jsx)(dn,{className:"h-5 w-5 text-blue-600 mr-2"}),"instagram"===e&&(0,Me.jsx)(un,{className:"h-5 w-5 text-pink-600 mr-2"}),"youtube"===e&&(0,Me.jsx)(vn,{className:"h-5 w-5 text-red-600 mr-2"}),"linkedin"===e&&(0,Me.jsx)(yn,{className:"h-5 w-5 text-blue-600 mr-2"}),e," Settings"]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",e," Account"]}),(0,Me.jsxs)("select",{value:(null===(s=u.platformSettings[e])||void 0===s?void 0:s.accountId)||"",onChange:t=>_(e,"accountId",t.target.value),className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0,children:[(0,Me.jsx)("option",{value:"",children:"Choose an account"}),N(null===t||void 0===t||t.customerId,e).map(e=>(0,Me.jsxs)("option",{value:e._id,children:[e.name," (",e.platform,")"]},e._id))]})]}),("facebook"===e||"instagram"===e)&&(null===(n=u.platformSettings[e])||void 0===n?void 0:n.accountId)&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Page"}),(0,Me.jsxs)("select",{value:(null===(r=u.platformSettings[e])||void 0===r?void 0:r.pageId)||"",onChange:t=>_(e,"pageId",t.target.value),className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0,children:[(0,Me.jsx)("option",{value:"",children:"Choose a page"}),(s=>{const n=a(null===t||void 0===t?void 0:t.customerId).find(t=>{var s;return t._id===(null===(s=u.platformSettings[e])||void 0===s?void 0:s.accountId)});return(null===n||void 0===n||null===(s=n.pages)||void 0===s?void 0:s.map(t=>(0,Me.jsxs)("option",{value:t.id,children:[t.name,!t.accessToken&&" (\u26a0\ufe0f No token)","instagram"===e&&!t.instagramBusinessAccount&&" (No Instagram)"]},t.id)))||[]})()]})]}),"youtube"===e&&(null===(i=u.platformSettings[e])||void 0===i?void 0:i.accountId)&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Channel"}),(0,Me.jsxs)("select",{value:(null===(o=u.platformSettings[e])||void 0===o?void 0:o.channelId)||"",onChange:t=>_(e,"channelId",t.target.value),className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",required:!0,children:[(0,Me.jsx)("option",{value:"",children:"Choose a channel"}),(s=>{const n=a(null===t||void 0===t?void 0:t.customerId).find(t=>{var s;return t._id===(null===(s=u.platformSettings[e])||void 0===s?void 0:s.accountId)});return(null===n||void 0===n||null===(s=n.channels)||void 0===s?void 0:s.map(e=>(0,Me.jsxs)("option",{value:e.id,children:[e.name,!n.accessToken&&" (\u26a0\ufe0f No token)"]},e.id)))||[]})()]})]})]})]},e)})}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-lg font-semibold text-gray-900 mb-3",children:"Caption"}),(0,Me.jsx)("textarea",{value:u.caption,onChange:e=>m(t=>({...t,caption:e.target.value})),rows:4,className:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"Write your post caption..."})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Me.jsx)(Qs,{className:"h-5 w-5 mr-2"}),"Hashtags"]}),(0,Me.jsx)("textarea",{value:u.hashtags,onChange:e=>m(t=>({...t,hashtags:e.target.value})),rows:3,className:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"#example #hashtags #social"})]})]}),u.platforms.some(e=>["facebook","instagram","youtube","linkedin"].includes(e))&&(0,Me.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[(0,Me.jsxs)("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:["Media Selection",(u.platforms.includes("youtube")||u.platforms.includes("instagram"))&&(0,Me.jsx)("span",{className:"text-red-500",children:"*"}),u.platforms.includes("youtube")&&(0,Me.jsx)("span",{className:"text-sm text-orange-600 ml-2",children:"(YouTube: Single video only)"}),u.platforms.some(e=>["facebook","instagram","linkedin"].includes(e))&&u.availableImages.length>1&&(0,Me.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"(Carousel supported - up to 10 media)"})]}),u.availableImages.length>0&&(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Available Media from Content (",u.availableImages.length,")"]}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[u.availableImages.length>1&&!u.platforms.includes("youtube")&&(0,Me.jsx)("button",{type:"button",onClick:()=>{const e=u.platforms.includes("youtube")?1:10,t=u.availableImages.slice(0,e);m(e=>({...e,selectedImages:t}))},className:"text-xs px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200",children:"Select All"}),(0,Me.jsx)("button",{type:"button",onClick:()=>{m(e=>({...e,selectedImages:[]}))},className:"text-xs px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-200",children:"Clear All"})]})]}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:u.availableImages.map((e,t)=>{const s=u.selectedImages.some(t=>t.url===e.url);return(0,Me.jsxs)("div",{className:"relative border-2 rounded-lg overflow-hidden cursor-pointer transition-all duration-200 "+(s?"border-blue-500 shadow-lg ring-2 ring-blue-200 transform scale-105":"border-gray-300 hover:border-blue-400 hover:shadow-md"),onClick:()=>(e=>{m(t=>{if(t.selectedImages.some(t=>t.url===e.url))return{...t,selectedImages:t.selectedImages.filter(t=>t.url!==e.url)};{const s=t.platforms.includes("youtube")?1:10;if(t.selectedImages.length<s)return{...t,selectedImages:[...t.selectedImages,e]}}return t})})(e),children:["video"===e.type?(0,Me.jsxs)("div",{className:"w-full h-24 bg-gray-200 flex items-center justify-center",children:[(0,Me.jsx)(hn,{className:"h-8 w-8 text-gray-500"}),(0,Me.jsx)("span",{className:"ml-2 text-xs text-gray-600",children:"Video"})]}):(0,Me.jsx)("img",{src:e.url,alt:`Available ${e.type} ${t+1}`,className:"w-full h-24 object-cover"}),(0,Me.jsx)("div",{className:"absolute top-2 right-2 w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200 "+(s?"bg-blue-500 text-white shadow-lg":"bg-white/80 text-gray-600 border-2 border-gray-300"),children:s?(0,Me.jsx)(bn,{className:"h-4 w-4"}):(0,Me.jsx)("span",{children:t+1})}),s&&(0,Me.jsx)("div",{className:"absolute top-2 left-2 bg-blue-500 text-white w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold shadow-lg",children:u.selectedImages.findIndex(t=>t.url===e.url)+1})]},`${e.url}-${t}`)})}),u.selectedImages.length>0&&(0,Me.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border-2 border-blue-200 rounded-xl",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"text-sm font-semibold text-blue-800",children:[u.selectedImages.length," media selected",u.selectedImages.length>1&&!u.platforms.includes("youtube")&&" (Multi-platform carousel post)"]}),u.platforms.includes("instagram")&&u.selectedImages.length>10&&(0,Me.jsx)("span",{className:"text-xs text-red-600 font-semibold",children:"Instagram allows max 10 media"})]})})]}),0===u.availableImages.length&&(0,Me.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border-2 border-yellow-200 rounded-xl",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(We,{className:"h-5 w-5 text-yellow-600 mr-2"}),(0,Me.jsx)("span",{className:"text-sm text-yellow-800",children:"No media available from the selected content for the selected platforms."})]})}),u.selectedImages.length>0&&(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 flex items-center",children:[(0,Me.jsx)(jn,{className:"h-4 w-4 mr-2"}),"Carousel Preview (Drag to reorder)"]}),(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:[u.selectedImages.length," / ",u.platforms.includes("youtube")?"1":"10"," items"]})]}),(0,Me.jsx)("div",{className:"grid grid-cols-5 gap-3",children:u.selectedImages.map((e,t)=>(0,Me.jsxs)("div",{draggable:!0,onDragStart:e=>((e,t)=>{y(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:e=>((e,t)=>{if(e.preventDefault(),null===v||v===t)return;const s=[...u.selectedImages],n=s[v];s.splice(v,1),s.splice(t,0,n),m(e=>({...e,selectedImages:s})),y(t)})(e,t),onDragEnd:C,className:`relative border-2 rounded-lg overflow-hidden cursor-move transition-all duration-200 ${v===t?"opacity-50 scale-95":"hover:shadow-lg"} border-blue-400 bg-white`,children:[A(e.url)?(0,Me.jsx)("div",{className:"w-full h-20 bg-gray-800 flex items-center justify-center",children:(0,Me.jsx)(hn,{className:"h-6 w-6 text-white"})}):(0,Me.jsx)("img",{src:e.url,alt:`Carousel item ${t+1}`,className:"w-full h-20 object-cover"}),(0,Me.jsx)("div",{className:"absolute top-1 left-1 bg-blue-600 text-white w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold",children:t+1}),(0,Me.jsx)("button",{type:"button",onClick:()=>(e=>{m(t=>({...t,selectedImages:t.selectedImages.filter((t,s)=>s!==e)}))})(t),className:"absolute top-1 right-1 bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:(0,Me.jsx)(Ms,{className:"h-3 w-3"})})]},`selected-${t}`))})]}),(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-all duration-200",children:[(0,Me.jsx)("input",{ref:d,type:"file",accept:u.platforms.includes("youtube")?"video/*":"image/*,video/*",multiple:!u.platforms.includes("youtube"),onChange:e=>{const t=e.target.files;t&&t.length>0&&(1===t.length?(async e=>{try{if(e.size>5242880)return void alert("File too large. Please choose a file smaller than 5MB.");const t=new FileReader;t.onload=async t=>{try{const s=t.target.result.split(",")[1],n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/gcs/upload-base64",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:`${Date.now()}_${e.name.replace(/[^\w.-]/g,"_")}`,contentType:e.type,base64Data:s})});if(!n.ok)throw new Error(`Upload failed: ${n.status}`);const r={url:(await n.json()).publicUrl,type:e.type.startsWith("video/")?"video":"image"};m(e=>({...e,availableImages:[...e.availableImages,r],selectedImages:[...e.selectedImages,r]}))}catch(s){console.error("Base64 upload failed:",s),alert("File upload failed. Please try again.")}},t.readAsDataURL(e)}catch(t){console.error("File upload failed:",t),alert("File upload failed. Please try again.")}})(t[0]):(async e=>{if(0===e.length)return;const t=u.platforms.includes("youtube")?1:10,s=t-u.selectedImages.length;if(s<=0)return void alert(`Maximum ${t} items allowed for carousel`);const n=Array.from(e).slice(0,s);w(!0);try{const e=[];for(const t of n)if(t.size>104857600)console.warn(`File ${t.name} is too large, skipping...`);else try{const s=await new Promise((e,s)=>{const n=new FileReader;n.onload=t=>e(t.target.result.split(",")[1]),n.onerror=s,n.readAsDataURL(t)}),n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/gcs/upload-base64",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:`${Date.now()}_${t.name.replace(/[^\w.-]/g,"_")}`,contentType:t.type,base64Data:s})});if(!n.ok)throw new Error(`Upload failed: ${n.status}`);const r=await n.json();e.push({url:r.publicUrl,type:t.type.startsWith("video/")?"video":"image"})}catch(r){console.error(`Failed to upload ${t.name}:`,r)}e.length>0&&m(t=>({...t,availableImages:[...t.availableImages,...e],selectedImages:[...t.selectedImages,...e]}))}catch(r){console.error("Carousel upload failed:",r),alert("Some files failed to upload. Please try again.")}finally{w(!1)}})(t))},className:"hidden"}),j?(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)(cn,{className:"h-8 w-8 text-blue-600 animate-spin mb-3"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Uploading carousel items..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Rs,{className:"h-8 w-8 mx-auto mb-3 text-gray-400"}),(u.platforms.includes("instagram")||u.platforms.includes("facebook"))&&(0,Me.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-3",children:[(0,Me.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,Me.jsx)("input",{type:"radio",name:"postType",value:"feed",checked:"feed"===u.postType,onChange:()=>m(e=>({...e,postType:"feed"})),className:"form-radio"}),"Feed"]}),u.platforms.includes("instagram")&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,Me.jsx)("input",{type:"radio",name:"postType",value:"story",checked:"story"===u.postType,onChange:()=>m(e=>({...e,postType:"story"})),className:"form-radio"}),"Story"]}),(0,Me.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,Me.jsx)("input",{type:"radio",name:"postType",value:"reel",checked:"reel"===u.postType,onChange:()=>m(e=>({...e,postType:"reel"})),className:"form-radio"}),"Reel"]})]}),u.platforms.includes("facebook")&&(0,Me.jsxs)("label",{className:"text-sm flex items-center gap-2",children:[(0,Me.jsx)("input",{type:"radio",name:"postType",value:"story",checked:"story"===u.postType,onChange:()=>m(e=>({...e,postType:"story"})),className:"form-radio"}),"FB Story"]})]}),(0,Me.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.click()},className:"text-blue-600 hover:text-blue-800 font-semibold text-sm transition-colors duration-200",children:u.platforms.includes("youtube")?"Upload Video":"Upload Multiple Files for Carousel"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:u.platforms.includes("youtube")?"Single video only (Max 100MB)":"Select multiple files (2-10 items, Max 100MB each)"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-xl border border-purple-200",children:[(0,Me.jsx)("label",{className:"block text-lg font-semibold text-gray-900 mb-4",children:"Schedule Time (Optional for Post Now)"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,Me.jsx)("input",{type:"date",value:u.scheduledDate,onChange:e=>m(t=>({...t,scheduledDate:e.target.value})),className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time"}),(0,Me.jsx)("input",{type:"time",value:u.scheduledTime,onChange:e=>m(t=>({...t,scheduledTime:e.target.value})),className:"w-full border-2 border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200"})]})]})]}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[(0,Me.jsx)("button",{onClick:s,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-xl font-semibold hover:bg-gray-300 transition-all duration-200",children:"Cancel"}),(0,Me.jsx)("button",{onClick:async()=>{if(P(!1)){g(!0);try{const n=E(!1),r=[],a=[];for(const t of n)try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/immediate-posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();e.ok?r.push(`\u2705 ${t.platform}: Posted successfully`):a.push(`\u274c ${t.platform}: ${s.error||"Failed to post"}`)}catch(e){a.push(`\u274c ${t.platform}: ${e.message}`)}let i="";r.length>0&&(i+="Successfully posted:\n"+r.join("\n")+"\n",l(t.id,t.customerId)),a.length>0&&(i+="\nErrors:\n"+a.join("\n")),alert(i||"All posts published successfully!"),r.length>0&&(c(),s())}catch(e){console.error("Post now error:",e),alert(`Failed to publish posts: ${e.message}`)}finally{g(!1)}}},disabled:p||h||0===u.platforms.length,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white py-3 px-6 rounded-xl font-semibold hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:p?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin"}),(0,Me.jsxs)("span",{children:["Publishing to ",u.platforms.length," platform",1!==u.platforms.length?"s":"","..."]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(ct,{className:"h-5 w-5"}),(0,Me.jsxs)("span",{children:["Post Now to ",u.platforms.length," Platform",1!==u.platforms.length?"s":""]})]})}),(0,Me.jsx)("button",{onClick:async()=>{if(P(!0)){x(!0);try{const n=E(!0),r=[],a=[];for(const s of n)try{var e;const t="https://my-backend-593529385135.asia-south1.run.app/api/scheduled-posts";console.log(`\ud83d\udce4 Scheduling ${s.platform} post:`,{platform:s.platform,scheduledAt:s.scheduledAt,mediaCount:(null===(e=s.imageUrls)||void 0===e?void 0:e.length)||0,isCarousel:s.isCarousel});const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(n.ok)r.push(`\u2705 ${s.platform}: Scheduled successfully`);else{const e=await n.json();a.push(`\u274c ${s.platform}: ${e.error||"Failed to schedule"}`)}}catch(t){a.push(`\u274c ${s.platform}: ${t.message}`)}let i="";r.length>0&&(i+=r.join("\n")+"\n"),a.length>0&&(i+="\nErrors:\n"+a.join("\n")),alert(i||"All posts scheduled successfully!"),r.length>0&&(c(),s())}catch(t){console.error("Schedule posts error:",t),alert(`Failed to schedule posts: ${t.message}`)}finally{x(!1)}}},disabled:h||p||0===u.platforms.length,className:"flex-1 bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 px-6 rounded-xl font-semibold hover:from-blue-700 hover:to-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:h?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin"}),(0,Me.jsx)("span",{children:"Scheduling..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gt,{className:"h-5 w-5"}),(0,Me.jsxs)("span",{children:["Schedule for ",u.platforms.length," Platform",1!==u.platforms.length?"s":""]})]})})]})]})]})})}):null};const kn=function(e){var t,s,n;let{selectedContent:a,getCustomerName:i,formatDate:o,getStatusColor:l,getStatusIcon:c,isContentPublished:d,getPublishedPlatformsForContent:u,handleScheduleContent:m,isVideoUrl:h,calendarName:x,itemName:p,onDeleteVersion:g}=e;const[f,b]=(0,r.useState)(0),[v,y]=(0,r.useState)(0),[j,w]=(0,r.useState)([]),[N,k]=(0,r.useState)([]),[S,_]=(0,r.useState)(null),[C,A]=(0,r.useState)(null);return(0,r.useEffect)(()=>{a&&(b(a.versions.length-1),y(0))},[a]),(0,r.useEffect)(()=>{a&&a.versions&&a.versions[f]?w(a.versions[f].comments||[]):w([])},[a,f]),(0,r.useEffect)(()=>{const e=j.filter(e=>(void 0!==e.mediaIndex?e.mediaIndex:0)===v);k(e)},[j,v]),a?(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 p-8",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[x&&(0,Me.jsxs)("div",{className:"mb-2 text-xs text-gray-500",children:[(0,Me.jsx)("span",{className:"font-semibold text-blue-700",children:"Calendar:"})," ",x]}),p&&(0,Me.jsxs)("div",{className:"mb-2 text-xs text-gray-500",children:[(0,Me.jsx)("span",{className:"font-semibold text-purple-700",children:"Item:"})," ",p]}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:a.description}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Customer"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900 font-semibold",children:i(a.customerId)})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Platform"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900",children:a.platform})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Total Versions"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900",children:a.totalVersions})]})]})]})]}),(0,Me.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Me.jsxs)("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium border ${l(d(a.id)?"published":a.status)}`,children:[c(d(a.id)?"published":a.status),(0,Me.jsx)("span",{className:"ml-2",children:d(a.id)?"PUBLISHED":a.status.replace("_"," ").toUpperCase()}),d(a.id)&&(0,Me.jsx)("span",{className:"ml-2 text-xs text-blue-600",children:u(a.id).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")})]}),(0,Me.jsxs)("button",{onClick:()=>m(a),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-cyan-700 transition-all duration-200",children:[(0,Me.jsx)(gt,{className:"h-5 w-5 mr-2"}),"Post Content"]})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,Me.jsx)("div",{className:"xl:col-span-2",children:(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-4 border-b border-gray-200/50 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[(0,Me.jsx)(gn,{className:"h-5 w-5 text-purple-600 mr-2"}),"Version ",null===(t=a.versions[f])||void 0===t?void 0:t.versionNumber,(0,Me.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["of ",a.totalVersions]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{f>0&&(b(f-1),y(0))},disabled:0===f,className:"p-2 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Os,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>{f<a.versions.length-1&&(b(f+1),y(0))},disabled:f===a.versions.length-1,className:"p-2 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Ds,{className:"h-4 w-4"})})]})]})}),(0,Me.jsx)("div",{className:"p-6",children:a.versions[f]&&(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"text-center",children:a.versions[f].media&&a.versions[f].media.length>0?(0,Me.jsxs)("div",{className:"relative",children:[a.versions[f].media.length>1&&(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[v+1," of ",a.versions[f].media.length]}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)("button",{onClick:()=>{v>0&&y(v-1)},disabled:0===v,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Os,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>{v<a.versions[f].media.length-1&&y(v+1)},disabled:v===a.versions[f].media.length-1,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Ds,{className:"h-4 w-4"})})]})]}),a.versions[f].media[v]&&a.versions[f].media[v].url&&"string"===typeof a.versions[f].media[v].url?h(a.versions[f].media[v].url)?(0,Me.jsx)("video",{src:a.versions[f].media[v].url,controls:!0,className:"max-w-full h-auto max-h-96 mx-auto rounded-xl shadow-lg border border-gray-200",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Me.jsx)("img",{src:a.versions[f].media[v].url,alt:`Version ${a.versions[f].versionNumber} - Media ${v+1}`,className:"max-w-full h-auto max-h-96 mx-auto rounded-xl shadow-lg border border-gray-200",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Me.jsx)("div",{className:"max-w-full h-96 bg-gray-200 rounded-xl flex items-center justify-center",style:{display:null!==(s=a.versions[f].media[v])&&void 0!==s&&s.url&&"string"===typeof a.versions[f].media[v].url?"none":"flex"},children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Media unavailable"})]})}),N.map((e,t)=>{var s,n,r;let i=40,o="auto";const l=document.querySelector(`img[alt*="Version ${a.versions[f].versionNumber}"], video`);l&&l.width&&(e.x||(null===(s=e.position)||void 0===s?void 0:s.x))>l.width/2&&(i="auto",o=40);const c=e.x||(null===(n=e.position)||void 0===n?void 0:n.x)||0,d=e.y||(null===(r=e.position)||void 0===r?void 0:r.y)||0;return(0,Me.jsxs)("div",{style:{position:"absolute",top:d-16,left:c-16,width:32,height:32,background:e.done?"#10b981":"#ef4444",color:"#fff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px",boxShadow:"0 4px 12px rgba(0,0,0,0.25)",cursor:"pointer",zIndex:2,border:"3px solid #fff",transition:"all 0.3s"},onMouseEnter:()=>A(e.id),onMouseLeave:()=>A(null),onClick:t=>{t.stopPropagation(),_(S===e.id?null:e.id)},children:[t+1,(S===e.id||C===e.id)&&(0,Me.jsx)("div",{style:{position:"absolute",left:i,right:o,top:"50%",transform:"translateY(-50%)",background:"#fff",border:"2px solid #3b82f6",borderRadius:"12px",padding:"16px",minWidth:"280px",maxWidth:"320px",zIndex:10,boxShadow:"0 8px 32px rgba(59,130,246,0.2)"},onClick:e=>e.stopPropagation(),children:(0,Me.jsxs)("div",{className:"mb-3",children:[(0,Me.jsxs)("p",{className:"font-semibold text-gray-900 text-sm leading-relaxed break-words",children:[e.message||e.comment,e.done&&(0,Me.jsx)("span",{className:"text-green-600 ml-2",children:"\u2713 Done"})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp?new Date(e.timestamp).toLocaleString():""})]})})]},e.id)})]}):(0,Me.jsx)("div",{className:"max-w-full h-96 bg-gray-200 rounded-xl flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No media available"})]})})}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-gray-900",children:a.versions[f].caption||"No caption"})})]}),a.versions[f].hashtags&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-gray-900",children:a.versions[f].hashtags})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-gray-900",children:a.versions[f].notes||"No notes"})})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Me.jsxs)("span",{children:["Created: ",o(a.versions[f].createdAt)]}),(0,Me.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${l(a.versions[f].status)}`,children:a.versions[f].status.replace("_"," ").toUpperCase()})]})]})]})})]})}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-4 border-b border-gray-200/50 bg-gradient-to-r from-green-50 to-emerald-50",children:(0,Me.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[(0,Me.jsx)(Ps,{className:"h-5 w-5 text-green-600 mr-2"}),"Version History"]})}),(0,Me.jsx)("div",{className:"max-h-96 overflow-y-auto p-0",children:(0,Me.jsx)("div",{className:"divide-y divide-gray-100",children:a.versions.map((e,t)=>{const s=new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsxs)("button",{onClick:()=>{b(t),y(0)},className:"w-full text-left px-6 py-4 flex flex-col border-l-4 transition-all duration-200 hover:bg-gray-50 "+(f===t?"bg-purple-50 border-l-purple-600":"bg-white border-l-transparent"),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"font-semibold text-gray-900 text-base",children:["Version ",e.versionNumber]}),f===t&&(0,Me.jsx)("span",{className:"ml-2 text-xs font-medium text-purple-700 bg-purple-100 px-2 py-1 rounded-full",children:"Current"})]}),(0,Me.jsxs)("div",{className:"flex items-center mt-1 text-xs text-gray-500 gap-2",children:[(0,Me.jsxs)("span",{className:"flex items-center",children:[(0,Me.jsx)(xt,{className:"h-3 w-3 mr-1"}),s]}),e.media&&e.media.length>0&&(0,Me.jsxs)("span",{className:"flex items-center ml-2",children:[(0,Me.jsx)(gn,{className:"h-3 w-3 mr-1"}),e.media.length," media"]}),e.comments&&e.comments.length>0&&(0,Me.jsxs)("span",{className:"flex items-center ml-2",children:[(0,Me.jsx)(fn,{className:"h-3 w-3 mr-1"}),e.comments.length," comments"]})]})]}),(0,Me.jsx)("button",{className:"absolute top-4 right-4 p-1 bg-white rounded-full shadow hover:bg-red-100 transition",title:"Delete Version",onClick:()=>{window.confirm("Are you sure you want to delete this version?")&&g(e.id,a.id,a.customerId)},style:{zIndex:10},children:(0,Me.jsx)(Ms,{className:"h-4 w-4 text-red-500"})})]},e.id)})})})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-4 border-b border-gray-200/50 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Me.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[(0,Me.jsx)(fn,{className:"h-5 w-5 text-purple-600 mr-2"}),"Comments for Version ",null===(n=a.versions[f])||void 0===n?void 0:n.versionNumber," - Media ",v+1," (",N.length,")"]})}),(0,Me.jsx)("div",{className:"max-h-80 overflow-y-auto p-4",children:0===N.length?(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:(0,Me.jsx)(fn,{className:"h-6 w-6 text-gray-400"})}),(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"No comments for this media item"})]}):(0,Me.jsx)("div",{className:"space-y-3",children:N.map((e,t)=>{var s,n;return(0,Me.jsx)("div",{className:"p-3 rounded-lg border cursor-pointer transition-all duration-200 "+(S===e.id?"bg-blue-50 border-blue-200 shadow-md":"bg-gray-50 hover:bg-gray-100/50 border-gray-200 hover:border-gray-300/50"),onClick:()=>_(S===e.id?null:e.id),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("span",{className:"font-bold text-purple-600 bg-purple-100 rounded-full w-6 h-6 flex items-center justify-center text-xs flex-shrink-0",children:t+1}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900 break-words",children:[e.message||e.comment,e.done&&(0,Me.jsx)("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:"\u2713 Done"})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp?new Date(e.timestamp).toLocaleString():""}),(0,Me.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Position: (",Math.round(e.x||(null===(s=e.position)||void 0===s?void 0:s.x)||0),", ",Math.round(e.y||(null===(n=e.position)||void 0===n?void 0:n.y)||0),")"]})]})]})},e.id||t)})})})]})]})]})]}):null},Sn=Ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),_n=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Cn=(e,t)=>{let{platform:s,customer:n,onConnectionSuccess:a,onClose:i,compact:o=!1}=e;const[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{"facebook"!==s&&"instagram"!==s||g(),b()},[s,n]);const g=()=>new Promise(e=>{if(window.FB)return void e();window.fbAsyncInit=function(){window.FB.init({appId:"4416243821942660",cookie:!0,xfbml:!0,version:"v18.0"}),e()};const t=document.createElement("script");t.async=!0,t.defer=!0,t.crossOrigin="anonymous",t.src="https://connect.facebook.net/en_US/sdk.js",document.head.appendChild(t)}),f=e=>e&&(e.id||e._id||e.customerId)||"",b=async()=>{try{const t=f(n);if(!t)return void console.warn("fetchExistingConnections: missing customer id");const s=[];s.push(`${"https://my-backend-593529385135.asia-south1.run.app".replace(/\/$/,"")}/api/customer-social-links/${t}`),s.push(`/api/customer-social-links/${t}`);let r=null;for(const n of s)try{const e=await fetch(n);if(!e.ok){const t=await e.text().catch(()=>"");console.warn("fetchExistingConnections: non-ok response",n,e.status,t);continue}r=await e.json();break}catch(e){console.warn("fetchExistingConnections: fetch error for",n,e.message);continue}r&&r.success&&r.data?p(r.data.socialAccounts||[]):r&&!r.success&&console.warn("fetchExistingConnections: API returned error payload",r)}catch(d){console.error("Error fetching existing connections:",d)}},v=async()=>{c(!0),u(""),h("");try{await g(),window.FB.login(e=>{if("connected"===e.status){const t=e.authResponse.accessToken,s=e.authResponse.userID;console.log("\u2705 Facebook login successful, fetching user data..."),y(t,s)}else u("Facebook login was cancelled"),c(!1)},{scope:"pages_show_list,pages_read_engagement,pages_manage_posts,pages_manage_metadata,instagram_basic,instagram_content_publish,business_management",return_scopes:!0,auth_type:"rerequest"})}catch(e){u("Failed to connect to Facebook: "+e.message),c(!1)}},y=async(e,t)=>{try{window.FB.api("/me",{fields:"id,name,email,picture",access_token:e},async function(r){if(!r||r.error)return u("Failed to fetch Facebook user info"),void c(!1);console.log("\ud83d\udd04 Exchanging for long-lived token...");const a=await(async(e,t)=>{try{console.log("\ud83d\udd04 Requesting long-lived token via backend...");const r=[];r.push(`${"https://my-backend-593529385135.asia-south1.run.app".replace(/\/$/,"")}/api/facebook/exchange-token`),r.push("/api/facebook/exchange-token");let a=null;for(const s of r)try{const n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortLivedToken:e,userId:t})});if(!n.ok){console.warn("requestLongLivedToken: non-ok response",s,n.status);continue}a=await n.json();break}catch(n){console.warn("requestLongLivedToken: request failed for",s,n.message);continue}if(a&&a.success&&a.longLivedToken){console.log("\u2705 Received long-lived token (expires in",a.expiresIn,"seconds)");const e=a.expiresIn?new Date(Date.now()+1e3*a.expiresIn).toISOString():new Date(Date.now()+5184e6).toISOString();return{token:a.longLivedToken,expiresAt:e,tokenType:"long_lived"}}var s;return console.warn("\u26a0\ufe0f Failed to get long-lived token:",(null===(s=a)||void 0===s?void 0:s.error)||"Unknown error"),null}catch(d){return console.warn("\u26a0\ufe0f Error requesting long-lived token:",d),null}})(e,t),i=a?a.token:e,o=a?a.expiresAt:null;a?console.log("\u2705 Using long-lived user token"):console.log("\u26a0\ufe0f Using short-lived user token (fallback)"),window.FB.api(`/${t}/accounts`,{fields:"id,name,access_token,category,instagram_business_account{id,name,username,profile_picture_url}",access_token:i},async function(e){var l,m,h;if(!e||e.error)return u("Failed to fetch Facebook pages: "+((null===(h=e.error)||void 0===h?void 0:h.message)||"Unknown error")),void c(!1);console.log("\ud83d\udd04 Getting never-expiring page tokens...");let x=e.data.map(e=>({id:e.id,name:e.name,category:e.category,accessToken:e.access_token,instagramBusinessAccount:e.instagram_business_account||null}));if(x=await(async(e,t,s)=>{try{console.log("\ud83d\udd04 Requesting never-expiring page tokens...");const a=[];a.push(`${"https://my-backend-593529385135.asia-south1.run.app".replace(/\/$/,"")}/api/facebook/page-tokens`),a.push("/api/facebook/page-tokens");let i=null;for(const s of a)try{const n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAccessToken:e,userId:t})});if(!n.ok){console.warn("requestNeverExpiringPageTokens: non-ok response",s,n.status);continue}const r=await n.json();i=r;break}catch(r){console.warn("requestNeverExpiringPageTokens: request failed for",s,r.message);continue}return i&&i.success&&i.pages?(console.log(`\u2705 Got never-expiring tokens for ${i.pages.length} pages`),s.map(e=>{const t=i.pages.find(t=>t.id===e.id);return t?{...e,accessToken:t.access_token,tokenType:"never_expiring_page_token",tokenValidatedAt:(new Date).toISOString()}:e})):(console.warn("\u26a0\ufe0f Failed to get never-expiring page tokens:",(null===(n=i)||void 0===n?void 0:n.error)||"Unknown error"),s);var n}catch(d){return console.warn("\u26a0\ufe0f Error requesting never-expiring page tokens:",d),s}})(i,t,x),"instagram"===s){const e=x.filter(e=>e.instagramBusinessAccount);if(console.log("\ud83d\udcca Instagram validation:",{totalPages:x.length,instagramPages:e.length,instagramAccounts:e.map(e=>{var t,s,n;return{pageId:e.id,pageName:e.name,instagramId:null===(t=e.instagramBusinessAccount)||void 0===t?void 0:t.id,instagramUsername:null===(s=e.instagramBusinessAccount)||void 0===s?void 0:s.username,hasPageToken:!!e.accessToken,pageTokenLength:null===(n=e.accessToken)||void 0===n?void 0:n.length}})}),0===e.length)return u("No Instagram Business accounts found. Please connect an Instagram Business account to your Facebook pages first."),void c(!1);for(const t of e){var p;if(!t.accessToken)return console.error("\u274c Missing access token for Instagram page:",t.id,t.name),u(`Missing access token for page "${t.name}". Please try reconnecting.`),void c(!1);if(null===(p=t.instagramBusinessAccount)||void 0===p||!p.id)return console.error("\u274c Missing Instagram Business account ID for page:",t.id,t.name),u(`Invalid Instagram Business account for page "${t.name}". Please check your Instagram Business account connection.`),void c(!1)}}const g={customerId:n.id,platform:"facebook",platformUserId:t,name:r.name,email:r.email,profilePicture:null===(l=r.picture)||void 0===l||null===(m=l.data)||void 0===m?void 0:m.url,accessToken:i,tokenType:a?"long_lived":"short_lived",tokenExpiresAt:o,pages:x,connectedAt:(new Date).toISOString(),needsReconnection:!1,lastTokenValidation:(new Date).toISOString(),tokenStatus:"active"};if(console.log("\ud83d\udcbe Saving Facebook account with enhanced validation..."),await S(g),"instagram"===s){var f,b,v;const e=x.filter(e=>e.instagramBusinessAccount),s={customerId:n.id,platform:"instagram",platformUserId:t,name:r.name,email:r.email,profilePicture:null===(f=r.picture)||void 0===f||null===(b=f.data)||void 0===b?void 0:b.url,accessToken:i,tokenType:a?"long_lived":"short_lived",tokenExpiresAt:o,facebookAccountId:g.accountId,pages:e.map(e=>{var t,s,n;return{...e,isLinkedToFacebook:!0,validationTimestamp:(new Date).toISOString(),debugInfo:{pageTokenLength:null===(t=e.accessToken)||void 0===t?void 0:t.length,instagramIdPresent:!(null===(s=e.instagramBusinessAccount)||void 0===s||!s.id),usernamePresent:!(null===(n=e.instagramBusinessAccount)||void 0===n||!n.username)}}}),connectedAt:(new Date).toISOString(),needsReconnection:!1,lastTokenValidation:(new Date).toISOString(),tokenStatus:"active",connectionMetadata:{connectedVia:"facebook_business_integration",validationLevel:"enhanced",tokenValidatedAt:(new Date).toISOString()}};console.log("\ud83d\udcbe Saving Instagram account with enhanced validation..."),console.log("\ud83d\udccb Instagram account summary:",{platform:"instagram",pagesCount:e.length,hasUserToken:!!s.accessToken,userTokenLength:null===(v=s.accessToken)||void 0===v?void 0:v.length,tokenType:s.tokenType}),await S(s)}})})}catch(r){console.error("\u274c handleFacebookLoginSuccess error:",r),u("Failed to process Facebook authentication: "+r.message),c(!1)}},j=async()=>{c(!0),u(""),h("");try{const e="593529385135-snp35l6s9dtje8g8f1l1b3ajtp375cjr.apps.googleusercontent.com",t="https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/yt-analytics.readonly https://www.googleapis.com/auth/youtube.upload",s=()=>new Promise((e,t)=>{var s,n;if(null!==(s=window.google)&&void 0!==s&&null!==(n=s.accounts)&&void 0!==n&&n.oauth2)return void e();const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=e,r.onerror=t,document.head.appendChild(r)});await s();const r=window.google.accounts.oauth2.initTokenClient({client_id:e,scope:t,prompt:"consent",callback:async e=>{if(e.error)return u("YouTube authentication failed: "+e.error),void c(!1);if(e.access_token)try{var t;null!==(t=window.gapi)&&void 0!==t&&t.client||(await new Promise((e,t)=>{const s=document.createElement("script");s.src="https://apis.google.com/js/api.js",s.async=!0,s.defer=!0,s.onload=()=>{window.gapi.load("client",e)},s.onerror=t,document.head.appendChild(s)}),await window.gapi.client.init({apiKey:"AIzaSyD2fYMvhlDJwk6cMEJSBRQmJnsidFjCFtc",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"]})),window.gapi.client.setToken({access_token:e.access_token});const s=await window.gapi.client.youtube.channels.list({part:"snippet,statistics,contentDetails",mine:!0});if(!s.result.items||0===s.result.items.length)return u("No YouTube channel found for this account"),void c(!1);const r=s.result.items[0],i={customerId:f(n),platform:"youtube",platformUserId:r.id,name:r.snippet.title,email:"",profilePicture:r.snippet.thumbnails.default.url,accessToken:e.access_token,refreshToken:e.refresh_token||null,tokenExpiresAt:e.expires_in?new Date(Date.now()+1e3*e.expires_in).toISOString():null,pages:[],channels:[{id:r.id,name:r.snippet.title,description:r.snippet.description,thumbnailUrl:r.snippet.thumbnails.default.url,customUrl:r.snippet.customUrl,subscriberCount:r.statistics.subscriberCount,videoCount:r.statistics.videoCount,viewCount:r.statistics.viewCount}],channelInfo:{subscriberCount:r.statistics.subscriberCount,videoCount:r.statistics.videoCount,viewCount:r.statistics.viewCount},connectedAt:(new Date).toISOString()},o=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),l=await o.json();l.success?(h("Successfully connected YouTube account: "+r.snippet.title),await b(),a&&a()):u(l.error||"Failed to save YouTube connection")}catch(s){console.error("YouTube connection error:",s),u("Failed to complete YouTube authentication: "+(s.message||"Unknown error"))}finally{c(!1)}}});r.requestAccessToken()}catch(e){console.error("YouTube authentication error:",e),u("Failed to start YouTube authentication: "+e.message),c(!1)}},w=async()=>{c(!0),u(""),h("");try{const e="77nnr874zyioln",t="https://my-backend-593529385135.asia-south1.run.app/auth/linkedin/callback",s="openid profile email w_member_social";if(!e||!t)throw new Error("LinkedIn OAuth configuration is missing");const n=Math.random().toString(36).substring(2);localStorage.setItem("linkedin_oauth_state",n);const r=`https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${e}&redirect_uri=${encodeURIComponent(t)}&scope=${encodeURIComponent(s)}&state=${n}`,a=600,i=700,o=window.screenX+(window.outerWidth-a)/2,l=window.screenY+(window.outerHeight-i)/2,d=window.open(r,"linkedin-login",`width=${a},height=${i},left=${o},top=${l}`),h=e=>{var t;"linkedin-callback"===(null===(t=e.data)||void 0===t?void 0:t.source)&&(window.removeEventListener("message",h),e.data.success?N(e.data.access_token,e.data.userinfo):(u(e.data.error||"LinkedIn authentication failed"),c(!1)))};window.addEventListener("message",h);const x=setInterval(()=>{d.closed&&(clearInterval(x),window.removeEventListener("message",h),c(!1),m||u("Popup closed before authentication completed"))},1e3)}catch(e){u("Failed to connect to LinkedIn: "+e.message),c(!1)}},N=async(e,t)=>{try{if(t&&t.sub){const s={customerId:n.id,platform:"linkedin",platformUserId:t.sub,name:t.name||"",email:t.email||"",profilePicture:t.picture||"",accessToken:e,pages:[],connectedAt:(new Date).toISOString()};console.log("\ud83d\udce4 Saving LinkedIn account data:",{customerId:n.id,platform:"linkedin",platformUserId:t.sub}),await S(s)}else u("Failed to get user information from LinkedIn"),c(!1)}catch(s){u("Failed to process LinkedIn authentication"),c(!1)}},k=async()=>{c(!0),u(""),h("");try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/integration/twitter/request-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:n.id})}),t=await e.json();if(!t.success)throw new Error(t.error);const s=`https://api.twitter.com/oauth/authenticate?oauth_token=${t.oauthToken}`,r=window.open(s,"twitter-auth","width=500,height=600"),i=setInterval(()=>{r.closed&&(clearInterval(i),u("Twitter authentication was cancelled"),c(!1))},1e3),o=async e=>{if(e.origin===window.location.origin&&"TWITTER_AUTH_SUCCESS"===e.data.type){clearInterval(i),r.close(),window.removeEventListener("message",o);try{const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/integration/twitter/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({oauthToken:e.data.oauth_token,oauthVerifier:e.data.oauth_verifier,customerId:n.id})}),s=await t.json();s.success?(h("Successfully connected Twitter account"),await b(),a&&a()):u(s.error||"Failed to complete Twitter authentication")}catch(t){u("Failed to complete Twitter authentication: "+t.message)}finally{c(!1)}}};window.addEventListener("message",o)}catch(e){u("Failed to start Twitter authentication: "+e.message),c(!1)}},S=async e=>{try{var t;const r=f(n)||e.customerId||"";if(!r)throw new Error("Missing customerId for saving account");const i=!!e.accessToken,o=e.pages&&e.pages.length>0,l=o&&e.pages.every(e=>!!e.accessToken);console.log("\ud83d\udd11 Token Validation Summary:",{hasUserToken:i,hasValidPages:o,hasPageTokens:l,userTokenLength:(null===(t=e.accessToken)||void 0===t?void 0:t.length)||0,tokenType:e.tokenType,tokenExpiresAt:e.tokenExpiresAt}),i?l?(e.needsReconnection=!1,e.tokenStatus="active",e.refreshError=null,e.lastSuccessfulValidation=(new Date).toISOString()):(e.needsReconnection=!0,e.tokenStatus="invalid_page_token",e.refreshError="Page access tokens not available during connection"):(e.needsReconnection=!0,e.tokenStatus="invalid_user_token",e.refreshError="User access token not available during connection");const c=[];c.push(`${"https://my-backend-593529385135.asia-south1.run.app".replace(/\/$/,"")}/api/customer-social-links`),c.push("/api/customer-social-links");let d=null;for(const t of c)try{const s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,customerId:r})}),n=await s.text().catch(()=>"");let a;try{a=n?JSON.parse(n):null}catch(GB){a=null}if(!s.ok){console.error("saveAccountToDatabase: server returned non-ok",t,s.status,a||n);continue}d=a||{};break}catch(s){console.warn("saveAccountToDatabase: request failed for",t,s.message);continue}if(!d)throw new Error("Failed to save account: no successful response from API endpoints");if(!d.success)throw new Error(d.error||"Failed to save account");const u="long_lived"===e.tokenType?"Successfully connected account with long-lived tokens!":"Successfully connected account";h(u),await b(),a&&a()}catch(s){u("Failed to save account: "+s.message)}finally{c(!1)}},_=()=>{switch(s){case"facebook":return(0,Me.jsx)(dn,{className:"h-6 w-6 text-blue-600"});case"instagram":return(0,Me.jsx)(un,{className:"h-6 w-6 text-pink-600"});case"youtube":return(0,Me.jsx)(vn,{className:"h-6 w-6 text-red-600"});case"linkedin":return(0,Me.jsx)(yn,{className:"h-6 w-6 text-blue-700"});case"twitter":return(0,Me.jsx)(Sn,{className:"h-6 w-6 text-blue-400"});default:return null}},C=()=>(null===s||void 0===s?void 0:s.charAt(0).toUpperCase())+(null===s||void 0===s?void 0:s.slice(1))||"Social Media",A=()=>x.filter(e=>e.platform===s);return(0,r.useImperativeHandle)(t,()=>({triggerConnect:()=>{try{switch(s){case"facebook":case"instagram":v();break;case"youtube":j();break;case"linkedin":w();break;case"twitter":k();break;default:console.warn("No trigger available for platform:",s)}}catch(GB){console.error("triggerConnect error",GB)}}})),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[_(),(0,Me.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:["Connect ",C()]})]}),(0,Me.jsxs)("p",{className:"text-gray-600",children:["Connect your ",C()," account for ",n.name]})]}),d&&(0,Me.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)(We,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-red-800 font-medium",children:"Connection Error"}),(0,Me.jsx)("p",{className:"text-red-700 text-sm mt-1",children:d})]})]})}),m&&(0,Me.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Me.jsx)(Je,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-green-800 font-medium",children:"Success!"}),(0,Me.jsx)("p",{className:"text-green-700 text-sm mt-1",children:m})]})]})}),A().length>0&&(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,Me.jsxs)("h4",{className:"font-semibold text-blue-900 mb-3",children:["Connected Accounts (",A().length,")"]}),(0,Me.jsx)("div",{className:"space-y-2",children:A().map((e,t)=>{const s=isTokenExpired(e),n="long_lived"===e.tokenType;return(0,Me.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-blue-200",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[_(),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),n&&(0,Me.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded font-medium",children:"Long-lived"}),s&&(0,Me.jsx)("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded font-medium",children:"Expired"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),e.pages&&(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:[e.pages.length," page(s) connected"]}),e.tokenExpiresAt&&(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Token expires: ",new Date(e.tokenExpiresAt).toLocaleDateString()]}),e.tokenStatus&&"active"!==e.tokenStatus&&(0,Me.jsxs)("span",{className:"text-xs text-orange-600 font-medium",children:["Status: ",e.tokenStatus.replace(/_/g," ")]})]})]}),(0,Me.jsx)("button",{onClick:()=>(async e=>{c(!0);try{if(!e)throw new Error("Missing account id");const s=[];s.push(`${"https://my-backend-593529385135.asia-south1.run.app".replace(/\/$/,"")}/api/customer-social-links/${e}`),s.push(`/api/customer-social-links/${e}`);let n=!1;for(const e of s)try{const t=await fetch(e,{method:"DELETE"}),s=await t.text().catch(()=>"");let r;try{r=s?JSON.parse(s):null}catch(GB){r=null}if(!t.ok){console.warn("disconnectAccount: non-ok response",e,t.status,r||s);continue}const a=r||{};if(a.success||"not_found"===a.error||"deleted"===a.reason){n=!0;break}console.warn("disconnectAccount: unexpected response body",a);continue}catch(t){console.warn("disconnectAccount: request failed for",e,t.message);continue}n?(h("Account disconnected successfully"),await b(),a&&a()):u("Failed to disconnect account: no successful response from API")}catch(t){u("Failed to disconnect account: "+t.message)}finally{c(!1)}})(e._id),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50 transition-all duration-200",title:"Disconnect account (enables re-connect)",children:(0,Me.jsx)(vs,{className:"h-4 w-4"})})]},e._id||t)})}),(0,Me.jsxs)("div",{className:"text-xs text-gray-600 mt-2 space-y-1",children:[(0,Me.jsxs)("div",{children:["\u2705 ",(0,Me.jsx)("b",{children:"Long-lived tokens:"})," Valid for ~60 days with automatic refresh capability"]}),(0,Me.jsxs)("div",{children:["\ud83d\udd04 ",(0,Me.jsx)("b",{children:"Never-expiring page tokens:"})," Permanent access for posting to pages"]}),(0,Me.jsxs)("div",{children:["\u26a0\ufe0f If your access token has expired or posting fails, please ",(0,Me.jsx)("b",{children:"Disconnect"})," and then ",(0,Me.jsx)("b",{children:"Reconnect"})," your account."]})]})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"What you'll get:"}),(0,Me.jsxs)("ul",{className:"space-y-2 text-sm text-gray-700",children:["facebook"===s&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Access to all your Facebook pages"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Ability to post and schedule content"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Post to Facebook Stories (if supported by page type)"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Long-lived access tokens for reliable posting"})]})]}),"instagram"===s&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Access to Instagram Business accounts"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Post photos, videos, and carousel content"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Schedule posts for optimal engagement"})]})]}),"youtube"===s&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Upload videos to your YouTube channels"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Set video titles, descriptions, and thumbnails"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Schedule video publishing"})]})]}),"linkedin"===s&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Access to your LinkedIn professional profile"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Post text and image content to your network"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Schedule professional content publishing"})]})]}),"twitter"===s&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Post tweets with images and videos"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Schedule tweets for optimal timing"})]}),(0,Me.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,Me.jsx)("span",{children:"Thread support for longer content"})]})]})]})]}),(0,Me.jsx)("div",{className:"text-center",children:(()=>{const e="flex items-center justify-center px-6 py-3 rounded-xl font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed";switch(s){case"facebook":return(0,Me.jsxs)("button",{onClick:v,disabled:l,className:`${e} bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl`,children:[l?(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin mr-2"}):(0,Me.jsx)(dn,{className:"h-5 w-5 mr-2"}),l?"Connecting...":"Connect Facebook"]});case"instagram":return(0,Me.jsxs)("button",{onClick:v,disabled:l,className:`${e} bg-gradient-to-r from-pink-500 to-purple-600 text-white hover:from-pink-600 hover:to-purple-700 shadow-lg hover:shadow-xl`,children:[l?(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin mr-2"}):(0,Me.jsx)(un,{className:"h-5 w-5 mr-2"}),l?"Connecting...":"Connect Instagram"]});case"youtube":return(0,Me.jsxs)("button",{onClick:j,disabled:l,className:`${e} bg-red-600 text-white hover:bg-red-700 shadow-lg hover:shadow-xl`,children:[l?(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin mr-2"}):(0,Me.jsx)(vn,{className:"h-5 w-5 mr-2"}),l?"Connecting...":"Connect YouTube"]});case"linkedin":return(0,Me.jsxs)("button",{onClick:w,disabled:l,className:`${e} bg-blue-700 text-white hover:bg-blue-800 shadow-lg hover:shadow-xl`,children:[l?(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin mr-2"}):(0,Me.jsx)(yn,{className:"h-5 w-5 mr-2"}),l?"Connecting...":"Connect LinkedIn"]});case"twitter":return(0,Me.jsxs)("button",{onClick:k,disabled:l,className:`${e} bg-blue-400 text-white hover:bg-blue-500 shadow-lg hover:shadow-xl`,children:[l?(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin mr-2"}):(0,Me.jsx)(Sn,{className:"h-5 w-5 mr-2"}),l?"Connecting...":"Connect Twitter"]});default:return null}})()}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsxs)("button",{onClick:b,disabled:l,className:"text-gray-600 hover:text-gray-800 text-sm flex items-center justify-center space-x-1 mx-auto",children:[(0,Me.jsx)(_n,{className:"h-4 w-4 "+(l?"animate-spin":"")}),(0,Me.jsx)("span",{children:"Refresh connections"})]})}),o&&i&&(0,Me.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:(0,Me.jsx)("button",{onClick:i,className:"text-gray-600 hover:text-gray-800 font-medium",children:"Close"})})]})},An=(0,r.forwardRef)(Cn);const Pn=function(){const e=te(),{currentUser:t}=Le(),[s,n]=(0,r.useState)(!0),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)("all"),[f,b]=(0,r.useState)("all"),[v,y]=(0,r.useState)([]),[j,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[S,_]=(0,r.useState)(null),[C,A]=(0,r.useState)(!1),[P,E]=(0,r.useState)(null),[O,I]=(0,r.useState)(null),[T,M]=(0,r.useState)([]),[D,L]=(0,r.useState)([]),[R,F]=(0,r.useState)([]),[z,U]=(0,r.useState)([]);(0,r.useEffect)(()=>{$(),q(),B(),V(),W(),H()},[t]),(0,r.useEffect)(()=>{R.length>0&&z.length>0&&Y()},[R,z]);const $=async()=>{if(t&&"admin"===t.role)try{const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/admin/assigned-customers?adminId=${t._id||t.id}`);if(e.ok){const t=await e.json();L(Array.isArray(t)?t:[]),i(Array.isArray(t)?t:[])}else L([]),i([])}catch(e){L([]),i([])}},B=async()=>{try{w(!0),console.log("\ud83d\udcf1 Fetching all customer social accounts from database...");const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/admin/customer-social-links"),s=await t.json();var e;if(s.success)y(s.data||[]),console.log("\u2705 Loaded customer social accounts:",(null===(e=s.data)||void 0===e?void 0:e.length)||0);else console.error("\u274c Failed to fetch customer social accounts:",s.error)}catch(t){console.error("\u274c Error fetching customer social accounts:",t)}finally{w(!1)}},V=async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/scheduled-posts");if(!e.ok)return M([]);const t=await e.json();M(Array.isArray(t)?t:[])}catch{M([])}},W=async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars");if(!e.ok)return F([]);const t=await e.json();F(Array.isArray(t)?t:[])}catch{F([])}},H=async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/content-submissions"),t=await e.json();U(Array.isArray(t)?t:[])}catch{U([])}},q=async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/customers"),t=await e.json();i(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching customers:",e),i([])}},Y=()=>{n(!0);const e={};z.forEach(t=>{const s=t.customer_id||t.customerId||"unknown",n=t.assignment_id||t.assignmentId||"unknown";e[s]||(e[s]={}),e[s][n]||(e[s][n]=[]),e[s][n].push(t)});const t=[];Object.keys(e).forEach(s=>{const n=e[s],r=[];Object.keys(n).forEach(e=>{const t=n[e].sort((e,t)=>new Date(e.created_at)-new Date(t.created_at)),a=t[0];let i=a.calendar_name||"",o=a.item_name||"";if((!i||!o)&&R.length>0){const{calendarName:t,itemName:n}=(e=>{const t=R.find(t=>{var s;return t.customerId===e.customerId&&(null===(s=t.contentItems)||void 0===s?void 0:s.some(t=>t.assignment_id===e.id||t._id===e.id||t.title===e.title||t.description===e.description))});if(!t)return{calendarName:"",itemName:""};const s=t.contentItems.find(t=>t.assignment_id===e.id||t._id===e.id||t.title===e.title||t.description===e.description);return{calendarName:t.name||"",itemName:(null===s||void 0===s?void 0:s.title)||(null===s||void 0===s?void 0:s.description)||""}})({id:e,customerId:s,title:a.caption||"Untitled Post",description:a.notes||""});i||(i=t),o||(o=n)}r.push({id:e,customerId:s,title:a.caption||"",platform:a.platform||"Instagram",status:Q(t),createdDate:a.created_at,lastUpdated:t[t.length-1].created_at,description:a.notes||"",versions:t.map((e,t)=>({id:e._id,assignment_id:e.assignment_id,versionNumber:t+1,media:K(e.media||e.images||[]),caption:e.caption||"",hashtags:e.hashtags||G(e.caption||""),notes:e.notes||"",createdAt:e.created_at,status:e.status||"submitted",comments:e.comments||[]})),totalVersions:t.length,customerFeedback:X(t),calendarName:i,itemName:o})}),t.push({customerId:s,portfolios:r})}),l(t),n(!1)},G=e=>{const t=e.match(/#[a-zA-Z0-9_]+/g);return t?t.join(" "):""},K=e=>e&&Array.isArray(e)?e.map(e=>{if("string"===typeof e)return{url:e,type:J(e)};if(e&&"object"===typeof e){const t=e.url||e.src||e.href||String(e);if("string"===typeof t&&t.trim())return{url:t,type:e.type||J(t)}}return null}).filter(Boolean):[],J=e=>{if(!e||"string"!==typeof e)return"image";const t=e.toLowerCase().split(".").pop();return["mp4","webm","ogg","mov","avi"].includes(t)?"video":"image"},Q=e=>e[e.length-1].status||"under_review",X=e=>{const t=[];return e.forEach((e,s)=>{e.comments&&Array.isArray(e.comments)&&e.comments.forEach(n=>{t.push({...n,versionNumber:s+1,timestamp:n.timestamp||e.created_at})})}),t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))},Z=e=>{switch(e){case"under_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"published":return"bg-blue-100 text-blue-800 border-blue-200";case"revision_requested":return"bg-orange-100 text-orange-800 border-orange-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ee=e=>{switch(e){case"approved":case"published":return(0,Me.jsx)(Je,{className:"h-4 w-4"});case"revision_requested":return(0,Me.jsx)(We,{className:"h-4 w-4"});default:return(0,Me.jsx)(on,{className:"h-4 w-4"})}},se=e=>{const t=a.find(t=>t._id===e);return t?t.name:`Customer ${e}`},ne=e=>{_(e),k(!0)},re=e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},ae=e=>{if(!e)return!1;const t=e.split(".").pop().toLowerCase();return["mp4","webm","ogg","mov","avi"].includes(t)},ie=e=>T.filter(t=>t.contentId===e&&"published"===t.status).map(e=>e.platform),oe=e=>T.some(t=>t.contentId===e&&"published"===t.status),le=o.filter(e=>{const t=D.some(t=>t._id===e.customerId);if(!t)return!1;const s=a.find(t=>t._id===e.customerId),n=s?s.name:`Customer ${e.customerId}`;if(h&&!n.toLowerCase().includes(h.toLowerCase()))return!1;if("all"!==f&&e.customerId!==f)return!1;if("all"!==p){if(!e.portfolios.some(e=>"published"===p?oe(e.id):e.status===p&&!oe(e.id)))return!1}return!0});return s?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading portfolios..."})]})}):(0,Me.jsx)(ot,{children:(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("header",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200/50 sticky top-0 z-10",children:(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Me.jsx)("button",{onClick:()=>u?m(null):c?d(null):e("/admin"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:(0,Me.jsx)(pt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"ml-3",children:[(0,Me.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Admin Content Portfolio"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:u?"Content Details":c?"Customer Portfolio":"All Customer Portfolios"})]})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u||c?c&&!u?(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 p-8",children:(0,Me.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"h-16 w-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Me.jsx)("span",{className:"text-white font-bold text-2xl",children:se(c.customerId).charAt(0).toUpperCase()})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:se(c.customerId)}),(0,Me.jsxs)("p",{className:"text-gray-600",children:["Content Portfolio (",c.portfolios.length," items)"]})]})]})})}),0===c.portfolios.length?(0,Me.jsxs)("div",{className:"text-center py-16",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Ps,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No content created yet"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"This customer doesn't have any content in their portfolio."})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.portfolios.map(e=>{var t;const s=e.versions[e.versions.length-1],n=null===s||void 0===s||null===(t=s.media)||void 0===t?void 0:t[0];return(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden hover:shadow-xl transition-all duration-300 group h-[500px] flex flex-col",children:[(0,Me.jsxs)("div",{className:"relative h-48 flex-shrink-0",children:[n&&n.url&&"string"===typeof n.url?ae(n.url)?(0,Me.jsxs)("div",{className:"relative w-full h-full",children:[(0,Me.jsx)("video",{src:n.url,className:"w-full h-full object-cover",muted:!0,controls:!0,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:(0,Me.jsx)(pn,{className:"h-12 w-12 text-white"})})]}):(0,Me.jsx)("img",{src:n.url,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",style:{display:null!==n&&void 0!==n&&n.url?"none":"flex"},children:(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400"})}),(0,Me.jsx)("div",{className:"absolute top-4 right-4 flex gap-2",children:(0,Me.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${Z(oe(e.id)?"published":e.status)}`,children:[ee(oe(e.id)?"published":e.status),(0,Me.jsx)("span",{className:"ml-1",children:oe(e.id)?"PUBLISHED":e.status.replace("_"," ").toUpperCase()}),oe(e.id)&&(0,Me.jsx)("span",{className:"ml-2 text-xs text-blue-600",children:ie(e.id).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")})]})}),(0,Me.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200",children:[(0,Me.jsx)(gn,{className:"h-3 w-3 mr-1"}),e.totalVersions," Version",1!==e.totalVersions?"s":""]}),(null===s||void 0===s?void 0:s.media)&&s.media.length>1&&(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[s.media.length," Media"]})]}),(0,Me.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to delete this portfolio?")){try{await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/content-submissions/assignment/${e}`,{method:"DELETE"})}catch(s){console.error("Failed to delete portfolio from backend",s)}c&&c.customerId===t&&d(t=>({...t,portfolios:t.portfolios.filter(t=>t.id!==e)})),l(s=>s.map(s=>s.customerId===t?{...s,portfolios:s.portfolios.filter(t=>t.id!==e)}:s))}})(e.id,c.customerId),className:"absolute top-4 right-4 z-10 p-2 bg-white rounded-full shadow hover:bg-red-100 transition",title:"Delete Portfolio",children:(0,Me.jsx)(Ms,{className:"h-5 w-5 text-red-500"})})]}),(0,Me.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,Me.jsx)("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-2",children:e.title?e.title:null}),e.calendarName&&(0,Me.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Calendar: ",e.calendarName]}),e.itemName&&(0,Me.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["Item: ",e.itemName]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 flex-1",children:e.description}),(0,Me.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Me.jsxs)("span",{className:"text-gray-500",children:["Platform: ",e.platform]}),(0,Me.jsxs)("span",{className:"text-gray-500",children:["Updated: ",re(e.lastUpdated)]})]}),e.customerFeedback.length>0&&(0,Me.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,Me.jsx)(fn,{className:"h-4 w-4 mr-1"}),e.customerFeedback.length," Comment",1!==e.customerFeedback.length?"s":""]})]}),(0,Me.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,Me.jsxs)("button",{onClick:()=>(e=>{m({...e,calendarName:e.calendarName||"",itemName:e.itemName||""})})(e),className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-2 px-4 rounded-xl hover:from-purple-700 hover:to-indigo-700 text-sm font-medium flex items-center justify-center transition-all duration-200",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4 mr-2"}),"View Details"]}),(0,Me.jsxs)("button",{onClick:()=>ne(e),className:"flex-1 bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-2 px-4 rounded-xl hover:from-blue-700 hover:to-cyan-700 text-sm font-medium flex items-center justify-center transition-all duration-200",children:[(0,Me.jsx)(gt,{className:"h-4 w-4 mr-2"}),"Post"]})]})]})]},e.id)})})]}):(0,Me.jsx)(kn,{selectedContent:u,getCustomerName:se,formatDate:re,getStatusColor:Z,getStatusIcon:ee,isContentPublished:oe,getPublishedPlatformsForContent:ie,handleScheduleContent:ne,isVideoUrl:ae,calendarName:null===u||void 0===u?void 0:u.calendarName,itemName:null===u||void 0===u?void 0:u.itemName,onDeleteVersion:async(e,t,s)=>{try{await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/content-submissions/${e}`,{method:"DELETE"})}catch(n){console.error("Failed to delete version from backend",n)}c&&c.customerId===s&&d(s=>({...s,portfolios:s.portfolios.map(s=>s.id===t?{...s,versions:s.versions.filter(t=>t.id!==e),totalVersions:s.versions.filter(t=>t.id!==e).length}:s)})),l(n=>n.map(n=>n.customerId===s?{...n,portfolios:n.portfolios.map(s=>s.id===t?{...s,versions:s.versions.filter(t=>t.id!==e),totalVersions:s.versions.filter(t=>t.id!==e).length}:s)}:n)),u&&u.id===t&&m(t=>({...t,versions:t.versions.filter(t=>t.id!==e),totalVersions:t.versions.filter(t=>t.id!==e).length}))}}):(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Customer Content Portfolios"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-3 text-lg",children:"View and manage all customer content portfolios"})]}),(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Me.jsxs)("div",{className:"relative flex-1",children:[(0,Me.jsx)(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Me.jsx)("input",{type:"text",placeholder:"Search customers...",value:h,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Me.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Me.jsx)("option",{value:"all",children:"All Status"}),(0,Me.jsx)("option",{value:"under_review",children:"Under Review"}),(0,Me.jsx)("option",{value:"published",children:"Published"})]}),(0,Me.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Me.jsx)("option",{value:"all",children:"All Customers"}),a.map(e=>(0,Me.jsx)("option",{value:e._id,children:e.name},e._id))]})]})}),0===le.length?(0,Me.jsxs)("div",{className:"text-center py-16",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(mt,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No portfolios found"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No customer portfolios match your current filters."})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:le.map(e=>{const t=a.find(t=>t._id===e.customerId),s=t?t.name:`Customer ${e.customerId}`,n=e.portfolios.length,r=(e.portfolios.filter(e=>oe(e.id)).length,e.portfolios.filter(e=>"under_review"===e.status&&!oe(e.id)).length);return(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden hover:shadow-xl transition-all duration-300 group flex flex-col h-[420px]",children:(0,Me.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,Me.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"h-12 w-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,Me.jsx)("span",{className:"text-white font-bold text-lg",children:s.charAt(0).toUpperCase()})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:s}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:null===t||void 0===t?void 0:t.email})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Total"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:r}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Pending"})]})]}),(0,Me.jsxs)("div",{className:"space-y-2 mb-4",style:{maxHeight:"100px",overflowY:"auto",minHeight:0},children:[e.portfolios.slice(0,10).map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),e.title?(0,Me.jsx)("span",{className:"text-sm font-medium truncate",children:e.title}):null]}),e.calendarName&&(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["Calendar: ",e.calendarName]}),e.itemName&&(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["Item: ",e.itemName]})]}),(0,Me.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Z(oe(e.id)?"published":e.status)} flex-shrink-0`,children:[oe(e.id)?"published":e.status.replace("_"," "),oe(e.id)&&(0,Me.jsxs)("span",{className:"ml-2 text-xs text-blue-600",children:["Published on: ",ie(e.id).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")]})]})]},e.id)),e.portfolios.length>10&&(0,Me.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["+",e.portfolios.length-10," more items"]})]}),(0,Me.jsx)("button",{onClick:()=>d(e),className:"w-full mt-auto bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 px-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 text-sm font-medium transition-all duration-200",children:"View Portfolio"})]})},e.customerId)})})]})}),N&&(0,Me.jsx)(Nn,{selectedContent:S,onClose:()=>{k(!1),_(null)},extractHashtags:G,getCustomerSocialAccounts:e=>{const t=v.find(t=>t.customerId===e);return t?t.socialAccounts:[]},getCustomerName:se,showIntegration:(e,t,s)=>{E(e),I({id:t,name:s}),A(!0)},updatePortfolioStatus:(e,t)=>{l(s=>s.map(s=>s.customerId!==t?s:{...s,portfolios:s.portfolios.map(t=>{if(t.id!==e)return t;const s=t.versions.map((e,s)=>s===t.versions.length-1?{...e,status:"published"}:e);return{...t,status:"published",versions:s}})})),u&&u.id===e&&m(e=>{if(!e)return e;const t=e.versions.map((t,s)=>s===e.versions.length-1?{...t,status:"published"}:t);return{...e,status:"published",versions:t}}),c&&c.customerId===t&&d(t=>({...t,portfolios:t.portfolios.map(t=>t.id===e?{...t,status:"published",versions:t.versions.map((e,s)=>s===t.versions.length-1?{...e,status:"published"}:e)}:t)}))},onRefreshScheduledPosts:V}),C&&(0,Me.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,Me.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl",children:(0,Me.jsx)(rt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Connect Social Media Account"}),(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:["Connect ",P," for ",null===O||void 0===O?void 0:O.name]})]})]}),(0,Me.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-all duration-200",children:(0,Me.jsx)(ln,{className:"h-6 w-6"})})]}),(0,Me.jsx)(An,{platform:P,customer:O,onConnectionSuccess:()=>{console.log("\ud83c\udf89 Integration successful, refreshing social accounts..."),B(),setTimeout(()=>{A(!1),E(null),I(null)},3e3)},onClose:()=>A(!1),compact:!0})]})})})]})})},En=Ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const On=5242880;const In=function(){const e=te(),{calendarId:t,itemIndex:s}=se(),n=(0,r.useRef)(null),[a,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[j,w]=(0,r.useState)({}),[N,k]=(0,r.useState)({latitude:"",longitude:""}),[S,_]=(0,r.useState)(""),[C,A]=(0,r.useState)(""),[P,E]=(0,r.useState)("image"),[O,I]=(0,r.useState)(""),[T,M]=(0,r.useState)(""),[D,L]=(0,r.useState)(""),R=function(){let e="";try{if(e=(localStorage.getItem("userEmail")||"").toLowerCase(),!e){const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);s.email&&(e=s.email.toLowerCase())}}}catch(GB){e=""}return e}();(0,r.useEffect)(()=>{R||e("/content-creator/login")},[R,e]),(0,r.useEffect)(()=>{t&&void 0!==s&&(async()=>{l(!0);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customers"),n=await e.json(),r={};Array.isArray(n.customers)&&n.customers.forEach(e=>{r[e._id||e.id]={name:e.name||e.customerName||e.email||"",email:e.email||"",id:e._id||e.id}});const a=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars"),o=await a.json();let l=null;o.forEach(e=>{var n;const a=e.customerId||e.customer_id||(null===(n=e.customer)||void 0===n?void 0:n._id)||"",i=r[a]||{};if(Array.isArray(e.contentItems)){const n=parseInt(s,10);if(!isNaN(n)&&e._id===t&&e.contentItems[n]){const t=e.contentItems[n];l={...t,calendarName:e.name||e.customerName||e.customer||"",calendarId:e._id,customerId:a,customerName:i.name||e.customerName||e.name||"",customerEmail:i.email||"",id:t.id||t._id||t.title,dueDate:t.dueDate||t.due_date||t.date,platform:t.platform||"Instagram",requirements:t.requirements||[]}}}}),l||console.error("\u274c Assignment not found for calendarId:",t,"itemIndex:",s),i(l)}catch(e){console.error("\u274c Error fetching assignment:",e),i(null)}finally{l(!1)}})()},[t,s]);const F=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?m(!0):"dragleave"===e.type&&m(!1)},z=async e=>{const t=await new Promise((e,t)=>{const s=new window.Image;s.crossOrigin="Anonymous",s.src="/logoAirspark.png",s.onload=()=>{const t=document.createElement("canvas");t.width=s.width,t.height=s.height,t.getContext("2d").drawImage(s,0,0),e(t.toDataURL("image/png"))},s.onerror=t});Array.from(e).forEach(async e=>{if(e.type.startsWith("image/")){const s=await(async(e,t)=>new Promise((s,n)=>{const r=new window.Image;r.src=URL.createObjectURL(e),r.onload=()=>{const a=document.createElement("canvas");a.width=r.width,a.height=r.height;const i=a.getContext("2d");i.drawImage(r,0,0);const o=new window.Image;o.src=t,o.onload=()=>{const t=a.width/4,n=o.height*(t/o.width),r=Math.max(.12*t,12),l=a.width-t-r,c=a.height-n-r;i.save(),i.globalAlpha=.06,i.fillStyle="#ffffff";const d=Math.max(6,.05*t);i.beginPath(),i.moveTo(l+d,c),i.arcTo(l+t,c,l+t,c+n,d),i.arcTo(l+t,c+n,l,c+n,d),i.arcTo(l,c+n,l,c,d),i.arcTo(l,c,l+t,c,d),i.closePath(),i.fill(),i.restore(),i.save(),i.globalAlpha=.35,i.drawImage(o,l,c,t,n),i.restore(),a.toBlob(e=>{s(e)},e.type)},o.onerror=n},r.onerror=n}))(e,t),n=new FileReader;n.onload=t=>{const n={id:Date.now()+Math.random(),file:new File([s],e.name,{type:e.type}),preview:t.target.result,name:e.name,size:s.size,type:"image",uploaded:!1,uploading:!1,publicUrl:null,error:null};d(e=>[...e,n])},n.readAsDataURL(s)}else if(e.type.startsWith("video/")){const t=URL.createObjectURL(e),s={id:Date.now()+Math.random(),file:e,preview:t,name:e.name,size:e.size,type:"video",uploaded:!1,uploading:!1,publicUrl:null,error:null};d(e=>[...e,s])}})},U=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},$=async e=>{try{if(console.log(`\ud83d\udce4 Starting upload for ${e.name} (${U(e.size)})`),!e.file||!e.file.size)throw new Error(`Invalid file: ${e.name} has no content or is corrupted`);if(e.file.size>On){console.log("\u27a1\ufe0f File exceeds 5242880 bytes, requesting signed URL...");try{const t=await B(e.name,e.file.type,e.file.size);if(!t||!t.url||!t.publicUrl)throw new Error("Signed URL response missing url/publicUrl");return await V(e,t)}catch(t){if(t&&/CORS|Network error|Failed to fetch|No 'Access-Control-Allow-Origin'/.test(t.message))throw d(t=>t.map(t=>t.id===e.id?{...t,uploading:!1,uploaded:!1,error:"Upload failed due to a network or CORS error with Google Cloud Storage. This is usually a server configuration issue. Please contact support or try again later."}:t)),new Error("Signed URL upload failed due to a network or CORS error. Please contact support or try again later.");if(!(e.file.size<=10485760))throw new Error(`Signed URL upload failed: ${t.message}. File too large for base64 fallback. Please contact support or try again later.`);console.warn("Attempting base64 fallback for slightly larger file (may fail)...")}}d(t=>t.map(t=>t.id===e.id?{...t,uploading:!0,error:null}:t));const s=await new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{const e=n.result;if(!e||"string"!==typeof e)return void s(new Error("Failed to read file as base64"));const r=e.split(",")[1];r&&0!==r.length?t(r):s(new Error("Base64 conversion resulted in empty data"))},n.onerror=()=>s(new Error("FileReader error")),n.readAsDataURL(e.file)});if(!s)throw new Error("Empty base64 data");const n={filename:e.name,contentType:e.file.type,base64Data:s},r=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/gcs/upload-base64",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){if(413===r.status)throw new Error("Server rejected the payload as too large (413). Use smaller files or enable signed uploads on the backend.");let e=r.statusText;try{e=(await r.json()).error||e}catch(GB){}throw new Error(`Upload failed: ${e}`)}const{publicUrl:a}=await r.json();if(!a)throw new Error("No public URL returned from upload");return d(t=>t.map(t=>t.id===e.id?{...t,uploading:!1,uploaded:!0,publicUrl:a,error:null}:t)),console.log(`\u2705 Successfully uploaded ${e.name} via base64`),{url:a,type:e.type,name:e.name,size:e.file.size,originalName:e.name}}catch(s){throw console.error(`\u274c Upload failed for ${e.name}:`,s),d(t=>t.map(t=>t.id===e.id?{...t,uploading:!1,uploaded:!1,error:s.message}:t)),s.message&&/Failed to fetch|Network error/.test(s.message)&&console.error("Possible CORS or network error. Ensure backend allows CORS from your front-end origin and that payload limits are configured."),s}},B=async(e,t,s)=>{const n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/gcs/get-signed-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:e,contentType:t,size:s})});if(!n.ok){let e=n.statusText;try{e=(await n.json()).error||e}catch(GB){}throw new Error(`Failed to get signed URL: ${e}`)}return n.json()},V=(e,t)=>new Promise((s,n)=>{const r=new XMLHttpRequest;r.open("PUT",t.url),r.setRequestHeader("Content-Type",e.file.type),r.upload.onprogress=t=>{if(t.lengthComputable){const s=Math.round(t.loaded/t.total*100);w(t=>({...t,[e.id]:s}))}},r.onload=()=>{r.status>=200&&r.status<300?(w(t=>{const s={...t};return delete s[e.id],s}),d(s=>s.map(s=>s.id===e.id?{...s,uploading:!1,uploaded:!0,publicUrl:t.publicUrl,error:null}:s)),s({url:t.publicUrl,type:e.type,name:e.name,size:e.size,originalName:e.name})):(d(t=>t.map(t=>t.id===e.id?{...t,uploading:!1,uploaded:!1,error:"Upload failed (HTTP "+r.status+"). If this is a CORS or network error, please contact support."}:t)),n(new Error(`Signed upload failed with status ${r.status}`)))},r.onerror=()=>{d(t=>t.map(t=>t.id===e.id?{...t,uploading:!1,uploaded:!1,error:"Upload failed due to a network or CORS error with Google Cloud Storage. This is usually a server configuration issue. Please contact support or try again later."}:t)),n(new Error("Network error during signed upload"))},d(t=>t.map(t=>t.id===e.id?{...t,uploading:!0,error:null}:t)),r.send(e.file)});return o?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,Me.jsx)("span",{className:"text-lg text-gray-700",children:"Loading assignment..."})]})}):a?(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>e("/content-creator/assignments"),className:"mr-4 text-gray-600 hover:text-gray-900 transition-colors",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Me.jsx)(pt,{className:"h-5 w-5 text-purple-600"})}),(0,Me.jsx)("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"Content Upload"})]})]}),(0,Me.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.title}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["for ",a.customerName]})]}),(0,Me.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,Me.jsx)(xt,{className:"h-3 w-3 mr-1"}),a.dueDate?new Date(a.dueDate).toLocaleDateString():"N/A"]}),(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:a.platform})]})]})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6 md:hidden",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:a.title}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["for ",a.customerName]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-1",children:[(0,Me.jsx)(xt,{className:"h-3 w-3 mr-1"}),a.dueDate?new Date(a.dueDate).toLocaleDateString():"N/A"]}),(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:a.platform})]})]}),a.description&&(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:a.description})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Me.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(Rs,{className:"h-5 w-5 mr-2 text-purple-600"}),"Upload Media"]}),(0,Me.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 "+(u?"border-purple-400 bg-purple-50 scale-105":"border-gray-300 hover:border-purple-400 hover:bg-purple-50/50"),onDragEnter:F,onDragLeave:F,onDragOver:F,onDrop:e=>{e.preventDefault(),e.stopPropagation(),m(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&z(e.dataTransfer.files)},children:[(0,Me.jsx)("input",{ref:n,type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&z(e.target.files)},className:"hidden"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,Me.jsx)(Rs,{className:"h-8 w-8 text-gray-400"}),(0,Me.jsx)(hn,{className:"h-8 w-8 text-gray-400"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Drag and drop your images and videos here"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"or"}),(0,Me.jsxs)("button",{onClick:()=>{var e;null===(e=n.current)||void 0===e||e.click()},className:"mt-2 inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[(0,Me.jsx)(gn,{className:"h-4 w-4 mr-2"}),"Browse Files"]})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-400",children:"Supports: JPG, PNG, GIF, MP4, MOV, AVI (Max 100MB per file)"})]})]})]}),c.length>0&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Me.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(gn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Media Files (",c.length,")"]}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map(e=>(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsxs)("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 ring-2 ring-transparent group-hover:ring-purple-200 transition-all relative",children:["image"===e.type?(0,Me.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-full object-cover"}):(0,Me.jsxs)("div",{className:"relative w-full h-full",children:[(0,Me.jsx)("video",{src:e.preview,className:"w-full h-full object-cover",muted:!0}),(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:(0,Me.jsx)(pn,{className:"h-8 w-8 text-white"})}),(0,Me.jsx)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:"VIDEO"})]}),e.uploading&&(0,Me.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-white text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-xs",children:"Uploading..."})]})}),e.uploaded&&(0,Me.jsx)("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full p-1",children:(0,Me.jsx)(bn,{className:"h-3 w-3"})}),e.error&&(0,Me.jsx)("div",{className:"absolute inset-0 bg-red-500 bg-opacity-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-white text-center p-2",children:[(0,Me.jsx)(vs,{className:"h-4 w-4 mx-auto mb-1"}),(0,Me.jsx)("p",{className:"text-xs",children:"Failed"}),(0,Me.jsx)("button",{onClick:()=>(async e=>{try{await $(e)}catch(t){console.error("Retry failed:",t)}})(e),className:"text-xs underline mt-1",children:"Retry"})]})})]}),(0,Me.jsx)("button",{onClick:()=>{return t=e.id,void d(e=>e.filter(e=>e.id!==t));var t},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:(0,Me.jsx)(vs,{className:"h-3 w-3"})}),(0,Me.jsxs)("div",{className:"mt-2",children:[(0,Me.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:U(e.size)}),(0,Me.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("image"===e.type?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.type.toUpperCase()})]}),e.error&&(0,Me.jsx)("p",{className:"text-xs text-red-500 mt-1 truncate",title:e.error,children:e.error})]})]},e.id))})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 hidden md:block",children:[(0,Me.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(Ps,{className:"h-5 w-5 mr-2 text-purple-600"}),"Assignment Details"]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:a.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Me.jsx)(Ks,{className:"h-4 w-4 mr-1"}),a.customerName]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 mr-1"}),"Due: ",a.dueDate?new Date(a.dueDate).toLocaleDateString():"N/A"]}),a.requirements&&a.requirements.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-medium text-gray-900 text-sm mb-2",children:"Requirements:"}),(0,Me.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:a.requirements.map((e,t)=>(0,Me.jsxs)("li",{className:"flex items-start",children:[(0,Me.jsx)(bn,{className:"h-3 w-3 mr-2 mt-0.5 text-green-500 flex-shrink-0"}),e]},t))})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Me.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(fn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Content Details"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),(0,Me.jsx)("textarea",{value:h,onChange:e=>x(e.target.value),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Write an engaging caption..."})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Me.jsx)(En,{className:"h-4 w-4 inline mr-1"}),"Hashtags"]}),(0,Me.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"#fashion #summer #style"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes for Client"}),(0,Me.jsx)("textarea",{value:f,onChange:e=>b(e.target.value),rows:2,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Additional notes..."})]})]})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ready to Submit?"}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Your content will be sent to ",a.customerName," for review"]}),(0,Me.jsx)("button",{onClick:async()=>{if(0===c.length)return void alert("Please upload at least one image or video");if(!a)return void alert("Assignment data not found. Please try again.");let t=a.customerId,s=a.customerName,n=a.customerEmail;if(t&&s||(console.error("\u274c Missing customer information in assignment"),t=t||a.calendarId||"",s=s||a.calendarName||"Unknown Customer"),s&&"Unknown Customer"!==s||(s=s||a.customer||a.client||a.calendarName||"Unknown Customer"),!t||!s||"Unknown Customer"===s)return console.error("\u274c CRITICAL: Cannot proceed without valid customer information!"),void alert(`Missing customer information. Please contact support.\n\nDetails:\n- Customer ID: ${t||"Missing"}\n- Customer Name: ${s||"Missing"}\n- Assignment ID: ${a.id}`);y(!0);const r=[];try{const i=c.filter(e=>!e.uploaded),o=c.filter(e=>e.uploaded);console.log(`\ud83d\udce4 Uploading ${i.length} files, ${o.length} already uploaded`);const l=i.map(e=>$(e));(await Promise.allSettled(l)).forEach((e,t)=>{if("fulfilled"!==e.status)throw console.error(`\u274c Failed to upload file ${i[t].name}:`,e.reason),new Error(`Upload failed for ${i[t].name}: ${e.reason.message}`);r.push(e.value)}),o.forEach(e=>{e.publicUrl&&r.push({url:e.publicUrl,type:e.type,name:e.name,size:e.size,originalName:e.name})}),console.log(`\u2705 All files uploaded successfully. Total: ${r.length}`);const d={assignment_id:a.id,caption:h||"",hashtags:p||"",notes:f||"",images:r,media:r,created_by:R,customer_id:t,customer_name:s,customer_email:n||a.customerEmail||"",platform:a.platform||"Instagram",calendar_id:a.calendarId,calendar_name:a.calendarName,item_id:a._id||a.id||a.itemId||"",item_name:a.title||a.itemName||a.description||"",assignment_title:a.title,assignment_description:a.description,due_date:a.dueDate,status:"submitted",created_at:(new Date).toISOString(),type:"submission",geo_location:N.latitude&&N.longitude?N:void 0,address:S||void 0,contact_info:C||void 0,postType:P,scheduledTime:O||a.dueDate,thumbnail:T,tags:D},u=[];if(d.customer_id||u.push("customer_id"),d.customer_name||u.push("customer_name"),d.assignment_id||u.push("assignment_id"),d.created_by||u.push("created_by"),d.images&&0!==d.images.length||u.push("images"),u.length>0)return console.error("\u274c VALIDATION FAILED: Missing required fields:",u),alert(`Validation failed. Missing required fields: ${u.join(", ")}`),void y(!1);if("Unknown Customer"===d.customer_name||d.customer_name.length<2||!d.customer_id||d.customer_id.length<5)return console.error("\u274c QUALITY CHECK FAILED: Invalid customer information quality"),alert("Invalid customer information detected. Please refresh the page and try again."),void y(!1);console.log("\ud83d\udce4 Submitting content to API...");const m=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/content-submissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!m.ok){const e=await m.json();throw console.error("\u274c Backend submission failed:",e),new Error(`Backend error: ${e.error||"Unknown error"}`)}const x=await m.json();console.log("\u2705 Content submission successful:",x),alert("Content submitted successfully! The customer will review your work."),e("/content-creator/assignments")}catch(i){console.error("\u274c Upload error:",i),alert(`Upload failed: ${i.message}. Please try again.`)}finally{y(!1)}},disabled:v||0===c.length||c.some(e=>e.uploading),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:v?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gt,{className:"h-4 w-4 mr-2"}),"Submit Content"]})}),c.some(e=>e.uploading)&&(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Please wait for all uploads to complete"})]})})]})]})]})]}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100",children:(0,Me.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg",children:[(0,Me.jsx)("span",{className:"text-lg text-red-600",children:"Assignment not found."}),(0,Me.jsx)("button",{onClick:()=>e("/content-creator/assignments"),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Back to Assignments"})]})})},Tn=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Mn=Ve("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Dn=Ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Ln=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Rn=[{key:"fb",label:"Facebook",icon:dn,color:"bg-blue-600 hover:bg-blue-700",lightColor:"bg-blue-50 text-blue-700"},{key:"insta",label:"Instagram",icon:un,color:"bg-pink-600 hover:bg-pink-700",lightColor:"bg-pink-50 text-pink-700"},{key:"linkedin",label:"LinkedIn",icon:yn,color:"bg-blue-700 hover:bg-blue-800",lightColor:"bg-blue-50 text-blue-800"},{key:"yt",label:"YouTube",icon:vn,color:"bg-red-600 hover:bg-red-700",lightColor:"bg-red-50 text-red-700"}];function Fn(){const{currentUser:e}=Le(),[t,s]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)({}),[x,p]=(0,r.useState)(""),[g,f]=(0,r.useState)(null),[b,v]=(0,r.useState)(null),[y,j]=(0,r.useState)(null),[w,N]=(0,r.useState)("");(0,r.useEffect)(()=>{k()},[e]);const k=async()=>{if(e&&"admin"===e.role)try{const t="https://my-backend-593529385135.asia-south1.run.app",n=await fetch(`${t}/admin/assigned-customers?adminId=${e._id||e.id}`);if(!n.ok)throw new Error("Failed to fetch assigned customers");const r=await n.json();s(r),a(r),u(!1)}catch(t){console.error("Error fetching assigned customers:",t),p("Failed to load your assigned customers"),u(!1)}else u(!1)};(0,r.useEffect)(()=>{const e=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.email.toLowerCase().includes(i.toLowerCase())||e._id.toLowerCase().includes(i.toLowerCase()));a(e)},[i,t]),(0,r.useEffect)(()=>{if(m.expiresAt){const e=setInterval(()=>{const t=(new Date).getTime(),s=new Date(m.expiresAt).getTime()-t;if(s<=0)j("Expired"),v("expired"),clearInterval(e);else{const e=Math.floor(s/36e5),t=Math.floor(s%36e5/6e4),n=Math.floor(s%6e4/1e3);j(`${e}h ${t}m ${n}s`),v(s<18e5?"warning":"valid")}},1e3);return()=>clearInterval(e)}},[m.expiresAt]);const S=e=>Rn.find(t=>t.key===e)||Rn[0];return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-100/40",children:(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Me.jsx)("div",{className:"mb-6",children:(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)("button",{onClick:()=>window.history.back(),"aria-label":"Back",className:"p-2 rounded-full hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500",children:(0,Me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 leading-tight",children:"QR Code Generator"}),(0,Me.jsx)("p",{className:"text-slate-600 text-sm",children:"Generate and manage social media QR codes for customers"})]})]})}),(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-slate-500 mb-3",children:[(0,Me.jsx)("span",{children:"Admin"}),(0,Me.jsx)("span",{children:"/"}),(0,Me.jsx)("span",{className:"font-medium text-slate-900",children:"QR Generator"})]}),(0,Me.jsx)("div",{className:"flex items-center gap-4",children:(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg",children:(0,Me.jsx)(Mn,{className:"w-7 h-7 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"QR Code Generator"}),(0,Me.jsx)("p",{className:"text-slate-600",children:"Generate and manage social media QR codes for customers"})]})]})})]}),(0,Me.jsxs)("div",{className:"hidden lg:flex gap-4",children:[(0,Me.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-200 min-w-[120px]",children:(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)(mt,{className:"w-5 h-5 text-blue-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:t.length}),(0,Me.jsx)("p",{className:"text-xs text-slate-600",children:"Total Customers"})]})]})}),m.qrDataUrl&&(0,Me.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-200 min-w-[120px]",children:(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)(ft,{className:"w-5 h-5 text-emerald-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:"1"}),(0,Me.jsx)("p",{className:"text-xs text-slate-600",children:"QR Generated"})]})]})})]})]}),w&&(0,Me.jsxs)("div",{className:"mb-6 bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)(Je,{className:"w-5 h-5 text-emerald-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold text-emerald-900",children:"Success!"}),(0,Me.jsx)("p",{className:"text-emerald-700 text-sm",children:w})]})]}),(0,Me.jsx)("button",{onClick:()=>N(""),className:"text-emerald-600 hover:text-emerald-700 p-1",children:(0,Me.jsx)(vs,{className:"w-4 h-4"})})]}),x&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)(We,{className:"w-5 h-5 text-red-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold text-red-900",children:"Error"}),(0,Me.jsx)("p",{className:"text-red-700 text-sm",children:x})]})]}),(0,Me.jsx)("button",{onClick:()=>p(""),className:"text-red-600 hover:text-red-700 p-1",children:(0,Me.jsx)(vs,{className:"w-4 h-4"})})]}),"expired"===b&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[(0,Me.jsx)(Tn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold text-red-900",children:"QR Code Expired"}),(0,Me.jsx)("p",{className:"text-red-700 text-sm",children:"The current QR code has expired. Please generate a new one to continue."})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,Me.jsx)("div",{className:"xl:col-span-2",children:(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-5 border-b border-slate-200 bg-slate-50/50",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Customer Directory"}),(0,Me.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:[n.length," of ",t.length," customers"]})]}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(tt,{className:"w-5 h-5 text-slate-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Search customers...",value:i,onChange:e=>o(e.target.value),className:"pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors w-full sm:w-64"}),i&&(0,Me.jsx)("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:(0,Me.jsx)(vs,{className:"w-4 h-4"})})]})]})}),(0,Me.jsx)("div",{className:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto",children:d?(0,Me.jsxs)("div",{className:"px-6 py-16 text-center",children:[(0,Me.jsx)(cn,{className:"w-10 h-10 text-blue-600 animate-spin mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading customers..."}),(0,Me.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Please wait a moment"})]}):0===n.length?(0,Me.jsx)("div",{className:"px-6 py-16 text-center",children:i?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(tt,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-slate-600 font-medium",children:"No customers found"}),(0,Me.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Try adjusting your search terms"}),(0,Me.jsx)("button",{onClick:()=>o(""),className:"mt-3 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Clear search"})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(He,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-slate-600 font-medium",children:"No customers available"}),(0,Me.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Customers will appear here once added"})]})}):n.map(e=>(0,Me.jsx)("div",{className:"px-6 py-5 transition-all duration-200 hover:bg-slate-50 "+((null===g||void 0===g?void 0:g.id)===e._id?"bg-blue-50 border-l-4 border-l-blue-500":""),children:(0,Me.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-slate-200 to-slate-300 rounded-full flex items-center justify-center",children:(0,Me.jsx)(He,{className:"w-5 h-5 text-slate-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h3",{className:"font-semibold text-slate-900 truncate text-lg",children:e.name}),(0,Me.jsx)("p",{className:"text-sm text-slate-600 truncate",children:e.email})]})]}),(0,Me.jsxs)("p",{className:"text-xs text-slate-500 font-mono bg-slate-100 px-2 py-1 rounded inline-block",children:["ID: ",e._id]})]}),(0,Me.jsx)("div",{className:"flex flex-col sm:flex-row gap-2",children:Rn.map(t=>{const s=t.icon,n=l&&(null===g||void 0===g?void 0:g.id)===e._id;return(0,Me.jsxs)("button",{onClick:()=>(async(e,t,s)=>{c(!0),p(""),N(""),h({}),f({id:e,name:t}),v(null),j(null);try{if(!e||"string"!==typeof e||e.length<5)return p("Invalid customer ID format"),void c(!1);if(!["fb","insta","linkedin","yt"].includes(s))return p("Invalid platform specified"),void c(!1);console.log(`\ud83d\udd12 Generating QR for customer: ${e} (${t}) - Platform: ${s}`);const n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/generate-qr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerId:e,platform:s,customerName:t,source:"admin-qr-generator"})}),r=await n.json();if(n.ok){if(r.customerId!==e)return p("QR generation security validation failed"),void c(!1);console.log(`\u2705 QR generated successfully for customer: ${e}`);const n=`https://airspark.storage.googleapis.com/index.html#/configure?customerId=${e}&platform=${s}&t=${Date.now()}`,a=n;console.log(`\ud83d\udd17 QR Code URL (for scanning): ${n}`),console.log(`\ud83d\udd17 View Config URL (for admin): ${a}`),h({...r,configUrl:a,qrCodeUrl:n,platform:s,customerName:t,customerId:e}),v("valid"),p(""),N(`QR code generated successfully for ${t}!`),setTimeout(()=>N(""),3e3)}else p(r.error||"Failed to generate QR code")}catch(n){console.error("QR generation error:",n),p("Network error occurred. Please try again.")}c(!1)})(e._id,e.name,t.key),disabled:l,className:`${t.color} text-white px-4 py-2.5 rounded-lg text-sm font-medium transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md hover:scale-105 min-w-[44px] justify-center`,title:`Generate ${t.label} QR for ${e.name}`,children:[n?(0,Me.jsx)(cn,{className:"w-4 h-4 animate-spin"}):(0,Me.jsx)(s,{className:"w-4 h-4"}),(0,Me.jsx)("span",{className:"hidden md:inline",children:t.label})]},t.key)})})]})},e._id))})]})}),(0,Me.jsx)("div",{className:"xl:col-span-1",children:(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 sticky top-8 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-5 border-b border-slate-200 bg-slate-50/50",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"QR Code Preview"}),m.validForHours&&(0,Me.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Valid for ",m.validForHours," hours"]})]}),m.platform&&(0,Me.jsx)("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${S(m.platform).lightColor}`,children:S(m.platform).label})]})}),(0,Me.jsx)("div",{className:"p-6",children:l?(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"relative",children:(0,Me.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,Me.jsx)(cn,{className:"w-8 h-8 text-blue-600 animate-spin"})})}),(0,Me.jsx)("p",{className:"text-slate-700 font-semibold mb-1",children:"Generating QR Code"}),(0,Me.jsx)("p",{className:"text-sm text-slate-500",children:"Creating secure QR code..."}),g&&(0,Me.jsx)("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg",children:(0,Me.jsx)("p",{className:"text-sm font-medium text-slate-700",children:g.name})})]}):m.qrDataUrl?(0,Me.jsxs)("div",{className:"space-y-6",children:[y&&(0,Me.jsxs)("div",{className:`border rounded-xl p-4 flex items-center gap-3 ${(()=>{switch(b){case"expired":return"text-red-700 bg-red-50 border-red-200";case"warning":return"text-amber-700 bg-amber-50 border-amber-200";case"valid":return"text-emerald-700 bg-emerald-50 border-emerald-200";default:return"text-slate-600 bg-slate-50 border-slate-200"}})()}`,children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(b){case"expired":return(0,Me.jsx)(Tn,{className:"w-4 h-4"});case"warning":return(0,Me.jsx)(We,{className:"w-4 h-4"});case"valid":return(0,Me.jsx)(Je,{className:"w-4 h-4"});default:return(0,Me.jsx)(on,{className:"w-4 h-4"})}})()}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("p",{className:"font-semibold text-sm",children:"expired"===b?"QR Code Expired":"warning"===b?"Expiring Soon":"QR Code Active"}),(0,Me.jsx)("p",{className:"text-xs mt-1",children:"expired"===b?"This QR code is no longer valid. Generate a new one.":`Time remaining: ${y}`})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-xl p-8 flex items-center justify-center relative",children:[(0,Me.jsx)("img",{src:m.qrDataUrl,alt:"Generated QR Code",className:"w-full max-w-[200px] h-auto rounded-xl shadow-lg bg-white p-3 transition-all duration-300 "+("expired"===b?"opacity-40 grayscale":"hover:scale-105")}),"expired"===b&&(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Me.jsx)("div",{className:"bg-red-500 text-white px-3 py-1 rounded-lg text-sm font-semibold",children:"EXPIRED"})})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Me.jsx)(He,{className:"w-5 h-5 text-slate-600"}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-slate-800 uppercase tracking-wide",children:"Customer Details"})]}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsx)("p",{className:"font-bold text-slate-900 text-lg",children:m.customerName}),(0,Me.jsx)("p",{className:"text-sm text-slate-600 font-mono bg-white px-2 py-1 rounded",children:m.customerId})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.createElement(S(m.platform).icon,{className:"w-5 h-5 text-slate-600"}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-slate-800 uppercase tracking-wide",children:"Platform"})]}),(0,Me.jsx)("p",{className:"font-bold text-slate-900 capitalize",children:S(m.platform).label})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Me.jsx)(on,{className:"w-5 h-5 text-slate-600"}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-slate-800 uppercase tracking-wide",children:"Expiration Details"})]}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-sm text-slate-600",children:"Expires:"}),(0,Me.jsx)("span",{className:"font-semibold text-slate-900 text-sm",children:m.expiresAt?new Date(m.expiresAt).toLocaleString():"Not set"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-sm text-slate-600",children:"Generated:"}),(0,Me.jsx)("span",{className:"text-sm text-slate-700",children:m.generatedAt?new Date(m.generatedAt).toLocaleString():"Unknown"})]}),m.validForHours&&(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-sm text-slate-600",children:"Duration:"}),(0,Me.jsxs)("span",{className:"text-sm text-slate-700",children:[m.validForHours," hours"]})]})]})]}),m.configUrl&&(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Me.jsx)(Dn,{className:"w-5 h-5 text-slate-600"}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-slate-800 uppercase tracking-wide",children:"Configuration"})]}),(0,Me.jsxs)("a",{href:m.configUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-2 p-2 bg-white rounded-lg hover:bg-blue-50 transition-colors",children:[(0,Me.jsx)(Dn,{className:"w-4 h-4 flex-shrink-0"}),(0,Me.jsx)("span",{className:"truncate font-medium",children:"View Configuration"})]})]}),(0,Me.jsxs)("button",{onClick:async()=>{if(m.qrDataUrl)try{const e=document.createElement("canvas"),t=e.getContext("2d"),s=800,n=900;e.width=s,e.height=n;const r=t.createLinearGradient(0,0,0,n);r.addColorStop(0,"#f8fafc"),r.addColorStop(1,"#e2e8f0"),t.fillStyle=r,t.fillRect(0,0,s,n);const a=new Image;a.crossOrigin="anonymous";const i=new Image;i.crossOrigin="anonymous";const o=(e,t)=>new Promise((s,n)=>{e.onload=s,e.onerror=n,e.src=t});await Promise.all([o(a,"/logoAirspark.png"),o(i,m.qrDataUrl)]);const l=120;t.fillStyle="#ffffff",t.fillRect(0,0,s,l);const c=t.createLinearGradient(0,l,0,l+20);c.addColorStop(0,"rgba(0, 0, 0, 0.1)"),c.addColorStop(1,"rgba(0, 0, 0, 0)"),t.fillStyle=c,t.fillRect(0,l,s,20);const d=60,u=a.width/a.height*d,h=40,x=(l-d)/2;t.drawImage(a,h,x,u,d),t.fillStyle="#1e293b",t.font="bold 28px Arial, sans-serif",t.textAlign="left";const p=h+u+20;t.fillText("AirSpark",p,x+25),t.fillStyle="#64748b",t.font="16px Arial, sans-serif",t.fillText("Social Media QR Code",p,x+45),t.fillStyle="#94a3b8",t.font="12px Arial, sans-serif",t.textAlign="right";const g=(new Date).toLocaleString();t.fillText(`Generated: ${g}`,s-40,30);const f=60,b=l+60,v=s-120,y=120;t.fillStyle="#ffffff",t.shadowColor="rgba(0, 0, 0, 0.1)",t.shadowBlur=10,t.shadowOffsetY=4,t.fillRect(f,b,v,y),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetY=0,t.fillStyle="#0f172a",t.font="bold 24px Arial, sans-serif",t.textAlign="left",t.fillText("Customer Information",f+30,b+35),t.fillStyle="#374151",t.font="18px Arial, sans-serif",t.fillText(`Name: ${m.customerName}`,f+30,b+65),t.fillStyle="#6b7280",t.font="14px Arial, sans-serif",t.fillText(`Customer ID: ${m.customerId}`,f+30,b+90);const j=S(m.platform);t.fillStyle="#4f46e5",t.font="bold 16px Arial, sans-serif",t.textAlign="right",t.fillText(`Platform: ${j.label}`,f+v-30,b+65);const w=b+y+40,N=300,k=(s-N)/2,_=20;t.fillStyle="#ffffff",t.shadowColor="rgba(0, 0, 0, 0.15)",t.shadowBlur=15,t.shadowOffsetY=8,t.fillRect(k-_,w-_,N+2*_,N+2*_),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetY=0,t.drawImage(i,k,w,N,N),t.fillStyle="#1e293b",t.font="bold 20px Arial, sans-serif",t.textAlign="center",t.fillText("Scan QR Code",s/2,w-40);const C=w+N+80;t.fillStyle="#64748b",t.font="14px Arial, sans-serif",t.textAlign="center",t.fillText("Scan this QR code with your mobile device camera",s/2,C),t.fillText("to access your social media configuration",s/2,C+20),m.qrCodeUrl&&(t.fillStyle="#94a3b8",t.font="10px Arial, sans-serif",t.fillText(`QR URL: ${m.qrCodeUrl}`,s/2,C+45)),t.fillStyle="#94a3b8",t.font="12px Arial, sans-serif",t.fillText("www.airspark.com",s/2,C+65),e.toBlob(e=>{const t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`AirSpark-QR-${m.customerName}-${m.platform}-${(new Date).toISOString().split("T")[0]}.png`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},"image/png",1)}catch(x){console.error("Error creating professional QR code:",x);const t=document.createElement("a");t.href=m.qrDataUrl,t.download=`${m.customerName}-${m.platform}-qr.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},disabled:"expired"===b,className:"w-full px-6 py-4 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-3 shadow-sm hover:shadow-md transform hover:scale-105 "+("expired"===b?"bg-gray-200 text-gray-500 cursor-not-allowed hover:scale-100":"bg-gradient-to-r from-slate-800 to-slate-900 hover:from-slate-900 hover:to-black text-white"),children:[(0,Me.jsx)(Ln,{className:"w-5 h-5"}),"expired"===b?"QR Code Expired":"Download QR Code"]})]})]}):(0,Me.jsxs)("div",{className:"text-center py-16",children:[(0,Me.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-full mx-auto mb-6 flex items-center justify-center",children:(0,Me.jsx)(Mn,{className:"w-10 h-10 text-slate-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Ready to Generate"}),(0,Me.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Select a customer and platform to create a QR code"}),(0,Me.jsx)("div",{className:"flex justify-center gap-2",children:Rn.map(e=>{const t=e.icon;return(0,Me.jsx)("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(t,{className:"w-4 h-4 text-slate-400"})},e.key)})})]})})]})})]})]})})}const zn=()=>{const[e,t]=(0,r.useState)({email:"",password:""}),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(""),o=te(),{superAdminLogin:l}=Le(),c=s=>{t({...e,[s.target.name]:s.target.value})};return(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsx)("div",{children:(0,Me.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Super Admin Login"})}),(0,Me.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),n(!0),i("");try{await l(e.email,e.password),o("/superadmin/dashboard")}catch(a){i(a.message||"Login failed")}finally{n(!1)}},children:[a&&(0,Me.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:a}),(0,Me.jsx)("div",{children:(0,Me.jsx)("input",{name:"email",type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Email",value:e.email,onChange:c})}),(0,Me.jsx)("div",{children:(0,Me.jsx)("input",{name:"password",type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Password",value:e.password,onChange:c})}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:s,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:s?"Signing In...":"Sign In"})}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Don't have an account?"," ",(0,Me.jsx)(Oe,{to:"/superadmin/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})]})})},Un=Ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),$n=Ve("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Bn="https://my-backend-593529385135.asia-south1.run.app",Vn=async e=>{const t=await e.text();let s;try{s=JSON.parse(t)}catch(n){throw new Error("Invalid response from server")}if(!e.ok)throw new Error(s.error||s.message||`Request failed with status ${e.status}`);return s},Wn={async getCustomers(){const e=await fetch(`${Bn}/customers`);return Vn(e)},async getAdmins(){const e=await fetch(`${Bn}/users?role=admin`);return Vn(e)},async assignCustomers(e,t){const s=await fetch(`${Bn}/superadmin/assign-customers`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("superadminToken")}`},body:JSON.stringify({adminId:e,customerIds:t})});return Vn(s)}},Hn=()=>{var e,t,s,n,a,i,o,l;const[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[h,x]=(0,r.useState)([]),[p,g]=(0,r.useState)(""),[f,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[j,w]=(0,r.useState)(null),[N,k]=(0,r.useState)("assign"),[S,_]=(0,r.useState)(""),C=te();(0,r.useEffect)(()=>{A()},[]);const A=async()=>{y(!0);try{await Promise.all([P(),E()])}finally{y(!1)}},P=async()=>{try{const e=await Wn.getCustomers();d(e)}catch(e){O("Failed to fetch customers","error")}},E=async()=>{try{const e=await Wn.getAdmins();m(e)}catch(e){O("Failed to fetch admins","error")}},O=function(e){w({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>w(null),5e3)},I=e=>{const t=T(e);t&&t._id!==p?O(`Customer already assigned to ${t.name||t.email}`,"error"):x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},T=e=>{const t=u.find(t=>(t.assignedCustomers||[]).includes(e));return t||null},M=c.filter(e=>{var t,s;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(S.toLowerCase()))||(null===(s=e.email)||void 0===s?void 0:s.toLowerCase().includes(S.toLowerCase()))});return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[j&&(0,Me.jsxs)("div",{className:(e=>{const t="fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 flex items-center space-x-2 max-w-md";switch(e){case"success":return`${t} bg-green-50 border border-green-200 text-green-800`;case"error":return`${t} bg-red-50 border border-red-200 text-red-800`;default:return`${t} bg-blue-50 border border-blue-200 text-blue-800`}})(j.type),children:["success"===j.type&&(0,Me.jsx)(Je,{size:20}),"error"===j.type&&(0,Me.jsx)(We,{size:20}),(0,Me.jsx)("span",{children:j.message}),(0,Me.jsx)("button",{onClick:()=>w(null),className:"ml-2 hover:opacity-70",children:(0,Me.jsx)(vs,{size:16})})]}),(0,Me.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Super Admin Dashboard"}),(0,Me.jsx)("p",{className:"mt-1 text-gray-600",children:"Manage customer assignments and admin relationships"})]}),(0,Me.jsxs)("button",{onClick:A,disabled:v,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,Me.jsx)(_n,{size:16,className:v?"animate-spin":""}),(0,Me.jsx)("span",{children:"Refresh"})]})]})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-purple-600 text-white p-6 rounded-xl shadow-lg",children:[(0,Me.jsx)(mt,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Customers"}),(0,Me.jsx)("p",{className:"text-2xl font-bold",children:c.length})]}),(0,Me.jsxs)("div",{className:"bg-orange-600 text-white p-6 rounded-xl shadow-lg",children:[(0,Me.jsx)(ft,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Admins"}),(0,Me.jsx)("p",{className:"text-2xl font-bold",children:u.length})]}),(0,Me.jsxs)("button",{onClick:()=>C("/superadmin/analytics"),className:"bg-blue-600 text-white p-6 rounded-xl hover:bg-blue-700 transition-all duration-200 text-left shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Me.jsx)(Un,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Anaytics"}),(0,Me.jsx)("p",{className:"text-blue-100 text-sm",children:"Track the progress"})]}),(0,Me.jsxs)("button",{onClick:()=>C("/superadmin/view-assignments"),className:"bg-green-600 text-white p-6 rounded-xl hover:bg-green-700 transition-all duration-200 text-left shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Me.jsx)(mt,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"View Assignments"}),(0,Me.jsx)("p",{className:"text-green-100 text-sm",children:"See all customer assignments"})]})]}),(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border",children:[(0,Me.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[(0,Me.jsx)($n,{className:"text-yellow-500",size:20}),(0,Me.jsx)("span",{children:"Select Admin"})]}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1",children:"Choose an admin to assign customers to"})]}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-900 transition-colors",children:[(0,Me.jsx)("option",{value:"",children:"Choose an admin..."}),u.map(e=>{var t;return(0,Me.jsxs)("option",{value:e._id,children:[e.name||(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||e.email," (",e.email,")"]},e._id)})]}),p&&u.find(e=>e._id===p)&&(0,Me.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)($n,{className:"text-white",size:16})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900",children:(null===(e=u.find(e=>e._id===p))||void 0===e?void 0:e.name)||(null===(t=u.find(e=>e._id===p))||void 0===t||null===(s=t.email)||void 0===s?void 0:s.split("@")[0])||(null===(n=u.find(e=>e._id===p))||void 0===n?void 0:n.email)}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600",children:[(0,Me.jsx)(Hs,{size:14}),(0,Me.jsx)("span",{className:"text-sm",children:u.find(e=>e._id===p).email})]})]})]})})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border",children:[(0,Me.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Select Customers"}),(0,Me.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:[h.length," selected"]})]}),(0,Me.jsxs)("div",{className:"relative mb-4",children:[(0,Me.jsx)(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,Me.jsx)("input",{type:"text",placeholder:"Search customers...",value:S,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),(0,Me.jsx)("button",{onClick:()=>{const e=c.filter(e=>(e.name||"").toLowerCase().includes(S.toLowerCase())||(e.email||"").toLowerCase().includes(S.toLowerCase())).filter(e=>{const t=T(e._id);return!(t&&t._id!==p)});h.length===e.length&&e.length>0?x([]):x(e.map(e=>e._id))},className:"text-blue-600 hover:text-blue-800 text-sm font-medium transition-colors",children:h.length===M.filter(e=>{const t=T(e._id);return!(t&&t._id!==p)}).length?"Deselect All":"Select All"})]}),(0,Me.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,Me.jsx)("div",{className:"p-4 space-y-2",children:M.length>0?M.map(e=>{var t;const s=T(e._id),n=s&&s._id!==p;return(0,Me.jsxs)("div",{className:"flex items-center p-4 rounded-lg border transition-all cursor-pointer hover:shadow-md "+(h.includes(e._id)?"bg-blue-50 border-blue-300 shadow-sm":"bg-gray-50 border-gray-200 hover:bg-gray-100"),onClick:()=>I(e._id),children:[(0,Me.jsx)("input",{type:"checkbox",checked:h.includes(e._id),onChange:()=>I(e._id),disabled:n,className:"mr-4 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)(He,{className:"text-white",size:16})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,Me.jsx)(Hs,{size:12}),(0,Me.jsx)("span",{className:"text-sm truncate",children:e.email})]})]})]}),s?(0,Me.jsx)("div",{className:"ml-4 text-sm",children:(0,Me.jsx)("span",{className:"px-2 py-1 rounded-full text-xs "+(s._id===p?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:s._id===p?"Assigned to selected admin":`Assigned to ${s.name||(null===(t=s.email)||void 0===t?void 0:t.split("@")[0])||s.email}`})}):null]},e._id)}):(0,Me.jsxs)("div",{className:"p-8 text-center",children:[(0,Me.jsx)(He,{className:"mx-auto text-gray-400 mb-4",size:48}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No customers found"})]})})})]})]}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Assignment Summary"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1",children:p&&h.length>0?`Ready to assign ${h.length} customer${h.length>1?"s":""} to ${(null===(a=u.find(e=>e._id===p))||void 0===a?void 0:a.name)||(null===(i=u.find(e=>e._id===p))||void 0===i||null===(o=i.email)||void 0===o?void 0:o.split("@")[0])||(null===(l=u.find(e=>e._id===p))||void 0===l?void 0:l.email)}`:"Select an admin and customers to proceed"})]}),(0,Me.jsx)("button",{onClick:async()=>{if(p&&0!==h.length){b(!0);try{const e=await Wn.assignCustomers(p,h);O(`Successfully assigned ${e.assignedCount||h.length} customers`,"success"),await Promise.all([P(),E()]),x([]),g("")}catch(e){O(e.message||"Assignment failed","error")}finally{b(!1)}}else O("Please select an admin and at least one customer","error")},disabled:f||!p||0===h.length,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:f?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(_n,{size:16,className:"animate-spin"}),(0,Me.jsx)("span",{children:"Assigning..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Un,{size:16}),(0,Me.jsx)("span",{children:"Assign Customers"})]})})]})})]})]})]})},qn=()=>{const[e,t]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:""}),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{superAdminSignup:u}=Le(),m=te(),h=s=>{t({...e,[s.target.name]:s.target.value})},x=0===(p=e.password).length?{strength:0,text:"",color:""}:p.length<6?{strength:1,text:"Weak",color:"text-red-500"}:p.length<8?{strength:2,text:"Fair",color:"text-yellow-500"}:p.length>=8&&/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(p)?{strength:4,text:"Strong",color:"text-green-500"}:{strength:3,text:"Good",color:"text-blue-500"};var p;return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-purple-50 to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-900 to-indigo-600 bg-clip-text text-transparent",children:"Super Admin Sign Up"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-600",children:"Create your super admin account"})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:[o&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm font-medium",children:o})]}),(0,Me.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault();const s=e.name?e.email?/\S+@\S+\.\S+/.test(e.email)?e.password?e.password.length<6?"Password must be at least 6 characters long":e.password!==e.confirmPassword?"Passwords do not match":"":"Password is required":"Please enter a valid email address":"Email is required":"Name is required";if(s)l(s);else try{l(""),d(!0),await u(e.name,e.email,e.password),m("/superadmin/dashboard")}catch(i){var n,r,a;null!==(n=i.message)&&void 0!==n&&n.includes("already exists")||null!==(r=i.message)&&void 0!==r&&r.includes("409")?l("An account with this email already exists. Please sign in instead."):null!==(a=i.message)&&void 0!==a&&a.includes("Invalid email")?l("Please enter a valid email address."):l(i.message||"Failed to create account. Please try again."),console.error(i)}finally{d(!1)}},children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(He,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your full name",value:e.name,onChange:h})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qe,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your email address",value:e.email,onChange:h})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Create a strong password",value:e.password,onChange:h}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{n(!s)},children:s?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),e.password&&(0,Me.jsxs)("div",{className:"mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Password strength:"}),(0,Me.jsx)("span",{className:`text-xs font-medium ${x.color}`,children:x.text})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(1===x.strength?"bg-red-500 w-1/4":2===x.strength?"bg-yellow-500 w-2/4":3===x.strength?"bg-blue-500 w-3/4":4===x.strength?"bg-green-500 w-full":"w-0")})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Confirm your password",value:e.confirmPassword,onChange:h}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{i(!a)},children:a?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),e.confirmPassword&&(0,Me.jsx)("div",{className:"mt-2 flex items-center",children:e.password===e.confirmPassword?(0,Me.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords match"})]}):(0,Me.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Me.jsx)(We,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords do not match"})]})})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating account..."]}):(0,Me.jsxs)("div",{className:"flex items-center",children:["Create Super Admin Account",(0,Me.jsx)(Qe,{className:"h-5 w-5 ml-2"})]})})})]}),(0,Me.jsxs)("div",{className:"mt-8 text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsx)(Oe,{to:"/superadmin/login",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200",children:"Sign in instead"})})]})]}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"By creating a super admin account, you agree to our Terms of Service and Privacy Policy"})})]})})},Yn=Ve("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Gn=()=>{const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(null),[p,g]=(0,r.useState)(null),f=te();(0,r.useEffect)(()=>{b()},[]);const b=async()=>{l(!0);try{await Promise.all([v(),y()])}finally{l(!1)}},v=async()=>{try{const e="https://my-backend-593529385135.asia-south1.run.app",s=await fetch(`${e}/customers`),n=await s.json();t(n)}catch(e){console.error("Error fetching customers:",e)}},y=async()=>{try{const e="https://my-backend-593529385135.asia-south1.run.app",t=await fetch(`${e}/users?role=admin`),s=await t.json();n(s);const r=s.filter(e=>e.assignedCustomers&&e.assignedCustomers.length>0).map(e=>({adminId:e._id,customerIds:e.assignedCustomers}));i(r)}catch(e){console.error("Error fetching admins:",e)}},j=function(e){g({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>g(null),5e3)},w=e=>{const t=s.find(t=>t._id===e);return t?t.name?t.name:t.email?t.email.split("@")[0]:"Unknown Admin":"Unknown Admin"},N=e=>{const t=s.find(t=>t._id===e);return t&&t.email||""},k=t=>{const s=e.find(e=>e._id===t);return s&&s.name||"Unknown Customer"},S=t=>{const s=e.find(e=>e._id===t);return s&&s.email||""},_=a.filter(e=>{const t=(w(e.adminId)||"").toLowerCase(),s=e.customerIds.map(e=>(k(e)||"").toLowerCase()).join(" "),n=(u||"").toLowerCase();return t.includes(n)||s.includes(n)}),C=a.reduce((e,t)=>e+t.customerIds.length,0),A=e.filter(e=>!a.some(t=>t.customerIds.includes(e._id)));return o?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading assignments..."})]})})})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[p&&(0,Me.jsxs)("div",{className:(e=>{const t="fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 flex items-center space-x-2 max-w-md";switch(e){case"success":return`${t} bg-green-50 border border-green-200 text-green-800`;case"error":return`${t} bg-red-50 border border-red-200 text-red-800`;default:return`${t} bg-blue-50 border border-blue-200 text-blue-800`}})(p.type),children:["success"===p.type&&(0,Me.jsx)(Je,{size:20}),"error"===p.type&&(0,Me.jsx)(Tn,{size:20}),(0,Me.jsx)("span",{children:p.message}),(0,Me.jsx)("button",{onClick:()=>g(null),className:"ml-2 hover:opacity-70",children:(0,Me.jsx)(vs,{size:16})})]}),h&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(Tn,{className:"text-red-600",size:24})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Removal"}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm",children:"This action cannot be undone"})]})]}),(0,Me.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsxs)("p",{className:"text-sm text-gray-700 mb-2",children:[(0,Me.jsx)("strong",{children:"Customer:"})," ",h.customerName]}),(0,Me.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,Me.jsx)("strong",{children:"Admin:"})," ",h.adminName]})]}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to remove this customer assignment? The customer will no longer be managed by this admin."}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{onClick:async()=>{h&&(await(async(e,t)=>{try{d(!0);const n="https://my-backend-593529385135.asia-south1.run.app",r=await fetch(`${n}/superadmin/remove-assignment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("superadminToken")}`},body:JSON.stringify({adminId:e,customerId:t})}),a=await r.text();let i;try{i=JSON.parse(a)}catch(s){i={error:"Invalid response from server"}}r.ok?(j("Customer assignment removed successfully","success"),await y()):j(i.error||"Failed to remove assignment","error")}catch(n){console.error("Error removing assignment:",n),j("Network error: "+n.message,"error")}finally{d(!1)}})(h.adminId,h.customerId),x(null))},disabled:c,className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors font-medium",children:c?(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Removing..."]}):"Remove Assignment"}),(0,Me.jsx)("button",{onClick:()=>x(null),disabled:c,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors font-medium disabled:opacity-50",children:"Cancel"})]})]})}),(0,Me.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>f("/superadmin/dashboard"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"View Assignments"}),(0,Me.jsx)("p",{className:"mt-1 text-gray-600",children:"Overview of all customer-admin assignments"})]})]}),(0,Me.jsxs)("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Me.jsx)(_n,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Refresh"})]})]})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-blue-600 text-white p-6 rounded-xl shadow-lg",children:[(0,Me.jsx)(mt,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Customers"}),(0,Me.jsx)("p",{className:"text-2xl font-bold",children:e.length})]}),(0,Me.jsxs)("div",{className:"bg-purple-600 text-white p-6 rounded-xl shadow-lg",children:[(0,Me.jsx)($n,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Total Admins"}),(0,Me.jsx)("p",{className:"text-2xl font-bold",children:s.length})]}),(0,Me.jsxs)("div",{className:"bg-green-600 text-white p-6 rounded-xl shadow-lg",children:[(0,Me.jsx)(He,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Assigned Customers"}),(0,Me.jsx)("p",{className:"text-2xl font-bold",children:C})]}),(0,Me.jsxs)("div",{className:"bg-orange-600 text-white p-6 rounded-xl shadow-lg",children:[(0,Me.jsx)(mt,{className:"w-8 h-8 mb-4"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Unassigned"}),(0,Me.jsx)("p",{className:"text-2xl font-bold",children:A.length})]})]}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Assignment Overview"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Search and view all customer-admin relationships"})]}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,Me.jsx)("input",{type:"text",placeholder:"Search assignments...",value:u,onChange:e=>m(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-64"})]})]})}),(0,Me.jsx)("div",{className:"space-y-6",children:0===_.length?(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-12 text-center",children:[(0,Me.jsx)(mt,{className:"mx-auto text-gray-400 mb-4",size:48}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No assignments found"}),(0,Me.jsx)("p",{className:"text-gray-600",children:0===a.length?"No customers have been assigned to admins yet.":"No assignments match your search criteria."}),(0,Me.jsx)("button",{onClick:()=>f("/superadmin/assignments"),className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Assignment"})]}):_.map(t=>(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border",children:[(0,Me.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)($n,{className:"text-white",size:20})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:w(t.adminId)}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1 text-gray-600",children:[(0,Me.jsx)(Hs,{size:14}),(0,Me.jsx)("span",{className:"text-sm",children:N(t.adminId)})]})]})]}),(0,Me.jsx)("div",{className:"text-right",children:(0,Me.jsxs)("span",{className:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full",children:[t.customerIds.length," customer",1!==t.customerIds.length?"s":""]})})]})}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Assigned Customers"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.customerIds.map(n=>(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 group hover:bg-gray-100 transition-colors",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)(He,{className:"text-white",size:14})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-900 truncate",children:k(n)}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:S(n)})]})]}),(0,Me.jsx)("button",{onClick:()=>((t,n)=>{const r=s.find(e=>e._id===t),a=e.find(e=>e._id===n);x({adminId:t,customerId:n,adminName:(null===r||void 0===r?void 0:r.name)||"Unknown Admin",customerName:(null===a||void 0===a?void 0:a.name)||"Unknown Customer"})})(t.adminId,n),disabled:c,className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 opacity-0 group-hover:opacity-100 ml-2",title:"Remove customer from admin",children:(0,Me.jsx)(Yn,{size:16})})]},n))})]})]},t.adminId))}),A.length>0&&(0,Me.jsxs)("div",{className:"mt-8 bg-white rounded-xl shadow-sm border",children:[(0,Me.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Unassigned Customers"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"These customers are not assigned to any admin"})]}),(0,Me.jsxs)("span",{className:"bg-orange-100 text-orange-800 text-sm font-medium px-3 py-1 rounded-full",children:[A.length," unassigned"]})]})}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(e=>(0,Me.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)(He,{className:"text-white",size:14})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-900 truncate",children:e.name}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.email})]})]},e._id))}),(0,Me.jsx)("div",{className:"mt-4 text-center",children:(0,Me.jsx)("button",{onClick:()=>f("/superadmin/dashboard"),className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Assign These Customers"})})]})]})]})]})},Kn=()=>{const e=te(),[t,s]=(0,r.useState)({totalCustomers:0,totalAdmins:0,totalAssignments:0,totalContentCreators:0,growthRate:0,activeRate:0,thisMonth:0,chartData:[],recentActivity:[],loading:!0}),[n,a]=(0,r.useState)(!0);(0,r.useEffect)(()=>{i()},[]);const i=async()=>{a(!0);try{await Promise.all([o(),l(),c()])}catch(e){console.error("Error loading analytics data:",e)}finally{a(!1)}},o=async()=>{try{const e="https://my-backend-593529385135.asia-south1.run.app",t=await fetch(`${e}/customers`),n=await t.json(),r=await fetch(`${e}/users?role=admin`),a=await r.json(),i=await fetch(`${e}/users?role=content_creator`),o=await i.json(),l=a.reduce((e,t)=>{var s;return e+((null===(s=t.assignedCustomers)||void 0===s?void 0:s.length)||0)},0),c=(new Date).getMonth(),d=(new Date).getFullYear(),u=n.filter(e=>{if(!e.createdAt)return!1;const t=new Date(e.createdAt);return t.getMonth()===c&&t.getFullYear()===d}).length,m=0===c?11:c-1,h=n.filter(e=>{if(!e.createdAt)return!1;return new Date(e.createdAt).getMonth()===m}).length,x=h>0?Math.round((u-h)/h*100):0,p=n.filter(e=>{if(!e.lastLoginAt&&!e.createdAt)return!1;const t=new Date(e.lastLoginAt||e.createdAt),s=new Date;return s.setDate(s.getDate()-30),t>s}).length,g=n.length>0?Math.round(p/n.length*100):0;s(e=>({...e,totalCustomers:n.length,totalAdmins:a.length,totalContentCreators:o.length,totalAssignments:l,growthRate:x,activeRate:g,thisMonth:u}))}catch(e){console.error("Error fetching counts:",e)}},l=async()=>{try{const e="https://my-backend-593529385135.asia-south1.run.app",t=await fetch(`${e}/customers`),n=await t.json(),r=await fetch(`${e}/users?role=admin`),a=await r.json(),i=[],o=new Date;for(let s=5;s>=0;s--){const e=new Date(o.getFullYear(),o.getMonth()-s,1),t=e.toLocaleDateString("en-US",{month:"short"}),r=n.filter(t=>{if(!t.createdAt)return!1;const s=new Date(t.createdAt);return s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear()}).length,l=a.filter(t=>{if(!t.createdAt)return!1;const s=new Date(t.createdAt);return s.getMonth()===e.getMonth()&&s.getFullYear()===e.getFullYear()}).length;i.push({month:t,customers:r,admins:l})}s(e=>({...e,chartData:i}))}catch(e){console.error("Error fetching chart data:",e)}},c=async()=>{try{const e="https://my-backend-593529385135.asia-south1.run.app",t=await fetch(`${e}/customers`),n=await t.json(),r=await fetch(`${e}/users?role=admin`),a=await r.json(),i=[],o=n.filter(e=>e.createdAt).sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)).slice(0,2);o.forEach(e=>{const t=d(e.createdAt);i.push({action:`New customer registered: ${e.name}`,time:t,type:"success"})});const l=a.filter(e=>{var t;return(null===(t=e.assignedCustomers)||void 0===t?void 0:t.length)>0});l.length>0&&i.push({action:`Admin assignments updated: ${l.length} admins have customers assigned`,time:"1 hour ago",type:"info"}),i.push({action:"System backup completed",time:"2 hours ago",type:"success"}),s(e=>({...e,recentActivity:i.slice(0,4)}))}catch(e){console.error("Error fetching recent activity:",e),s(e=>({...e,recentActivity:[{action:"System running normally",time:"Just now",type:"success"},{action:"Database connected",time:"5 minutes ago",type:"info"}]}))}},d=e=>{const t=new Date,s=new Date(e),n=Math.floor((t-s)/6e4);if(n<1)return"Just now";if(n<60)return`${n} minutes ago`;const r=Math.floor(n/60);if(r<24)return`${r} hour${r>1?"s":""} ago`;const a=Math.floor(r/24);return`${a} day${a>1?"s":""} ago`};return n?(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsx)("div",{className:"flex justify-between items-center py-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>e("/superadmin/dashboard"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics & Reports"}),(0,Me.jsx)("p",{className:"mt-1 text-gray-600",children:"Monitor system performance and user engagement metrics"})]})]})})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Me.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,Me.jsx)("p",{className:"text-gray-500 font-medium",children:"Loading analytics data..."})]})})})]}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>e("/superadmin/dashboard"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics & Reports"}),(0,Me.jsx)("p",{className:"mt-1 text-gray-600",children:"Monitor system performance and user engagement metrics"})]})]}),(0,Me.jsxs)("button",{onClick:()=>{i()},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Me.jsx)(_n,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Refresh"})]})]})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-blue-100 rounded-lg p-3",children:(0,Me.jsx)(ut,{className:"w-6 h-6 text-blue-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[t.growthRate>0?"+":"",t.growthRate,"%"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Growth Rate"})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-green-100 rounded-lg p-3",children:(0,Me.jsx)(mt,{className:"w-6 h-6 text-green-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.totalCustomers+t.totalAdmins+t.totalContentCreators}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Total Users"})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-orange-100 rounded-lg p-3",children:(0,Me.jsx)(lt,{className:"w-6 h-6 text-orange-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[t.activeRate,"%"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Active Rate"})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-purple-100 rounded-lg p-3",children:(0,Me.jsx)(xt,{className:"w-6 h-6 text-purple-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.thisMonth}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"This Month"})]})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:t.totalCustomers}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Total Customers"})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:t.totalAdmins}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Total Admins"})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-green-600",children:t.totalAssignments}),(0,Me.jsx)("p",{className:"text-gray-600 mt-2",children:"Total Assignments"})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Growth (Last 6 Months)"}),(0,Me.jsx)("div",{className:"h-64 flex items-end space-x-4",children:t.chartData.map((e,s)=>{const n=Math.max(...t.chartData.map(e=>e.customers))||1;return(0,Me.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,Me.jsxs)("div",{className:"w-full flex flex-col space-y-1",children:[(0,Me.jsx)("div",{className:"w-full bg-blue-500 rounded-t-md transition-all duration-300 hover:bg-blue-600",style:{height:e.customers/n*180+"px"},title:`${e.customers} customers`}),(0,Me.jsx)("div",{className:"w-full bg-purple-400 rounded-t-md transition-all duration-300 hover:bg-purple-500",style:{height:e.admins/Math.max(1,Math.max(...t.chartData.map(e=>e.admins)))*40+"px"},title:`${e.admins} admins`})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:e.month})]},s)})}),(0,Me.jsxs)("div",{className:"flex justify-center mt-4 space-x-6",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Customers"})]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-3 h-3 bg-purple-400 rounded-full mr-2"}),(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Admins"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,Me.jsx)("div",{className:"space-y-4",children:t.recentActivity.length>0?t.recentActivity.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[(0,Me.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 "+("success"===e.type?"bg-green-500":"info"===e.type?"bg-blue-500":"warning"===e.type?"bg-orange-500":"bg-gray-500")}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.action}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:e.time})]})]},t)):(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)(lt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No recent activity"})]})})]})]})]})]})},Jn=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Qn=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Xn=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Zn=Ve("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),er=Ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tr=Ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),sr=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),nr=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),rr=Ve("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);function ar(e){var t,s,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(s=ar(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function ir(){for(var e,t,s=0,n="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=ar(e))&&(n&&(n+=" "),n+=t);return n}var or=s(7820),lr=s.n(or),cr=s(7770),dr=s.n(cr),ur=e=>0===e?0:e>0?1:-1,mr=e=>"number"==typeof e&&e!=+e,hr=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,xr=e=>("number"===typeof e||e instanceof Number)&&!mr(e),pr=e=>xr(e)||"string"===typeof e,gr=0,fr=e=>{var t=++gr;return"".concat(e||"").concat(t)},br=function(e,t){var s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!xr(e)&&"string"!==typeof e)return n;if(hr(e)){if(null==t)return n;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return mr(s)&&(s=n),r&&null!=t&&s>t&&(s=t),s},vr=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,s={},n=0;n<t;n++){if(s[e[n]])return!0;s[e[n]]=!0}return!1},yr=(e,t)=>xr(e)&&xr(t)?s=>e+s*(t-e):()=>t;function jr(e,t,s){return xr(e)&&xr(t)?e+s*(t-e):t}function wr(e,t,s){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):dr()(e,t))===s)}var Nr=e=>null===e||"undefined"===typeof e,kr=e=>Nr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Sr=function(e,t){for(var s=arguments.length,n=new Array(s>2?s-2:0),r=2;r<s;r++)n[r-2]=arguments[r]};function _r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Cr(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(s),!0).forEach(function(t){Ar(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_r(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Ar(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var Pr=(0,r.forwardRef)((e,t)=>{var{aspect:s,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:m,className:h,onResize:x,style:p={}}=e,g=(0,r.useRef)(null),f=(0,r.useRef)();f.current=x,(0,r.useImperativeHandle)(t,()=>g.current);var[b,v]=(0,r.useState)({containerWidth:n.width,containerHeight:n.height}),y=(0,r.useCallback)((e,t)=>{v(s=>{var n=Math.round(e),r=Math.round(t);return s.containerWidth===n&&s.containerHeight===r?s:{containerWidth:n,containerHeight:r}})},[]);(0,r.useEffect)(()=>{var e=e=>{var t,{width:s,height:n}=e[0].contentRect;y(s,n),null===(t=f.current)||void 0===t||t.call(f,s,n)};u>0&&(e=lr()(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:s,height:n}=g.current.getBoundingClientRect();return y(s,n),t.observe(g.current),()=>{t.disconnect()}},[y,u]);var j=(0,r.useMemo)(()=>{var{containerWidth:e,containerHeight:t}=b;if(e<0||t<0)return null;Sr(hr(a)||hr(i),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,i),Sr(!s||s>0,"The aspect(%s) must be greater than zero.",s);var n=hr(a)?e:a,u=hr(i)?t:i;return s&&s>0&&(n?u=n/s:u&&(n=u*s),c&&u>c&&(u=c)),Sr(n>0||u>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,u,a,i,o,l,s),r.Children.map(d,e=>(0,r.cloneElement)(e,{width:n,height:u,style:Cr({width:n,height:u},e.props.style)}))},[s,d,i,c,l,o,b,a]);return r.createElement("div",{id:m?"".concat(m):void 0,className:ir("recharts-responsive-container",h),style:Cr(Cr({},p),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:g},r.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function Er(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Or=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Ir=()=>Math.random().toString(36).substring(7).split("").join("."),Tr={INIT:`@@redux/INIT${Ir()}`,REPLACE:`@@redux/REPLACE${Ir()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ir()}`};function Mr(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Dr(e,t,s){if("function"!==typeof e)throw new Error(Er(2));if("function"===typeof t&&"function"===typeof s||"function"===typeof s&&"function"===typeof arguments[3])throw new Error(Er(0));if("function"===typeof t&&"undefined"===typeof s&&(s=t,t=void 0),"undefined"!==typeof s){if("function"!==typeof s)throw new Error(Er(1));return s(Dr)(e,t)}let n=e,r=t,a=new Map,i=a,o=0,l=!1;function c(){i===a&&(i=new Map,a.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(Er(3));return r}function u(e){if("function"!==typeof e)throw new Error(Er(4));if(l)throw new Error(Er(5));let t=!0;c();const s=o++;return i.set(s,e),function(){if(t){if(l)throw new Error(Er(6));t=!1,c(),i.delete(s),a=null}}}function m(e){if(!Mr(e))throw new Error(Er(7));if("undefined"===typeof e.type)throw new Error(Er(8));if("string"!==typeof e.type)throw new Error(Er(17));if(l)throw new Error(Er(9));try{l=!0,r=n(r,e)}finally{l=!1}return(a=i).forEach(e=>{e()}),e}m({type:Tr.INIT});return{dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Er(10));n=e,m({type:Tr.REPLACE})},[Or]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Er(11));function s(){const e=t;e.next&&e.next(d())}s();return{unsubscribe:e(s)}},[Or](){return this}}}}}function Lr(e){const t=Object.keys(e),s={};for(let a=0;a<t.length;a++){const n=t[a];0,"function"===typeof e[n]&&(s[n]=e[n])}const n=Object.keys(s);let r;try{!function(e){Object.keys(e).forEach(t=>{const s=e[t];if("undefined"===typeof s(void 0,{type:Tr.INIT}))throw new Error(Er(12));if("undefined"===typeof s(void 0,{type:Tr.PROBE_UNKNOWN_ACTION()}))throw new Error(Er(13))})}(s)}catch(GB){r=GB}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(r)throw r;let a=!1;const i={};for(let r=0;r<n.length;r++){const o=n[r],l=s[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Er(14))}i[o]=d,a=a||d!==c}return a=a||n.length!==Object.keys(e).length,a?i:e}}function Rr(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Fr(e){return Mr(e)&&"type"in e&&"string"===typeof e.type}function zr(e){return t=>{let{dispatch:s,getState:n}=t;return t=>r=>"function"===typeof r?r(s,n,e):t(r)}}var Ur=zr(),$r=zr,Br=Symbol.for("immer-nothing"),Vr=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function Hr(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qr=Object.getPrototypeOf;function Yr(e){return!!e&&!!e[Wr]}function Gr(e){return!!e&&(Jr(e)||Array.isArray(e)||!!e[Vr]||!!e.constructor?.[Vr]||ta(e)||sa(e))}var Kr=Object.prototype.constructor.toString();function Jr(e){if(!e||"object"!==typeof e)return!1;const t=qr(e);if(null===t)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object||"function"==typeof s&&Function.toString.call(s)===Kr}function Qr(e,t){0===Xr(e)?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,n)=>t(n,s,e))}function Xr(e){const t=e[Wr];return t?t.type_:Array.isArray(e)?1:ta(e)?2:sa(e)?3:0}function Zr(e,t){return 2===Xr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ea(e,t,s){const n=Xr(e);2===n?e.set(t,s):3===n?e.add(s):e[t]=s}function ta(e){return e instanceof Map}function sa(e){return e instanceof Set}function na(e){return e.copy_||e.base_}function ra(e,t){if(ta(e))return new Map(e);if(sa(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=Jr(e);if(!0===t||"class_only"===t&&!s){const t=Object.getOwnPropertyDescriptors(e);delete t[Wr];let s=Reflect.ownKeys(t);for(let n=0;n<s.length;n++){const r=s[n],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(qr(e),t)}{const t=qr(e);if(null!==t&&s)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function aa(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return oa(e)||Yr(e)||!Gr(e)||(Xr(e)>1&&(e.set=e.add=e.clear=e.delete=ia),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,s]=e;return aa(s,!0)})),e}function ia(){Hr(2)}function oa(e){return Object.isFrozen(e)}var la,ca={};function da(e){const t=ca[e];return t||Hr(0),t}function ua(){return la}function ma(e,t){t&&(da("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ha(e){xa(e),e.drafts_.forEach(ga),e.drafts_=null}function xa(e){e===la&&(la=e.parent_)}function pa(e){return la={drafts_:[],parent_:la,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ga(e){const t=e[Wr];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function fa(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return void 0!==e&&e!==s?(s[Wr].modified_&&(ha(t),Hr(4)),Gr(e)&&(e=ba(t,e),t.parent_||ya(t,e)),t.patches_&&da("Patches").generateReplacementPatches_(s[Wr].base_,e,t.patches_,t.inversePatches_)):e=ba(t,s,[]),ha(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Br?e:void 0}function ba(e,t,s){if(oa(t))return t;const n=t[Wr];if(!n)return Qr(t,(r,a)=>va(e,n,t,r,a,s)),t;if(n.scope_!==e)return t;if(!n.modified_)return ya(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let r=t,a=!1;3===n.type_&&(r=new Set(t),t.clear(),a=!0),Qr(r,(r,i)=>va(e,n,t,r,i,s,a)),ya(e,t,!1),s&&e.patches_&&da("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function va(e,t,s,n,r,a,i){if(Yr(r)){const i=ba(e,r,a&&t&&3!==t.type_&&!Zr(t.assigned_,n)?a.concat(n):void 0);if(ea(s,n,i),!Yr(i))return;e.canAutoFreeze_=!1}else i&&s.add(r);if(Gr(r)&&!oa(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ba(e,r),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(s,n)||ya(e,r)}}function ya(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&aa(t,s)}var ja={get(e,t){if(t===Wr)return e;const s=na(e);if(!Zr(s,t))return function(e,t,s){const n=ka(t,s);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,s,t);const n=s[t];return e.finalized_||!Gr(n)?n:n===Na(e.base_,t)?(_a(e),e.copy_[t]=Ca(n,e)):n},has:(e,t)=>t in na(e),ownKeys:e=>Reflect.ownKeys(na(e)),set(e,t,s){const n=ka(na(e),t);if(n?.set)return n.set.call(e.draft_,s),!0;if(!e.modified_){const n=Na(na(e),t),i=n?.[Wr];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(((r=s)===(a=n)?0!==r||1/r===1/a:r!==r&&a!==a)&&(void 0!==s||Zr(e.base_,t)))return!0;_a(e),Sa(e)}var r,a;return e.copy_[t]===s&&(void 0!==s||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Na(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,_a(e),Sa(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const s=na(e),n=Reflect.getOwnPropertyDescriptor(s,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:s[t]}:n},defineProperty(){Hr(11)},getPrototypeOf:e=>qr(e.base_),setPrototypeOf(){Hr(12)}},wa={};function Na(e,t){const s=e[Wr];return(s?na(s):e)[t]}function ka(e,t){if(!(t in e))return;let s=qr(e);for(;s;){const e=Object.getOwnPropertyDescriptor(s,t);if(e)return e;s=qr(s)}}function Sa(e){e.modified_||(e.modified_=!0,e.parent_&&Sa(e.parent_))}function _a(e){e.copy_||(e.copy_=ra(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Qr(ja,(e,t)=>{wa[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wa.deleteProperty=function(e,t){return wa.set.call(this,e,t,void 0)},wa.set=function(e,t,s){return ja.set.call(this,e[0],t,s,e[0])};function Ca(e,t){const s=ta(e)?da("MapSet").proxyMap_(e,t):sa(e)?da("MapSet").proxySet_(e,t):function(e,t){const s=Array.isArray(e),n={type_:s?1:0,scope_:t?t.scope_:ua(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,a=ja;s&&(r=[n],a=wa);const{revoke:i,proxy:o}=Proxy.revocable(r,a);return n.draft_=o,n.revoke_=i,o}(e,t);return(t?t.scope_:ua()).drafts_.push(s),s}function Aa(e){return Yr(e)||Hr(10),Pa(e)}function Pa(e){if(!Gr(e)||oa(e))return e;const t=e[Wr];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=ra(e,t.scope_.immer_.useStrictShallowCopy_)}else s=ra(e,!0);return Qr(s,(e,t)=>{ea(s,e,Pa(t))}),t&&(t.finalized_=!1),s}var Ea=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if("function"===typeof e&&"function"!==typeof t){const s=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return n.produce(e,e=>t.call(this,e,...a))}}let n;if("function"!==typeof t&&Hr(6),void 0!==s&&"function"!==typeof s&&Hr(7),Gr(e)){const r=pa(this),a=Ca(e,void 0);let i=!0;try{n=t(a),i=!1}finally{i?ha(r):xa(r)}return ma(r,s),fa(n,r)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Br&&(n=void 0),this.autoFreeze_&&aa(n,!0),s){const t=[],r=[];da("Patches").generateReplacementPatches_(e,n,t,r),s(t,r)}return n}Hr(1)},this.produceWithPatches=(e,s)=>{if("function"===typeof e)return function(s){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.produceWithPatches(s,t=>e(t,...r))};let n,r;return[this.produce(e,s,(e,t)=>{n=e,r=t}),n,r]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Gr(e)||Hr(8),Yr(e)&&(e=Aa(e));const t=pa(this),s=Ca(e,void 0);return s[Wr].isManual_=!0,xa(t),s}finishDraft(e,t){const s=e&&e[Wr];s&&s.isManual_||Hr(9);const{scope_:n}=s;return ma(n,t),fa(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const n=t[s];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}s>-1&&(t=t.slice(s+1));const n=da("Patches").applyPatches_;return Yr(e)?n(e,t):this.produce(e,e=>n(e,t))}},Oa=Ea.produce;Ea.produceWithPatches.bind(Ea),Ea.setAutoFreeze.bind(Ea),Ea.setUseStrictShallowCopy.bind(Ea),Ea.applyPatches.bind(Ea),Ea.createDraft.bind(Ea),Ea.finishDraft.bind(Ea);var Ia="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Rr:Rr.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ta(e,t){function s(){if(t){let s=t(...arguments);if(!s)throw new Error(Ci(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=t=>Fr(t)&&t.type===e,s}var Ma=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return 1===s.length&&Array.isArray(s[0])?new e(...s[0].concat(this)):new e(...s.concat(this))}};function Da(e){return Gr(e)?Oa(e,()=>{}):e}function La(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}var Ra="RTK_autoBatch",Fa=e=>t=>{setTimeout(t,e)},za=e=>function(t){const{autoBatch:s=!0}=t??{};let n=new Ma(e);return s&&n.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const s=t(...arguments);let n=!0,r=!1,a=!1;const i=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Fa(10):"callback"===e.type?e.queueNotification:Fa(e.timeout),l=()=>{a=!1,r&&(r=!1,i.forEach(e=>e()))};return Object.assign({},s,{subscribe(e){const t=s.subscribe(()=>n&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{return n=!e?.meta?.[Ra],r=!n,r&&(a||(a=!0,o(l))),s.dispatch(e)}finally{n=!0}}})}}("object"===typeof s?s:void 0)),n};function Ua(e){const t=function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:n=!0,actionCreatorCheck:r=!0}=e??{};let a=new Ma;return t&&("boolean"===typeof t?a.push(Ur):a.push($r(t.extraArgument))),a},{reducer:s,middleware:n,devTools:r=!0,duplicateMiddlewareCheck:a=!0,preloadedState:i,enhancers:o}=e||{};let l,c;if("function"===typeof s)l=s;else{if(!Mr(s))throw new Error(Ci(1));l=Lr(s)}c="function"===typeof n?n(t):t();let d=Rr;r&&(d=Ia({trace:!1,..."object"===typeof r&&r}));const u=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>(s,n)=>{const r=e(s,n);let a=()=>{throw new Error(Er(15))};const i={getState:r.getState,dispatch:function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return a(e,...s)}},o=t.map(e=>e(i));return a=Rr(...o)(r.dispatch),{...r,dispatch:a}}}(...c),m=za(u);return Dr(l,i,d(..."function"===typeof o?o(m):m()))}function $a(e){const t={},s=[];let n;const r={addCase(e,s){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Ci(28));if(n in t)throw new Error(Ci(29));return t[n]=s,r},addMatcher:(e,t)=>(s.push({matcher:e,reducer:t}),r),addDefaultCase:e=>(n=e,r)};return e(r),[t,s,n]}var Ba=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Va=Symbol.for("rtk-slice-createasyncthunk");function Wa(e,t){return`${e}/${t}`}function Ha(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Va];return function(e){const{name:s,reducerPath:n=s}=e;if(!s)throw new Error(Ci(11));const r=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(r),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const s="string"===typeof e?e:e.type;if(!s)throw new Error(Ci(12));if(s in i.sliceCaseReducersByType)throw new Error(Ci(13));return i.sliceCaseReducersByType[s]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},s=[],n]="function"===typeof e.extraReducers?$a(e.extraReducers):[e.extraReducers],r={...t,...i.sliceCaseReducersByType};return function(e,t){let s,[n,r,a]=$a(t);if("function"===typeof e)s=()=>Da(e());else{const t=Da(e);s=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(),t=arguments.length>1?arguments[1]:void 0,i=[n[t.type],...r.filter(e=>{let{matcher:s}=e;return s(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[a]),i.reduce((e,s)=>{if(s){if(Yr(e)){const n=s(e,t);return void 0===n?e:n}if(Gr(e))return Oa(e,e=>s(e,t));{const n=s(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return i.getInitialState=s,i}(e.initialState,e=>{for(let t in r)e.addCase(t,r[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of s)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(n=>{const a=r[n],i={reducerName:n,type:Wa(s,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,s){let n,r,{type:a,reducerName:i,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Ci(17));n=t.reducer,r=t.prepare}else n=t;s.addCase(a,n).exposeCaseReducer(i,n).exposeAction(i,r?Ta(a,r):Ta(a))}(i,a,o):function(e,t,s,n){let{type:r,reducerName:a}=e;if(!n)throw new Error(Ci(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,m=n(r,i,u);s.exposeAction(a,m),o&&s.addCase(m.fulfilled,o);l&&s.addCase(m.pending,l);c&&s.addCase(m.rejected,c);d&&s.addMatcher(m.settled,d);s.exposeCaseReducer(a,{fulfilled:o||Ga,pending:l||Ga,rejected:c||Ga,settled:d||Ga})}(i,a,o,t)});const c=e=>e,d=new Map,u=new WeakMap;let m;function h(e,t){return m||(m=l()),m(e,t)}function x(){return m||(m=l()),m.getInitialState()}function p(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let r=e[t];return"undefined"===typeof r&&s&&(r=La(u,n,x)),r}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const n=La(d,s,()=>new WeakMap);return La(n,t,()=>{const n={};for(const[r,a]of Object.entries(e.selectors??{}))n[r]=qa(a,t,()=>La(u,t,x),s);return n})}return{reducerPath:t,getSelectors:r,get selectors(){return r(n)},selectSlice:n}}const g={name:s,reducer:h,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:x,...p(n),injectInto(e){let{reducerPath:t,...s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t??n;return e.inject({reducerPath:r,reducer:h},s),{...g,...p(r,!0)}}};return g}}function qa(e,t,s,n){function r(r){let a=t(r);"undefined"===typeof a&&n&&(a=s());for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e(a,...o)}return r.unwrapped=e,r}var Ya=Ha();function Ga(){}var Ka="listener",Ja="completed",Qa="cancelled",Xa=`task-${Qa}`,Za=`task-${Ja}`,ei=`${Ka}-${Qa}`,ti=`${Ka}-${Ja}`,si=class{constructor(e){this.code=e,this.message=`task ${Qa} (reason: ${e})`}name="TaskAbortError";message},ni=(e,t)=>{if("function"!==typeof e)throw new TypeError(Ci(32))},ri=()=>{},ai=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ri;return e.catch(t),e},ii=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),oi=(e,t)=>{const s=e.signal;s.aborted||("reason"in s||Object.defineProperty(s,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},li=e=>{if(e.aborted){const{reason:t}=e;throw new si(t)}};function ci(e,t){let s=ri;return new Promise((n,r)=>{const a=()=>r(new si(e.reason));e.aborted?a():(s=ii(e,a),t.finally(()=>s()).then(n,r))}).finally(()=>{s=ri})}var di=e=>t=>ai(ci(e,t).then(t=>(li(e),t))),ui=e=>{const t=di(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:mi}=Object,hi={},xi="listenerMiddleware",pi=(e,t)=>(s,n)=>{ni(s);const r=new AbortController;var a;a=r,ii(e,()=>oi(a,e.reason));const i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(s){return{status:s instanceof si?"cancelled":"rejected",error:s}}finally{t?.()}})(async()=>{li(e),li(r.signal);const t=await s({pause:di(r.signal),delay:ui(r.signal),signal:r.signal});return li(r.signal),t},()=>oi(r,Za));return n?.autoJoin&&t.push(i.catch(ri)),{result:di(e)(i),cancel(){oi(r,Xa)}}},gi=(e,t)=>(s,n)=>ai((async(s,n)=>{li(t);let r=()=>{};const a=new Promise((t,n)=>{let a=e({predicate:s,effect:(e,s)=>{s.unsubscribe(),t([e,s.getState(),s.getOriginalState()])}});r=()=>{a(),n()}}),i=[a];null!=n&&i.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await ci(t,Promise.race(i));return li(t),e}finally{r()}})(s,n)),fi=e=>{let{type:t,actionCreator:s,matcher:n,predicate:r,effect:a}=e;if(t)r=Ta(t).match;else if(s)t=s.type,r=s.match;else if(n)r=n;else if(!r)throw new Error(Ci(21));return ni(a),{predicate:r,type:t,effect:a}},bi=mi(e=>{const{type:t,predicate:s,effect:n}=fi(e);return{id:Ba(),effect:n,type:t,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(Ci(22))}}},{withTypes:()=>bi}),vi=(e,t)=>{const{type:s,effect:n,predicate:r}=fi(t);return Array.from(e.values()).find(e=>("string"===typeof s?e.type===s:e.predicate===r)&&e.effect===n)},yi=e=>{e.pending.forEach(e=>{oi(e,ei)})},ji=(e,t,s)=>{try{e(t,s)}catch(n){setTimeout(()=>{throw n},0)}},wi=mi(Ta(`${xi}/add`),{withTypes:()=>wi}),Ni=Ta(`${xi}/removeAll`),ki=mi(Ta(`${xi}/remove`),{withTypes:()=>ki}),Si=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];console.error(`${xi}/error`,...t)},_i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,{extra:s,onError:n=Si}=e;ni(n);const r=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),t?.cancelActive&&yi(e)}))(vi(t,e)??bi(e));mi(r,{withTypes:()=>r});const a=e=>{const s=vi(t,e);return s&&(s.unsubscribe(),e.cancelActive&&yi(s)),!!s};mi(a,{withTypes:()=>a});const i=async(e,a,i,o)=>{const l=new AbortController,c=gi(r,l.signal),d=[];try{e.pending.add(l),await Promise.resolve(e.effect(a,mi({},i,{getOriginalState:o,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:ui(l.signal),pause:di(l.signal),extra:s,signal:l.signal,fork:pi(l.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,s)=>{e!==l&&(oi(e,ei),s.delete(e))})},cancel:()=>{oi(l,ei),e.pending.delete(l)},throwIfCancelled:()=>{li(l.signal)}})))}catch(u){u instanceof si||ji(n,u,{raisedBy:"effect"})}finally{await Promise.all(d),oi(l,ti),e.pending.delete(l)}},o=(e=>()=>{e.forEach(yi),e.clear()})(t);return{middleware:e=>s=>l=>{if(!Fr(l))return s(l);if(wi.match(l))return r(l.payload);if(Ni.match(l))return void o();if(ki.match(l))return a(l.payload);let c=e.getState();const d=()=>{if(c===hi)throw new Error(Ci(23));return c};let u;try{if(u=s(l),t.size>0){const s=e.getState(),r=Array.from(t.values());for(const t of r){let r=!1;try{r=t.predicate(l,s,c)}catch(m){r=!1,ji(n,m,{raisedBy:"predicate"})}r&&i(t,l,e,d)}}}finally{c=hi}return u},startListening:r,stopListening:a,clearListeners:o}};Symbol.for("rtk-state-proxy-original");function Ci(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Ai(e,t){if(t){var s=Number.parseInt(t,10);if(!mr(s))return null===e||void 0===e?void 0:e[s]}}var Pi=Ya({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ei=Pi.reducer,{createEventEmitter:Oi}=Pi.actions;s(7237);function Ii(e){e()}var Ti={notify(){},get:()=>[]};function Mi(e,t){let s,n=Ti,r=0,a=!1;function i(){c.onStateChange&&c.onStateChange()}function o(){r++,s||(s=t?t.addNestedSub(i):e.subscribe(i),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ii(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=e;for(;s;)t.push(s),s=s.next;return t},subscribe(s){let n=!0;const r=t={callback:s,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){n&&null!==e&&(n=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function l(){r--,s&&0===r&&(s(),s=void 0,n.clear(),n=Ti)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let s=!1;return()=>{s||(s=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return c}var Di=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Li=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),Ri=(()=>Di||Li?r.useLayoutEffect:r.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Fi=Symbol.for("react-redux-context"),zi="undefined"!==typeof globalThis?globalThis:{};function Ui(){if(!r.createContext)return{};const e=zi[Fi]??=new Map;let t=e.get(r.createContext);return t||(t=r.createContext(null),e.set(r.createContext,t)),t}var $i=Ui();var Bi=function(e){const{children:t,context:s,serverState:n,store:a}=e,i=r.useMemo(()=>{const e=Mi(a);return{store:a,subscription:e,getServerState:n?()=>n:void 0}},[a,n]),o=r.useMemo(()=>a.getState(),[a]);Ri(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,o]);const l=s||$i;return r.createElement(l.Provider,{value:i},t)};var Vi=Symbol.for("immer-nothing"),Wi=Symbol.for("immer-draftable"),Hi=Symbol.for("immer-state");function qi(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yi=Object.getPrototypeOf;function Gi(e){return!!e&&!!e[Hi]}function Ki(e){return!!e&&(Qi(e)||Array.isArray(e)||!!e[Wi]||!!e.constructor?.[Wi]||so(e)||no(e))}var Ji=Object.prototype.constructor.toString();function Qi(e){if(!e||"object"!==typeof e)return!1;const t=Yi(e);if(null===t)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object||"function"==typeof s&&Function.toString.call(s)===Ji}function Xi(e,t){0===Zi(e)?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,n)=>t(n,s,e))}function Zi(e){const t=e[Hi];return t?t.type_:Array.isArray(e)?1:so(e)?2:no(e)?3:0}function eo(e,t){return 2===Zi(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function to(e,t,s){const n=Zi(e);2===n?e.set(t,s):3===n?e.add(s):e[t]=s}function so(e){return e instanceof Map}function no(e){return e instanceof Set}function ro(e){return e.copy_||e.base_}function ao(e,t){if(so(e))return new Map(e);if(no(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=Qi(e);if(!0===t||"class_only"===t&&!s){const t=Object.getOwnPropertyDescriptors(e);delete t[Hi];let s=Reflect.ownKeys(t);for(let n=0;n<s.length;n++){const r=s[n],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(Yi(e),t)}{const t=Yi(e);if(null!==t&&s)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function io(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return lo(e)||Gi(e)||!Ki(e)||(Zi(e)>1&&(e.set=e.add=e.clear=e.delete=oo),Object.freeze(e),t&&Object.entries(e).forEach(e=>{let[t,s]=e;return io(s,!0)})),e}function oo(){qi(2)}function lo(e){return Object.isFrozen(e)}var co,uo={};function mo(e){const t=uo[e];return t||qi(0),t}function ho(){return co}function xo(e,t){t&&(mo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function po(e){go(e),e.drafts_.forEach(bo),e.drafts_=null}function go(e){e===co&&(co=e.parent_)}function fo(e){return co={drafts_:[],parent_:co,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bo(e){const t=e[Hi];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function vo(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return void 0!==e&&e!==s?(s[Hi].modified_&&(po(t),qi(4)),Ki(e)&&(e=yo(t,e),t.parent_||wo(t,e)),t.patches_&&mo("Patches").generateReplacementPatches_(s[Hi].base_,e,t.patches_,t.inversePatches_)):e=yo(t,s,[]),po(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Vi?e:void 0}function yo(e,t,s){if(lo(t))return t;const n=t[Hi];if(!n)return Xi(t,(r,a)=>jo(e,n,t,r,a,s)),t;if(n.scope_!==e)return t;if(!n.modified_)return wo(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let r=t,a=!1;3===n.type_&&(r=new Set(t),t.clear(),a=!0),Xi(r,(r,i)=>jo(e,n,t,r,i,s,a)),wo(e,t,!1),s&&e.patches_&&mo("Patches").generatePatches_(n,s,e.patches_,e.inversePatches_)}return n.copy_}function jo(e,t,s,n,r,a,i){if(Gi(r)){const i=yo(e,r,a&&t&&3!==t.type_&&!eo(t.assigned_,n)?a.concat(n):void 0);if(to(s,n,i),!Gi(i))return;e.canAutoFreeze_=!1}else i&&s.add(r);if(Ki(r)&&!lo(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;yo(e,r),t&&t.scope_.parent_||"symbol"===typeof n||!Object.prototype.propertyIsEnumerable.call(s,n)||wo(e,r)}}function wo(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&io(t,s)}var No={get(e,t){if(t===Hi)return e;const s=ro(e);if(!eo(s,t))return function(e,t,s){const n=_o(t,s);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}(e,s,t);const n=s[t];return e.finalized_||!Ki(n)?n:n===So(e.base_,t)?(Ao(e),e.copy_[t]=Po(n,e)):n},has:(e,t)=>t in ro(e),ownKeys:e=>Reflect.ownKeys(ro(e)),set(e,t,s){const n=_o(ro(e),t);if(n?.set)return n.set.call(e.draft_,s),!0;if(!e.modified_){const n=So(ro(e),t),i=n?.[Hi];if(i&&i.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(((r=s)===(a=n)?0!==r||1/r===1/a:r!==r&&a!==a)&&(void 0!==s||eo(e.base_,t)))return!0;Ao(e),Co(e)}var r,a;return e.copy_[t]===s&&(void 0!==s||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==So(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Ao(e),Co(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const s=ro(e),n=Reflect.getOwnPropertyDescriptor(s,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:s[t]}:n},defineProperty(){qi(11)},getPrototypeOf:e=>Yi(e.base_),setPrototypeOf(){qi(12)}},ko={};function So(e,t){const s=e[Hi];return(s?ro(s):e)[t]}function _o(e,t){if(!(t in e))return;let s=Yi(e);for(;s;){const e=Object.getOwnPropertyDescriptor(s,t);if(e)return e;s=Yi(s)}}function Co(e){e.modified_||(e.modified_=!0,e.parent_&&Co(e.parent_))}function Ao(e){e.copy_||(e.copy_=ao(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Xi(No,(e,t)=>{ko[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ko.deleteProperty=function(e,t){return ko.set.call(this,e,t,void 0)},ko.set=function(e,t,s){return No.set.call(this,e[0],t,s,e[0])};function Po(e,t){const s=so(e)?mo("MapSet").proxyMap_(e,t):no(e)?mo("MapSet").proxySet_(e,t):function(e,t){const s=Array.isArray(e),n={type_:s?1:0,scope_:t?t.scope_:ho(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,a=No;s&&(r=[n],a=ko);const{revoke:i,proxy:o}=Proxy.revocable(r,a);return n.draft_=o,n.revoke_=i,o}(e,t);return(t?t.scope_:ho()).drafts_.push(s),s}function Eo(e){if(!Ki(e)||lo(e))return e;const t=e[Hi];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=ao(e,t.scope_.immer_.useStrictShallowCopy_)}else s=ao(e,!0);return Xi(s,(e,t)=>{to(s,e,Eo(t))}),t&&(t.finalized_=!1),s}var Oo=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if("function"===typeof e&&"function"!==typeof t){const s=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return n.produce(e,e=>t.call(this,e,...a))}}let n;if("function"!==typeof t&&qi(6),void 0!==s&&"function"!==typeof s&&qi(7),Ki(e)){const r=fo(this),a=Po(e,void 0);let i=!0;try{n=t(a),i=!1}finally{i?po(r):go(r)}return xo(r,s),vo(n,r)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Vi&&(n=void 0),this.autoFreeze_&&io(n,!0),s){const t=[],r=[];mo("Patches").generateReplacementPatches_(e,n,t,r),s(t,r)}return n}qi(1)},this.produceWithPatches=(e,s)=>{if("function"===typeof e)return function(s){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.produceWithPatches(s,t=>e(t,...r))};let n,r;return[this.produce(e,s,(e,t)=>{n=e,r=t}),n,r]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ki(e)||qi(8),Gi(e)&&(e=function(e){Gi(e)||qi(10);return Eo(e)}(e));const t=fo(this),s=Po(e,void 0);return s[Hi].isManual_=!0,go(t),s}finishDraft(e,t){const s=e&&e[Hi];s&&s.isManual_||qi(9);const{scope_:n}=s;return xo(n,t),vo(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const n=t[s];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}s>-1&&(t=t.slice(s+1));const n=mo("Patches").applyPatches_;return Gi(e)?n(e,t):this.produce(e,e=>n(e,t))}};Oo.produce,Oo.produceWithPatches.bind(Oo),Oo.setAutoFreeze.bind(Oo),Oo.setUseStrictShallowCopy.bind(Oo),Oo.applyPatches.bind(Oo),Oo.createDraft.bind(Oo),Oo.finishDraft.bind(Oo);var Io={active:!1,index:null,dataKey:void 0,coordinate:void 0},To=Ya({name:"tooltip",initialState:{itemInteraction:{click:Io,hover:Io},axisInteraction:{click:Io,hover:Io},keyboardInteraction:Io,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var s=Aa(e).tooltipItemPayloads.indexOf(t.payload);s>-1&&e.tooltipItemPayloads.splice(s,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Mo,removeTooltipEntrySettings:Do,setTooltipSettingsState:Lo,setActiveMouseOverItemIndex:Ro,mouseLeaveItem:Fo,mouseLeaveChart:zo,setActiveClickItemIndex:Uo,setMouseOverAxisIndex:$o,setMouseClickAxisIndex:Bo,setSyncInteraction:Vo,setKeyboardInteraction:Wo}=To.actions,Ho=To.reducer,qo=Ya({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:s,endIndex:n}=t.payload;null!=s&&(e.dataStartIndex=s),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:Yo,setDataStartEndIndexes:Go,setComputedData:Ko}=qo.actions,Jo=qo.reducer,Qo=Ya({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Xo,setLayout:Zo,setChartSize:el,setScale:tl}=Qo.actions,sl=Qo.reducer;function nl(e){if("function"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received "+typeof e)}var rl=e=>Array.isArray(e)?e:[e];function al(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const s=e.map(e=>"function"===typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${s}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var il="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function ol(){return{s:0,v:void 0,o:null,p:null}}function ll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let r,a=0;function i(){let t=s;const{length:i}=arguments;for(let e=0,s=i;e<s;e++){const s=arguments[e];if("function"===typeof s||"object"===typeof s&&null!==s){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(s);void 0===n?(t=ol(),e.set(s,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(s);void 0===n?(t=ol(),e.set(s,t)):t=n}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,n){const e=r?.deref?.()??r;null!=e&&n(e,l)&&(l=e,0!==a&&a--);r="object"===typeof l&&null!==l||"function"===typeof l?new il(l):l}return o.s=1,o.v=l,l}return i.clearCache=()=>{s={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>a,i.resetResultsCount=()=>{a=0},i}function cl(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const r="function"===typeof e?{memoize:e,memoizeOptions:s}:e,a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];let n,a=0,i=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),nl(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...r,...o},{memoize:d,memoizeOptions:u=[],argsMemoize:m=ll,argsMemoizeOptions:h=[],devModeChecks:x={}}=c,p=rl(u),g=rl(h),f=al(t),b=d(function(){return a++,l.apply(null,arguments)},...p);const v=m(function(){i++;const e=function(e,t){const s=[],{length:n}=e;for(let r=0;r<n;r++)s.push(e[r].apply(null,t));return s}(f,arguments);return n=b.apply(null,e),n},...g);return Object.assign(v,{resultFunc:l,memoizedResultFunc:b,dependencies:f,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>n,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(a,{withTypes:()=>a}),a}var dl=cl(ll),ul=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dl;!function(e){if("object"!==typeof e)throw new TypeError(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received "+typeof e)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const s=Object.keys(e),n=t(s.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[s[n]]=t,e),{})});return n},{withTypes:()=>ul}),ml=s(8443),hl=(0,r.createContext)(null),xl=e=>e,pl=()=>{var e=(0,r.useContext)(hl);return e?e.store.dispatch:xl},gl=()=>{},fl=()=>gl,bl=(e,t)=>e===t;function vl(e){var t=(0,r.useContext)(hl);return(0,ml.useSyncExternalStoreWithSelector)(t?t.subscription.addNestedSub:fl,t?t.store.getState:gl,t?t.store.getState:gl,t?e:gl,bl)}var yl=s(3821),jl=s.n(yl),wl=e=>e.legend.settings,Nl=dl([e=>e.legend.payload,wl],(e,t)=>{var{itemSorter:s}=t,n=e.flat(1);return s?jl()(n,s):n});function kl(e,t){if((r=e.length)>1)for(var s,n,r,a=1,i=e[t[0]],o=i.length;a<r;++a)for(n=i,i=e[t[a]],s=0;s<o;++s)i[s][1]+=i[s][0]=isNaN(n[s][1])?n[s][0]:n[s][1]}Array.prototype.slice;function Sl(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function _l(e){return function(){return e}}function Cl(e){for(var t=e.length,s=new Array(t);--t>=0;)s[t]=t;return s}function Al(e,t){return e[t]}function Pl(e){const t=[];return t.key=e,t}function El(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Ol(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?El(Object(s),!0).forEach(function(t){Il(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):El(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Il(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var Tl=Math.PI/180,Ml=e=>180*e/Math.PI,Dl=(e,t,s,n)=>({x:e+Math.cos(-Tl*n)*s,y:t+Math.sin(-Tl*n)*s}),Ll=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(s.left||0)-(s.right||0)),Math.abs(t-(s.top||0)-(s.bottom||0)))/2},Rl=(e,t)=>{var{x:s,y:n}=e,{cx:r,cy:a}=t,i=((e,t)=>{var{x:s,y:n}=e,{x:r,y:a}=t;return Math.sqrt((s-r)**2+(n-a)**2)})({x:s,y:n},{x:r,y:a});if(i<=0)return{radius:i,angle:0};var o=(s-r)/i,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:i,angle:Ml(l),angleInRadian:l}},Fl=(e,t)=>{var{startAngle:s,endAngle:n}=t,r=Math.floor(s/360),a=Math.floor(n/360);return e+360*Math.min(r,a)},zl=(e,t)=>{var{x:s,y:n}=e,{radius:r,angle:a}=Rl({x:s,y:n},t),{innerRadius:i,outerRadius:o}=t;if(r<i||r>o)return null;if(0===r)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:s}=e,n=Math.floor(t/360),r=Math.floor(s/360),a=Math.min(n,r);return{startAngle:t-360*a,endAngle:s-360*a}})(t),u=a;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?Ol(Ol({},t),{},{radius:r,angle:Fl(u,t)}):null};function Ul(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function $l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(s),!0).forEach(function(t){Bl(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ul(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Bl(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Vl(e,t,s){return Nr(e)||Nr(t)?s:pr(t)?dr()(e,t,s):"function"===typeof t?t(e):s}var Wl=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Hl=(e,t,s,n)=>{if(n)return e.map(e=>e.coordinate);var r,a,i=e.map(e=>(e.coordinate===t&&(r=!0),e.coordinate===s&&(a=!0),e.coordinate));return r||i.push(t),a||i.push(s),i},ql=(e,t,s)=>{if(!e)return null;var{duplicateDomain:n,type:r,range:a,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:m,axisType:h}=e;if(!i)return null;var x="scaleBand"===o&&i.bandwidth?i.bandwidth()/2:2,p=(t||s)&&"category"===r&&i.bandwidth?i.bandwidth()/x:0;if(p="angleAxis"===h&&a&&a.length>=2?2*ur(a[0]-a[1])*p:p,t&&(u||m)){var g=(u||m||[]).map((e,t)=>{var s=n?n.indexOf(e):e;return{coordinate:i(s)+p,value:e,offset:p,index:t}});return g.filter(e=>!mr(e.coordinate))}return l&&c?c.map((e,t)=>({coordinate:i(e)+p,value:e,index:t,offset:p})):i.ticks&&!s&&null!=d?i.ticks(d).map((e,t)=>({coordinate:i(e)+p,value:e,offset:p,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+p,value:n?n[e]:e,index:t,offset:p}))},Yl=1e-4,Gl=(e,t)=>{if(!t||2!==t.length||!xr(t[0])||!xr(t[1]))return e;var s=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),r=[e[0],e[1]];return(!xr(e[0])||e[0]<s)&&(r[0]=s),(!xr(e[1])||e[1]>n)&&(r[1]=n),r[0]>n&&(r[0]=n),r[1]<s&&(r[1]=s),r},Kl={sign:e=>{var t=e.length;if(!(t<=0))for(var s=0,n=e[0].length;s<n;++s)for(var r=0,a=0,i=0;i<t;++i){var o=mr(e[i][s][1])?e[i][s][0]:e[i][s][1];o>=0?(e[i][s][0]=r,e[i][s][1]=r+o,r=e[i][s][1]):(e[i][s][0]=a,e[i][s][1]=a+o,a=e[i][s][1])}},expand:function(e,t){if((n=e.length)>0){for(var s,n,r,a=0,i=e[0].length;a<i;++a){for(r=s=0;s<n;++s)r+=e[s][a][1]||0;if(r)for(s=0;s<n;++s)e[s][a][1]/=r}kl(e,t)}},none:kl,silhouette:function(e,t){if((s=e.length)>0){for(var s,n=0,r=e[t[0]],a=r.length;n<a;++n){for(var i=0,o=0;i<s;++i)o+=e[i][n][1]||0;r[n][1]+=r[n][0]=-o/2}kl(e,t)}},wiggle:function(e,t){if((r=e.length)>0&&(n=(s=e[t[0]]).length)>0){for(var s,n,r,a=0,i=1;i<n;++i){for(var o=0,l=0,c=0;o<r;++o){for(var d=e[t[o]],u=d[i][1]||0,m=(u-(d[i-1][1]||0))/2,h=0;h<o;++h){var x=e[t[h]];m+=(x[i][1]||0)-(x[i-1][1]||0)}l+=u,c+=m*u}s[i-1][1]+=s[i-1][0]=a,l&&(a-=c/l)}s[i-1][1]+=s[i-1][0]=a,kl(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var s=0,n=e[0].length;s<n;++s)for(var r=0,a=0;a<t;++a){var i=mr(e[a][s][1])?e[a][s][0]:e[a][s][1];i>=0?(e[a][s][0]=r,e[a][s][1]=r+i,r=e[a][s][1]):(e[a][s][0]=0,e[a][s][1]=0)}}},Jl=(e,t,s)=>{var n=Kl[s],r=function(){var e=_l([]),t=Cl,s=kl,n=Al;function r(r){var a,i,o=Array.from(e.apply(this,arguments),Pl),l=o.length,c=-1;for(const e of r)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(e,o[a].key,c,r)]).data=e;for(a=0,i=Sl(t(o));a<l;++a)o[i[a]].index=a;return s(o,i),o}return r.keys=function(t){return arguments.length?(e="function"===typeof t?t:_l(Array.from(t)),r):e},r.value=function(e){return arguments.length?(n="function"===typeof e?e:_l(+e),r):n},r.order=function(e){return arguments.length?(t=null==e?Cl:"function"===typeof e?e:_l(Array.from(e)),r):t},r.offset=function(e){return arguments.length?(s=null==e?kl:e,r):s},r}().keys(t).value((e,t)=>+Vl(e,t,0)).order(Cl).offset(n);return r(e)};function Ql(e){return null==e?void 0:String(e)}function Xl(e){var{axis:t,ticks:s,bandSize:n,entry:r,index:a,dataKey:i}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nr(r[t.dataKey])){var o=wr(s,"value",r[t.dataKey]);if(o)return o.coordinate+n/2}return s[a]?s[a].coordinate+n/2:null}var l=Vl(r,Nr(i)?t.dataKey:i);return Nr(l)?null:t.scale(l)}var Zl=e=>{var{axis:t,ticks:s,offset:n,bandSize:r,entry:a,index:i}=e;if("category"===t.type)return s[i]?s[i].coordinate+n:null;var o=Vl(a,t.dataKey,t.scale.domain()[i]);return Nr(o)?null:t.scale(o)-r/2+n},ec=e=>{var{numericAxis:t}=e,s=t.scale.domain();if("number"===t.type){var n=Math.min(s[0],s[1]),r=Math.max(s[0],s[1]);return n<=0&&r>=0?0:r<0?r:n}return s[0]},tc=(e,t,s)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,r)=>{var a=e[r],{stackedData:i}=a,o=i.reduce((e,n)=>{var r=(e=>{var t=e.flat(2).filter(xr);return[Math.min(...t),Math.max(...t)]})(n.slice(t,s+1));return[Math.min(e[0],r[0]),Math.max(e[1],r[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},sc=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nc=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rc=(e,t,s)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!s||n>0)return n}if(e&&t&&t.length>=2){for(var r=jl()(t,e=>e.coordinate),a=1/0,i=1,o=r.length;i<o;i++){var l=r[i],c=r[i-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return s?void 0:0};function ac(e){var{tooltipEntrySettings:t,dataKey:s,payload:n,value:r,name:a}=e;return $l($l({},t),{},{dataKey:s,payload:n,value:r,name:a})}function ic(e,t){return e?String(e):"string"===typeof t?t:void 0}var oc=e=>e.layout.width,lc=e=>e.layout.height,cc=e=>e.layout.scale,dc=e=>e.layout.margin,uc=dl(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),mc=dl(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),hc="data-recharts-item-index",xc="data-recharts-item-data-key";function pc(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function gc(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(s),!0).forEach(function(t){fc(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):pc(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function fc(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var bc=dl([oc,lc,dc,e=>e.brush.height,uc,mc,wl,e=>e.legend.size],(e,t,s,n,r,a,i,o)=>{var l=a.reduce((e,t)=>{var{orientation:s}=t;if(!t.mirror&&!t.hide){var n="number"===typeof t.width?t.width:60;return gc(gc({},e),{},{[s]:e[s]+n})}return e},{left:s.left||0,right:s.right||0}),c=r.reduce((e,t)=>{var{orientation:s}=t;return t.mirror||t.hide?e:gc(gc({},e),{},{[s]:dr()(e,"".concat(s))+t.height})},{top:s.top||0,bottom:s.bottom||0}),d=gc(gc({},c),l),u=d.bottom;d.bottom+=n,d=((e,t,s)=>{if(t&&s){var{width:n,height:r}=s,{align:a,verticalAlign:i,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===i)&&"center"!==a&&xr(e[a]))return $l($l({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==i&&xr(e[i]))return $l($l({},e),{},{[i]:e[i]+(r||0)})}return e})(d,i,o);var m=e-d.left-d.right,h=t-d.top-d.bottom;return gc(gc({brushBottom:u},d),{},{width:Math.max(m,0),height:Math.max(h,0)})}),vc=dl(bc,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),yc=dl(oc,lc,(e,t)=>({x:0,y:0,width:e,height:t})),jc=(0,r.createContext)(null),wc=()=>null!=(0,r.useContext)(jc),Nc=e=>e.brush,kc=dl([Nc,bc,dc],(e,t,s)=>({height:e.height,x:xr(e.x)?e.x:t.left,y:xr(e.y)?e.y:t.top+t.height+t.brushBottom-((null===s||void 0===s?void 0:s.bottom)||0),width:xr(e.width)?e.width:t.width})),Sc=()=>{var e,t=wc(),s=vl(vc),n=vl(kc),r=null===(e=vl(Nc))||void 0===e?void 0:e.padding;return t&&n&&r?{width:n.width-r.left-r.right,height:n.height-r.top-r.bottom,x:r.left,y:r.top}:s},_c={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Cc=()=>{var e;return null!==(e=vl(bc))&&void 0!==e?e:_c},Ac=()=>vl(oc),Pc=()=>vl(lc),Ec={top:0,right:0,bottom:0,left:0},Oc=e=>e.layout.layoutType,Ic=()=>vl(Oc),Tc=s(9859),Mc=s.n(Tc);function Dc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Lc(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Rc extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$c;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[s,n]of e)this.set(s,n)}get(e){return super.get(Fc(this,e))}has(e){return super.has(Fc(this,e))}set(e,t){return super.set(zc(this,e),t)}delete(e){return super.delete(Uc(this,e))}}Set;function Fc(e,t){let{_intern:s,_key:n}=e;const r=n(t);return s.has(r)?s.get(r):t}function zc(e,t){let{_intern:s,_key:n}=e;const r=n(t);return s.has(r)?s.get(r):(s.set(r,t),t)}function Uc(e,t){let{_intern:s,_key:n}=e;const r=n(t);return s.has(r)&&(t=s.get(r),s.delete(r)),t}function $c(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Bc=Symbol("implicit");function Vc(){var e=new Rc,t=[],s=[],n=Bc;function r(r){let a=e.get(r);if(void 0===a){if(n!==Bc)return n;e.set(r,a=t.push(r)-1)}return s[a%s.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Rc;for(const n of s)e.has(n)||e.set(n,t.push(n)-1);return r},r.range=function(e){return arguments.length?(s=Array.from(e),r):s.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return Vc(t,s).unknown(n)},Dc.apply(r,arguments),r}function Wc(){var e,t,s=Vc().unknown(void 0),n=s.domain,r=s.range,a=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var s=n().length,u=i<a,m=u?i:a,h=u?a:i;e=(h-m)/Math.max(1,s-l+2*c),o&&(e=Math.floor(e)),m+=(h-m-e*(s-l))*d,t=e*(1-l),o&&(m=Math.round(m),t=Math.round(t));var x=function(e,t,s){e=+e,t=+t,s=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+s;for(var n=-1,r=0|Math.max(0,Math.ceil((t-e)/s)),a=new Array(r);++n<r;)a[n]=e+n*s;return a}(s).map(function(t){return m+e*t});return r(u?x.reverse():x)}return delete s.unknown,s.domain=function(e){return arguments.length?(n(e),u()):n()},s.range=function(e){return arguments.length?([a,i]=e,a=+a,i=+i,u()):[a,i]},s.rangeRound=function(e){return[a,i]=e,a=+a,i=+i,o=!0,u()},s.bandwidth=function(){return t},s.step=function(){return e},s.round=function(e){return arguments.length?(o=!!e,u()):o},s.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},s.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},s.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},s.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},s.copy=function(){return Wc(n(),[a,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Dc.apply(u(),arguments)}function Hc(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Hc(t())},e}function qc(){return Hc(Wc.apply(null,arguments).paddingInner(1))}const Yc=Math.sqrt(50),Gc=Math.sqrt(10),Kc=Math.sqrt(2);function Jc(e,t,s){const n=(t-e)/Math.max(0,s),r=Math.floor(Math.log10(n)),a=n/Math.pow(10,r),i=a>=Yc?10:a>=Gc?5:a>=Kc?2:1;let o,l,c;return r<0?(c=Math.pow(10,-r)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,r)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=s&&s<2?Jc(e,t,2*s):[o,l,c]}function Qc(e,t,s){if(!((s=+s)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[r,a,i]=n?Jc(t,e,s):Jc(e,t,s);if(!(a>=r))return[];const o=a-r+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(a-c)/-i;else for(let c=0;c<o;++c)l[c]=(a-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(r+c)/-i;else for(let c=0;c<o;++c)l[c]=(r+c)*i;return l}function Xc(e,t,s){return Jc(e=+e,t=+t,s=+s)[2]}function Zc(e,t,s){s=+s;const n=(t=+t)<(e=+e),r=n?Xc(t,e,s):Xc(e,t,s);return(n?-1:1)*(r<0?1/-r:r)}function ed(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function td(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sd(e){let t,s,n;function r(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<a){if(0!==t(n,n))return a;do{const t=r+a>>>1;s(e[t],n)<0?r=t+1:a=t}while(r<a)}return r}return 2!==e.length?(t=ed,s=(t,s)=>ed(e(t),s),n=(t,s)=>e(t)-s):(t=e===ed||e===td?e:nd,s=e,n=e),{left:r,center:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=r(e,t,s,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>s&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(r<a){if(0!==t(n,n))return a;do{const t=r+a>>>1;s(e[t],n)<=0?r=t+1:a=t}while(r<a)}return r}}}function nd(){return 0}function rd(e){return null===e?NaN:+e}const ad=sd(ed),id=ad.right,od=(ad.left,sd(rd).center,id);function ld(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function cd(e,t){var s=Object.create(e.prototype);for(var n in t)s[n]=t[n];return s}function dd(){}var ud=.7,md=1/ud,hd="\\s*([+-]?\\d+)\\s*",xd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gd=/^#([0-9a-f]{3,8})$/,fd=new RegExp(`^rgb\\(${hd},${hd},${hd}\\)$`),bd=new RegExp(`^rgb\\(${pd},${pd},${pd}\\)$`),vd=new RegExp(`^rgba\\(${hd},${hd},${hd},${xd}\\)$`),yd=new RegExp(`^rgba\\(${pd},${pd},${pd},${xd}\\)$`),jd=new RegExp(`^hsl\\(${xd},${pd},${pd}\\)$`),wd=new RegExp(`^hsla\\(${xd},${pd},${pd},${xd}\\)$`),Nd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function kd(){return this.rgb().formatHex()}function Sd(){return this.rgb().formatRgb()}function _d(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=gd.exec(e))?(s=t[1].length,t=parseInt(t[1],16),6===s?Cd(t):3===s?new Ed(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===s?Ad(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===s?Ad(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=fd.exec(e))?new Ed(t[1],t[2],t[3],1):(t=bd.exec(e))?new Ed(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=vd.exec(e))?Ad(t[1],t[2],t[3],t[4]):(t=yd.exec(e))?Ad(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=jd.exec(e))?Ld(t[1],t[2]/100,t[3]/100,1):(t=wd.exec(e))?Ld(t[1],t[2]/100,t[3]/100,t[4]):Nd.hasOwnProperty(e)?Cd(Nd[e]):"transparent"===e?new Ed(NaN,NaN,NaN,0):null}function Cd(e){return new Ed(e>>16&255,e>>8&255,255&e,1)}function Ad(e,t,s,n){return n<=0&&(e=t=s=NaN),new Ed(e,t,s,n)}function Pd(e,t,s,n){return 1===arguments.length?((r=e)instanceof dd||(r=_d(r)),r?new Ed((r=r.rgb()).r,r.g,r.b,r.opacity):new Ed):new Ed(e,t,s,null==n?1:n);var r}function Ed(e,t,s,n){this.r=+e,this.g=+t,this.b=+s,this.opacity=+n}function Od(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}`}function Id(){const e=Td(this.opacity);return`${1===e?"rgb(":"rgba("}${Md(this.r)}, ${Md(this.g)}, ${Md(this.b)}${1===e?")":`, ${e})`}`}function Td(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Md(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dd(e){return((e=Md(e))<16?"0":"")+e.toString(16)}function Ld(e,t,s,n){return n<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new Fd(e,t,s,n)}function Rd(e){if(e instanceof Fd)return new Fd(e.h,e.s,e.l,e.opacity);if(e instanceof dd||(e=_d(e)),!e)return new Fd;if(e instanceof Fd)return e;var t=(e=e.rgb()).r/255,s=e.g/255,n=e.b/255,r=Math.min(t,s,n),a=Math.max(t,s,n),i=NaN,o=a-r,l=(a+r)/2;return o?(i=t===a?(s-n)/o+6*(s<n):s===a?(n-t)/o+2:(t-s)/o+4,o/=l<.5?a+r:2-a-r,i*=60):o=l>0&&l<1?0:i,new Fd(i,o,l,e.opacity)}function Fd(e,t,s,n){this.h=+e,this.s=+t,this.l=+s,this.opacity=+n}function zd(e){return(e=(e||0)%360)<0?e+360:e}function Ud(e){return Math.max(0,Math.min(1,e||0))}function $d(e,t,s){return 255*(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)}function Bd(e,t,s,n,r){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*s+(1+3*e+3*a-3*i)*n+i*r)/6}ld(dd,_d,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kd,formatHex:kd,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Rd(this).formatHsl()},formatRgb:Sd,toString:Sd}),ld(Ed,Pd,cd(dd,{brighter(e){return e=null==e?md:Math.pow(md,e),new Ed(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ud:Math.pow(ud,e),new Ed(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ed(Md(this.r),Md(this.g),Md(this.b),Td(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Od,formatHex:Od,formatHex8:function(){return`#${Dd(this.r)}${Dd(this.g)}${Dd(this.b)}${Dd(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Id,toString:Id})),ld(Fd,function(e,t,s,n){return 1===arguments.length?Rd(e):new Fd(e,t,s,null==n?1:n)},cd(dd,{brighter(e){return e=null==e?md:Math.pow(md,e),new Fd(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ud:Math.pow(ud,e),new Fd(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,n=s+(s<.5?s:1-s)*t,r=2*s-n;return new Ed($d(e>=240?e-240:e+120,r,n),$d(e,r,n),$d(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new Fd(zd(this.h),Ud(this.s),Ud(this.l),Td(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Td(this.opacity);return`${1===e?"hsl(":"hsla("}${zd(this.h)}, ${100*Ud(this.s)}%, ${100*Ud(this.l)}%${1===e?")":`, ${e})`}`}}));const Vd=e=>()=>e;function Wd(e,t){return function(s){return e+s*t}}function Hd(e){return 1===(e=+e)?qd:function(t,s){return s-t?function(e,t,s){return e=Math.pow(e,s),t=Math.pow(t,s)-e,s=1/s,function(n){return Math.pow(e+n*t,s)}}(t,s,e):Vd(isNaN(t)?s:t)}}function qd(e,t){var s=t-e;return s?Wd(e,s):Vd(isNaN(e)?t:e)}const Yd=function e(t){var s=Hd(t);function n(e,t){var n=s((e=Pd(e)).r,(t=Pd(t)).r),r=s(e.g,t.g),a=s(e.b,t.b),i=qd(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=a(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function Gd(e){return function(t){var s,n,r=t.length,a=new Array(r),i=new Array(r),o=new Array(r);for(s=0;s<r;++s)n=Pd(t[s]),a[s]=n.r||0,i[s]=n.g||0,o[s]=n.b||0;return a=e(a),i=e(i),o=e(o),n.opacity=1,function(e){return n.r=a(e),n.g=i(e),n.b=o(e),n+""}}}Gd(function(e){var t=e.length-1;return function(s){var n=s<=0?s=0:s>=1?(s=1,t-1):Math.floor(s*t),r=e[n],a=e[n+1],i=n>0?e[n-1]:2*r-a,o=n<t-1?e[n+2]:2*a-r;return Bd((s-n/t)*t,i,r,a,o)}}),Gd(function(e){var t=e.length;return function(s){var n=Math.floor(((s%=1)<0?++s:s)*t),r=e[(n+t-1)%t],a=e[n%t],i=e[(n+1)%t],o=e[(n+2)%t];return Bd((s-n/t)*t,r,a,i,o)}});function Kd(e,t){var s,n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n);for(s=0;s<r;++s)a[s]=nu(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(e){for(s=0;s<r;++s)i[s]=a[s](e);return i}}function Jd(e,t){var s=new Date;return e=+e,t=+t,function(n){return s.setTime(e*(1-n)+t*n),s}}function Qd(e,t){return e=+e,t=+t,function(s){return e*(1-s)+t*s}}function Xd(e,t){var s,n={},r={};for(s in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)s in e?n[s]=nu(e[s],t[s]):r[s]=t[s];return function(e){for(s in n)r[s]=n[s](e);return r}}var Zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eu=new RegExp(Zd.source,"g");function tu(e,t){var s,n,r,a=Zd.lastIndex=eu.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(s=Zd.exec(e))&&(n=eu.exec(t));)(r=n.index)>a&&(r=t.slice(a,r),o[i]?o[i]+=r:o[++i]=r),(s=s[0])===(n=n[0])?o[i]?o[i]+=n:o[++i]=n:(o[++i]=null,l.push({i:i,x:Qd(s,n)})),a=eu.lastIndex;return a<t.length&&(r=t.slice(a),o[i]?o[i]+=r:o[++i]=r),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var s,n=0;n<t;++n)o[(s=l[n]).i]=s.x(e);return o.join("")})}function su(e,t){t||(t=[]);var s,n=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function nu(e,t){var s,n,r=typeof t;return null==t||"boolean"===r?Vd(t):("number"===r?Qd:"string"===r?(s=_d(t))?(t=s,Yd):tu:t instanceof _d?Yd:t instanceof Date?Jd:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Kd:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Xd:Qd:su))(e,t)}function ru(e,t){return e=+e,t=+t,function(s){return Math.round(e*(1-s)+t*s)}}function au(e){return+e}var iu=[0,1];function ou(e){return e}function lu(e,t){return(t-=e=+e)?function(s){return(s-e)/t}:(s=isNaN(t)?NaN:.5,function(){return s});var s}function cu(e,t,s){var n=e[0],r=e[1],a=t[0],i=t[1];return r<n?(n=lu(r,n),a=s(i,a)):(n=lu(n,r),a=s(a,i)),function(e){return a(n(e))}}function du(e,t,s){var n=Math.min(e.length,t.length)-1,r=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)r[i]=lu(e[i],e[i+1]),a[i]=s(t[i],t[i+1]);return function(t){var s=od(e,t,1,n)-1;return a[s](r[s](t))}}function uu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mu(){var e,t,s,n,r,a,i=iu,o=iu,l=nu,c=ou;function d(){var e=Math.min(i.length,o.length);return c!==ou&&(c=function(e,t){var s;return e>t&&(s=e,e=t,t=s),function(s){return Math.max(e,Math.min(t,s))}}(i[0],i[e-1])),n=e>2?du:cu,r=a=null,u}function u(t){return null==t||isNaN(t=+t)?s:(r||(r=n(i.map(e),o,l)))(e(c(t)))}return u.invert=function(s){return c(t((a||(a=n(o,i.map(e),Qd)))(s)))},u.domain=function(e){return arguments.length?(i=Array.from(e,au),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=ru,d()},u.clamp=function(e){return arguments.length?(c=!!e||ou,d()):c!==ou},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(s=e,u):s},function(s,n){return e=s,t=n,d()}}function hu(){return mu()(ou,ou)}var xu,pu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gu(e){if(!(t=pu.exec(e)))throw new Error("invalid format: "+e);var t;return new fu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fu(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function bu(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,n=e.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+e.slice(s+1)]}function vu(e){return(e=bu(Math.abs(e)))?e[1]:NaN}function yu(e,t){var s=bu(e,t);if(!s)return e+"";var n=s[0],r=s[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}gu.prototype=fu.prototype,fu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ju={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yu(100*e,t),r:yu,s:function(e,t){var s=bu(e,t);if(!s)return e+"";var n=s[0],r=s[1],a=r-(xu=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+bu(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wu(e){return e}var Nu,ku,Su,_u=Array.prototype.map,Cu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Au(e){var t,s,n=void 0===e.grouping||void 0===e.thousands?wu:(t=_u.call(e.grouping,Number),s=e.thousands+"",function(e,n){for(var r=e.length,a=[],i=0,o=t[0],l=0;r>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(e.substring(r-=o,r+o)),!((l+=o+1)>n));)o=t[i=(i+1)%t.length];return a.reverse().join(s)}),r=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?wu:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(_u.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=gu(e)).fill,s=e.align,u=e.sign,m=e.symbol,h=e.zero,x=e.width,p=e.comma,g=e.precision,f=e.trim,b=e.type;"n"===b?(p=!0,b="g"):ju[b]||(void 0===g&&(g=12),f=!0,b="g"),(h||"0"===t&&"="===s)&&(h=!0,t="0",s="=");var v="$"===m?r:"#"===m&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",y="$"===m?a:/[%p]/.test(b)?l:"",j=ju[b],w=/[defgprs%]/.test(b);function N(e){var r,a,l,m=v,N=y;if("c"===b)N=j(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),g),f&&(e=function(e){e:for(var t,s=e.length,n=1,r=-1;n<s;++n)switch(e[n]){case".":r=t=n;break;case"0":0===r&&(r=n),t=n;break;default:if(!+e[n])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),m=(k?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===b?Cu[8+xu/3]:"")+N+(k&&"("===u?")":""),w)for(r=-1,a=e.length;++r<a;)if(48>(l=e.charCodeAt(r))||l>57){N=(46===l?i+e.slice(r+1):e.slice(r))+N,e=e.slice(0,r);break}}p&&!h&&(e=n(e,1/0));var S=m.length+e.length+N.length,_=S<x?new Array(x-S+1).join(t):"";switch(p&&h&&(e=n(_+e,_.length?x-N.length:1/0),_=""),s){case"<":e=m+e+N+_;break;case"=":e=m+_+e+N;break;case"^":e=_.slice(0,S=_.length>>1)+m+e+N+_.slice(S);break;default:e=_+m+e+N}return o(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var s=u(((e=gu(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(vu(t)/3))),r=Math.pow(10,-n),a=Cu[8+n/3];return function(e){return s(r*e)+a}}}}function Pu(e,t,s,n){var r,a=Zc(e,t,s);switch((n=gu(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vu(t)/3)))-vu(Math.abs(e)))}(a,i))||(n.precision=r),Su(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vu(t)-vu(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(e){return Math.max(0,-vu(Math.abs(e)))}(a))||(n.precision=r-2*("%"===n.type))}return ku(n)}function Eu(e){var t=e.domain;return e.ticks=function(e){var s=t();return Qc(s[0],s[s.length-1],null==e?10:e)},e.tickFormat=function(e,s){var n=t();return Pu(n[0],n[n.length-1],null==e?10:e,s)},e.nice=function(s){null==s&&(s=10);var n,r,a=t(),i=0,o=a.length-1,l=a[i],c=a[o],d=10;for(c<l&&(r=l,l=c,c=r,r=i,i=o,o=r);d-- >0;){if((r=Xc(l,c,s))===n)return a[i]=l,a[o]=c,t(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}n=r}return e},e}function Ou(){var e=hu();return e.copy=function(){return uu(e,Ou())},Dc.apply(e,arguments),Eu(e)}function Iu(e){var t;function s(e){return null==e||isNaN(e=+e)?t:e}return s.invert=s,s.domain=s.range=function(t){return arguments.length?(e=Array.from(t,au),s):e.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return Iu(e).unknown(t)},e=arguments.length?Array.from(e,au):[0,1],Eu(s)}function Tu(e,t){var s,n=0,r=(e=e.slice()).length-1,a=e[n],i=e[r];return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Mu(e){return Math.log(e)}function Du(e){return Math.exp(e)}function Lu(e){return-Math.log(-e)}function Ru(e){return-Math.exp(-e)}function Fu(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zu(e){return(t,s)=>-e(-t,s)}function Uu(e){const t=e(Mu,Du),s=t.domain;let n,r,a=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),r=function(e){return 10===e?Fu:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),s()[0]<0?(n=zu(n),r=zu(r),e(Lu,Ru)):e(Mu,Du),t}return t.base=function(e){return arguments.length?(a=+e,i()):a},t.domain=function(e){return arguments.length?(s(e),i()):s()},t.ticks=e=>{const t=s();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=n(i),m=n(o);const h=null==e?10:+e;let x=[];if(!(a%1)&&m-u<h){if(u=Math.floor(u),m=Math.ceil(m),i>0){for(;u<=m;++u)for(c=1;c<a;++c)if(d=u<0?c/r(-u):c*r(u),!(d<i)){if(d>o)break;x.push(d)}}else for(;u<=m;++u)for(c=a-1;c>=1;--c)if(d=u>0?c/r(-u):c*r(u),!(d<i)){if(d>o)break;x.push(d)}2*x.length<h&&(x=Qc(i,o,h))}else x=Qc(u,m,Math.min(m-u,h)).map(r);return l?x.reverse():x},t.tickFormat=(e,s)=>{if(null==e&&(e=10),null==s&&(s=10===a?"s":","),"function"!==typeof s&&(a%1||null!=(s=gu(s)).precision||(s.trim=!0),s=ku(s)),e===1/0)return s;const i=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/r(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=i?s(e):""}},t.nice=()=>s(Tu(s(),{floor:e=>r(Math.floor(n(e))),ceil:e=>r(Math.ceil(n(e)))})),t}function $u(){const e=Uu(mu()).domain([1,10]);return e.copy=()=>uu(e,$u()).base(e.base()),Dc.apply(e,arguments),e}function Bu(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Vu(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wu(e){var t=1,s=e(Bu(t),Vu(t));return s.constant=function(s){return arguments.length?e(Bu(t=+s),Vu(t)):t},Eu(s)}function Hu(){var e=Wu(mu());return e.copy=function(){return uu(e,Hu()).constant(e.constant())},Dc.apply(e,arguments)}function qu(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yu(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Gu(e){return e<0?-e*e:e*e}function Ku(e){var t=e(ou,ou),s=1;return t.exponent=function(t){return arguments.length?1===(s=+t)?e(ou,ou):.5===s?e(Yu,Gu):e(qu(s),qu(1/s)):s},Eu(t)}function Ju(){var e=Ku(mu());return e.copy=function(){return uu(e,Ju()).exponent(e.exponent())},Dc.apply(e,arguments),e}function Qu(){return Ju.apply(null,arguments).exponent(.5)}function Xu(e){return Math.sign(e)*e*e}function Zu(){var e,t=hu(),s=[0,1],n=!1;function r(s){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(s));return isNaN(r)?e:n?Math.round(r):r}return r.invert=function(e){return t.invert(Xu(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain()},r.range=function(e){return arguments.length?(t.range((s=Array.from(e,au)).map(Xu)),r):s.slice()},r.rangeRound=function(e){return r.range(e).round(!0)},r.round=function(e){return arguments.length?(n=!!e,r):n},r.clamp=function(e){return arguments.length?(t.clamp(e),r):t.clamp()},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return Zu(t.domain(),s).round(n).clamp(t.clamp()).unknown(e)},Dc.apply(r,arguments),Eu(r)}function em(e,t){let s;if(void 0===t)for(const n of e)null!=n&&(s<n||void 0===s&&n>=n)&&(s=n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(s<r||void 0===s&&r>=r)&&(s=r)}return s}function tm(e,t){let s;if(void 0===t)for(const n of e)null!=n&&(s>n||void 0===s&&n>=n)&&(s=n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(s>r||void 0===s&&r>=r)&&(s=r)}return s}function sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ed;if(e===ed)return nm;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,s)=>{const n=e(t,s);return n||0===n?n:(0===e(s,s))-(0===e(t,t))}}function nm(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function rm(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,r=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),s=Math.floor(Math.max(0,s)),n=Math.floor(Math.min(e.length-1,n)),!(s<=t&&t<=n))return e;for(r=void 0===r?nm:sm(r);n>s;){if(n-s>600){const a=n-s+1,i=t-s+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(i-a/2<0?-1:1);rm(e,t,Math.max(s,Math.floor(t-i*l/a+c)),Math.min(n,Math.floor(t+(a-i)*l/a+c)),r)}const a=e[t];let i=s,o=n;for(am(e,s,t),r(e[n],a)>0&&am(e,s,n);i<o;){for(am(e,i,o),++i,--o;r(e[i],a)<0;)++i;for(;r(e[o],a)>0;)--o}0===r(e[s],a)?am(e,s,o):(++o,am(e,o,n)),o<=t&&(s=o+1),t<=o&&(n=o-1)}return e}function am(e,t,s){const n=e[t];e[t]=e[s],e[s]=n}function im(e,t,s){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let s of e)null!=s&&(s=+s)>=s&&(yield s);else{let s=-1;for(let n of e)null!=(n=t(n,++s,e))&&(n=+n)>=n&&(yield n)}}(e,s)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return tm(e);if(t>=1)return em(e);var n,r=(n-1)*t,a=Math.floor(r),i=em(rm(e,a).subarray(0,a+1));return i+(tm(e.subarray(a+1))-i)*(r-a)}}function om(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rd;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+s(e[0],0,e);if(t>=1)return+s(e[n-1],n-1,e);var n,r=(n-1)*t,a=Math.floor(r),i=+s(e[a],a,e);return i+(+s(e[a+1],a+1,e)-i)*(r-a)}}function lm(){var e,t=[],s=[],n=[];function r(){var e=0,r=Math.max(1,s.length);for(n=new Array(r-1);++e<r;)n[e-1]=om(t,e/r);return a}function a(t){return null==t||isNaN(t=+t)?e:s[od(n,t)]}return a.invertExtent=function(e){var r=s.indexOf(e);return r<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let s of e)null==s||isNaN(s=+s)||t.push(s);return t.sort(ed),r()},a.range=function(e){return arguments.length?(s=Array.from(e),r()):s.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return lm().domain(t).range(s).unknown(e)},Dc.apply(a,arguments)}function cm(){var e,t=0,s=1,n=1,r=[.5],a=[0,1];function i(t){return null!=t&&t<=t?a[od(r,t,0,n)]:e}function o(){var e=-1;for(r=new Array(n);++e<n;)r[e]=((e+1)*s-(e-n)*t)/(n+1);return i}return i.domain=function(e){return arguments.length?([t,s]=e,t=+t,s=+s,o()):[t,s]},i.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,o()):a.slice()},i.invertExtent=function(e){var i=a.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,r[0]]:i>=n?[r[n-1],s]:[r[i-1],r[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return r.slice()},i.copy=function(){return cm().domain([t,s]).range(a).unknown(e)},Dc.apply(Eu(i),arguments)}function dm(){var e,t=[.5],s=[0,1],n=1;function r(r){return null!=r&&r<=r?s[od(t,r,0,n)]:e}return r.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,s.length-1),r):t.slice()},r.range=function(e){return arguments.length?(s=Array.from(e),n=Math.min(t.length,s.length-1),r):s.slice()},r.invertExtent=function(e){var n=s.indexOf(e);return[t[n-1],t[n]]},r.unknown=function(t){return arguments.length?(e=t,r):e},r.copy=function(){return dm().domain(t).range(s).unknown(e)},Dc.apply(r,arguments)}Nu=Au({thousands:",",grouping:[3],currency:["$",""]}),ku=Nu.format,Su=Nu.formatPrefix;const um=1e3,mm=6e4,hm=36e5,xm=864e5,pm=6048e5,gm=2592e6,fm=31536e6,bm=new Date,vm=new Date;function ym(e,t,s,n){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=t=>(e(t=new Date(+t)),t),r.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),r.round=e=>{const t=r(e),s=r.ceil(e);return e-t<s-e?t:s},r.offset=(e,s)=>(t(e=new Date(+e),null==s?1:Math.floor(s)),e),r.range=(s,n,a)=>{const i=[];if(s=r.ceil(s),a=null==a?1:Math.floor(a),!(s<n)||!(a>0))return i;let o;do{i.push(o=new Date(+s)),t(s,a),e(s)}while(o<s&&s<n);return i},r.filter=s=>ym(t=>{if(t>=t)for(;e(t),!s(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!s(e););else for(;--n>=0;)for(;t(e,1),!s(e););}),s&&(r.count=(t,n)=>(bm.setTime(+t),vm.setTime(+n),e(bm),e(vm),Math.floor(s(bm,vm))),r.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(n?t=>n(t)%e===0:t=>r.count(0,t)%e===0):r:null)),r}const jm=ym(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);jm.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ym(t=>{t.setTime(Math.floor(t/e)*e)},(t,s)=>{t.setTime(+t+s*e)},(t,s)=>(s-t)/e):jm:null);jm.range;const wm=ym(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*um)},(e,t)=>(t-e)/um,e=>e.getUTCSeconds()),Nm=(wm.range,ym(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*um)},(e,t)=>{e.setTime(+e+t*mm)},(e,t)=>(t-e)/mm,e=>e.getMinutes())),km=(Nm.range,ym(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mm)},(e,t)=>(t-e)/mm,e=>e.getUTCMinutes())),Sm=(km.range,ym(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*um-e.getMinutes()*mm)},(e,t)=>{e.setTime(+e+t*hm)},(e,t)=>(t-e)/hm,e=>e.getHours())),_m=(Sm.range,ym(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hm)},(e,t)=>(t-e)/hm,e=>e.getUTCHours())),Cm=(_m.range,ym(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mm)/xm,e=>e.getDate()-1)),Am=(Cm.range,ym(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xm,e=>e.getUTCDate()-1)),Pm=(Am.range,ym(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xm,e=>Math.floor(e/xm)));Pm.range;function Em(e){return ym(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mm)/pm)}const Om=Em(0),Im=Em(1),Tm=Em(2),Mm=Em(3),Dm=Em(4),Lm=Em(5),Rm=Em(6);Om.range,Im.range,Tm.range,Mm.range,Dm.range,Lm.range,Rm.range;function Fm(e){return ym(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/pm)}const zm=Fm(0),Um=Fm(1),$m=Fm(2),Bm=Fm(3),Vm=Fm(4),Wm=Fm(5),Hm=Fm(6),qm=(zm.range,Um.range,$m.range,Bm.range,Vm.range,Wm.range,Hm.range,ym(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Ym=(qm.range,ym(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Gm=(Ym.range,ym(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Gm.every=e=>isFinite(e=Math.floor(e))&&e>0?ym(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s*e)}):null;Gm.range;const Km=ym(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Km.every=e=>isFinite(e=Math.floor(e))&&e>0?ym(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s*e)}):null;Km.range;function Jm(e,t,s,n,r,a){const i=[[wm,1,um],[wm,5,5e3],[wm,15,15e3],[wm,30,3e4],[a,1,mm],[a,5,3e5],[a,15,9e5],[a,30,18e5],[r,1,hm],[r,3,108e5],[r,6,216e5],[r,12,432e5],[n,1,xm],[n,2,1728e5],[s,1,pm],[t,1,gm],[t,3,7776e6],[e,1,fm]];function o(t,s,n){const r=Math.abs(s-t)/n,a=sd(e=>{let[,,t]=e;return t}).right(i,r);if(a===i.length)return e.every(Zc(t/fm,s/fm,n));if(0===a)return jm.every(Math.max(Zc(t,s,n),1));const[o,l]=i[r/i[a-1][2]<i[a][2]/r?a-1:a];return o.every(l)}return[function(e,t,s){const n=t<e;n&&([e,t]=[t,e]);const r=s&&"function"===typeof s.range?s:o(e,t,s),a=r?r.range(e,+t+1):[];return n?a.reverse():a},o]}const[Qm,Xm]=Jm(Km,Ym,zm,Pm,_m,km),[Zm,eh]=Jm(Gm,qm,Om,Cm,Sm,Nm);function th(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nh(e,t,s){return{y:e,m:t,d:s,H:0,M:0,S:0,L:0}}var rh,ah,ih,oh={"-":"",_:" ",0:"0"},lh=/^\s*\d+/,ch=/^%/,dh=/[\\^$*+?|[\]().{}]/g;function uh(e,t,s){var n=e<0?"-":"",r=(n?-e:e)+"",a=r.length;return n+(a<s?new Array(s-a+1).join(t)+r:r)}function mh(e){return e.replace(dh,"\\$&")}function hh(e){return new RegExp("^(?:"+e.map(mh).join("|")+")","i")}function xh(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function ph(e,t,s){var n=lh.exec(t.slice(s,s+1));return n?(e.w=+n[0],s+n[0].length):-1}function gh(e,t,s){var n=lh.exec(t.slice(s,s+1));return n?(e.u=+n[0],s+n[0].length):-1}function fh(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.U=+n[0],s+n[0].length):-1}function bh(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.V=+n[0],s+n[0].length):-1}function vh(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.W=+n[0],s+n[0].length):-1}function yh(e,t,s){var n=lh.exec(t.slice(s,s+4));return n?(e.y=+n[0],s+n[0].length):-1}function jh(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),s+n[0].length):-1}function wh(e,t,s){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(s,s+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),s+n[0].length):-1}function Nh(e,t,s){var n=lh.exec(t.slice(s,s+1));return n?(e.q=3*n[0]-3,s+n[0].length):-1}function kh(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.m=n[0]-1,s+n[0].length):-1}function Sh(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.d=+n[0],s+n[0].length):-1}function _h(e,t,s){var n=lh.exec(t.slice(s,s+3));return n?(e.m=0,e.d=+n[0],s+n[0].length):-1}function Ch(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.H=+n[0],s+n[0].length):-1}function Ah(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.M=+n[0],s+n[0].length):-1}function Ph(e,t,s){var n=lh.exec(t.slice(s,s+2));return n?(e.S=+n[0],s+n[0].length):-1}function Eh(e,t,s){var n=lh.exec(t.slice(s,s+3));return n?(e.L=+n[0],s+n[0].length):-1}function Oh(e,t,s){var n=lh.exec(t.slice(s,s+6));return n?(e.L=Math.floor(n[0]/1e3),s+n[0].length):-1}function Ih(e,t,s){var n=ch.exec(t.slice(s,s+1));return n?s+n[0].length:-1}function Th(e,t,s){var n=lh.exec(t.slice(s));return n?(e.Q=+n[0],s+n[0].length):-1}function Mh(e,t,s){var n=lh.exec(t.slice(s));return n?(e.s=+n[0],s+n[0].length):-1}function Dh(e,t){return uh(e.getDate(),t,2)}function Lh(e,t){return uh(e.getHours(),t,2)}function Rh(e,t){return uh(e.getHours()%12||12,t,2)}function Fh(e,t){return uh(1+Cm.count(Gm(e),e),t,3)}function zh(e,t){return uh(e.getMilliseconds(),t,3)}function Uh(e,t){return zh(e,t)+"000"}function $h(e,t){return uh(e.getMonth()+1,t,2)}function Bh(e,t){return uh(e.getMinutes(),t,2)}function Vh(e,t){return uh(e.getSeconds(),t,2)}function Wh(e){var t=e.getDay();return 0===t?7:t}function Hh(e,t){return uh(Om.count(Gm(e)-1,e),t,2)}function qh(e){var t=e.getDay();return t>=4||0===t?Dm(e):Dm.ceil(e)}function Yh(e,t){return e=qh(e),uh(Dm.count(Gm(e),e)+(4===Gm(e).getDay()),t,2)}function Gh(e){return e.getDay()}function Kh(e,t){return uh(Im.count(Gm(e)-1,e),t,2)}function Jh(e,t){return uh(e.getFullYear()%100,t,2)}function Qh(e,t){return uh((e=qh(e)).getFullYear()%100,t,2)}function Xh(e,t){return uh(e.getFullYear()%1e4,t,4)}function Zh(e,t){var s=e.getDay();return uh((e=s>=4||0===s?Dm(e):Dm.ceil(e)).getFullYear()%1e4,t,4)}function ex(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+uh(t/60|0,"0",2)+uh(t%60,"0",2)}function tx(e,t){return uh(e.getUTCDate(),t,2)}function sx(e,t){return uh(e.getUTCHours(),t,2)}function nx(e,t){return uh(e.getUTCHours()%12||12,t,2)}function rx(e,t){return uh(1+Am.count(Km(e),e),t,3)}function ax(e,t){return uh(e.getUTCMilliseconds(),t,3)}function ix(e,t){return ax(e,t)+"000"}function ox(e,t){return uh(e.getUTCMonth()+1,t,2)}function lx(e,t){return uh(e.getUTCMinutes(),t,2)}function cx(e,t){return uh(e.getUTCSeconds(),t,2)}function dx(e){var t=e.getUTCDay();return 0===t?7:t}function ux(e,t){return uh(zm.count(Km(e)-1,e),t,2)}function mx(e){var t=e.getUTCDay();return t>=4||0===t?Vm(e):Vm.ceil(e)}function hx(e,t){return e=mx(e),uh(Vm.count(Km(e),e)+(4===Km(e).getUTCDay()),t,2)}function xx(e){return e.getUTCDay()}function px(e,t){return uh(Um.count(Km(e)-1,e),t,2)}function gx(e,t){return uh(e.getUTCFullYear()%100,t,2)}function fx(e,t){return uh((e=mx(e)).getUTCFullYear()%100,t,2)}function bx(e,t){return uh(e.getUTCFullYear()%1e4,t,4)}function vx(e,t){var s=e.getUTCDay();return uh((e=s>=4||0===s?Vm(e):Vm.ceil(e)).getUTCFullYear()%1e4,t,4)}function yx(){return"+0000"}function jx(){return"%"}function wx(e){return+e}function Nx(e){return Math.floor(+e/1e3)}function kx(e){return new Date(e)}function Sx(e){return e instanceof Date?+e:+new Date(+e)}function _x(e,t,s,n,r,a,i,o,l,c){var d=hu(),u=d.invert,m=d.domain,h=c(".%L"),x=c(":%S"),p=c("%I:%M"),g=c("%I %p"),f=c("%a %d"),b=c("%b %d"),v=c("%B"),y=c("%Y");function j(e){return(l(e)<e?h:o(e)<e?x:i(e)<e?p:a(e)<e?g:n(e)<e?r(e)<e?f:b:s(e)<e?v:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,Sx)):m().map(kx)},d.ticks=function(t){var s=m();return e(s[0],s[s.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var s=m();return e&&"function"===typeof e.range||(e=t(s[0],s[s.length-1],null==e?10:e)),e?m(Tu(s,e)):d},d.copy=function(){return uu(d,_x(e,t,s,n,r,a,i,o,l,c))},d}function Cx(){return Dc.apply(_x(Zm,eh,Gm,qm,Om,Cm,Sm,Nm,wm,ah).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ax(){return Dc.apply(_x(Qm,Xm,Km,Ym,zm,Am,_m,km,wm,ih).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Px(){var e,t,s,n,r,a=0,i=1,o=ou,l=!1;function c(t){return null==t||isNaN(t=+t)?r:o(0===s?.5:(t=(n(t)-e)*s,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var s,n;return arguments.length?([s,n]=t,o=e(s,n),c):[o(0),o(1)]}}return c.domain=function(r){return arguments.length?([a,i]=r,e=n(a=+a),t=n(i=+i),s=e===t?0:1/(t-e),c):[a,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(nu),c.rangeRound=d(ru),c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return n=r,e=r(a),t=r(i),s=e===t?0:1/(t-e),c}}function Ex(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ox(){var e=Eu(Px()(ou));return e.copy=function(){return Ex(e,Ox())},Lc.apply(e,arguments)}function Ix(){var e=Uu(Px()).domain([1,10]);return e.copy=function(){return Ex(e,Ix()).base(e.base())},Lc.apply(e,arguments)}function Tx(){var e=Wu(Px());return e.copy=function(){return Ex(e,Tx()).constant(e.constant())},Lc.apply(e,arguments)}function Mx(){var e=Ku(Px());return e.copy=function(){return Ex(e,Mx()).exponent(e.exponent())},Lc.apply(e,arguments)}function Dx(){return Mx.apply(null,arguments).exponent(.5)}function Lx(){var e=[],t=ou;function s(s){if(null!=s&&!isNaN(s=+s))return t((od(e,s,1)-1)/(e.length-1))}return s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let s of t)null==s||isNaN(s=+s)||e.push(s);return e.sort(ed),s},s.interpolator=function(e){return arguments.length?(t=e,s):t},s.range=function(){return e.map((s,n)=>t(n/(e.length-1)))},s.quantiles=function(t){return Array.from({length:t+1},(s,n)=>im(e,n/t))},s.copy=function(){return Lx(t).domain(e)},Lc.apply(s,arguments)}function Rx(){var e,t,s,n,r,a,i,o=0,l=.5,c=1,d=1,u=ou,m=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+a(e))-t)*(d*e<d*t?n:r),u(m?Math.max(0,Math.min(1,e)):e))}function x(e){return function(t){var s,n,r;return arguments.length?([s,n,r]=t,u=function(e,t){void 0===t&&(t=e,e=nu);for(var s=0,n=t.length-1,r=t[0],a=new Array(n<0?0:n);s<n;)a[s]=e(r,r=t[++s]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[s,n,r]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([o,l,c]=i,e=a(o=+o),t=a(l=+l),s=a(c=+c),n=e===t?0:.5/(t-e),r=t===s?0:.5/(s-t),d=t<e?-1:1,h):[o,l,c]},h.clamp=function(e){return arguments.length?(m=!!e,h):m},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=x(nu),h.rangeRound=x(ru),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return a=i,e=i(o),t=i(l),s=i(c),n=e===t?0:.5/(t-e),r=t===s?0:.5/(s-t),d=t<e?-1:1,h}}function Fx(){var e=Eu(Rx()(ou));return e.copy=function(){return Ex(e,Fx())},Lc.apply(e,arguments)}function zx(){var e=Uu(Rx()).domain([.1,1,10]);return e.copy=function(){return Ex(e,zx()).base(e.base())},Lc.apply(e,arguments)}function Ux(){var e=Wu(Rx());return e.copy=function(){return Ex(e,Ux()).constant(e.constant())},Lc.apply(e,arguments)}function $x(){var e=Ku(Rx());return e.copy=function(){return Ex(e,$x()).exponent(e.exponent())},Lc.apply(e,arguments)}function Bx(){return $x.apply(null,arguments).exponent(.5)}!function(e){rh=function(e){var t=e.dateTime,s=e.date,n=e.time,r=e.periods,a=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=hh(r),d=xh(r),u=hh(a),m=xh(a),h=hh(i),x=xh(i),p=hh(o),g=xh(o),f=hh(l),b=xh(l),v={a:function(e){return i[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Dh,e:Dh,f:Uh,g:Qh,G:Zh,H:Lh,I:Rh,j:Fh,L:zh,m:$h,M:Bh,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:wx,s:Nx,S:Vh,u:Wh,U:Hh,V:Yh,w:Gh,W:Kh,x:null,X:null,y:Jh,Y:Xh,Z:ex,"%":jx},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:tx,e:tx,f:ix,g:fx,G:vx,H:sx,I:nx,j:rx,L:ax,m:ox,M:lx,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:wx,s:Nx,S:cx,u:dx,U:ux,V:hx,w:xx,W:px,x:null,X:null,y:gx,Y:bx,Z:yx,"%":jx},j={a:function(e,t,s){var n=h.exec(t.slice(s));return n?(e.w=x.get(n[0].toLowerCase()),s+n[0].length):-1},A:function(e,t,s){var n=u.exec(t.slice(s));return n?(e.w=m.get(n[0].toLowerCase()),s+n[0].length):-1},b:function(e,t,s){var n=f.exec(t.slice(s));return n?(e.m=b.get(n[0].toLowerCase()),s+n[0].length):-1},B:function(e,t,s){var n=p.exec(t.slice(s));return n?(e.m=g.get(n[0].toLowerCase()),s+n[0].length):-1},c:function(e,s,n){return k(e,t,s,n)},d:Sh,e:Sh,f:Oh,g:jh,G:yh,H:Ch,I:Ch,j:_h,L:Eh,m:kh,M:Ah,p:function(e,t,s){var n=c.exec(t.slice(s));return n?(e.p=d.get(n[0].toLowerCase()),s+n[0].length):-1},q:Nh,Q:Th,s:Mh,S:Ph,u:gh,U:fh,V:bh,w:ph,W:vh,x:function(e,t,n){return k(e,s,t,n)},X:function(e,t,s){return k(e,n,t,s)},y:jh,Y:yh,Z:wh,"%":Ih};function w(e,t){return function(s){var n,r,a,i=[],o=-1,l=0,c=e.length;for(s instanceof Date||(s=new Date(+s));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(r=oh[n=e.charAt(++o)])?n=e.charAt(++o):r="e"===n?" ":"0",(a=t[n])&&(n=a(s,r)),i.push(n),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(s){var n,r,a=nh(1900,void 0,1);if(k(a,e,s+="",0)!=s.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(n=sh(nh(a.y,0,1))).getUTCDay(),n=r>4||0===r?Um.ceil(n):Um(n),n=Am.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(r=(n=th(nh(a.y,0,1))).getDay(),n=r>4||0===r?Im.ceil(n):Im(n),n=Cm.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?sh(nh(a.y,0,1)).getUTCDay():th(nh(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,sh(a)):th(a)}}function k(e,t,s,n){for(var r,a,i=0,o=t.length,l=s.length;i<o;){if(n>=l)return-1;if(37===(r=t.charCodeAt(i++))){if(r=t.charAt(i++),!(a=j[r in oh?t.charAt(i++):r])||(n=a(e,s,n))<0)return-1}else if(r!=s.charCodeAt(n++))return-1}return n}return v.x=w(s,v),v.X=w(n,v),v.c=w(t,v),y.x=w(s,y),y.X=w(n,y),y.c=w(t,y),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),ah=rh.format,rh.parse,ih=rh.utcFormat,rh.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vx=e=>e.chartData,Wx=dl([Vx],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Hx=(e,t,s,n)=>n?Wx(e):Vx(e);function qx(e){return Number.isFinite(e)}function Yx(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Gx(e){if(Array.isArray(e)&&2===e.length){var[t,s]=e;if(qx(t)&&qx(s))return!0}return!1}function Kx(e,t,s){return s?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var Jx=s(8210),Qx=s.n(Jx),Xx=e=>e,Zx={"@@functional/placeholder":!0},ep=e=>e===Zx,tp=e=>function t(){return 0===arguments.length||1===arguments.length&&ep(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},sp=(e,t)=>1===e?t:tp(function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];var a=n.filter(e=>e!==Zx).length;return a>=e?t(...n):sp(e-a,tp(function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];var a=n.map(e=>ep(e)?s.shift():e);return t(...a,...s)}))}),np=e=>sp(e.length,e),rp=(e,t)=>{for(var s=[],n=e;n<t;++n)s[n-e]=n;return s},ap=np((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),ip=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),op=e=>{var t=null,s=null;return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t&&r.every((e,s)=>{var n;return e===(null===(n=t)||void 0===n?void 0:n[s])})?s:(t=r,s=e(...r))}};function lp(e){return 0===e?1:Math.floor(new(Qx())(e).abs().log(10).toNumber())+1}function cp(e,t,s){for(var n=new(Qx())(e),r=0,a=[];n.lt(t)&&r<1e5;)a.push(n.toNumber()),n=n.add(s),r++;return a}np((e,t,s)=>{var n=+e;return n+s*(+t-n)}),np((e,t,s)=>{var n=t-+e;return(s-e)/(n=n||1/0)}),np((e,t,s)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(s-e)/n))});var dp=e=>{var[t,s]=e,[n,r]=[t,s];return t>s&&([n,r]=[s,t]),[n,r]},up=(e,t,s)=>{if(e.lte(0))return new(Qx())(0);var n=lp(e.toNumber()),r=new(Qx())(10).pow(n),a=e.div(r),i=1!==n?.05:.1,o=new(Qx())(Math.ceil(a.div(i).toNumber())).add(s).mul(i).mul(r);return t?new(Qx())(o.toNumber()):new(Qx())(Math.ceil(o.toNumber()))},mp=(e,t,s)=>{var n=new(Qx())(1),r=new(Qx())(e);if(!r.isint()&&s){var a=Math.abs(e);a<1?(n=new(Qx())(10).pow(lp(e)-1),r=new(Qx())(Math.floor(r.div(n).toNumber())).mul(n)):a>1&&(r=new(Qx())(Math.floor(e)))}else 0===e?r=new(Qx())(Math.floor((t-1)/2)):s||(r=new(Qx())(Math.floor(e)));var i=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(!t.length)return Xx;var n=t.reverse(),r=n[0],a=n.slice(1);return function(){return a.reduce((e,t)=>t(e),r(...arguments))}}(ap(e=>r.add(new(Qx())(e-i).mul(n)).toNumber()),rp);return o(0,t)},hp=function(e,t,s,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(s-1)))return{step:new(Qx())(0),tickMin:new(Qx())(0),tickMax:new(Qx())(0)};var a,i=up(new(Qx())(t).sub(e).div(s-1),n,r);a=e<=0&&t>=0?new(Qx())(0):(a=new(Qx())(e).add(t).div(2)).sub(new(Qx())(a).mod(i));var o=Math.ceil(a.sub(e).div(i).toNumber()),l=Math.ceil(new(Qx())(t).sub(a).div(i).toNumber()),c=o+l+1;return c>s?hp(e,t,s,n,r+1):(c<s&&(l=t>0?l+(s-c):l,o=t>0?o:o+(s-c)),{step:i,tickMin:a.sub(new(Qx())(o).mul(i)),tickMax:a.add(new(Qx())(l).mul(i))})};var xp=op(function(e){var[t,s]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(n,2),[i,o]=dp([t,s]);if(i===-1/0||o===1/0){var l=o===1/0?[i,...rp(0,n-1).map(()=>1/0)]:[...rp(0,n-1).map(()=>-1/0),o];return t>s?ip(l):l}if(i===o)return mp(i,n,r);var{step:c,tickMin:d,tickMax:u}=hp(i,o,a,r,0),m=cp(d,u.add(new(Qx())(.1).mul(c)),c);return t>s?ip(m):m}),pp=op(function(e,t){var[s,n]=e,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,i]=dp([s,n]);if(a===-1/0||i===1/0)return[s,n];if(a===i)return[a];var o=Math.max(t,2),l=up(new(Qx())(i).sub(a).div(o-1),r,0),c=[...cp(new(Qx())(a),new(Qx())(i),l),i];return!1===r&&(c=c.map(e=>Math.round(e))),s>n?ip(c):c}),gp=e=>e.rootProps.maxBarSize,fp=e=>e.rootProps.barGap,bp=e=>e.rootProps.barCategoryGap,vp=e=>e.rootProps.barSize,yp=e=>e.rootProps.stackOffset,jp=e=>e.options.chartName,wp=e=>e.rootProps.syncId,Np=e=>e.rootProps.syncMethod,kp=e=>e.options.eventEmitter,Sp=0,_p="auto",Cp=!0,Ap=!1,Pp=!0,Ep=0,Op="auto",Ip=!0,Tp=5,Mp=(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t},Dp={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Sp,includeHidden:!1,name:void 0,reversed:!1,scale:_p,tick:Cp,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},Lp={allowDataOverflow:Ap,allowDecimals:!1,allowDuplicatedCategory:Pp,dataKey:void 0,domain:void 0,id:Ep,includeHidden:!1,name:void 0,reversed:!1,scale:Op,tick:Ip,tickCount:Tp,ticks:void 0,type:"number",unit:void 0},Rp={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:Sp,includeHidden:!1,name:void 0,reversed:!1,scale:_p,tick:Cp,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Fp={allowDataOverflow:Ap,allowDecimals:!1,allowDuplicatedCategory:Pp,dataKey:void 0,domain:void 0,id:Ep,includeHidden:!1,name:void 0,reversed:!1,scale:Op,tick:Ip,tickCount:Tp,ticks:void 0,type:"category",unit:void 0},zp=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Rp:Dp,Up=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?Fp:Lp,$p=e=>e.polarOptions,Bp=dl([oc,lc,bc],Ll),Vp=dl([$p,Bp],(e,t)=>{if(null!=e)return br(e.innerRadius,t,0)}),Wp=dl([$p,Bp],(e,t)=>{if(null!=e)return br(e.outerRadius,t,.8*t)}),Hp=dl([$p],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:s}=e;return[t,s]}),qp=dl([zp,Hp],Mp),Yp=dl([Bp,Vp,Wp],(e,t,s)=>{if(null!=e&&null!=t&&null!=s)return[t,s]}),Gp=dl([Up,Yp],Mp),Kp=dl([Oc,$p,Vp,Wp,oc,lc],(e,t,s,n,r,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=s&&null!=n){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:br(i,r,r/2),cy:br(o,a,a/2),innerRadius:s,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Jp=(e,t)=>t,Qp=(e,t,s)=>s;function Xp(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Zp(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Xp(Object(s),!0).forEach(function(t){eg(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Xp(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function eg(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var tg=[0,"auto"],sg={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ng=(e,t)=>{var s=e.cartesianAxis.xAxis[t];return null==s?sg:s},rg={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},ag=(e,t)=>{var s=e.cartesianAxis.yAxis[t];return null==s?rg:s},ig={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},og=(e,t)=>{var s=e.cartesianAxis.zAxis[t];return null==s?ig:s},lg=(e,t,s)=>{switch(t){case"xAxis":return ng(e,s);case"yAxis":return ag(e,s);case"zAxis":return og(e,s);case"angleAxis":return zp(e,s);case"radiusAxis":return Up(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},cg=(e,t,s)=>{switch(t){case"xAxis":return ng(e,s);case"yAxis":return ag(e,s);case"angleAxis":return zp(e,s);case"radiusAxis":return Up(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},dg=e=>e.graphicalItems.countOfBars>0;function ug(e,t){return s=>{switch(e){case"xAxis":return"xAxisId"in s&&s.xAxisId===t;case"yAxis":return"yAxisId"in s&&s.yAxisId===t;case"zAxis":return"zAxisId"in s&&s.zAxisId===t;case"angleAxis":return"angleAxisId"in s&&s.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in s&&s.radiusAxisId===t;default:return!1}}}var mg=e=>e.graphicalItems.cartesianItems,hg=dl([Jp,Qp],ug),xg=(e,t,s)=>e.filter(s).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),pg=dl([mg,lg,hg],xg),gg=e=>e.filter(e=>void 0===e.stackId),fg=dl([pg],gg),bg=e=>e.map(e=>e.data).filter(Boolean).flat(1),vg=dl([pg],bg),yg=(e,t)=>{var{chartData:s=[],dataStartIndex:n,dataEndIndex:r}=t;return e.length>0?e:s.slice(n,r+1)},jg=dl([vg,Hx],yg),wg=(e,t,s)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Vl(e,t.dataKey)})):s.length>0?s.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Vl(e,t)}))):e.map(e=>({value:e})),Ng=dl([jg,lg,pg],wg);function kg(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function Sg(e){return e.filter(e=>pr(e)||e instanceof Date).map(Number).filter(e=>!1===mr(e))}function _g(e,t,s){return!s||"number"!==typeof t||mr(t)?[]:s.length?Sg(s.flatMap(s=>{var n,r,a=Vl(e,s.dataKey);if(Array.isArray(a)?[n,r]=a:n=r=a,qx(n)&&qx(r))return[t-n,t+r]})):[]}var Cg=(e,t,s)=>{var n=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(n).map(t=>{var[n,r]=t,a=r.map(e=>e.dataKey);return[n,{stackedData:Jl(e,a,s),graphicalItems:r}]}))},Ag=dl([jg,pg,yp],Cg),Pg=(e,t,s)=>{var{dataStartIndex:n,dataEndIndex:r}=t;if("zAxis"!==s){var a=tc(e,n,r);if(null==a||0!==a[0]||0!==a[1])return a}},Eg=dl([Ag,Vx,Jp],Pg),Og=(e,t,s,n)=>s.length>0?e.flatMap(e=>s.flatMap(s=>{var r,a,i=null===(r=s.errorBars)||void 0===r?void 0:r.filter(e=>kg(n,e)),o=Vl(e,null!==(a=t.dataKey)&&void 0!==a?a:s.dataKey);return{value:o,errorDomain:_g(e,o,i)}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Vl(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Ig=dl(jg,lg,fg,Jp,Og);function Tg(e){var{value:t}=e;if(pr(t)||t instanceof Date)return t}var Mg=e=>{var t;if(null==e||!("domain"in e))return tg;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var s=Sg(e.ticks);return[Math.min(...s),Math.max(...s)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:tg},Dg=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var n=t.filter(Boolean);if(0!==n.length){var r=n.flat();return[Math.min(...r),Math.max(...r)]}},Lg=e=>e.referenceElements.dots,Rg=(e,t,s)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===s:e.yAxisId===s),Fg=dl([Lg,Jp,Qp],Rg),zg=e=>e.referenceElements.areas,Ug=dl([zg,Jp,Qp],Rg),$g=e=>e.referenceElements.lines,Bg=dl([$g,Jp,Qp],Rg),Vg=(e,t)=>{var s=Sg(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==s.length)return[Math.min(...s),Math.max(...s)]},Wg=dl(Fg,Jp,Vg),Hg=(e,t)=>{var s=Sg(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==s.length)return[Math.min(...s),Math.max(...s)]},qg=dl([Ug,Jp],Hg),Yg=(e,t)=>{var s=Sg(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==s.length)return[Math.min(...s),Math.max(...s)]},Gg=dl(Bg,Jp,Yg),Kg=dl(Wg,Gg,qg,(e,t,s)=>Dg(e,s,t)),Jg=dl([lg],Mg),Qg=(e,t,s,n,r)=>{var a=function(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var s,n,[r,a]=e;if(qx(r))s=r;else if("function"===typeof r)return;if(qx(a))n=a;else if("function"===typeof a)return;var i=[s,n];if(Gx(i))return i}}(t,e.allowDataOverflow);return null!=a?a:function(e,t,s){if(s||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,s);if(Gx(n))return Kx(n,t,s)}catch(h){}if(Array.isArray(e)&&2===e.length){var r,a,[i,o]=e;if("auto"===i)null!=t&&(r=Math.min(...t));else if(xr(i))r=i;else if("function"===typeof i)try{null!=t&&(r=i(null===t||void 0===t?void 0:t[0]))}catch(x){}else if("string"===typeof i&&sc.test(i)){var l=sc.exec(i);if(null==l||null==t)r=void 0;else{var c=+l[1];r=t[0]-c}}else r=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(xr(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[1]))}catch(p){}else if("string"===typeof o&&nc.test(o)){var d=nc.exec(o);if(null==d||null==t)a=void 0;else{var u=+d[1];a=t[1]+u}}else a=null===t||void 0===t?void 0:t[1];var m=[r,a];if(Gx(m))return null==t?m:Kx(m,t,s)}}}(t,Dg(s,r,(e=>{var t=Sg(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(n)),e.allowDataOverflow)},Xg=dl([lg,Jg,Eg,Ig,Kg],Qg),Zg=[0,1],ef=(e,t,s,n,r,a,i)=>{if(null!=e&&null!=s&&0!==s.length){var{dataKey:o,type:l}=e,c=Wl(t,a);return c&&null==o?Mc()(0,s.length):"category"===l?((e,t,s)=>{var n=e.map(Tg).filter(e=>null!=e);return s&&(null==t.dataKey||t.allowDuplicatedCategory&&vr(n))?Mc()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,c):"expand"===r?Zg:i}},tf=dl([lg,Oc,jg,Ng,yp,Jp,Xg],ef),sf=(t,s,n,r,a)=>{if(null!=t){var{scale:i,type:o}=t;if("auto"===i)return"radial"===s&&"radiusAxis"===a?"band":"radial"===s&&"angleAxis"===a?"linear":"category"===o&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":"category"===o?"band":"linear";if("string"===typeof i){var l="scale".concat(kr(i));return l in e?l:"point"}}},nf=dl([lg,Oc,dg,jp,Jp],sf);function rf(t,s,n,r){if(null!=n&&null!=r){if("function"===typeof t.scale)return t.scale.copy().domain(n).range(r);var a=function(t){if(null!=t){if(t in e)return e[t]();var s="scale".concat(kr(t));return s in e?e[s]():void 0}}(s);if(null!=a){var i=a.domain(n).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var s=t.length,n=e.range(),r=Math.min(n[0],n[1])-Yl,a=Math.max(n[0],n[1])+Yl,i=e(t[0]),o=e(t[s-1]);(i<r||i>a||o<r||o>a)&&e.domain([t[0],t[s-1]])}})(i),i}}}var af=(e,t,s)=>{var n=Mg(t);if("auto"===s||"linear"===s)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&Gx(e)?xp(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&Gx(e)?pp(e,t.tickCount,t.allowDecimals):void 0},of=dl([tf,cg,nf],af),lf=(e,t,s,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&Gx(t)&&Array.isArray(s)&&s.length>0){var r=t[0],a=s[0],i=t[1],o=s[s.length-1];return[Math.min(r,a),Math.max(i,o)]}return t},cf=dl([lg,tf,of,Jp],lf),df=dl(Ng,lg,(e,t)=>{if(t&&"number"===t.type){var s=1/0,n=Array.from(Sg(e.map(e=>e.value))).sort((e,t)=>e-t);if(n.length<2)return 1/0;var r=n[n.length-1]-n[0];if(0===r)return 1/0;for(var a=0;a<n.length-1;a++){var i=n[a+1]-n[a];s=Math.min(s,i)}return s/r}}),uf=dl(df,Oc,bp,bc,(e,t,s,n)=>n,(e,t,s,n,r)=>{if(!qx(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===r)return e*a/2;if("no-gap"===r){var i=br(s,e*a),o=e*a/2;return o-i-(o-i)/a*i}return 0}),mf=dl(ng,(e,t)=>{var s=ng(e,t);return null==s||"string"!==typeof s.padding?0:uf(e,"xAxis",t,s.padding)},(e,t)=>{var s,n;if(null==e)return{left:0,right:0};var{padding:r}=e;return"string"===typeof r?{left:t,right:t}:{left:(null!==(s=r.left)&&void 0!==s?s:0)+t,right:(null!==(n=r.right)&&void 0!==n?n:0)+t}}),hf=dl(ag,(e,t)=>{var s=ag(e,t);return null==s||"string"!==typeof s.padding?0:uf(e,"yAxis",t,s.padding)},(e,t)=>{var s,n;if(null==e)return{top:0,bottom:0};var{padding:r}=e;return"string"===typeof r?{top:t,bottom:t}:{top:(null!==(s=r.top)&&void 0!==s?s:0)+t,bottom:(null!==(n=r.bottom)&&void 0!==n?n:0)+t}}),xf=dl([bc,mf,kc,Nc,(e,t,s)=>s],(e,t,s,n,r)=>{var{padding:a}=n;return r?[a.left,s.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),pf=dl([bc,Oc,hf,kc,Nc,(e,t,s)=>s],(e,t,s,n,r,a)=>{var{padding:i}=r;return a?[n.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-s.bottom,e.top+s.top]:[e.top+s.top,e.top+e.height-s.bottom]}),gf=(e,t,s,n)=>{var r;switch(t){case"xAxis":return xf(e,s,n);case"yAxis":return pf(e,s,n);case"zAxis":return null===(r=og(e,s))||void 0===r?void 0:r.range;case"angleAxis":return Hp(e);case"radiusAxis":return Yp(e,s);default:return}},ff=dl([lg,gf],Mp),bf=dl([lg,nf,cf,ff],rf);dl(pg,Jp,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>kg(t,e)));function vf(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var yf=(e,t)=>t,jf=(e,t,s)=>s,wf=dl(uc,yf,jf,(e,t,s)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===s).sort(vf)),Nf=dl(mc,yf,jf,(e,t,s)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===s).sort(vf)),kf=(e,t)=>({width:e.width,height:t.height}),Sf=dl(bc,ng,kf),_f=dl(lc,bc,wf,yf,jf,(e,t,s,n,r)=>{var a,i={};return s.forEach(s=>{var o=kf(t,s);null==a&&(a=((e,t,s)=>{switch(t){case"top":return e.top;case"bottom":return s-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!r||"bottom"===n&&r;i[s.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),i}),Cf=dl(oc,bc,Nf,yf,jf,(e,t,s,n,r)=>{var a,i={};return s.forEach(s=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,s);null==a&&(a=((e,t,s)=>{switch(t){case"left":return e.left;case"right":return s-e.right;default:return 0}})(t,n,e));var l="left"===n&&!r||"right"===n&&r;i[s.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),i}),Af=dl(bc,ag,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),Pf=(e,t,s)=>{switch(t){case"xAxis":return Sf(e,s).width;case"yAxis":return Af(e,s).height;default:return}},Ef=(e,t,s,n)=>{if(null!=s){var{allowDuplicatedCategory:r,type:a,dataKey:i}=s,o=Wl(e,n),l=t.map(e=>e.value);return i&&o&&"category"===a&&r&&vr(l)?l:void 0}},Of=dl([Oc,Ng,lg,Jp],Ef),If=(e,t,s,n)=>{if(null!=s&&null!=s.dataKey){var{type:r,scale:a}=s;return!Wl(e,n)||"number"!==r&&"auto"===a?void 0:t.map(e=>e.value)}},Tf=dl([Oc,Ng,cg,Jp],If),Mf=dl([Oc,(e,t,s)=>{switch(t){case"xAxis":return ng(e,s);case"yAxis":return ag(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},nf,bf,Of,Tf,gf,of,Jp],(e,t,s,n,r,a,i,o,l)=>{if(null==t)return null;var c=Wl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:r,isCategorical:c,niceTicks:o,range:i,realScaleType:s,scale:n}}),Df=(e,t,s,n,r,a,i,o,l)=>{if(null!=t&&null!=n){var c=Wl(e,l),{type:d,ticks:u,tickCount:m}=t,h="scaleBand"===s&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,x="category"===d&&n.bandwidth?n.bandwidth()/h:0;x="angleAxis"===l&&null!=a&&a.length>=2?2*ur(a[0]-a[1])*x:x;var p=u||r;if(p){var g=p.map((e,t)=>{var s=i?i.indexOf(e):e;return{index:t,coordinate:n(s)+x,value:e,offset:x}});return g.filter(e=>!mr(e.coordinate))}return c&&o?o.map((e,t)=>({coordinate:n(e)+x,value:e,index:t,offset:x})):n.ticks?n.ticks(m).map(e=>({coordinate:n(e)+x,value:e,offset:x})):n.domain().map((e,t)=>({coordinate:n(e)+x,value:i?i[e]:e,index:t,offset:x}))}},Lf=dl([Oc,cg,nf,bf,of,gf,Of,Tf,Jp],Df),Rf=(e,t,s,n,r,a,i)=>{if(null!=t&&null!=s&&null!=n&&n[0]!==n[1]){var o=Wl(e,i),{tickCount:l}=t,c=0;return c="angleAxis"===i&&(null===n||void 0===n?void 0:n.length)>=2?2*ur(n[0]-n[1])*c:c,o&&a?a.map((e,t)=>({coordinate:s(e)+c,value:e,index:t,offset:c})):s.ticks?s.ticks(l).map(e=>({coordinate:s(e)+c,value:e,offset:c})):s.domain().map((e,t)=>({coordinate:s(e)+c,value:r?r[e]:e,index:t,offset:c}))}},Ff=dl([Oc,cg,bf,gf,Of,Tf,Jp],Rf),zf=dl(lg,bf,(e,t)=>{if(null!=e&&null!=t)return Zp(Zp({},e),{},{scale:t})}),Uf=dl([lg,nf,tf,ff],rf),$f=(dl((e,t,s)=>og(e,s),Uf,(e,t)=>{if(null!=e&&null!=t)return Zp(Zp({},e),{},{scale:t})}),dl([Oc,uc,mc],(e,t,s)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return s.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),Bf=e=>e.options.defaultTooltipEventType,Vf=e=>e.options.validateTooltipEventTypes;function Wf(e,t,s){if(null==e)return t;var n=e?"axis":"item";return null==s?t:s.includes(n)?n:t}function Hf(e,t){return Wf(t,Bf(e),Vf(e))}var qf=(e,t)=>{var s,n=Number(t);if(!mr(n)&&null!=t)return n>=0?null===e||void 0===e||null===(s=e[n])||void 0===s?void 0:s.value:void 0};function Yf(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Gf(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(s),!0).forEach(function(t){Kf(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Yf(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Kf(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var Jf=(e,t,s,n)=>{if(null==t)return Io;var r=function(e,t,s){return"axis"===t?"click"===s?e.axisInteraction.click:e.axisInteraction.hover:"click"===s?e.itemInteraction.click:e.itemInteraction.hover}(e,t,s);if(null==r)return Io;if(r.active)return r;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=r.index){if(a)return Gf(Gf({},r),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Gf(Gf({},Io),{},{coordinate:r.coordinate})},Qf=(e,t)=>{var s=null===e||void 0===e?void 0:e.index;if(null==s)return null;var n=Number(s);if(!qx(n))return s;var r=1/0;return t.length>0&&(r=t.length-1),String(Math.max(0,Math.min(n,r)))},Xf=(e,t,s,n,r,a,i,o)=>{if(null!=a&&null!=o){var l=i[0],c=null==l?void 0:o(l.positions,a);if(null!=c)return c;var d=null===r||void 0===r?void 0:r[Number(a)];if(d)return"horizontal"===s?{x:d.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:d.coordinate}}},Zf=(e,t,s,n)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(r="hover"===s?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=n?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===r});var r},eb=e=>e.options.tooltipPayloadSearcher,tb=e=>e.tooltip;function sb(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function nb(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?sb(Object(s),!0).forEach(function(t){rb(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sb(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function rb(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var ab=(e,t,s,n,r,a,i)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=s;return e.reduce((e,s)=>{var u,m,h,x,p,g,{dataDefinedOnItem:f,settings:b}=s,v=function(e,t){return null!=e?e:t}(f,o),y=(m=v,h=c,x=d,Array.isArray(m)&&m&&h+x!==0?m.slice(h,x+1):m),j=null!==(u=null===b||void 0===b?void 0:b.dataKey)&&void 0!==u?u:null===n||void 0===n?void 0:n.dataKey,w=null===b||void 0===b?void 0:b.nameKey;(p=null!==n&&void 0!==n&&n.dataKey&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===i?wr(y,n.dataKey,r):a(y,t,l,w),Array.isArray(p))?p.forEach(t=>{var s=nb(nb({},b),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(ac({tooltipEntrySettings:s,dataKey:t.dataKey,payload:t.payload,value:Vl(t.payload,t.dataKey),name:t.name}))}):e.push(ac({tooltipEntrySettings:b,dataKey:j,payload:p,value:Vl(p,j),name:null!==(g=Vl(p,w))&&void 0!==g?g:null===b||void 0===b?void 0:b.name}));return e},[])}},ib=e=>{var t=Oc(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},ob=e=>e.tooltip.settings.axisId,lb=e=>{var t=ib(e),s=ob(e);return cg(e,t,s)},cb=dl([lb,Oc,dg,jp,ib],sf),db=dl([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ub=dl([ib,ob],ug),mb=dl([db,lb,ub],xg),hb=dl([mb],bg),xb=dl([hb,Vx],yg),pb=dl([xb,lb,mb],wg),gb=dl([lb],Mg),fb=dl([xb,mb,yp],Cg),bb=dl([fb,Vx,ib],Pg),vb=dl([mb],gg),yb=dl([xb,lb,vb,ib],Og),jb=dl([Lg,ib,ob],Rg),wb=dl([jb,ib],Vg),Nb=dl([zg,ib,ob],Rg),kb=dl([Nb,ib],Hg),Sb=dl([$g,ib,ob],Rg),_b=dl([Sb,ib],Yg),Cb=dl([wb,_b,kb],Dg),Ab=dl([lb,gb,bb,yb,Cb],Qg),Pb=dl([lb,Oc,xb,pb,yp,ib,Ab],ef),Eb=dl([Pb,lb,cb],af),Ob=dl([lb,Pb,Eb,ib],lf),Ib=e=>{var t=ib(e),s=ob(e);return gf(e,t,s,!1)},Tb=dl([lb,Ib],Mp),Mb=dl([lb,cb,Ob,Tb],rf),Db=dl([Oc,pb,lb,ib],Ef),Lb=dl([Oc,pb,lb,ib],If),Rb=dl([Oc,lb,cb,Mb,Ib,Db,Lb,ib],(e,t,s,n,r,a,i,o)=>{if(t){var{type:l}=t,c=Wl(e,o);if(n){var d="scaleBand"===s&&n.bandwidth?n.bandwidth()/2:2,u="category"===l&&n.bandwidth?n.bandwidth()/d:0;return u="angleAxis"===o&&null!=r&&(null===r||void 0===r?void 0:r.length)>=2?2*ur(r[0]-r[1])*u:u,c&&i?i.map((e,t)=>({coordinate:n(e)+u,value:e,index:t,offset:u})):n.domain().map((e,t)=>({coordinate:n(e)+u,value:a?a[e]:e,index:t,offset:u}))}}}),Fb=dl([Bf,Vf,e=>e.tooltip.settings],(e,t,s)=>Wf(s.shared,e,t)),zb=e=>e.tooltip.settings.trigger,Ub=e=>e.tooltip.settings.defaultIndex,$b=dl([tb,Fb,zb,Ub],Jf),Bb=dl([$b,xb],Qf),Vb=dl([Rb,Bb],qf),Wb=dl([$b],e=>{if(e)return e.dataKey}),Hb=dl([tb,Fb,zb,Ub],Zf),qb=dl([oc,lc,Oc,bc,Rb,Ub,Hb,eb],Xf),Yb=dl([$b,qb],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),Gb=dl([$b],e=>e.active),Kb=dl([Hb,Bb,Vx,lb,Vb,eb,Fb],ab),Jb=dl([Kb],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}}),Qb=()=>vl(jp),Xb=(e,t)=>t,Zb=(e,t,s)=>s,ev=(e,t,s,n)=>n,tv=dl(Rb,e=>jl()(e,e=>e.coordinate)),sv=dl([tb,Xb,Zb,ev],Jf),nv=dl([sv,xb],Qf),rv=dl([tb,Xb,Zb,ev],Zf),av=dl([oc,lc,Oc,bc,Rb,ev,rv,eb],Xf),iv=dl([sv,av],(e,t)=>{var s;return null!==(s=e.coordinate)&&void 0!==s?s:t}),ov=dl(Rb,nv,qf),lv=dl([rv,nv,Vx,lb,ov,eb,Xb],ab),cv=dl([sv],e=>({isActive:e.active,activeIndex:e.index})),dv=dl([(e,t)=>t,Oc,Kp,ib,Tb,Rb,tv,bc],(e,t,s,n,r,a,i,o)=>{if(e&&t&&n&&r&&a){var l=function(e,t,s,n,r){return"horizontal"===s||"vertical"===s?e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height?{x:e,y:t}:null:n?zl({x:e,y:t},n):null}(e.chartX,e.chartY,t,s,o);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),d=((e,t,s,n,r)=>{var a,i=-1,o=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=r&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?s[l-1].coordinate:s[o-1].coordinate,d=s[l].coordinate,u=l>=o-1?s[0].coordinate:s[l+1].coordinate,m=void 0;if(ur(d-c)!==ur(u-d)){var h=[];if(ur(u-d)===ur(r[1]-r[0])){m=u;var x=d+r[1]-r[0];h[0]=Math.min(x,(x+c)/2),h[1]=Math.max(x,(x+c)/2)}else{m=c;var p=u+r[1]-r[0];h[0]=Math.min(d,(p+d)/2),h[1]=Math.max(d,(p+d)/2)}var g=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){({index:i}=s[l]);break}}else{var f=Math.min(c,u),b=Math.max(c,u);if(e>(f+d)/2&&e<=(b+d)/2){({index:i}=s[l]);break}}}else if(t)for(var v=0;v<o;v++)if(0===v&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v>0&&v<o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2&&e<=(t[v].coordinate+t[v+1].coordinate)/2||v===o-1&&e>(t[v].coordinate+t[v-1].coordinate)/2){({index:i}=t[v]);break}return i})(c,i,a,n,r),u=((e,t,s,n)=>{var r=t.find(e=>e&&e.index===s);if(r){if("horizontal"===e)return{x:r.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:r.coordinate};if("centric"===e){var a=r.coordinate,{radius:i}=n;return $l($l($l({},n),Dl(n.cx,n.cy,i,a)),{},{angle:a,radius:i})}var o=r.coordinate,{angle:l}=n;return $l($l($l({},n),Dl(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}})(t,a,d,l);return{activeIndex:String(d),activeCoordinate:u}}}}),uv=e=>{var t=e.currentTarget.getBoundingClientRect(),s=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/s),chartY:Math.round((e.clientY-t.top)/n)}},mv=Ta("mouseClick"),hv=_i();hv.startListening({actionCreator:mv,effect:(e,t)=>{var s=e.payload,n=dv(t.getState(),uv(s));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(Bo({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xv=Ta("mouseMove"),pv=_i();function gv(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}function fv(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function bv(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fv(Object(s),!0).forEach(function(t){vv(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fv(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function vv(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}pv.startListening({actionCreator:xv,effect:(e,t)=>{var s=e.payload,n=t.getState(),r=Hf(n,n.tooltip.settings.shared),a=dv(n,uv(s));"axis"===r&&(null!=(null===a||void 0===a?void 0:a.activeIndex)?t.dispatch($o({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(zo()))}});var yv=Ya({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:s,width:n}=t.payload;e.yAxis[s]&&(e.yAxis[s]=bv(bv({},e.yAxis[s]),{},{width:n}))}}}),{addXAxis:jv,removeXAxis:wv,addYAxis:Nv,removeYAxis:kv,addZAxis:Sv,removeZAxis:_v,updateYAxisWidth:Cv}=yv.actions,Av=yv.reducer,Pv=Ya({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:s,next:n}=t.payload,r=Aa(e).cartesianItems.indexOf(s);r>-1&&(e.cartesianItems[r]=n)},removeCartesianGraphicalItem(e,t){var s=Aa(e).cartesianItems.indexOf(t.payload);s>-1&&e.cartesianItems.splice(s,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var s=Aa(e).polarItems.indexOf(t.payload);s>-1&&e.polarItems.splice(s,1)}}}),{addBar:Ev,removeBar:Ov,addCartesianGraphicalItem:Iv,replaceCartesianGraphicalItem:Tv,removeCartesianGraphicalItem:Mv,addPolarGraphicalItem:Dv,removePolarGraphicalItem:Lv}=Pv.actions,Rv=Pv.reducer,Fv=Ya({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var s=Aa(e).dots.findIndex(e=>e===t.payload);-1!==s&&e.dots.splice(s,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var s=Aa(e).areas.findIndex(e=>e===t.payload);-1!==s&&e.areas.splice(s,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var s=Aa(e).lines.findIndex(e=>e===t.payload);-1!==s&&e.lines.splice(s,1)}}}),{addDot:zv,removeDot:Uv,addArea:$v,removeArea:Bv,addLine:Vv,removeLine:Wv}=Fv.actions,Hv=Fv.reducer,qv={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Yv=Ya({name:"brush",initialState:qv,reducers:{setBrushSettings:(e,t)=>null==t.payload?qv:t.payload}}),{setBrushSettings:Gv}=Yv.actions,Kv=Yv.reducer,Jv=Ya({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var s=Aa(e).payload.indexOf(t.payload);s>-1&&e.payload.splice(s,1)}}}),{setLegendSize:Qv,setLegendSettings:Xv,addLegendPayload:Zv,removeLegendPayload:ey}=Jv.actions,ty=Jv.reducer,sy={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ny=Ya({name:"rootProps",initialState:sy,reducers:{updateOptions:(e,t)=>{var s;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(s=t.payload.barGap)&&void 0!==s?s:sy.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),ry=ny.reducer,{updateOptions:ay}=ny.actions,iy=Ya({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:oy,removeRadiusAxis:ly,addAngleAxis:cy,removeAngleAxis:dy}=iy.actions,uy=iy.reducer,my=Ya({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hy}=my.actions,xy=my.reducer,py=Ta("keyDown"),gy=Ta("focus"),fy=_i();fy.startListening({actionCreator:py,effect:(e,t)=>{var s=t.getState();if(!1!==s.rootProps.accessibilityLayer){var{keyboardInteraction:n}=s.tooltip,r=e.payload;if("ArrowRight"===r||"ArrowLeft"===r||"Enter"===r){var a=Number(Qf(n,xb(s))),i=Rb(s);if("Enter"!==r){var o=a+("ArrowRight"===r?1:-1)*("left-to-right"===$f(s)?1:-1);if(!(null==i||o>=i.length||o<0)){var l=av(s,"axis","hover",String(o));t.dispatch(Wo({active:!0,activeIndex:o.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=av(s,"axis","hover",String(n.index));t.dispatch(Wo({active:!n.active,activeIndex:n.index,activeDataKey:n.dataKey,activeCoordinate:c}))}}}}}),fy.startListening({actionCreator:gy,effect:(e,t)=>{var s=t.getState();if(!1!==s.rootProps.accessibilityLayer){var{keyboardInteraction:n}=s.tooltip;if(!n.active&&null==n.index){var r=av(s,"axis","hover",String("0"));t.dispatch(Wo({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:r}))}}}});var by=Ta("externalEvent"),vy=_i();vy.startListening({actionCreator:by,effect:(e,t)=>{if(null!=e.payload.handler){var s=t.getState(),n={activeCoordinate:Yb(s),activeDataKey:Wb(s),activeIndex:Bb(s),activeLabel:Vb(s),activeTooltipIndex:Bb(s),isTooltipActive:Gb(s)};e.payload.handler(n,e.payload.reactEvent)}}});var yy=dl([tb],e=>e.tooltipItemPayloads),jy=dl([yy,eb,(e,t,s)=>t,(e,t,s)=>s],(e,t,s,n)=>{var r=e.find(e=>e.settings.dataKey===n);if(null!=r){var{positions:a}=r;if(null!=a)return t(a,s)}}),wy=Ta("touchMove"),Ny=_i();Ny.startListening({actionCreator:wy,effect:(e,t)=>{var s=e.payload,n=t.getState(),r=Hf(n,n.tooltip.settings.shared);if("axis"===r){var a=dv(n,uv({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,currentTarget:s.currentTarget}));null!=(null===a||void 0===a?void 0:a.activeIndex)&&t.dispatch($o({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===r){var i,o=s.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(hc),d=null!==(i=l.getAttribute(xc))&&void 0!==i?i:void 0,u=jy(t.getState(),c,d);t.dispatch(Ro({activeDataKey:d,activeIndex:c,activeCoordinate:u}))}}});var ky=Lr({brush:Kv,cartesianAxis:Av,chartData:Jo,graphicalItems:Rv,layout:sl,legend:ty,options:Ei,polarAxis:uy,polarOptions:xy,referenceElements:Hv,rootProps:ry,tooltip:Ho});function Sy(e){var{preloadedState:t,children:s,reduxStoreName:n}=e,a=wc(),i=(0,r.useRef)(null);if(a)return s;null==i.current&&(i.current=function(e){return Ua({reducer:ky,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([hv.middleware,pv.middleware,fy.middleware,vy.middleware,Ny.middleware]),devTools:{serialize:{replacer:gv},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,n));var o=hl;return r.createElement(Bi,{context:o,store:i.current},s)}var _y=e=>{var{chartData:t}=e,s=pl(),n=wc();return(0,r.useEffect)(()=>n?()=>{}:(s(Yo(t)),()=>{s(Yo(void 0))}),[t,s,n]),null};function Cy(e){var{layout:t,width:s,height:n,margin:a}=e,i=pl(),o=wc();return(0,r.useEffect)(()=>{o||(i(Zo(t)),i(el({width:s,height:n})),i(Xo(a)))},[i,o,t,s,n,a]),null}function Ay(e){var t=pl();return(0,r.useEffect)(()=>{t(ay(e))},[t,e]),null}var Py=s(528),Ey=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Oy=["points","pathLength"],Iy={svg:["viewBox","children"],polygon:Oy,polyline:Oy},Ty=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],My=(e,t)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var s=e;if((0,r.isValidElement)(e)&&(s=e.props),"object"!==typeof s&&"function"!==typeof s)return null;var n={};return Object.keys(s).forEach(e=>{Ty.includes(e)&&(n[e]=t||(t=>s[e](s,t)))}),n},Dy=(e,t,s)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(r=>{var a=e[r];Ty.includes(r)&&"function"===typeof a&&(n||(n={}),n[r]=((e,t,s)=>n=>(e(t,s,n),null))(a,t,s))}),n},Ly=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",Ry=null,Fy=null,zy=e=>{if(e===Ry&&Array.isArray(Fy))return Fy;var t=[];return r.Children.forEach(e,e=>{Nr(e)||((0,Py.zv)(e)?t=t.concat(zy(e.props.children)):t.push(e))}),Fy=t,Ry=e,t};function Uy(e,t){var s=[],n=[];return n=Array.isArray(t)?t.map(e=>Ly(e)):[Ly(t)],zy(e).forEach(e=>{var t=dr()(e,"type.displayName")||dr()(e,"type.name");-1!==n.indexOf(t)&&s.push(e)}),s}var $y=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),By=(e,t,s)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var a={};return Object.keys(n).forEach(e=>{var r;((e,t,s,n)=>{var r,a=null!==(r=n&&(null===Iy||void 0===Iy?void 0:Iy[n]))&&void 0!==r?r:[];return t.startsWith("data-")||"function"!==typeof e&&(n&&a.includes(t)||Ey.includes(t))||s&&Ty.includes(t)})(null===(r=n)||void 0===r?void 0:r[e],e,t,s)&&(a[e]=n[e])}),a},Vy=()=>vl(e=>e.rootProps.accessibilityLayer),Wy=["children","width","height","viewBox","className","style","title","desc"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Hy.apply(null,arguments)}var qy=(0,r.forwardRef)((e,t)=>{var{children:s,width:n,height:a,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,Wy),m=i||{width:n,height:a,x:0,y:0},h=ir("recharts-surface",o);return r.createElement("svg",Hy({},By(u,!0,"svg"),{className:h,width:n,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),r.createElement("title",null,c),r.createElement("desc",null,d),s)}),Yy=["children"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Gy.apply(null,arguments)}var Ky={width:"100%",height:"100%"},Jy=(0,r.forwardRef)((e,t)=>{var s=Ac(),n=Pc(),a=Vy();if(!Yx(s)||!Yx(n))return null;var i,o,{children:l,otherAttributes:c,title:d,desc:u}=e;return i="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,o="string"===typeof c.role?c.role:a?"application":void 0,r.createElement(qy,Gy({},c,{title:d,desc:u,role:o,tabIndex:i,width:s,height:n,style:Ky,ref:t}),l)}),Qy=e=>{var{children:t}=e,s=vl(kc);if(!s)return null;var{width:n,height:a,y:i,x:o}=s;return r.createElement(qy,{width:n,height:a,x:o,y:i},t)},Xy=(0,r.forwardRef)((e,t)=>{var{children:s}=e,n=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,Yy);return wc()?r.createElement(Qy,null,s):r.createElement(Jy,Gy({ref:t},n),s)});var Zy=new(s(7283)),ej="recharts.syncEvent.tooltip",tj="recharts.syncEvent.brush";function sj(e){return e.tooltip.syncInteraction}var nj=()=>{};function rj(){var e=pl();(0,r.useEffect)(()=>{e(Oi())},[e]),function(){var e=vl(wp),t=vl(kp),s=pl(),n=vl(Np),a=vl(Rb),i=Ic(),o=Sc(),l=vl(e=>e.rootProps.className);(0,r.useEffect)(()=>{if(null==e)return nj;var r=(r,l,c)=>{if(t!==c&&e===r)if("index"!==n){if(null!=a){var d;if("function"===typeof n){var u={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},m=n(a,u);d=a[m]}else"value"===n&&(d=a.find(e=>String(e.value)===l.payload.label));var{coordinate:h}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=h&&null!=o){var{x:x,y:p}=h,g=Math.min(x,o.x+o.width),f=Math.min(p,o.y+o.height),b={x:"horizontal"===i?d.coordinate:g,y:"horizontal"===i?f:d.coordinate},v=Vo({active:l.payload.active,coordinate:b,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label});s(v)}else s(Vo({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else s(l)};return Zy.on(ej,r),()=>{Zy.off(ej,r)}},[l,s,t,e,n,a,i,o])}(),function(){var e=vl(wp),t=vl(kp),s=pl();(0,r.useEffect)(()=>{if(null==e)return nj;var n=(n,r,a)=>{t!==a&&e===n&&s(Go(r))};return Zy.on(tj,n),()=>{Zy.off(tj,n)}},[s,t,e])}()}function aj(e,t,s,n,a,i){var o=vl(s=>((e,t,s)=>{if(null!=t){var n=tb(e);return"axis"===t?"hover"===s?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===s?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(s,e,t)),l=vl(kp),c=vl(wp),d=vl(Np),u=vl(sj),m=null===u||void 0===u?void 0:u.active;(0,r.useEffect)(()=>{if(!m&&null!=c&&null!=l){var e=Vo({active:i,coordinate:s,dataKey:o,index:a,label:"number"===typeof n?String(n):n});Zy.emit(ej,c,e,l)}},[m,s,o,a,n,l,c,d,i])}var ij=(0,r.createContext)(null),oj=(0,r.createContext)(null);function lj(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function cj(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?lj(Object(s),!0).forEach(function(t){dj(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):lj(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function dj(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var uj=(0,r.forwardRef)((e,t)=>{var{children:s,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:m,onMouseUp:h,onTouchEnd:x,onTouchMove:p,onTouchStart:g,style:f,width:b}=e,v=pl(),[y,j]=(0,r.useState)(null),[w,N]=(0,r.useState)(null);rj();var k=function(){var e=pl(),[t,s]=(0,r.useState)(null),n=vl(cc);return(0,r.useEffect)(()=>{if(null!=t){var s=t.getBoundingClientRect().width/t.offsetWidth;qx(s)&&s!==n&&e(tl(s))}},[t,e,n]),s}(),S=(0,r.useCallback)(e=>{k(e),"function"===typeof t&&t(e),j(e),N(e)},[k,t,j,N]),_=(0,r.useCallback)(e=>{v(mv(e)),v(by({handler:i,reactEvent:e}))},[v,i]),C=(0,r.useCallback)(e=>{v(xv(e)),v(by({handler:d,reactEvent:e}))},[v,d]),A=(0,r.useCallback)(e=>{v(zo()),v(by({handler:u,reactEvent:e}))},[v,u]),P=(0,r.useCallback)(e=>{v(xv(e)),v(by({handler:m,reactEvent:e}))},[v,m]),E=(0,r.useCallback)(()=>{v(gy())},[v]),O=(0,r.useCallback)(e=>{v(py(e.key))},[v]),I=(0,r.useCallback)(e=>{v(by({handler:o,reactEvent:e}))},[v,o]),T=(0,r.useCallback)(e=>{v(by({handler:l,reactEvent:e}))},[v,l]),M=(0,r.useCallback)(e=>{v(by({handler:c,reactEvent:e}))},[v,c]),D=(0,r.useCallback)(e=>{v(by({handler:h,reactEvent:e}))},[v,h]),L=(0,r.useCallback)(e=>{v(by({handler:g,reactEvent:e}))},[v,g]),R=(0,r.useCallback)(e=>{v(wy(e)),v(by({handler:p,reactEvent:e}))},[v,p]),F=(0,r.useCallback)(e=>{v(by({handler:x,reactEvent:e}))},[v,x]);return r.createElement(ij.Provider,{value:y},r.createElement(oj.Provider,{value:w},r.createElement("div",{className:ir("recharts-wrapper",n),style:cj({position:"relative",cursor:"default",width:b,height:a},f),onClick:_,onContextMenu:I,onDoubleClick:T,onFocus:E,onKeyDown:O,onMouseDown:M,onMouseEnter:C,onMouseLeave:A,onMouseMove:P,onMouseUp:D,onTouchEnd:F,onTouchMove:R,onTouchStart:L,ref:S},s)))}),mj=dl([bc],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),hj=dl([mj,oc,lc],(e,t,s)=>{if(e&&null!=t&&null!=s)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,s-e.top-e.bottom)}}),xj=()=>vl(hj),pj=(0,r.createContext)(void 0),gj=e=>{var{children:t}=e,[s]=(0,r.useState)("".concat(fr("recharts"),"-clip")),n=xj();if(null==n)return null;var{x:a,y:i,width:o,height:l}=n;return r.createElement(pj.Provider,{value:s},r.createElement("defs",null,r.createElement("clipPath",{id:s},r.createElement("rect",{x:a,y:i,height:l,width:o}))),t)},fj=["children","className","width","height","style","compact","title","desc"];var bj=(0,r.forwardRef)((e,t)=>{var{children:s,className:n,width:a,height:i,style:o,compact:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,fj),m=By(u,!1);return l?r.createElement(Xy,{otherAttributes:m,title:c,desc:d},s):r.createElement(uj,{className:n,style:o,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},r.createElement(Xy,{otherAttributes:m,title:c,desc:d,ref:t},r.createElement(gj,null,s)))});function vj(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function yj(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function jj(e,t){var s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?vj(Object(s),!0).forEach(function(t){yj(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):vj(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),s)}var wj=["width","height"];function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Nj.apply(null,arguments)}var kj={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},Sj=(0,r.forwardRef)(function(e,t){var s,n=jj(e.categoricalChartProps,kj),{width:a,height:i}=n,o=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(n,wj);if(!Yx(a)||!Yx(i))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,categoricalChartProps:m}=e,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return r.createElement(Sy,{preloadedState:{options:h},reduxStoreName:null!==(s=m.id)&&void 0!==s?s:l},r.createElement(_y,{chartData:m.data}),r.createElement(Cy,{width:a,height:i,layout:n.layout,margin:n.margin}),r.createElement(Ay,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),r.createElement(bj,Nj({},o,{width:a,height:i,ref:t})))}),_j=["axis"],Cj=(0,r.forwardRef)((e,t)=>r.createElement(Sj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_j,tooltipPayloadSearcher:Ai,categoricalChartProps:e,ref:t}));function Aj(e,t){for(var s in e)if({}.hasOwnProperty.call(e,s)&&(!{}.hasOwnProperty.call(t,s)||e[s]!==t[s]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}var Pj=["children","className"];function Ej(){return Ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ej.apply(null,arguments)}var Oj=r.forwardRef((e,t)=>{var{children:s,className:n}=e,a=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,Pj),i=ir("recharts-layer",n);return r.createElement("g",Ej({className:i},By(a,!0),{ref:t}),s)}),Ij=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function Tj(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Mj(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Tj(Object(s),!0).forEach(function(t){Dj(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Tj(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Dj(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var Lj={widthCache:{},cacheCount:0},Rj={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Fj="recharts_measurement_span";var zj=function(e){if(void 0===e||null===e||Ij)return{width:0,height:0};var t=function(e){var t=Mj({},e);return Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),s=JSON.stringify({text:e,copyStyle:t});if(Lj.widthCache[s])return Lj.widthCache[s];try{var n=document.getElementById(Fj);n||((n=document.createElement("span")).setAttribute("id",Fj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n));var r=Mj(Mj({},Rj),t);Object.assign(n.style,r),n.textContent="".concat(e);var a=n.getBoundingClientRect(),i={width:a.width,height:a.height};return Lj.widthCache[s]=i,++Lj.cacheCount>2e3&&(Lj.cacheCount=0,Lj.widthCache={}),i}catch(o){return{width:0,height:0}}},Uj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$j=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bj=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vj=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Hj=Object.keys(Wj),qj="NaN";class Yj{static parse(e){var t,[,s,n]=null!==(t=Vj.exec(e))&&void 0!==t?t:[];return new Yj(parseFloat(s),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,mr(e)&&(this.unit=""),""===t||Bj.test(t)||(this.num=NaN,this.unit=""),Hj.includes(t)&&(this.num=function(e,t){return e*Wj[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Yj(NaN,""):new Yj(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Yj(NaN,""):new Yj(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Yj(NaN,""):new Yj(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Yj(NaN,""):new Yj(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mr(this.num)}}function Gj(e){if(e.includes(qj))return qj;for(var t=e;t.includes("*")||t.includes("/");){var s,[,n,r,a]=null!==(s=Uj.exec(t))&&void 0!==s?s:[],i=Yj.parse(null!==n&&void 0!==n?n:""),o=Yj.parse(null!==a&&void 0!==a?a:""),l="*"===r?i.multiply(o):i.divide(o);if(l.isNaN())return qj;t=t.replace(Uj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,m]=null!==(c=$j.exec(t))&&void 0!==c?c:[],h=Yj.parse(null!==d&&void 0!==d?d:""),x=Yj.parse(null!==m&&void 0!==m?m:""),p="+"===u?h.add(x):h.subtract(x);if(p.isNaN())return qj;t=t.replace($j,p.toString())}return t}var Kj=/\(([^()]*)\)/;function Jj(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,s=e;null!=(t=Kj.exec(s));){var[,n]=t;s=s.replace(Kj,Gj(n))}return s}(t),t=Gj(t)}function Qj(e){var t=function(e){try{return Jj(e)}catch(t){return qj}}(e.slice(5,-1));return t===qj?"":t}var Xj=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zj=["dx","dy","angle","className","breakAll"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ew.apply(null,arguments)}function tw(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var sw=/[ \f\n\r\t\v\u2028\u2029]+/,nw=e=>{var{children:t,breakAll:s,style:n}=e;try{var r=[];return Nr(t)||(r=s?t.toString().split(""):t.toString().split(sw)),{wordsWithComputedWidth:r.map(e=>({word:e,width:zj(e,n).width})),spaceWidth:s?0:zj("\xa0",n).width}}catch(a){return null}},rw=e=>[{words:Nr(e)?[]:e.toString().split(sw)}],aw=e=>{var{width:t,scaleToFit:s,children:n,style:r,breakAll:a,maxLines:i}=e;if((t||s)&&!Ij){var o=nw({breakAll:a,children:n,style:r});if(!o)return rw(n);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,s,n,r)=>{var{maxLines:a,children:i,style:o,breakAll:l}=e,c=xr(a),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:a,width:i}=t,o=e[e.length-1];if(o&&(null==n||r||o.width+i+s<Number(n)))o.words.push(a),o.width+=i+s;else{var l={words:[a],width:i};e.push(l)}return e},[])},m=u(t),h=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||r)return m;if(!(m.length>a||h(m).width>Number(n)))return m;for(var x,p=e=>{var t=d.slice(0,e),s=nw({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,r=u(s);return[r.length>a||h(r).width>Number(n),r]},g=0,f=d.length-1,b=0;g<=f&&b<=d.length-1;){var v=Math.floor((g+f)/2),y=v-1,[j,w]=p(y),[N]=p(v);if(j||N||(g=v+1),j&&N&&(f=v-1),!j&&N){x=w;break}b++}return x||m})({breakAll:a,children:n,maxLines:i,style:r},l,c,t,s)}return rw(n)},iw="#808080",ow=(0,r.forwardRef)((e,t)=>{var{x:s=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=iw}=e,u=tw(e,Xj),m=(0,r.useMemo)(()=>aw({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:x,angle:p,className:g,breakAll:f}=u,b=tw(u,Zj);if(!pr(s)||!pr(n))return null;var v,y=s+(xr(h)?h:0),j=n+(xr(x)?x:0);switch(c){case"start":v=Qj("calc(".concat(i,")"));break;case"middle":v=Qj("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:v=Qj("calc(".concat(m.length-1," * -").concat(a,")"))}var w=[];if(o){var N=m[0].width,{width:k}=u;w.push("scale(".concat(xr(k)?k/N:1,")"))}return p&&w.push("rotate(".concat(p,", ").concat(y,", ").concat(j,")")),w.length&&(b.transform=w.join(" ")),r.createElement("text",ew({},By(b,!0),{ref:t,x:y,y:j,className:ir("recharts-text",g),textAnchor:l,fill:d.includes("url")?iw:d}),m.map((e,t)=>{var s=e.words.join(f?"":" ");return r.createElement("tspan",{x:y,dy:0===t?v:a,key:"".concat(s,"-").concat(t)},s)}))});ow.displayName="Text";var lw=["offset"],cw=["labelRef"];function dw(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function uw(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function mw(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(s),!0).forEach(function(t){hw(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):uw(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function hw(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},xw.apply(null,arguments)}var pw=e=>null!=e&&"function"===typeof e,gw=(e,t,s)=>{var n,a,{position:i,viewBox:o,offset:l,className:c}=e,{cx:d,cy:u,innerRadius:m,outerRadius:h,startAngle:x,endAngle:p,clockWise:g}=o,f=(m+h)/2,b=((e,t)=>ur(t-e)*Math.min(Math.abs(t-e),360))(x,p),v=b>=0?1:-1;"insideStart"===i?(n=x+v*l,a=g):"insideEnd"===i?(n=p-v*l,a=!g):"end"===i&&(n=p+v*l,a=g),a=b<=0?a:!a;var y=Dl(d,u,f,n),j=Dl(d,u,f,n+359*(a?1:-1)),w="M".concat(y.x,",").concat(y.y,"\n    A").concat(f,",").concat(f,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),N=Nr(e.id)?fr("recharts-radial-line-"):e.id;return r.createElement("text",xw({},s,{dominantBaseline:"central",className:ir("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:N,d:w})),r.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function fw(e){var t,{offset:s=5}=e,n=mw({offset:s},dw(e,lw)),{viewBox:a,position:i,value:o,children:l,content:c,className:d="",textBreakAll:u,labelRef:m}=n,h=Sc(),x=a||h;if(!x||Nr(o)&&Nr(l)&&!(0,r.isValidElement)(c)&&"function"!==typeof c)return null;if((0,r.isValidElement)(c)){var{labelRef:p}=n,g=dw(n,cw);return(0,r.cloneElement)(c,g)}if("function"===typeof c){if(t=(0,r.createElement)(c,n),(0,r.isValidElement)(t))return t}else t=(e=>{var{value:t,formatter:s}=e,n=Nr(e.children)?t:e.children;return"function"===typeof s?s(n):n})(n);var f=(e=>"cx"in e&&xr(e.cx))(x),b=By(n,!0);if(f&&("insideStart"===i||"insideEnd"===i||"end"===i))return gw(n,t,b);var v=f?(e=>{var{viewBox:t,offset:s,position:n}=e,{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=t,d=(l+c)/2;if("outside"===n){var{x:u,y:m}=Dl(r,a,o+s,d);return{x:u,y:m,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:x,y:p}=Dl(r,a,h,d);return{x:x,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(n):((e,t)=>{var{parentViewBox:s,offset:n,position:r}=e,{x:a,y:i,width:o,height:l}=t,c=l>=0?1:-1,d=c*n,u=c>0?"end":"start",m=c>0?"start":"end",h=o>=0?1:-1,x=h*n,p=h>0?"end":"start",g=h>0?"start":"end";if("top"===r)return mw(mw({},{x:a+o/2,y:i-c*n,textAnchor:"middle",verticalAnchor:u}),s?{height:Math.max(i-s.y,0),width:o}:{});if("bottom"===r)return mw(mw({},{x:a+o/2,y:i+l+d,textAnchor:"middle",verticalAnchor:m}),s?{height:Math.max(s.y+s.height-(i+l),0),width:o}:{});if("left"===r){var f={x:a-x,y:i+l/2,textAnchor:p,verticalAnchor:"middle"};return mw(mw({},f),s?{width:Math.max(f.x-s.x,0),height:l}:{})}if("right"===r){var b={x:a+o+x,y:i+l/2,textAnchor:g,verticalAnchor:"middle"};return mw(mw({},b),s?{width:Math.max(s.x+s.width-b.x,0),height:l}:{})}var v=s?{width:o,height:l}:{};return"insideLeft"===r?mw({x:a+x,y:i+l/2,textAnchor:g,verticalAnchor:"middle"},v):"insideRight"===r?mw({x:a+o-x,y:i+l/2,textAnchor:p,verticalAnchor:"middle"},v):"insideTop"===r?mw({x:a+o/2,y:i+d,textAnchor:"middle",verticalAnchor:m},v):"insideBottom"===r?mw({x:a+o/2,y:i+l-d,textAnchor:"middle",verticalAnchor:u},v):"insideTopLeft"===r?mw({x:a+x,y:i+d,textAnchor:g,verticalAnchor:m},v):"insideTopRight"===r?mw({x:a+o-x,y:i+d,textAnchor:p,verticalAnchor:m},v):"insideBottomLeft"===r?mw({x:a+x,y:i+l-d,textAnchor:g,verticalAnchor:u},v):"insideBottomRight"===r?mw({x:a+o-x,y:i+l-d,textAnchor:p,verticalAnchor:u},v):r&&"object"===typeof r&&(xr(r.x)||hr(r.x))&&(xr(r.y)||hr(r.y))?mw({x:a+br(r.x,o),y:i+br(r.y,l),textAnchor:"end",verticalAnchor:"end"},v):mw({x:a+o/2,y:i+l/2,textAnchor:"middle",verticalAnchor:"middle"},v)})(n,x);return r.createElement(ow,xw({ref:m,className:ir("recharts-label",d)},b,v,{breakAll:u}),t)}fw.displayName="Label";var bw=e=>{var{cx:t,cy:s,angle:n,startAngle:r,endAngle:a,r:i,radius:o,innerRadius:l,outerRadius:c,x:d,y:u,top:m,left:h,width:x,height:p,clockWise:g,labelViewBox:f}=e;if(f)return f;if(xr(x)&&xr(p)){if(xr(d)&&xr(u))return{x:d,y:u,width:x,height:p};if(xr(m)&&xr(h))return{x:m,y:h,width:x,height:p}}return xr(d)&&xr(u)?{x:d,y:u,width:0,height:0}:xr(t)&&xr(s)?{cx:t,cy:s,startAngle:r||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:c||o||i||0,clockWise:g}:e.viewBox?e.viewBox:void 0};function vw(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}fw.parseViewBox=bw,fw.renderCallByParent=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&s&&!e.label)return null;var{children:n,labelRef:a}=e,i=bw(e),o=Uy(n,fw).map((e,s)=>(0,r.cloneElement)(e,{viewBox:t||i,key:"label-".concat(s)}));if(!s)return o;var l=((e,t,s)=>{if(!e)return null;var n={viewBox:t,labelRef:s};return!0===e?r.createElement(fw,xw({key:"label-implicit"},n)):pr(e)?r.createElement(fw,xw({key:"label-implicit",value:e},n)):(0,r.isValidElement)(e)?e.type===fw?(0,r.cloneElement)(e,mw({key:"label-implicit"},n)):r.createElement(fw,xw({key:"label-implicit",content:e},n)):pw(e)?r.createElement(fw,xw({key:"label-implicit",content:e},n)):e&&"object"===typeof e?r.createElement(fw,xw({},e,{key:"label-implicit"},n)):null})(e.label,t||i,a);return[l,...o]};class yw{static create(e){return new yw(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(s)switch(s){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var r=this.bandwidth?this.bandwidth():0;return this.scale(e)+r}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),s=t[0],n=t[t.length-1];return s<=n?e>=s&&e<=n:e>=n&&e<=s}}vw(yw,"EPS",1e-4);function jw(e,t,s){if(t<1)return[];if(1===t&&void 0===s)return e;for(var n=[],r=0;r<e.length;r+=t){if(void 0!==s&&!0!==s(e[r]))return;n.push(e[r])}return n}function ww(e,t,s){return function(e){var{width:t,height:s}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),r=n*Math.PI/180,a=Math.atan(s/t),i=r>a&&r<Math.PI-a?s/Math.sin(r):t/Math.cos(r);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},s)}function Nw(e,t,s,n,r){if(e*t<e*n||e*t>e*r)return!1;var a=s();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-r)<=0}function kw(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Sw(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?kw(Object(s),!0).forEach(function(t){_w(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):kw(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function _w(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Cw(e,t,s){var n,{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:m}=e;if(!a||!a.length||!r)return[];if(xr(c)||Ij)return null!==(n=function(e,t){return jw(e,t+1)}(a,xr(c)?c:0))&&void 0!==n?n:[];var h=[],x="top"===l||"bottom"===l?"width":"height",p=u&&"width"===x?zj(u,{fontSize:t,letterSpacing:s}):{width:0,height:0},g=(e,n)=>{var r="function"===typeof d?d(e.value,n):e.value;return"width"===x?ww(zj(r,{fontSize:t,letterSpacing:s}),p,m):zj(r,{fontSize:t,letterSpacing:s})[x]},f=a.length>=2?ur(a[1].coordinate-a[0].coordinate):1,b=function(e,t,s){var n="width"===s,{x:r,y:a,width:i,height:o}=e;return 1===t?{start:n?r:a,end:n?r+i:a+o}:{start:n?r+i:a+o,end:n?r:a}}(i,f,x);return"equidistantPreserveStart"===c?function(e,t,s,n,r){for(var a,i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,m=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:jw(n,d)};var a,i=c,m=()=>(void 0===a&&(a=s(t,i)),a),h=t.coordinate,x=0===c||Nw(e,h,m,u,l);x||(c=0,u=o,d+=1),x&&(u=h+e*(m()/2+r),c+=d)};d<=i.length;)if(a=m())return a.v;return[]}(f,b,g,a,o):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,s,n,r,a){var i=(n||[]).slice(),o=i.length,{start:l,end:c}=t;if(a){var d=n[o-1],u=s(d,o-1),m=e*(d.coordinate+e*u/2-c);i[o-1]=d=Sw(Sw({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),Nw(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+r),i[o-1]=Sw(Sw({},d),{},{isShow:!0}))}for(var h=a?o-1:o,x=function(t){var n,a=i[t],o=()=>(void 0===n&&(n=s(a,t)),n);if(0===t){var d=e*(a.coordinate-e*o()/2-l);i[t]=a=Sw(Sw({},a),{},{tickCoord:d<0?a.coordinate-d*e:a.coordinate})}else i[t]=a=Sw(Sw({},a),{},{tickCoord:a.coordinate});Nw(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+r),i[t]=Sw(Sw({},a),{},{isShow:!0}))},p=0;p<h;p++)x(p);return i}(f,b,g,a,o,"preserveStartEnd"===c):function(e,t,s,n,r){for(var a=(n||[]).slice(),i=a.length,{start:o}=t,{end:l}=t,c=function(t){var n,c=a[t],d=()=>(void 0===n&&(n=s(c,t)),n);if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);a[t]=c=Sw(Sw({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else a[t]=c=Sw(Sw({},c),{},{tickCoord:c.coordinate});Nw(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+r),a[t]=Sw(Sw({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return a}(f,b,g,a,o),h.filter(e=>e.isShow))}var Aw=["viewBox"],Pw=["viewBox"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ew.apply(null,arguments)}function Ow(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Iw(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ow(Object(s),!0).forEach(function(t){Mw(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ow(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Tw(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Mw(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class Dw extends r.Component{constructor(e){super(e),this.tickRefs=r.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:s}=e,n=Tw(e,Aw),r=this.props,{viewBox:a}=r,i=Tw(r,Pw);return!Aj(s,a)||!Aj(n,i)||!Aj(t,this.state)}getTickLineCoord(e){var t,s,n,r,a,i,{x:o,y:l,width:c,height:d,orientation:u,tickSize:m,mirror:h,tickMargin:x}=this.props,p=h?-1:1,g=e.tickSize||m,f=xr(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":t=s=e.coordinate,i=(n=(r=l+ +!h*d)-p*g)-p*x,a=f;break;case"left":n=r=e.coordinate,a=(t=(s=o+ +!h*c)-p*g)-p*x,i=f;break;case"right":n=r=e.coordinate,a=(t=(s=o+ +h*c)+p*g)+p*x,i=f;break;default:t=s=e.coordinate,i=(n=(r=l+ +h*d)+p*g)+p*x,a=f}return{line:{x1:t,y1:n,x2:s,y2:r},tick:{x:a,y:i}}}getTickTextAnchor(){var e,{orientation:t,mirror:s}=this.props;switch(t){case"left":e=s?"start":"end";break;case"right":e=s?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:s,height:n,orientation:a,mirror:i,axisLine:o}=this.props,l=Iw(Iw(Iw({},By(this.props,!1)),By(o,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!i||"bottom"===a&&i);l=Iw(Iw({},l),{},{x1:e,y1:t+c*n,x2:e+s,y2:t+c*n})}else{var d=+("left"===a&&!i||"right"===a&&i);l=Iw(Iw({},l),{},{x1:e+d*s,y1:t,x2:e+d*s,y2:t+n})}return r.createElement("line",Ew({},l,{className:ir("recharts-cartesian-axis-line",dr()(o,"className"))}))}static renderTickItem(e,t,s){var n,a=ir(t.className,"recharts-cartesian-axis-tick-value");if(r.isValidElement(e))n=r.cloneElement(e,Iw(Iw({},t),{},{className:a}));else if("function"===typeof e)n=e(Iw(Iw({},t),{},{className:a}));else{var i="recharts-cartesian-axis-tick-value";"boolean"!==typeof e&&(i=ir(i,e.className)),n=r.createElement(ow,Ew({},t,{className:i}),s)}return n}renderTicks(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:n,stroke:a,tick:i,tickFormatter:o,unit:l}=this.props,c=Cw(Iw(Iw({},this.props),{},{ticks:s}),e,t),d=this.getTickTextAnchor(),u=this.getTickVerticalAnchor(),m=By(this.props,!1),h=By(i,!1),x=Iw(Iw({},m),{},{fill:"none"},By(n,!1)),p=c.map((e,t)=>{var{line:s,tick:p}=this.getTickLineCoord(e),g=Iw(Iw(Iw(Iw({textAnchor:d,verticalAnchor:u},m),{},{stroke:"none",fill:a},h),p),{},{index:t,payload:e,visibleTicksCount:c.length,tickFormatter:o});return r.createElement(Oj,Ew({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Dy(this.props,e,t)),n&&r.createElement("line",Ew({},x,s,{className:ir("recharts-cartesian-axis-tick-line",dr()(n,"className"))})),i&&Dw.renderTickItem(i,g,"".concat("function"===typeof o?o(e.value,t):e.value).concat(l||"")))});return p.length>0?r.createElement("g",{className:"recharts-cartesian-axis-ticks"},p):null}render(){var{axisLine:e,width:t,height:s,className:n,hide:a}=this.props;if(a)return null;var{ticks:i}=this.props;return null!=t&&t<=0||null!=s&&s<=0?null:r.createElement(Oj,{className:ir("recharts-cartesian-axis",n),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var s=t[0];if(s){var n=window.getComputedStyle(s).fontSize,r=window.getComputedStyle(s).letterSpacing;n===this.state.fontSize&&r===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,i),fw.renderCallByParent(this.props))}}Mw(Dw,"displayName","CartesianAxis"),Mw(Dw,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lw=["children"],Rw=["dangerouslySetInnerHTML","ticks"];function Fw(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},zw.apply(null,arguments)}function Uw(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $w(e){var t=pl(),s=(0,r.useMemo)(()=>{var{children:t}=e;return Uw(e,Lw)},[e]),n=vl(e=>ng(e,s.id)),a=s===n;return(0,r.useEffect)(()=>(t(jv(s)),()=>{t(wv(s))}),[s,t]),a?e.children:null}var Bw=e=>{var{xAxisId:t,className:s}=e,n=vl(yc),a=wc(),i="xAxis",o=vl(e=>bf(e,i,t,a)),l=vl(e=>Lf(e,i,t,a)),c=vl(e=>Sf(e,t)),d=vl(e=>((e,t)=>{var s=bc(e),n=ng(e,t);if(null!=n){var r=_f(e,n.orientation,n.mirror)[t];return null==r?{x:s.left,y:0}:{x:s.left,y:r}}})(e,t));if(null==c||null==d)return null;var{dangerouslySetInnerHTML:u,ticks:m}=e,h=Uw(e,Rw);return r.createElement(Dw,zw({},h,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:ir("recharts-".concat(i," ").concat(i),s),viewBox:n,ticks:l}))},Vw=e=>{var t,s,n,a,i;return r.createElement($w,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(s=e.includeHidden)&&void 0!==s&&s,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(n=e.angle)&&void 0!==n?n:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(i=e.tick)||void 0===i||i,tickFormatter:e.tickFormatter},r.createElement(Bw,e))};class Ww extends r.Component{render(){return r.createElement(Vw,this.props)}}Fw(Ww,"displayName","XAxis"),Fw(Ww,"defaultProps",{allowDataOverflow:sg.allowDataOverflow,allowDecimals:sg.allowDecimals,allowDuplicatedCategory:sg.allowDuplicatedCategory,height:sg.height,hide:!1,mirror:sg.mirror,orientation:sg.orientation,padding:sg.padding,reversed:sg.reversed,scale:sg.scale,tickCount:sg.tickCount,type:sg.type,xAxisId:0});var Hw=["dangerouslySetInnerHTML","ticks"];function qw(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Yw.apply(null,arguments)}function Gw(e){var t=pl();return(0,r.useEffect)(()=>(t(Nv(e)),()=>{t(kv(e))}),[e,t]),null}var Kw=e=>{var t,{yAxisId:s,className:n,width:a,label:i}=e,o=(0,r.useRef)(null),l=(0,r.useRef)(null),c=vl(yc),d=wc(),u=pl(),m="yAxis",h=vl(e=>bf(e,m,s,d)),x=vl(e=>Af(e,s)),p=vl(e=>((e,t)=>{var s=bc(e),n=ag(e,t);if(null!=n){var r=Cf(e,n.orientation,n.mirror)[t];return null==r?{x:0,y:s.top}:{x:r,y:s.top}}})(e,s)),g=vl(e=>Lf(e,m,s,d));if((0,r.useLayoutEffect)(()=>{var e;if("auto"===a&&x&&!pw(i)&&!(0,r.isValidElement)(i)){var t=o.current,n=null===t||void 0===t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:c,tickMargin:d}=t.props,m=(e=>{var{ticks:t,label:s,labelGapWithTick:n=5,tickSize:r=0,tickMargin:a=0}=e,i=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var o=s?s.getBoundingClientRect().width:0,l=i+(r+a)+o+(s?n:0);return Math.round(l)}return 0})({ticks:n,label:l.current,labelGapWithTick:5,tickSize:c,tickMargin:d});Math.round(x.width)!==Math.round(m)&&u(Cv({id:s,width:m}))}},[o,null===o||void 0===o||null===(t=o.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null===x||void 0===x?void 0:x.width,x,u,i,s,a]),null==x||null==p)return null;var{dangerouslySetInnerHTML:f,ticks:b}=e,v=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,Hw);return r.createElement(Dw,Yw({},v,{ref:o,labelRef:l,scale:h,x:p.x,y:p.y,width:x.width,height:x.height,className:ir("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:g}))},Jw=e=>{var t,s,n,a,i;return r.createElement(r.Fragment,null,r.createElement(Gw,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(s=e.includeHidden)&&void 0!==s&&s,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(n=e.angle)&&void 0!==n?n:0,minTickGap:null!==(a=e.minTickGap)&&void 0!==a?a:5,tick:null===(i=e.tick)||void 0===i||i,tickFormatter:e.tickFormatter}),r.createElement(Kw,e))},Qw={allowDataOverflow:rg.allowDataOverflow,allowDecimals:rg.allowDecimals,allowDuplicatedCategory:rg.allowDuplicatedCategory,hide:!1,mirror:rg.mirror,orientation:rg.orientation,padding:rg.padding,reversed:rg.reversed,scale:rg.scale,tickCount:rg.tickCount,type:rg.type,width:rg.width,yAxisId:0};class Xw extends r.Component{render(){return r.createElement(Jw,this.props)}}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Zw.apply(null,arguments)}function eN(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function tN(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(s),!0).forEach(function(t){sN(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eN(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function sN(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function nN(e){return Array.isArray(e)&&pr(e[0])&&pr(e[1])?e.join(" ~ "):e}qw(Xw,"displayName","YAxis"),qw(Xw,"defaultProps",Qw);var rN=e=>{var{separator:t=" : ",contentStyle:s={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:m,accessibilityLayer:h=!1}=e,x=tN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),p=tN({margin:0},a),g=!Nr(u),f=g?u:"",b=ir("recharts-default-tooltip",c),v=ir("recharts-tooltip-label",d);g&&m&&void 0!==i&&null!==i&&(f=m(u,i));var y=h?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",Zw({className:b,style:x},y),r.createElement("p",{className:v,style:p},r.isValidElement(f)?f:"".concat(f)),(()=>{if(i&&i.length){var e=(l?jl()(i,l):i).map((e,s)=>{if("none"===e.type)return null;var a=e.formatter||o||nN,{value:l,name:c}=e,d=l,u=c;if(a){var m=a(l,c,e,s,i);if(Array.isArray(m))[d,u]=m;else{if(null==m)return null;d=m}}var h=tN({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},n);return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(s),style:h},pr(u)?r.createElement("span",{className:"recharts-tooltip-item-name"},u):null,pr(u)?r.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,r.createElement("span",{className:"recharts-tooltip-item-value"},d),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},aN="recharts-tooltip-wrapper",iN={visibility:"hidden"};function oN(e){var{coordinate:t,translateX:s,translateY:n}=e;return ir(aN,{["".concat(aN,"-right")]:xr(s)&&t&&xr(t.x)&&s>=t.x,["".concat(aN,"-left")]:xr(s)&&t&&xr(t.x)&&s<t.x,["".concat(aN,"-bottom")]:xr(n)&&t&&xr(t.y)&&n>=t.y,["".concat(aN,"-top")]:xr(n)&&t&&xr(t.y)&&n<t.y})}function lN(e){var{allowEscapeViewBox:t,coordinate:s,key:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&xr(a[n]))return a[n];var d=s[n]-o-(r>0?r:0),u=s[n]+r;if(t[n])return i[n]?d:u;var m=l[n];return null==m?0:i[n]?d<m?Math.max(u,m):Math.max(d,m):null==c?0:u+o>m+c?Math.max(d,m):Math.max(u,m)}function cN(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function dN(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?cN(Object(s),!0).forEach(function(t){uN(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):cN(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function uN(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class mN extends r.PureComponent{constructor(){super(...arguments),uN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uN(this,"handleKeyDown",e=>{var t,s,n,r;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(s=this.props.coordinate)||void 0===s?void 0:s.x)&&void 0!==t?t:0,y:null!==(n=null===(r=this.props.coordinate)||void 0===r?void 0:r.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:s,animationEasing:n,children:a,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:u,useTranslate3d:m,viewBox:h,wrapperStyle:x,lastBoundingBox:p,innerRef:g,hasPortalFromProps:f}=this.props,{cssClasses:b,cssProperties:v}=function(e){var t,s,n,{allowEscapeViewBox:r,coordinate:a,offsetTopLeft:i,position:o,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:s,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(s,"px, 0)"):"translate(".concat(t,"px, ").concat(s,"px)")}}({translateX:s=lN({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=lN({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):iN,{cssProperties:t,cssClasses:oN({translateX:s,translateY:n,coordinate:a})}}({allowEscapeViewBox:t,coordinate:i,offsetTopLeft:c,position:d,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:m,viewBox:h}),y=f?{}:dN(dN({transition:l&&e?"transform ".concat(s,"ms ").concat(n):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=dN(dN({},y),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},x);return r.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:g},a)}}var hN=s(4332),xN=s.n(hN);function pN(e,t,s){return!0===t?xN()(e,s):"function"===typeof t?xN()(e,t):e}function gN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,s]=(0,r.useState)({height:0,left:0,top:0,width:0}),n=(0,r.useCallback)(e=>{if(null!=e){var n=e.getBoundingClientRect(),r={height:n.height,left:n.left,top:n.top,width:n.width};(Math.abs(r.height-t.height)>1||Math.abs(r.left-t.left)>1||Math.abs(r.top-t.top)>1||Math.abs(r.width-t.width)>1)&&s({height:r.height,left:r.left,top:r.top,width:r.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function fN(){}function bN(e,t,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+s)/6)}function vN(e){this._context=e}function yN(e){this._context=e}function jN(e){this._context=e}vN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},yN.prototype={areaStart:fN,areaEnd:fN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(s,n):this._context.moveTo(s,n);break;case 3:this._point=4;default:bN(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class wN{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function NN(e){this._context=e}function kN(e){this._context=e}function SN(e){return new kN(e)}function _N(e){return e<0?-1:1}function CN(e,t,s){var n=e._x1-e._x0,r=t-e._x1,a=(e._y1-e._y0)/(n||r<0&&-0),i=(s-e._y1)/(r||n<0&&-0),o=(a*r+i*n)/(n+r);return(_N(a)+_N(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(o))||0}function AN(e,t){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-t)/2:t}function PN(e,t,s){var n=e._x0,r=e._y0,a=e._x1,i=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,r+o*t,a-o,i-o*s,a,i)}function EN(e){this._context=e}function ON(e){this._context=new IN(e)}function IN(e){this._context=e}function TN(e){this._context=e}function MN(e){var t,s,n=e.length-1,r=new Array(n),a=new Array(n),i=new Array(n);for(r[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,a[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)s=r[t]/a[t-1],a[t]-=s,i[t]-=s*i[t-1];for(r[n-1]=i[n-1]/a[n-1],t=n-2;t>=0;--t)r[t]=(i[t]-r[t+1])/a[t];for(a[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}function DN(e,t){this._context=e,this._t=t}NN.prototype={areaStart:fN,areaEnd:fN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},kN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},EN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PN(this,this._t0,AN(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var s=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PN(this,AN(this,s=CN(this,e,t)),s);break;default:PN(this,this._t0,s=CN(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=s}}},(ON.prototype=Object.create(EN.prototype)).point=function(e,t){EN.prototype.point.call(this,t,e)},IN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,s,n,r,a){this._context.bezierCurveTo(t,e,n,s,a,r)}},TN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===s)this._context.lineTo(e[1],t[1]);else for(var n=MN(e),r=MN(t),a=0,i=1;i<s;++a,++i)this._context.bezierCurveTo(n[0][a],r[0][a],n[1][a],r[1][a],e[i],t[i]);(this._line||0!==this._line&&1===s)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},DN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,t)}}this._x=e,this._y=t}};const LN=Math.PI,RN=2*LN,FN=1e-6,zN=RN-FN;function UN(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}class $N{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?UN:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UN;const s=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*s)/s+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,s,n){this._append`Q${+e},${+t},${this._x1=+s},${this._y1=+n}`}bezierCurveTo(e,t,s,n,r,a){this._append`C${+e},${+t},${+s},${+n},${this._x1=+r},${this._y1=+a}`}arcTo(e,t,s,n,r){if(e=+e,t=+t,s=+s,n=+n,(r=+r)<0)throw new Error(`negative radius: ${r}`);let a=this._x1,i=this._y1,o=s-e,l=n-t,c=a-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>FN)if(Math.abs(d*o-l*c)>FN&&r){let m=s-a,h=n-i,x=o*o+l*l,p=m*m+h*h,g=Math.sqrt(x),f=Math.sqrt(u),b=r*Math.tan((LN-Math.acos((x+u-p)/(2*g*f)))/2),v=b/f,y=b/g;Math.abs(v-1)>FN&&this._append`L${e+v*c},${t+v*d}`,this._append`A${r},${r},0,0,${+(d*m>c*h)},${this._x1=e+y*o},${this._y1=t+y*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,s,n,r,a){if(e=+e,t=+t,a=!!a,(s=+s)<0)throw new Error(`negative radius: ${s}`);let i=s*Math.cos(n),o=s*Math.sin(n),l=e+i,c=t+o,d=1^a,u=a?n-r:r-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>FN||Math.abs(this._y1-c)>FN)&&this._append`L${l},${c}`,s&&(u<0&&(u=u%RN+RN),u>zN?this._append`A${s},${s},0,1,${d},${e-i},${t-o}A${s},${s},0,1,${d},${this._x1=l},${this._y1=c}`:u>FN&&this._append`A${s},${s},0,${+(u>=LN)},${d},${this._x1=e+s*Math.cos(r)},${this._y1=t+s*Math.sin(r)}`)}rect(e,t,s,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${s=+s}v${+n}h${-s}Z`}toString(){return this._}}function BN(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(null==s)t=null;else{const e=Math.floor(s);if(!(e>=0))throw new RangeError(`invalid digits: ${s}`);t=e}return e},()=>new $N(t)}function VN(e){return e[0]}function WN(e){return e[1]}function HN(e,t){var s=_l(!0),n=null,r=SN,a=null,i=BN(o);function o(o){var l,c,d,u=(o=Sl(o)).length,m=!1;for(null==n&&(a=r(d=i())),l=0;l<=u;++l)!(l<u&&s(c=o[l],l,o))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(c,l,o),+t(c,l,o));if(d)return a=null,d+""||null}return e="function"===typeof e?e:void 0===e?VN:_l(e),t="function"===typeof t?t:void 0===t?WN:_l(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:_l(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:_l(+e),o):t},o.defined=function(e){return arguments.length?(s="function"===typeof e?e:_l(!!e),o):s},o.curve=function(e){return arguments.length?(r=e,null!=n&&(a=r(n)),o):r},o.context=function(e){return arguments.length?(null==e?n=a=null:a=r(n=e),o):n},o}function qN(e,t,s){var n=null,r=_l(!0),a=null,i=SN,o=null,l=BN(c);function c(c){var d,u,m,h,x,p=(c=Sl(c)).length,g=!1,f=new Array(p),b=new Array(p);for(null==a&&(o=i(x=l())),d=0;d<=p;++d){if(!(d<p&&r(h=c[d],d,c))===g)if(g=!g)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=u;--m)o.point(f[m],b[m]);o.lineEnd(),o.areaEnd()}g&&(f[d]=+e(h,d,c),b[d]=+t(h,d,c),o.point(n?+n(h,d,c):f[d],s?+s(h,d,c):b[d]))}if(x)return o=null,x+""||null}function d(){return HN().defined(r).curve(i).context(a)}return e="function"===typeof e?e:void 0===e?VN:_l(+e),t="function"===typeof t?t:_l(void 0===t?0:+t),s="function"===typeof s?s:void 0===s?WN:_l(+s),c.x=function(t){return arguments.length?(e="function"===typeof t?t:_l(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:_l(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:_l(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:_l(+e),s=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:_l(+e),c):t},c.y1=function(e){return arguments.length?(s=null==e?null:"function"===typeof e?e:_l(+e),c):s},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(s)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(r="function"===typeof e?e:_l(!!e),c):r},c.curve=function(e){return arguments.length?(i=e,null!=a&&(o=i(a)),c):i},c.context=function(e){return arguments.length?(null==e?a=o=null:o=i(a=e),c):a},c}function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},YN.apply(null,arguments)}function GN(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function KN(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(s),!0).forEach(function(t){JN(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):GN(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function JN(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var QN={curveBasisClosed:function(e){return new yN(e)},curveBasisOpen:function(e){return new jN(e)},curveBasis:function(e){return new vN(e)},curveBumpX:function(e){return new wN(e,!0)},curveBumpY:function(e){return new wN(e,!1)},curveLinearClosed:function(e){return new NN(e)},curveLinear:SN,curveMonotoneX:function(e){return new EN(e)},curveMonotoneY:function(e){return new ON(e)},curveNatural:function(e){return new TN(e)},curveStep:function(e){return new DN(e,.5)},curveStepAfter:function(e){return new DN(e,1)},curveStepBefore:function(e){return new DN(e,0)}},XN=e=>qx(e.x)&&qx(e.y),ZN=e=>e.x,ek=e=>e.y,tk=e=>{var t,{type:s="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=((e,t)=>{if("function"===typeof e)return e;var s="curve".concat(kr(e));return"curveMonotone"!==s&&"curveBump"!==s||!t?QN[s]||SN:QN["".concat(s).concat("vertical"===t?"Y":"X")]})(s,a),l=i?n.filter(XN):n;if(Array.isArray(r)){var c=i?r.filter(e=>XN(e)):r,d=l.map((e,t)=>KN(KN({},e),{},{base:c[t]}));return(t="vertical"===a?qN().y(ek).x1(ZN).x0(e=>e.base.x):qN().x(ZN).y1(ek).y0(e=>e.base.y)).defined(XN).curve(o),t(d)}return(t="vertical"===a&&xr(r)?qN().y(ek).x1(ZN).x0(r):xr(r)?qN().x(ZN).y1(ek).y0(r):HN().x(ZN).y(ek)).defined(XN).curve(o),t(l)},sk=e=>{var{className:t,points:s,path:n,pathRef:a}=e;if((!s||!s.length)&&!n)return null;var i=s&&s.length?tk(e):n;return r.createElement("path",YN({},By(e,!1),My(e),{className:ir("recharts-curve",t),d:null===i?void 0:i,ref:a}))},nk=["x","y","top","left","width","height","className"];function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},rk.apply(null,arguments)}function ak(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function ik(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var ok=(e,t,s,n,r,a)=>"M".concat(e,",").concat(r,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(s),lk=e=>{var{x:t=0,y:s=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,nk),d=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ak(Object(s),!0).forEach(function(t){ik(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ak(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({x:t,y:s,top:n,left:a,width:i,height:o},c);return xr(t)&&xr(s)&&xr(i)&&xr(o)&&xr(n)&&xr(a)?r.createElement("path",rk({},By(d,!0),{className:ir("recharts-cross",l),d:ok(t,s,i,o,n,a)})):null};var ck=s(4250),dk=s.n(ck);var uk=1e-4,mk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],hk=(e,t)=>e.map((e,s)=>e*t**s).reduce((e,t)=>e+t),xk=(e,t)=>s=>{var n=mk(e,t);return hk(n,s)},pk=function(){for(var e,t,s,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];if(1===a.length)switch(a[0]){case"linear":[e,s,t,n]=[0,0,1,1];break;case"ease":[e,s,t,n]=[.25,.1,.25,1];break;case"ease-in":[e,s,t,n]=[.42,0,1,1];break;case"ease-out":[e,s,t,n]=[.42,0,.58,1];break;case"ease-in-out":[e,s,t,n]=[0,0,.58,1];break;default:var o=a[0].split("(");"cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length&&([e,s,t,n]=o[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===a.length&&([e,s,t,n]=a);var l,c,d=xk(e,t),u=xk(s,n),m=(l=e,c=t,e=>{var t=[...mk(l,c).map((e,t)=>e*t).slice(1),0];return hk(t,e)}),h=e=>e>1?1:e<0?0:e,x=e=>{for(var t=e>1?1:e,s=t,n=0;n<8;++n){var r=d(s)-t,a=m(s);if(Math.abs(r-t)<uk||a<uk)return u(s);s=h(s-r/a)}return u(s)};return x.isStepper=!1,x},gk=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pk(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:s=8,dt:n=17}=e,r=(e,r,a)=>{var i=a+(-(e-r)*t-a*s)*n/1e3,o=a*n/1e3+e;return Math.abs(o-r)<uk&&Math.abs(i)<uk?[r,0]:[o,i]};return r.isStepper=!0,r.dt=n,r}();default:if("cubic-bezier"===e.split("(")[0])return pk(e)}return"function"===typeof e?e:null};function fk(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function bk(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?fk(Object(s),!0).forEach(function(t){vk(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):fk(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function vk(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var yk=(e,t)=>Object.keys(t).reduce((s,n)=>bk(bk({},s),{},{[n]:e(n,t[n])}),{});function jk(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function wk(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?jk(Object(s),!0).forEach(function(t){Nk(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):jk(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Nk(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var kk=(e,t,s)=>e+(t-e)*s,Sk=e=>{var{from:t,to:s}=e;return t!==s},_k=(e,t,s)=>{var n=yk((t,s)=>{if(Sk(s)){var[n,r]=e(s.from,s.to,s.velocity);return wk(wk({},s),{},{from:n,velocity:r})}return s},t);return s<1?yk((e,t)=>Sk(t)?wk(wk({},t),{},{velocity:kk(t.velocity,n[e].velocity,s),from:kk(t.from,n[e].from,s)}):t,t):_k(e,n,s-1)};function Ck(e,t,s,n,r,a){var i,o=n.reduce((s,n)=>wk(wk({},s),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{i||(i=n);var d=(n-i)/s.dt;o=_k(s,o,d),r(wk(wk(wk({},e),t),yk((e,t)=>t.from,o))),i=n,Object.values(o).filter(Sk).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{l()})}const Ak=(e,t,s,n,r,a)=>{var i,o,l=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===s.isStepper?Ck(e,t,s,l,r,a):function(e,t,s,n,r,a,i){var o,l=null,c=r.reduce((s,n)=>wk(wk({},s),{},{[n]:[e[n],t[n]]}),{}),d=r=>{o||(o=r);var u=(r-o)/n,m=yk((e,t)=>kk(...t,s(u)),c);if(a(wk(wk(wk({},e),t),m)),u<1)l=i.setTimeout(d);else{var h=yk((e,t)=>kk(...t,s(1)),c);a(wk(wk(wk({},e),t),h))}};return()=>(l=i.setTimeout(d),()=>{l()})}(e,t,s,n,l,r,a)};class Pk{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=performance.now(),n=null,r=a=>{a-s>=t?e(a):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(r))};return n=requestAnimationFrame(r),()=>{cancelAnimationFrame(n)}}}var Ek=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Ok.apply(null,arguments)}function Ik(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Tk(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ik(Object(s),!0).forEach(function(t){Mk(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ik(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Mk(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Dk(){return function(e){var t=()=>null,s=!1,n=null,r=a=>{if(!s){if(Array.isArray(a)){if(!a.length)return;var i=a,[o,...l]=i;return"number"===typeof o?void(n=e.setTimeout(r.bind(null,l),o)):(r(o),void(n=e.setTimeout(r.bind(null,l))))}"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{s=!0},start:e=>{s=!1,n&&(n(),n=null),r(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new Pk)}class Lk extends r.PureComponent{constructor(e,t){super(e,t),Mk(this,"mounted",!1),Mk(this,"manager",null),Mk(this,"stopJSAnimation",null),Mk(this,"unSubscribe",null);var{isActive:s,attributeName:n,from:r,to:a,children:i,duration:o,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!s||o<=0)return this.state={style:{}},void("function"===typeof i&&(this.state={style:a}));if(r){if("function"===typeof i)return void(this.state={style:r});this.state={style:n?{[n]:r}:r}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:s,attributeName:n,shouldReAnimate:r,to:a,from:i}=this.props,{style:o}=this.state;if(s)if(t){if(!(dk()(e.to,a)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||r?i:e.to;if(this.state&&o){var d={style:n?{[n]:c}:c};(n&&o[n]!==c||!n&&o!==c)&&this.setState(d)}this.runAnimation(Tk(Tk({},this.props),{},{from:c,begin:0}))}}else{var u={style:n?{[n]:a}:a};this.state&&o&&(n&&o[n]!==a||!n&&o!==a)&&this.setState(u)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:s,duration:n,easing:r,begin:a,onAnimationEnd:i,onAnimationStart:o}=e,l=Ak(t,s,gk(r),n,this.changeStyle,this.manager.getTimeoutController());this.manager.start([o,a,()=>{this.stopJSAnimation=l()},n,i])}runAnimation(e){var{begin:t,duration:s,attributeName:n,to:r,easing:a,onAnimationStart:i,onAnimationEnd:o,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof l&&"spring"!==a){var c=n?{[n]:r}:r,d=((e,t,s)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(s);var n}).join(","))(Object.keys(c),s,a);this.manager.start([i,t,Tk(Tk({},c),{},{transition:d}),s,o])}else this.runJSAnimation(e)}render(){var e=this.props,{children:t,begin:s,duration:n,attributeName:a,easing:i,isActive:o,from:l,to:c,canBegin:d,onAnimationEnd:u,shouldReAnimate:m,onAnimationReStart:h,animationManager:x}=e,p=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,Ek),g=r.Children.count(t),f=this.state.style;if("function"===typeof t)return t(f);if(!o||0===g||n<=0)return t;var b=e=>{var{style:t={},className:s}=e.props;return(0,r.cloneElement)(e,Tk(Tk({},p),{},{style:Tk(Tk({},t),f),className:s}))};return 1===g?b(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,e=>b(e)))}}Mk(Lk,"displayName","Animate"),Mk(Lk,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Rk=(0,r.createContext)(null);function Fk(e){var t,s,n=(0,r.useContext)(Rk);return r.createElement(Lk,Ok({},e,{animationManager:null!==(t=null!==(s=e.animationManager)&&void 0!==s?s:n)&&void 0!==t?t:Dk()}))}function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},zk.apply(null,arguments)}var Uk=(e,t,s,n,r)=>{var a,i=Math.min(Math.abs(s)/2,Math.abs(n)/2),o=n>=0?1:-1,l=s>=0?1:-1,c=n>=0&&s>=0||n<0&&s<0?1:0;if(i>0&&r instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=r[u]>i?i:r[u];a="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(a+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),a+="L ".concat(e+s-l*d[1],",").concat(t),d[1]>0&&(a+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+s,",").concat(t+o*d[1])),a+="L ".concat(e+s,",").concat(t+n-o*d[2]),d[2]>0&&(a+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+s-l*d[2],",").concat(t+n)),a+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(a+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*d[3])),a+="Z"}else if(i>0&&r===+r&&r>0){var m=Math.min(i,r);a="M ".concat(e,",").concat(t+o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,"\n            L ").concat(e+s-l*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s,",").concat(t+o*m,"\n            L ").concat(e+s,",").concat(t+n-o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s-l*m,",").concat(t+n,"\n            L ").concat(e+l*m,",").concat(t+n,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else a="M ".concat(e,",").concat(t," h ").concat(s," v ").concat(n," h ").concat(-s," Z");return a},$k={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bk=e=>{var t=jj(e,$k),s=(0,r.useRef)(null),[n,a]=(0,r.useState)(-1);(0,r.useEffect)(()=>{if(s.current&&s.current.getTotalLength)try{var e=s.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:x,isAnimationActive:p,isUpdateAnimationActive:g}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var f=ir("recharts-rectangle",u);return g?r.createElement(Fk,{canBegin:n>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:h,animationEasing:m,isActive:g},e=>{var{width:a,height:i,x:o,y:l}=e;return r.createElement(Fk,{canBegin:n>0,from:"0px ".concat(-1===n?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:h,isActive:p,easing:m},r.createElement("path",zk({},By(t,!0),{className:f,d:Uk(o,l,a,i,d),ref:s})))}):r.createElement("path",zk({},By(t,!0),{className:f,d:Uk(i,o,l,c,d)}))};function Vk(e){var{cx:t,cy:s,radius:n,startAngle:r,endAngle:a}=e;return{points:[Dl(t,s,n,r),Dl(t,s,n,a)],cx:t,cy:s,radius:n,startAngle:r,endAngle:a}}function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Wk.apply(null,arguments)}var Hk=e=>{var{cx:t,cy:s,radius:n,angle:r,sign:a,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+n,d=Math.asin(o/c)/Tl,u=l?r:r+a*d,m=l?r-a*d:r;return{center:Dl(t,s,c,u),circleTangency:Dl(t,s,n,u),lineTangency:Dl(t,s,c*Math.cos(d*Tl),m),theta:d}},qk=e=>{var{cx:t,cy:s,innerRadius:n,outerRadius:r,startAngle:a,endAngle:i}=e,o=((e,t)=>ur(t-e)*Math.min(Math.abs(t-e),359.999))(a,i),l=a+o,c=Dl(t,s,r,a),d=Dl(t,s,r,l),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(r,",").concat(r,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>l),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(n>0){var m=Dl(t,s,n,a),h=Dl(t,s,n,l);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=l),",\n            ").concat(m.x,",").concat(m.y," Z")}else u+="L ".concat(t,",").concat(s," Z");return u},Yk={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Gk=e=>{var t=jj(e,Yk),{cx:s,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:m}=t;if(i<a||d===u)return null;var h,x=ir("recharts-sector",m),p=i-a,g=br(o,p,0,!0);return h=g>0&&Math.abs(d-u)<360?(e=>{var{cx:t,cy:s,innerRadius:n,outerRadius:r,cornerRadius:a,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=ur(c-l),{circleTangency:u,lineTangency:m,theta:h}=Hk({cx:t,cy:s,radius:r,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:p,theta:g}=Hk({cx:t,cy:s,radius:r,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),f=o?Math.abs(l-c):Math.abs(l-c)-h-g;if(f<0)return i?"M ".concat(m.x,",").concat(m.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):qk({cx:t,cy:s,innerRadius:n,outerRadius:r,startAngle:l,endAngle:c});var b="M ".concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(u.x,",").concat(u.y,"\n    A").concat(r,",").concat(r,",0,").concat(+(f>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,"\n  ");if(n>0){var{circleTangency:v,lineTangency:y,theta:j}=Hk({cx:t,cy:s,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:N,theta:k}=Hk({cx:t,cy:s,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),S=o?Math.abs(l-c):Math.abs(l-c)-j-k;if(S<0&&0===a)return"".concat(b,"L").concat(t,",").concat(s,"Z");b+="L".concat(N.x,",").concat(N.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,"Z")}else b+="L".concat(t,",").concat(s,"Z");return b})({cx:s,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):qk({cx:s,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u}),r.createElement("path",Wk({},By(t,!0),{className:x,d:h}))};function Kk(e,t,s){var n,r,a,i;if("horizontal"===e)a=n=t.x,r=s.top,i=s.top+s.height;else if("vertical"===e)i=r=t.y,n=s.left,a=s.left+s.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Vk(t);var{cx:o,cy:l,innerRadius:c,outerRadius:d,angle:u}=t,m=Dl(o,l,c,u),h=Dl(o,l,d,u);n=m.x,r=m.y,a=h.x,i=h.y}return[{x:n,y:r},{x:a,y:i}]}function Jk(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Qk(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(s),!0).forEach(function(t){Xk(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Jk(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Xk(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var Zk=()=>{var e=vl(lb),t=vl(Rb),s=vl(Mb);return rc(Qk(Qk({},e),{},{scale:s}),t)};function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},eS.apply(null,arguments)}function tS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function sS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(s),!0).forEach(function(t){nS(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tS(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function nS(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function rS(e){var t,s,{coordinate:n,payload:a,index:i,offset:o,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:u,chartName:m}=e,h=n,x=a,p=i;if(!d||!h||"ScatterChart"!==m&&"axis"!==u)return null;if("ScatterChart"===m)t=h,s=lk;else if("BarChart"===m)t=function(e,t,s,n){var r=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-r:s.left+.5,y:"horizontal"===e?s.top+.5:t.y-r,width:"horizontal"===e?n:s.width-1,height:"horizontal"===e?s.height-1:n}}(c,h,o,l),s=Bk;else if("radial"===c){var{cx:g,cy:f,radius:b,startAngle:v,endAngle:y}=Vk(h);t={cx:g,cy:f,startAngle:v,endAngle:y,innerRadius:b,outerRadius:b},s=Gk}else t={points:Kk(c,h,o)},s=sk;var j="object"===typeof d&&"className"in d?d.className:void 0,w=sS(sS(sS(sS({stroke:"#ccc",pointerEvents:"none"},o),t),By(d,!1)),{},{payload:x,payloadIndex:p,className:ir("recharts-tooltip-cursor",j)});return(0,r.isValidElement)(d)?(0,r.cloneElement)(d,w):(0,r.createElement)(s,w)}function aS(e){var t=Zk(),s=Cc(),n=Ic(),a=Qb();return r.createElement(rS,eS({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:s,layout:n,tooltipAxisBandSize:t,chartName:a}))}function iS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function oS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?iS(Object(s),!0).forEach(function(t){lS(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):iS(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function lS(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function cS(e){return e.dataKey}var dS=[],uS={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ij,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mS(e){var t=jj(e,uS),{active:s,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:m,reverseDirection:h,useTranslate3d:x,wrapperStyle:p,cursor:g,shared:f,trigger:b,defaultIndex:v,portal:y,axisId:j}=t,w=pl(),N="number"===typeof v?String(v):v;(0,r.useEffect)(()=>{w(Lo({shared:f,trigger:b,axisId:j,active:s,defaultIndex:N}))},[w,f,b,j,s,N]);var k=Sc(),S=Vy(),_=function(e){return vl(t=>Hf(t,e))}(f),{activeIndex:C,isActive:A}=vl(e=>cv(e,_,b,N)),P=vl(e=>lv(e,_,b,N)),E=vl(e=>ov(e,_,b,N)),O=vl(e=>iv(e,_,b,N)),I=P,T=(0,r.useContext)(ij),M=null!==s&&void 0!==s?s:A,[D,L]=gN([I,M]),R="axis"===_?E:void 0;aj(_,b,O,R,C,M);var F=null!==y&&void 0!==y?y:T;if(null==F)return null;var z=null!==I&&void 0!==I?I:dS;M||(z=dS),l&&z.length&&(z=pN(I.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),u,cS));var U=z.length>0,$=r.createElement(mN,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:M,coordinate:O,hasPayload:U,offset:d,position:m,reverseDirection:h,useTranslate3d:x,viewBox:k,wrapperStyle:p,lastBoundingBox:D,innerRef:L,hasPortalFromProps:Boolean(y)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(rN,t)}(o,oS(oS({},t),{},{payload:z,label:R,active:M,coordinate:O,accessibilityLayer:S})));return r.createElement(r.Fragment,null,(0,we.createPortal)($,F),M&&r.createElement(aS,{cursor:g,tooltipEventType:_,coordinate:O,payload:I,index:C}))}function hS(){return hS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},hS.apply(null,arguments)}var xS=e=>{var{cx:t,cy:s,r:n,className:a}=e,i=ir("recharts-dot",a);return t===+t&&s===+s&&n===+n?r.createElement("circle",hS({},By(e,!1),My(e),{className:i,cx:t,cy:s,r:n})):null},pS=s(356),gS=s.n(pS),fS=["valueAccessor"],bS=["data","dataKey","clockWise","id","textBreakAll"];function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},vS.apply(null,arguments)}function yS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function jS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yS(Object(s),!0).forEach(function(t){wS(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yS(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function wS(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function NS(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var kS=e=>Array.isArray(e.value)?gS()(e.value):e.value;function SS(e){var{valueAccessor:t=kS}=e,s=NS(e,fS),{data:n,dataKey:a,clockWise:i,id:o,textBreakAll:l}=s,c=NS(s,bS);return n&&n.length?r.createElement(Oj,{className:"recharts-label-list"},n.map((e,s)=>{var n=Nr(a)?t(e,s):Vl(e&&e.payload,a),d=Nr(o)?{}:{id:"".concat(o,"-").concat(s)};return r.createElement(fw,vS({},By(e,!0),c,d,{parentViewBox:e.parentViewBox,value:n,textBreakAll:l,viewBox:fw.parseViewBox(Nr(i)?e:jS(jS({},e),{},{clockWise:i})),key:"label-".concat(s),index:s}))})):null}function _S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function CS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_S(Object(s),!0).forEach(function(t){AS(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_S(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function AS(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function PS(e){var t=pl(),s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{var n=CS(CS({},e),{},{stackId:Ql(e.stackId)});null===s.current?t(Iv(n)):s.current!==n&&t(Tv({prev:s.current,next:n})),s.current=n},[t,e]),(0,r.useEffect)(()=>()=>{s.current&&(t(Mv(s.current)),s.current=null)},[t]),null}function ES(e){var t=pl();return(0,r.useEffect)(()=>(t(Dv(e)),()=>{t(Lv(e))}),[t,e]),null}SS.displayName="LabelList",SS.renderCallByParent=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&s&&!e.label)return null;var{children:n}=e,a=Uy(n,SS).map((e,s)=>(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(s)}));if(!s)return a;var i=function(e,t){return e?!0===e?r.createElement(SS,{key:"labelList-implicit",data:t}):r.isValidElement(e)||pw(e)?r.createElement(SS,{key:"labelList-implicit",data:t,content:e}):"object"===typeof e?r.createElement(SS,vS({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[i,...a]};var OS=["children"];var IS=()=>{},TS=(0,r.createContext)({addErrorBar:IS,removeErrorBar:IS}),MS={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DS=(0,r.createContext)(MS);function LS(e){var{children:t}=e,s=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,OS);return r.createElement(DS.Provider,{value:s},t)}var RS=e=>{var{children:t,xAxisId:s,yAxisId:n,zAxisId:a,dataKey:i,data:o,stackId:l,hide:c,type:d,barSize:u}=e,[m,h]=r.useState([]),x=(0,r.useCallback)(e=>{h(t=>[...t,e])},[h]),p=(0,r.useCallback)(e=>{h(t=>t.filter(t=>t!==e))},[h]),g=wc();return r.createElement(TS.Provider,{value:{addErrorBar:x,removeErrorBar:p}},r.createElement(PS,{type:d,data:o,xAxisId:s,yAxisId:n,zAxisId:a,dataKey:i,errorBars:m,stackId:l,hide:c,barSize:u,isPanorama:g}),t)};function FS(e){var{addErrorBar:t,removeErrorBar:s}=(0,r.useContext)(TS);return(0,r.useEffect)(()=>(t(e),()=>{s(e)}),[t,s,e]),null}var zS=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function US(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},$S.apply(null,arguments)}function BS(e){var{direction:t,width:s,dataKey:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l}=e,c=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,zS),d=By(c,!1),{data:u,dataPointFormatter:m,xAxisId:h,yAxisId:x,errorBarOffset:p}=(0,r.useContext)(DS),g=(e=>{var t=wc();return vl(s=>zf(s,"xAxis",e,t))})(h),f=(e=>{var t=wc();return vl(s=>zf(s,"yAxis",e,t))})(x);if(null==(null===g||void 0===g?void 0:g.scale)||null==(null===f||void 0===f?void 0:f.scale)||null==u)return null;if("x"===t&&"number"!==g.type)return null;var b=u.map(e=>{var{x:c,y:u,value:h,errorVal:x}=m(e,n,t);if(!x)return null;var b,v,y=[];if(Array.isArray(x)?[b,v]=x:b=v=x,"x"===t){var{scale:j}=g,w=u+p,N=w+s,k=w-s,S=j(h-b),_=j(h+v);y.push({x1:_,y1:N,x2:_,y2:k}),y.push({x1:S,y1:w,x2:_,y2:w}),y.push({x1:S,y1:N,x2:S,y2:k})}else if("y"===t){var{scale:C}=f,A=c+p,P=A-s,E=A+s,O=C(h-b),I=C(h+v);y.push({x1:P,y1:I,x2:E,y2:I}),y.push({x1:A,y1:O,x2:A,y2:I}),y.push({x1:P,y1:O,x2:E,y2:O})}var T="".concat(c+p,"px ").concat(u+p,"px");return r.createElement(Oj,$S({className:"recharts-errorBar",key:"bar-".concat(y.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},d),y.map(e=>{var t=a?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return r.createElement(Fk,{from:{transform:"scaleY(0)",transformOrigin:T},to:{transform:"scaleY(1)",transformOrigin:T},begin:i,easing:l,isActive:a,duration:o,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:T}},r.createElement("line",$S({},e,{style:t})))}))});return r.createElement(Oj,{className:"recharts-errorBars"},b)}var VS=(0,r.createContext)(void 0);function WS(e){var{direction:t,children:s}=e;return r.createElement(VS.Provider,{value:t},s)}var HS={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function qS(e){var t=function(e){var t=(0,r.useContext)(VS);return null!=e?e:null!=t?t:"x"}(e.direction),{width:s,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:o}=jj(e,HS);return r.createElement(r.Fragment,null,r.createElement(FS,{dataKey:e.dataKey,direction:t}),r.createElement(BS,$S({},e,{direction:t,width:s,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:o})))}class YS extends r.Component{render(){return r.createElement(qS,this.props)}}function GS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function KS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?GS(Object(s),!0).forEach(function(t){JS(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):GS(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function JS(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}US(YS,"defaultProps",HS),US(YS,"displayName","ErrorBar");function QS(e){var{points:t,mainColor:s,activeDot:n,itemDataKey:a}=e,i=vl(Bb),o=vl(Jb);if(null==t||null==o)return null;var l=t.find(e=>o.includes(e.payload));return Nr(l)?null:(e=>{var{point:t,childIndex:s,mainColor:n,activeDot:a,dataKey:i}=e;if(!1===a||null==t.x||null==t.y)return null;var o,l=KS(KS({index:s,dataKey:i,cx:t.x,cy:t.y,r:4,fill:null!==n&&void 0!==n?n:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},By(a,!1)),My(a));return o=(0,r.isValidElement)(a)?(0,r.cloneElement)(a,l):"function"===typeof a?a(l):r.createElement(xS,l),r.createElement(Oj,{className:"recharts-active-dot"},o)})({point:l,childIndex:Number(i),mainColor:s,dataKey:a,activeDot:n})}function XS(e){var{fn:t,args:s}=e,n=pl(),a=wc();return(0,r.useEffect)(()=>{if(!a){var e=t(s);return n(Mo(e)),()=>{n(Do(e))}}},[t,s,n,a]),null}function ZS(e,t){var s,n,r=vl(t=>ng(t,e)),a=vl(e=>ag(e,t)),i=null!==(s=null===r||void 0===r?void 0:r.allowDataOverflow)&&void 0!==s?s:sg.allowDataOverflow,o=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:rg.allowDataOverflow;return{needClip:i||o,needClipX:i,needClipY:o}}function e_(e){var{xAxisId:t,yAxisId:s,clipPathId:n}=e,a=xj(),{needClipX:i,needClipY:o,needClip:l}=ZS(t,s);if(!l)return null;var{x:c,y:d,width:u,height:m}=a;return r.createElement("clipPath",{id:"clipPath-".concat(n)},r.createElement("rect",{x:i?c:c-u/2,y:o?d:d-m/2,width:i?u:2*u,height:o?m:2*m}))}var t_=(e,t,s,n)=>zf(e,"xAxis",t,n),s_=(e,t,s,n)=>Ff(e,"xAxis",t,n),n_=(e,t,s,n)=>zf(e,"yAxis",s,n),r_=(e,t,s,n)=>Ff(e,"yAxis",s,n),a_=dl([Oc,t_,n_,s_,r_],(e,t,s,n,r)=>Wl(e,"xAxis")?rc(t,n,!1):rc(s,r,!1)),i_=dl([mg,(e,t,s,n,r)=>r],(e,t)=>{if(e.some(e=>"line"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),o_=dl([Oc,t_,n_,s_,r_,i_,a_,Hx],(e,t,s,n,r,a,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(null!=a&&null!=t&&null!=s&&null!=n&&null!=r&&0!==n.length&&0!==r.length&&null!=i){var u,{dataKey:m,data:h}=a;if(null!=(u=null!=h&&h.length>0?h:null===l||void 0===l?void 0:l.slice(c,d+1)))return function(e){var{layout:t,xAxis:s,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:i,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=Vl(e,i);return"horizontal"===t?{x:Xl({axis:s,ticks:r,bandSize:o,entry:e,index:l}),y:Nr(c)?null:n.scale(c),value:c,payload:e}:{x:Nr(c)?null:s.scale(c),y:Xl({axis:n,ticks:a,bandSize:o,entry:e,index:l}),value:c,payload:e}})}({layout:e,xAxis:t,yAxis:s,xAxisTicks:n,yAxisTicks:r,dataKey:m,bandSize:i,displayedData:u})}}),l_=()=>{};function c_(e){var{legendPayload:t}=e,s=pl(),n=wc();return(0,r.useEffect)(()=>n?l_:(s(Zv(t)),()=>{s(ey(t))}),[s,n,t]),null}function d_(e){var{legendPayload:t}=e,s=pl(),n=vl(Oc);return(0,r.useEffect)(()=>"centric"!==n&&"radial"!==n?l_:(s(Zv(t)),()=>{s(ey(t))}),[s,n,t]),null}function u_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",s=(0,r.useRef)(fr(t)),n=(0,r.useRef)(e);return n.current!==e&&(s.current=fr(t),n.current=e),s.current}var m_=["type","layout","connectNulls","needClip"],h_=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function x_(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function p_(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function g_(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?p_(Object(s),!0).forEach(function(t){f_(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):p_(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function f_(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function b_(){return b_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},b_.apply(null,arguments)}var v_=e=>{var{dataKey:t,name:s,stroke:n,legendType:r,hide:a}=e;return[{inactive:a,dataKey:t,type:r,color:n,value:ic(s,t),payload:e}]};function y_(e){var{dataKey:t,data:s,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:ic(i,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var j_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function w_(e,t){for(var s=e.length%2!==0?[...e,0]:e,n=[],r=0;r<t;++r)n=[...n,...s];return n}function N_(e){var{clipPathId:t,points:s,props:n}=e,{dot:a,dataKey:i,needClip:o}=n;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(s,a))return null;var l=$y(a),c=By(n,!1),d=By(a,!0),u=s.map((e,t)=>{var n=g_(g_(g_({key:"dot-".concat(t),r:3},c),d),{},{index:t,cx:e.x,cy:e.y,dataKey:i,value:e.value,payload:e.payload,points:s});return function(e,t){var s;if(r.isValidElement(e))s=r.cloneElement(e,t);else if("function"===typeof e)s=e(t);else{var n=ir("recharts-line-dot","boolean"!==typeof e?e.className:"");s=r.createElement(xS,b_({},t,{className:n}))}return s}(a,n)}),m={clipPath:o?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):null};return r.createElement(Oj,b_({className:"recharts-line-dots",key:"dots"},m),u)}function k_(e){var{clipPathId:t,pathRef:s,points:n,strokeDasharray:a,props:i,showLabels:o}=e,{type:l,layout:c,connectNulls:d,needClip:u}=i,m=x_(i,m_),h=g_(g_({},By(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):null,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:null!==a&&void 0!==a?a:i.strokeDasharray});return r.createElement(r.Fragment,null,(null===n||void 0===n?void 0:n.length)>1&&r.createElement(sk,b_({},h,{pathRef:s})),r.createElement(N_,{points:n,clipPathId:t,props:i}),o&&SS.renderCallByParent(i,n))}function S_(e){var{clipPathId:t,props:s,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,animateNewValues:h,width:x,height:p,onAnimationEnd:g,onAnimationStart:f}=s,b=a.current,v=u_(s,"recharts-line-"),[y,j]=(0,r.useState)(!1),w=(0,r.useCallback)(()=>{"function"===typeof g&&g(),j(!1)},[g]),N=(0,r.useCallback)(()=>{"function"===typeof f&&f(),j(!0)},[f]),k=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(n.current),S=i.current;return r.createElement(Fk,{begin:d,duration:u,isActive:c,easing:m,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:N,key:v},e=>{var c,{t:d}=e,u=yr(S,k+S),m=Math.min(u(d),k);if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,s)=>{var n=s.reduce((e,t)=>e+t);if(!n)return j_(t,e);for(var r=Math.floor(e/n),a=e%n,i=t-e,o=[],l=0,c=0;l<s.length;c+=s[l],++l)if(c+s[l]>a){o=[...s.slice(0,l),a-c];break}var d=o.length%2===0?[0,i]:[i];return[...w_(s,r),...o,...d].map(e=>"".concat(e,"px")).join(", ")})(m,k,g)}else c=j_(k,m);if(b){var f=b.length/o.length,v=1===d?o:o.map((e,t)=>{var s=Math.floor(t*f);if(b[s]){var n=b[s],r=yr(n.x,e.x),a=yr(n.y,e.y);return g_(g_({},e),{},{x:r(d),y:a(d)})}if(h){var i=yr(2*x,e.x),o=yr(p/2,e.y);return g_(g_({},e),{},{x:i(d),y:o(d)})}return g_(g_({},e),{},{x:e.x,y:e.y})});return a.current=v,r.createElement(k_,{props:s,points:v,clipPathId:t,pathRef:n,showLabels:!y,strokeDasharray:c})}return d>0&&k>0&&(a.current=o,i.current=m),r.createElement(k_,{props:s,points:o,clipPathId:t,pathRef:n,showLabels:!y,strokeDasharray:c})})}function __(e){var{clipPathId:t,props:s}=e,{points:n,isAnimationActive:a}=s,i=(0,r.useRef)(null),o=(0,r.useRef)(0),l=(0,r.useRef)(null),c=i.current;return a&&n&&n.length&&c!==n?r.createElement(S_,{props:s,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:l}):r.createElement(k_,{props:s,points:n,clipPathId:t,pathRef:l,showLabels:!0})}var C_=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Vl(e.payload,t)});class A_ extends r.Component{constructor(){super(...arguments),f_(this,"id",fr("recharts-line-"))}render(){var e,{hide:t,dot:s,points:n,className:a,xAxisId:i,yAxisId:o,top:l,left:c,width:d,height:u,id:m,needClip:h,layout:x}=this.props;if(t)return null;var p=ir("recharts-line",a),g=Nr(m)?this.id:m,{r:f=3,strokeWidth:b=2}=null!==(e=By(s,!1))&&void 0!==e?e:{r:3,strokeWidth:2},v=$y(s),y=2*f+b;return r.createElement(r.Fragment,null,r.createElement(Oj,{className:p},h&&r.createElement("defs",null,r.createElement(e_,{clipPathId:g,xAxisId:i,yAxisId:o}),!v&&r.createElement("clipPath",{id:"clipPath-dots-".concat(g)},r.createElement("rect",{x:c-y/2,y:l-y/2,width:d+y,height:u+y}))),r.createElement(__,{props:this.props,clipPathId:g}),r.createElement(WS,{direction:"horizontal"===x?"y":"x"},r.createElement(LS,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:C_,errorBarOffset:0},this.props.children))),r.createElement(QS,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var P_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ij,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function E_(e){var t=jj(e,P_),{activeDot:s,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:m,legendType:h,xAxisId:x,yAxisId:p}=t,g=x_(t,h_),{needClip:f}=ZS(x,p),{height:b,width:v,x:y,y:j}=xj(),w=Ic(),N=wc(),k=(0,r.useMemo)(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),S=vl(e=>o_(e,x,p,N,k));return"horizontal"!==w&&"vertical"!==w?null:r.createElement(A_,b_({},g,{connectNulls:l,dot:c,activeDot:s,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:m,legendType:h,xAxisId:x,yAxisId:p,points:S,layout:w,height:b,width:v,left:y,top:j,needClip:f}))}class O_ extends r.PureComponent{render(){return r.createElement(RS,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},r.createElement(c_,{legendPayload:v_(this.props)}),r.createElement(XS,{fn:y_,args:this.props}),r.createElement(E_,this.props))}}f_(O_,"displayName","Line"),f_(O_,"defaultProps",P_);const I_=function(e){let{data:t,title:s,color:n,metric:r="value"}=e;if(!t||0===t.length)return(0,Me.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:s}),(0,Me.jsx)("div",{className:"h-24 flex items-center justify-center text-gray-400 text-xs",children:"No data available"})]});const a=t.reduce((e,t)=>e+(t[r]||0),0),i=Math.round(a/t.length);return(0,Me.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:s}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"text-lg font-bold text-gray-900",children:a.toLocaleString()}),(0,Me.jsxs)("div",{className:"text-xs text-gray-500",children:["Avg: ",i.toLocaleString()]})]})]}),(0,Me.jsx)("div",{className:"h-24",children:(0,Me.jsx)(Pr,{width:"100%",height:"100%",children:(0,Me.jsxs)(Cj,{data:t,children:[(0,Me.jsx)(Ww,{dataKey:"date",hide:!0}),(0,Me.jsx)(Xw,{hide:!0}),(0,Me.jsx)(mS,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>[e.toLocaleString(),s],contentStyle:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px"}}),(0,Me.jsx)(O_,{type:"monotone",dataKey:r,stroke:n,strokeWidth:2,dot:!1,activeDot:{r:3,fill:n}})]})})})]})};class T_{static async getCampaignObjectives(e){return new Promise((e,t)=>{console.info("Using default campaign objectives - targeting APIs require Marketing API access"),e(T_.getDefaultObjectives())})}static async getTargetingOptions(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"instagram";return new Promise((t,n)=>{window.FB?window.FB.api("/search",{type:"adgeolocation",location_types:["country"],limit:250,access_token:e},function(e){const n={geolocations:e.data||T_.getDefaultCountries(),demographics:[],placements:T_.getDefaultPlacements(s)};t(n)}):n(new Error("Facebook SDK not loaded"))})}static async getTargetingCountries(e){return new Promise((t,s)=>{window.FB?window.FB.api("/search",{type:"adgeolocation",location_types:["country"],limit:250,access_token:e},function(e){if(e.error)console.warn("Failed to fetch countries, using defaults:",e.error),t(T_.getDefaultCountries());else{const s=(e.data||[]).map(e=>({value:e.country_code||e.key,label:e.name,code:e.country_code,key:e.key}));t(s.length>0?s:T_.getDefaultCountries())}}):t(T_.getDefaultCountries())})}static async searchInterests(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;return new Promise((n,r)=>{window.FB?!t||t.trim().length<2?n([]):window.FB.api("/search",{type:"adinterest",q:t.trim(),limit:s,access_token:e},function(e){if(e.error)console.error("Interest search failed:",e.error),n([]);else{const t=(e.data||[]).map(e=>({id:e.id,name:e.name,audience_size:e.audience_size_lower_bound||0,audience_size_upper:e.audience_size_upper_bound||0,path:e.path||[],description:e.description||e.name}));n(t)}}):r(new Error("Facebook SDK not loaded"))})}static async getTargetingBehaviors(e){return new Promise(e=>{console.info("Using default behaviors - targeting APIs require Marketing API access"),e(T_.getDefaultBehaviors())})}static async getCallToActionTypes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"instagram";return new Promise(e=>{console.info("Using default CTAs - targeting APIs require Marketing API access"),e(T_.getDefaultCallToActions(t))})}static async getAdPlacements(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"instagram";return new Promise(e=>{console.info("Using default placements - targeting APIs require Marketing API access"),e(T_.getDefaultPlacements(t))})}static async getBidStrategies(e,t,s){return new Promise((n,r)=>{if(!window.FB)return void r(new Error("Facebook SDK not loaded"));const a=T_.getOptimizationGoal(s);window.FB.api(`/${t}/delivery_estimate`,{optimization_goal:a,targeting_spec:{geo_locations:{countries:["US"]},age_min:18,age_max:65,publisher_platforms:["instagram"]},access_token:e},function(e){if(e.error)console.warn("Failed to fetch bid strategies, using defaults:",e.error),n(T_.getDefaultBidStrategies(s));else{var t,r;const a=(null===(t=e.data)||void 0===t||null===(r=t.bid_estimations)||void 0===r?void 0:r.map(e=>({value:e.bid_strategy,label:T_.formatBidStrategyLabel(e.bid_strategy),description:e.description||`${e.bid_strategy} bidding strategy`,min_bid:e.min_bid,max_bid:e.max_bid,requires_bid_amount:T_.bidStrategyRequiresBidAmount(e.bid_strategy)})))||T_.getDefaultBidStrategies(s);n(a)}})})}static async getAudienceEstimate(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"instagram";return new Promise((r,a)=>{if(!window.FB)return void a(new Error("Facebook SDK not loaded"));const i={...s,publisher_platforms:[n],targeting_automation:{advantage_audience:0}};window.FB.api(`/${t}/delivery_estimate`,{targeting_spec:i,optimization_goal:"REACH",access_token:e},function(e){var t,s,n,a;e.error?(console.error("Audience estimate failed:",e.error),r({estimate_ready:!1,users:0,error:e.error.message})):r({estimate_ready:(null===(t=e.data)||void 0===t?void 0:t.estimate_ready)||!1,users:(null===(s=e.data)||void 0===s?void 0:s.users)||0,daily_outcomes_curve:(null===(n=e.data)||void 0===n?void 0:n.daily_outcomes_curve)||[],estimate_dau:(null===(a=e.data)||void 0===a?void 0:a.estimate_dau)||0})})})}static getDefaultObjectives(){return[{value:"OUTCOME_AWARENESS",label:"Brand Awareness",description:"Increase brand recognition and reach"},{value:"OUTCOME_TRAFFIC",label:"Traffic",description:"Drive people to your website or app"},{value:"OUTCOME_ENGAGEMENT",label:"Engagement",description:"Get more likes, comments, and shares"},{value:"OUTCOME_LEADS",label:"Lead Generation",description:"Collect leads and contact info"},{value:"OUTCOME_SALES",label:"Conversions",description:"Encourage purchases or sign-ups"},{value:"OUTCOME_APP_PROMOTION",label:"App Promotion",description:"Increase app installs or engagement"}]}static getDefaultBidStrategies(e){const t={OUTCOME_AWARENESS:[{value:"LOWEST_COST_WITHOUT_CAP",label:"Lowest Cost",requires_bid_amount:!1},{value:"LOWEST_COST_WITH_BID_CAP",label:"Bid Cap",requires_bid_amount:!0}],OUTCOME_TRAFFIC:[{value:"LOWEST_COST_WITHOUT_CAP",requires_bid_amount:!1},{value:"LOWEST_COST_WITH_BID_CAP",requires_bid_amount:!0},{value:"TARGET_COST",requires_bid_amount:!0}],OUTCOME_SALES:[{value:"LOWEST_COST_WITHOUT_CAP",requires_bid_amount:!1},{value:"LOWEST_COST_WITH_BID_CAP",requires_bid_amount:!0},{value:"TARGET_COST",requires_bid_amount:!0},{value:"TARGET_ROAS",requires_bid_amount:!1}]};return t[e]||t.OUTCOME_AWARENESS}static getDefaultCountries(){return[{value:"US",label:"United States",code:"US"},{value:"CA",label:"Canada",code:"CA"},{value:"GB",label:"United Kingdom",code:"GB"},{value:"AU",label:"Australia",code:"AU"},{value:"DE",label:"Germany",code:"DE"},{value:"FR",label:"France",code:"FR"},{value:"IT",label:"Italy",code:"IT"},{value:"ES",label:"Spain",code:"ES"},{value:"NL",label:"Netherlands",code:"NL"},{value:"BR",label:"Brazil",code:"BR"},{value:"MX",label:"Mexico",code:"MX"},{value:"JP",label:"Japan",code:"JP"},{value:"IN",label:"India",code:"IN"}]}static formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2}).format(e)}static formatNumber(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}static getDefaultCallToActions(){const e=[{value:"LEARN_MORE",label:"Learn More",description:"Encourage users to learn more about your business"},{value:"SHOP_NOW",label:"Shop Now",description:"Drive users to make a purchase"},{value:"SIGN_UP",label:"Sign Up",description:"Get users to sign up for your service"},{value:"DOWNLOAD",label:"Download",description:"Promote app or file downloads"},{value:"CONTACT_US",label:"Contact Us",description:"Encourage users to get in touch"},{value:"GET_QUOTE",label:"Get Quote",description:"Generate leads for your business"}];return"instagram"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"instagram")?[...e,{value:"WATCH_MORE",label:"Watch More",description:"Drive video engagement"},{value:"INSTALL_APP",label:"Install App",description:"Promote app installations"},{value:"MESSAGE_PAGE",label:"Send Message",description:"Start conversations with users"}]:[...e,{value:"CALL_NOW",label:"Call Now",description:"Drive phone calls to your business"},{value:"GET_DIRECTIONS",label:"Get Directions",description:"Help users find your location"}]}static getDefaultPlacements(){return"instagram"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"instagram")?[{value:"instagram_feed",label:"Instagram Feed"},{value:"instagram_stories",label:"Stories"},{value:"instagram_reels",label:"Reels"},{value:"instagram_explore",label:"Explore"}]:[{value:"facebook_feed",label:"Facebook Feed"},{value:"facebook_marketplace",label:"Marketplace"},{value:"facebook_video_feeds",label:"Video Feeds"}]}static getDefaultBehaviors(){return[{id:"online_shopper",name:"Online Shoppers"},{id:"frequent_travelers",name:"Frequent Travelers"},{id:"mobile_users",name:"Mobile Device Users"}]}static formatBidStrategyLabel(e){return{LOWEST_COST_WITHOUT_CAP:"Lowest Cost",LOWEST_COST_WITH_BID_CAP:"Bid Cap",TARGET_COST:"Target Cost",TARGET_ROAS:"Target ROAS",COST_CAP:"Cost Cap"}[e]||e}static bidStrategyRequiresBidAmount(e){return["LOWEST_COST_WITH_BID_CAP","TARGET_COST","COST_CAP"].includes(e)}static validateBidStrategyAndAmount(e,t){const s=T_.bidStrategyRequiresBidAmount(e);return s&&(!t||t<=0)?{valid:!1,error:`Bid strategy "${e}" requires a valid bid amount`}:!s&&t?{valid:!1,error:`Bid strategy "${e}" does not allow bid_amount`}:{valid:!0}}static getOptimizationGoal(e){return{OUTCOME_AWARENESS:"IMPRESSIONS",OUTCOME_TRAFFIC:"LINK_CLICKS",OUTCOME_ENGAGEMENT:"POST_ENGAGEMENT",OUTCOME_LEADS:"IMPRESSIONS",OUTCOME_SALES:"IMPRESSIONS",OUTCOME_APP_PROMOTION:"APP_INSTALLS"}[e]||"IMPRESSIONS"}static getValidOptimizationGoals(e){return{OUTCOME_AWARENESS:[{value:"IMPRESSIONS",label:"Impressions",description:"Maximize ad impressions"},{value:"REACH",label:"Reach",description:"Reach unique people"}],OUTCOME_TRAFFIC:[{value:"LINK_CLICKS",label:"Link Clicks",description:"Maximize clicks to your website"},{value:"LANDING_PAGE_VIEWS",label:"Landing Page Views",description:"Optimize for landing page views"}],OUTCOME_ENGAGEMENT:[{value:"POST_ENGAGEMENT",label:"Post Engagement",description:"Maximize post engagement"}],OUTCOME_LEADS:[{value:"IMPRESSIONS",label:"Impressions",description:"Maximize reach for lead generation"},{value:"LEAD_GENERATION",label:"Lead Generation",description:"Optimize for lead form submissions"}],OUTCOME_SALES:[{value:"IMPRESSIONS",label:"Impressions",description:"Maximize reach for conversions"},{value:"CONVERSIONS",label:"Conversions",description:"Optimize for purchase conversions"}],OUTCOME_APP_PROMOTION:[{value:"APP_INSTALLS",label:"App Installs",description:"Maximize app installations"}]}[e]||[{value:"IMPRESSIONS",label:"Impressions",description:"Maximize ad impressions"}]}static getCompatibleBillingEvent(e){return{REACH:"IMPRESSIONS",IMPRESSIONS:"IMPRESSIONS",LINK_CLICKS:"LINK_CLICKS",LANDING_PAGE_VIEWS:"LINK_CLICKS",POST_ENGAGEMENT:"POST_ENGAGEMENT",ENGAGEMENT:"POST_ENGAGEMENT",APP_INSTALLS:"APP_INSTALLS",LEAD_GENERATION:"IMPRESSIONS",CONVERSIONS:"IMPRESSIONS"}[e]||"IMPRESSIONS"}static validateOptimizationCompatibility(e,t,s){const n=T_.getValidOptimizationGoals(e);if(!n.some(e=>e.value===t))return{valid:!1,error:`Optimization goal "${t}" is not valid for campaign objective "${e}"`,suggestion:`Use one of: ${n.map(e=>e.value).join(", ")}`,recommendedGoal:n[0].value};const r=T_.getCompatibleBillingEvent(t);return s!==r?{valid:!1,error:`Billing event "${s}" is not compatible with optimization goal "${t}"`,suggestion:`Use billing event: ${r}`,recommendedBillingEvent:r}:{valid:!0}}static cleanAdSetParameters(e){const t={...e},s=t.bid_strategy,n=T_.bidStrategyRequiresBidAmount(s);return!n&&"bid_amount"in t&&(console.info(`Removed bid_amount for strategy: ${s}`),delete t.bid_amount),"LOWEST_COST_WITHOUT_CAP"===t.bid_strategy&&delete t.bid_amount,n&&(!t.bid_amount||t.bid_amount<=0)&&console.warn(`Strategy ${s} REQUIRES bid_amount`),t}static prepareAdSetData(e,t,s){var n,r;const a={name:e.adSetName||`${e.name} - Ad Set`,campaign_id:t,status:"PAUSED",billing_event:"IMPRESSIONS",optimization_goal:T_.getOptimizationGoal(e.objective),bid_strategy:e.bidStrategy||"LOWEST_COST_WITHOUT_CAP",targeting:{geo_locations:{countries:e.countries||["US"]},age_min:parseInt(e.ageMin)||18,age_max:parseInt(e.ageMax)||65,publisher_platforms:["instagram"],facebook_positions:["feed"],instagram_positions:["stream"],targeting_automation:{advantage_audience:0}}},i=parseFloat(e.dailyBudget||e.budget)||10;console.log("Original budget amount:",i,"Type:",e.budgetType);const o=Math.max(1,Math.min(i,1e4));o!==i&&console.warn(`Budget clamped from ${i} to ${o}`);const l=Math.round(100*o);if(console.log("Budget in cents:",l),"DAILY"===e.budgetType?a.daily_budget=l:a.lifetime_budget=l,e.startDate){const t=new Date(e.startDate+"T00:00:00");t>new Date&&(a.start_time=t.toISOString())}return(null===(n=e.interests)||void 0===n?void 0:n.length)>0&&(a.targeting.interests=e.interests.map(e=>({id:e.id,name:e.name}))),(null===(r=e.genders)||void 0===r?void 0:r.length)>0&&(a.targeting.genders=e.genders),"LOWEST_COST_WITHOUT_CAP"===a.bid_strategy&&delete a.bid_amount,console.log("Final prepared ad set data:",a),T_.cleanAdSetParameters(a)}static validateBudget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DAILY";const s=parseFloat(e);if(isNaN(s)||s<=0)return{valid:!1,error:"Budget must be a positive number"};const n="DAILY"===t?1:10,r="DAILY"===t?1e3:5e4;return s<n?{valid:!1,error:`Minimum ${t.toLowerCase()} budget is $${n}`}:s>r?{valid:!1,error:`Maximum ${t.toLowerCase()} budget is $${r}`}:{valid:!0}}static prepareCreativeData(e,t){var s,n,r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;const o={name:`${e.name||"Campaign"} - Creative`,access_token:i};if(null!==(s=e.adCreative)&&void 0!==s&&s.websiteUrl){return{type:"link",data:{...o,object_story_spec:{page_id:t,...a?{instagram_actor_id:a}:{},link_data:{message:e.adCreative.description||"",name:e.adCreative.headline||"",link:e.adCreative.websiteUrl,call_to_action:{type:e.adCreative.callToAction||"LEARN_MORE"}}}}}}return{type:"text",data:{...o,object_story_spec:{page_id:t,text_data:{message:`${(null===(n=e.adCreative)||void 0===n?void 0:n.headline)||""}\n\n${(null===(r=e.adCreative)||void 0===r?void 0:r.description)||""}`.trim()}}}}}static async uploadAdImage(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((r,a)=>{if(!s)return void a(new Error("No image file provided"));if(s.size>8388608)return void a(new Error("Image file size must be less than 8MB"));if(!s.type.startsWith("image/"))return void a(new Error("File must be an image"));const i=new FormData;i.append("source",s),i.append("access_token",e),i.append("account_id",t);const o=new XMLHttpRequest;n&&o.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=e.loaded/e.total*100;n(Math.round(t))}}),o.onload=()=>{if(200===o.status)try{const e=JSON.parse(o.responseText);e.success&&e.data.hash?r({hash:e.data.hash,filename:e.data.filename,size:e.data.size}):a(new Error(e.error||"Upload failed"))}catch(e){a(new Error("Invalid response from server"))}else a(new Error(`Upload failed with status ${o.status}`))},o.onerror=()=>{a(new Error("Network error during upload"))};o.open("POST","https://my-backend-593529385135.asia-south1.run.app/api/meta/upload-image"),o.send(i)})}static async createImageCreative(e,t,s){return new Promise((n,r)=>{var a,i;if(!window.FB)return void r(new Error("Facebook SDK not loaded"));const o={name:s.name,object_story_spec:s.object_story_spec,access_token:e};console.log("Creating image creative:",{name:o.name,hasImageHash:!!(null!==(a=s.object_story_spec.link_data)&&void 0!==a&&a.image_hash||null!==(i=s.object_story_spec.photo_data)&&void 0!==i&&i.image_hash)}),window.FB.api(`/${t}/adcreatives`,"POST",o,function(e){if(e.error){if(console.error("Creative creation failed:",e.error),100===e.error.code){if(e.error.message.includes("image_hash"))return void r(new Error("Invalid image hash. Please upload the image again."));if(e.error.message.includes("instagram_actor_id"))return void r(new Error("Invalid Instagram account. Please check your Instagram connection."))}r(new Error(e.error.message||"Creative creation failed"))}else console.log("\u2705 Image creative created successfully:",e),n({id:e.id,name:o.name,type:"image"})})})}static buildCreativeData(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=`${e.name||"Campaign"} - Creative`;return n&&e.adCreative.websiteUrl?{name:`${r} (Image + Link)`,object_story_spec:{page_id:t,...s?{instagram_actor_id:s}:{},link_data:{message:e.adCreative.description||"",name:e.adCreative.headline||"",link:e.adCreative.websiteUrl,image_hash:n,call_to_action:{type:e.adCreative.callToAction||"LEARN_MORE"}}}}:n?{name:`${r} (Image Post)`,object_story_spec:{page_id:t,...s?{instagram_actor_id:s}:{},photo_data:{image_hash:n,caption:`${e.adCreative.headline?e.adCreative.headline+"\n\n":""}${e.adCreative.description||""}`.trim()}}}:e.adCreative.websiteUrl?{name:`${r} (Link)`,object_story_spec:{page_id:t,...s?{instagram_actor_id:s}:{},link_data:{message:e.adCreative.description||"",name:e.adCreative.headline||"",link:e.adCreative.websiteUrl,call_to_action:{type:e.adCreative.callToAction||"LEARN_MORE"}}}}:{name:`${r} (Text)`,object_story_spec:{page_id:t,text_data:{message:`${e.adCreative.headline||""}\n\n${e.adCreative.description||""}`.trim()}}}}static validateImageFile(e){const t=[];if(!e)return{valid:!1,errors:["No file provided"]};e.type.startsWith("image/")||t.push("File must be an image");["image/jpeg","image/png","image/gif"].includes(e.type)||t.push("Supported formats: JPEG, PNG, GIF");const s=8388608;return e.size>s&&t.push(`File size must be less than ${T_.formatFileSize(s)}`),e.type.startsWith("image/"),{valid:0===t.length,errors:t}}static formatFileSize(e){if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}static getRecommendedImageDimensions(){const e={instagram_feed:{width:1080,height:1080,ratio:"1:1",description:"Square format"},instagram_stories:{width:1080,height:1920,ratio:"9:16",description:"Portrait format"},instagram_reels:{width:1080,height:1920,ratio:"9:16",description:"Portrait format"},facebook_feed:{width:1200,height:628,ratio:"1.91:1",description:"Landscape format"}};return e[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"instagram_feed"]||e.instagram_feed}static async createCreativeWithFallback(e,t,s,n,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const i=[];a&&r&&i.push({type:"full_instagram_image",data:T_.buildCreativeData(s,n,r,a)}),a&&i.push({type:"page_image",data:T_.buildCreativeData(s,n,null,a)}),s.adCreative.websiteUrl&&i.push({type:"link_only",data:T_.buildCreativeData(s,n,r,null)}),i.push({type:"text_only",data:{name:`${s.name} - Text Creative`,object_story_spec:{page_id:n,text_data:{message:`${s.adCreative.headline||""}\n\n${s.adCreative.description||""}`.trim()}}}});for(const l of i)try{console.log(`Trying creative strategy: ${l.type}`);const s=await T_.createImageCreative(e,t,l.data);return console.log(`\u2705 Creative created using ${l.type} strategy:`,s),{...s,strategy:l.type}}catch(o){console.warn(`Strategy ${l.type} failed:`,o.message);continue}throw new Error("All creative creation strategies failed")}static async getAdPerformance(e,t){return new Promise((s,n)=>{window.FB?window.FB.api(`/${t}/insights`,{access_token:e,fields:"impressions,clicks,spend,reach,actions,objective,ad_name,ad_id"},e=>{e&&!e.error&&e.data&&e.data.length>0?s(e.data[0]):n(e.error||new Error("No ad performance data found"))}):n(new Error("Facebook SDK not loaded"))})}}const M_=function(e){var t,s;let{userAccessToken:n,adAccount:a,selectedInstagramAccount:i,onCampaignCreated:o,onError:l,onCancel:c}=e;const[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)({name:"",objective:"OUTCOME_AWARENESS",budget:10,budgetType:"DAILY",duration:7,startDate:(new Date).toISOString().split("T")[0],targetAudience:{age_min:18,age_max:65,genders:[1,2],countries:["US"],interests:[],behaviors:[],customAudiences:[]},placements:["instagram_feed","instagram_stories"],adCreative:{headline:"",description:"",imageFile:null,imagePreview:null,imageHash:null,videoUrl:"",callToAction:"LEARN_MORE",websiteUrl:""}}),[x,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(0),[b,v]=(0,r.useState)([]),[y,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)([]),[k,S]=(0,r.useState)(!1),[_,C]=(0,r.useState)([]),[A,P]=(0,r.useState)(!1),[E,O]=(0,r.useState)([]),[I,T]=(0,r.useState)(!1),[M,D]=(0,r.useState)(null),[L,R]=(0,r.useState)(!1),[F,z]=(0,r.useState)(!1),[U,$]=(0,r.useState)(!1),[B,V]=(0,r.useState)(null),[W,H]=(0,r.useState)(!1),[q,Y]=(0,r.useState)("create"),[G,K]=(0,r.useState)([]),[J,Q]=(0,r.useState)(!1),[X,Z]=(0,r.useState)(null);(0,r.useEffect)(()=>{n&&ee(n)},[n]);const ee=async e=>{if(e)try{j(!0);try{const t=await T_.getCampaignObjectives(e,"instagram");v(t),t.length>0&&!m.objective&&h(e=>({...e,objective:t[0].value}))}catch(t){console.warn("Failed to load objectives:",t);const e=T_.getDefaultObjectives();v(e),e.length>0&&h(t=>({...t,objective:e[0].value}))}j(!1),S(!0);try{const t=await T_.getTargetingCountries(e);N(t)}catch(t){console.warn("Failed to load countries:",t),N(T_.getDefaultCountries())}S(!1),P(!0);try{const t=await T_.getCallToActionTypes(e,"instagram");C(t)}catch(t){console.warn("Failed to load CTAs:",t),C(T_.getDefaultCallToActions("instagram"))}P(!1)}catch(t){console.error("Failed to load dynamic fields:",t);const e=T_.getDefaultObjectives();v(e),N(T_.getDefaultCountries()),C(T_.getDefaultCallToActions("instagram")),j(!1),S(!1),P(!1)}};(0,r.useEffect)(()=>{const e=setTimeout(()=>{n&&a&&(async()=>{if(n&&a){R(!0);try{var e;const t={age_min:m.targetAudience.age_min,age_max:m.targetAudience.age_max,genders:m.targetAudience.genders,geo_locations:{countries:m.targetAudience.countries},targeting_automation:{advantage_audience:0},interests:null===(e=m.targetAudience.interests)||void 0===e?void 0:e.map(e=>({id:e.id,name:e.name}))},s=await T_.getAudienceEstimate(n,a.id,t,"instagram");D(s)}catch(t){console.error("Audience estimate failed:",t),D(null)}R(!1)}})()},1e3);return()=>clearTimeout(e)},[m.targetAudience.age_min,m.targetAudience.age_max,m.targetAudience.genders,m.targetAudience.countries,m.targetAudience.interests]);const te=async e=>{if(n&&a){p(!0),f(0);try{const t=new FormData;t.append("source",e),t.append("access_token",n),t.append("account_id",a.id);const s=new XMLHttpRequest;s.upload.addEventListener("progress",e=>{if(e.lengthComputable){const t=e.loaded/e.total*100;f(Math.round(t))}});const r=new Promise((e,t)=>{s.onload=()=>{200===s.status?e(JSON.parse(s.responseText)):t(new Error(`Upload failed: ${s.status}`))},s.onerror=()=>t(new Error("Upload failed"))}),i="https://my-backend-593529385135.asia-south1.run.app";s.open("POST",`${i}/api/meta/upload-image`),s.send(t);const o=await r;if(!o.success||!o.data.hash)throw new Error("Failed to get image hash from upload response");console.log("\u2705 Image uploaded successfully:",o.data.hash),h(e=>({...e,adCreative:{...e.adCreative,imageHash:o.data.hash}}))}catch(t){console.error("Image upload failed:",t),l(`Image upload failed: ${t.message}`),h(e=>({...e,adCreative:{...e.adCreative,imageFile:null,imagePreview:null,imageHash:null}}))}finally{p(!1),f(0)}}else l("Missing account information for image upload")},se=()=>{window.FB&&window.FB.login(e=>{"connected"===e.status&&e.authResponse?window.FB.api("/me/permissions",{access_token:e.authResponse.accessToken},e=>{var t;const s=null===(t=e.data)||void 0===t?void 0:t.some(e=>"ads_read"===e.permission&&"granted"===e.status);$(s),l(s?null:"ads_read permission was not granted.")}):($(!1),l("Failed to grant ads_read permission."))},{scope:"ads_read",auth_type:"rerequest"})},ne=async e=>{if(n&&e){H(!0);try{window.FB.api(`/${e}/insights`,{access_token:n,fields:"impressions,clicks,spend,reach,actions,objective,ad_name,ad_id"},e=>{H(!1),e&&!e.error&&e.data&&e.data.length>0?V(e.data[0]):(V(null),e.error&&l("Failed to fetch live ad data: "+e.error.message))})}catch(t){H(!1),V(null),l("Failed to fetch live ad data: "+t.message)}}};(0,r.useEffect)(()=>{"performance"===q&&n&&null!==a&&void 0!==a&&a.id&&U&&re()},[q,n,a,U]);const re=async()=>{Q(!0),Z(null),K([]);try{window.FB.api(`/${a.id}/ads`,{access_token:n,fields:"id,name,adset_id,created_time,status",limit:10},e=>{if(e&&!e.error&&Array.isArray(e.data)){const t=e.data;if(0===t.length)return K([]),void Q(!1);let s=0;const r=[];t.forEach(e=>{window.FB.api(`/${e.id}/insights`,{access_token:n,fields:"impressions,clicks,spend,reach,actions,objective,ad_name,ad_id",limit:1},n=>{let a={};n&&!n.error&&Array.isArray(n.data)&&n.data.length>0&&(a=n.data[0]);let i=0;if(a.actions&&Array.isArray(a.actions)){const e=a.actions.find(e=>"offsite_conversion.fb_pixel_purchase"===e.action_type||"lead"===e.action_type);e&&(i=e.value)}r.push({...e,impressions:a.impressions||"-",clicks:a.clicks||"-",spend:a.spend||"-",reach:a.reach||"-",conversions:i||"-"}),s++,s===t.length&&(r.sort((e,t)=>new Date(t.created_time)-new Date(e.created_time)),K(r),Q(!1))})})}else{var t;Z((null===e||void 0===e||null===(t=e.error)||void 0===t?void 0:t.message)||"Failed to fetch ads"),Q(!1)}})}catch(e){Z(e.message),Q(!1)}};return(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"flex space-x-4 border-b mb-4",children:[(0,Me.jsx)("button",{className:"px-4 py-2 font-medium border-b-2 transition-all "+("create"===q?"border-pink-600 text-pink-700":"border-transparent text-gray-500 hover:text-pink-600"),onClick:()=>Y("create"),children:"Create Campaign"}),(0,Me.jsx)("button",{className:"px-4 py-2 font-medium border-b-2 transition-all "+("performance"===q?"border-green-600 text-green-700":"border-transparent text-gray-500 hover:text-green-600"),onClick:()=>Y("performance"),children:"Live Ad Performance"})]}),"create"===q&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)(sr,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"Professional Campaign Creation"}),(0,Me.jsx)("p",{className:"text-blue-800 text-sm mb-4",children:"Create Instagram advertising campaigns with advanced targeting, budget optimization, and creative management using Meta's Marketing API. Upload images just like in Facebook Ads Manager."})]})]})}),(0,Me.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:(0,Me.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a&&n&&i)if(m.budget<5)l("Minimum budget is $5.00");else if(m.adCreative.imageHash||m.adCreative.headline.trim()){u(!0);try{const e=await(t=n,new Promise(e=>{window.FB?window.FB.api("/me",{access_token:t,fields:"id"},function(t){t.error?(console.error("Token validation failed:",t.error),e(!1)):e(!0)}):e(!1)}));if(!e)return l("Access token expired. Please reconnect your account."),void u(!1);const s={name:m.name,objective:m.objective,status:"PAUSED",special_ad_categories:[],access_token:n};window.FB.api(`/${a.id}/campaigns`,"POST",s,async function(e){var t;if(e.error)return l(`Campaign creation failed: ${e.error.message}`),void u(!1);console.log("\u2705 Campaign created:",e);const s=Math.round(100*m.budget),r={OUTCOME_AWARENESS:"IMPRESSIONS",OUTCOME_TRAFFIC:"LINK_CLICKS",OUTCOME_ENGAGEMENT:"POST_ENGAGEMENT",OUTCOME_LEADS:"IMPRESSIONS",OUTCOME_SALES:"IMPRESSIONS",OUTCOME_APP_PROMOTION:"APP_INSTALLS"}[m.objective]||"IMPRESSIONS";const c=(e=>({OUTCOME_AWARENESS:"IMPRESSIONS",OUTCOME_TRAFFIC:"LINK_CLICKS",OUTCOME_ENGAGEMENT:"POST_ENGAGEMENT",OUTCOME_LEADS:"IMPRESSIONS",OUTCOME_SALES:"IMPRESSIONS",OUTCOME_APP_PROMOTION:"APP_INSTALLS"}[e]||"IMPRESSIONS"))(m.objective),d={age_min:m.targetAudience.age_min,age_max:m.targetAudience.age_max,genders:m.targetAudience.genders,geo_locations:{countries:m.targetAudience.countries},publisher_platforms:["instagram"],device_platforms:["mobile"],instagram_positions:["stream"],targeting_automation:{advantage_audience:0}};(null===(t=m.targetAudience.interests)||void 0===t?void 0:t.length)>0&&(d.interests=m.targetAudience.interests.map(e=>({id:e.id.toString(),name:e.name})));const x={account_id:a.id,name:`${m.name} - Ad Set`,campaign_id:e.id,optimization_goal:r,billing_event:c,bid_strategy:"LOWEST_COST_WITHOUT_CAP",page_id:i.pageId,targeting:d,status:"PAUSED",access_token:n};if("DAILY"===m.budgetType){const e=Math.max(s,500);x.daily_budget=e,console.log("Setting daily_budget:",e,"(cents)")}else if("LIFETIME"===m.budgetType){const e=Math.max(s,500);x.lifetime_budget=e;const t=new Date;t.setDate(t.getDate()+(m.duration||7)),x.end_time=t.toISOString(),console.log("Setting lifetime_budget:",e,"(cents) with end_time:",x.end_time)}const p=new Date(m.startDate+"T00:00:00");p>new Date&&(x.start_time=p.toISOString()),console.log("Ad Set Payload:",{...x,access_token:"***REDACTED***"});try{const t="https://my-backend-593529385135.asia-south1.run.app",s=await fetch(`${t}/api/meta/create-adset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),r=await s.json();if(!s.ok||r.error){var g,f,b,v,y,j,w,N,k,S;if(console.error("Backend ad set creation error:",r),100===(null===(g=r.details)||void 0===g||null===(f=g.error)||void 0===f?void 0:f.code)&&1359188===(null===(b=r.details)||void 0===b||null===(v=b.error)||void 0===v?void 0:v.error_subcode))return l("Payment method required: Your Facebook Ad Account needs a valid payment method to create ads. Please visit Facebook Ads Manager to add a payment method, then try again."),void u(!1);if(190===(null===(y=r.details)||void 0===y||null===(j=y.error)||void 0===j?void 0:j.code))return l("Access token expired. Please reconnect your account."),void u(!1);const e=(null===(w=r.details)||void 0===w||null===(N=w.error)||void 0===N?void 0:N.error_user_msg)||(null===(k=r.details)||void 0===k||null===(S=k.error)||void 0===S?void 0:S.message)||r.error||"Unknown error occurred";return l(`Failed to create ad set: ${e}`),void u(!1)}console.log("\u2705 Ad Set created via backend:",r.data);const c=async()=>{const e=e=>new Promise((t,s)=>{window.FB.api(`/${a.id}/adcreatives`,"POST",{...e,access_token:n},function(n){n.error?s(n.error):t({success:!0,id:n.id,type:e.object_story_spec.photo_data?"image":e.object_story_spec.link_data?"image_link":"text"})})});let t;t=m.adCreative.imageHash?m.adCreative.websiteUrl?{name:`${m.name} - Image Link Creative`,object_story_spec:{page_id:i.pageId,...i.id?{instagram_actor_id:i.id}:{},link_data:{message:m.adCreative.description||"",name:m.adCreative.headline||"",link:m.adCreative.websiteUrl,call_to_action:{type:m.adCreative.callToAction||"LEARN_MORE"},image_hash:m.adCreative.imageHash}}}:{name:`${m.name} - Image Post Creative`,object_story_spec:{page_id:i.pageId,...i.id?{instagram_actor_id:i.id}:{},photo_data:{image_hash:m.adCreative.imageHash,caption:`${m.adCreative.headline?m.adCreative.headline+"\n\n":""}${m.adCreative.description||""}`.trim()}}}:{name:`${m.name} - Text Creative`,object_story_spec:{page_id:i.pageId,text_data:{message:`${m.adCreative.headline||""}\n\n${m.adCreative.description||""}`.trim()}}};try{return await e(t)}catch(s){if(100===s.code&&s.message&&s.message.includes("instagram_actor_id")){console.warn("Retrying creative creation without instagram_actor_id...");const s=JSON.parse(JSON.stringify(t));s.object_story_spec.instagram_actor_id&&delete s.object_story_spec.instagram_actor_id;try{return await e(s)}catch(r){console.warn("Retrying creative creation as text-only...");const t={name:`${m.name} - Text Creative`,object_story_spec:{page_id:i.pageId,text_data:{message:`${m.adCreative.headline||""}\n\n${m.adCreative.description||""}`.trim()}}};return await e(t)}}throw new Error(s.message||"Creative creation failed")}};try{const t=await c();console.log(`\u2705 Creative created successfully using ${t.type} format:`,t.id);const s={name:`${m.name} - Ad`,adset_id:r.data.id,creative:{creative_id:t.id},status:"PAUSED",access_token:n};console.log("Creating ad with data:",{...s,access_token:"***REDACTED***"}),window.FB.api(`/${a.id}/ads`,"POST",s,function(s){if(s.error){if(console.error("Ad creation failed:",s.error),100===s.error.code&&1359188===s.error.error_subcode){u(!1);l((0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("div",{className:"text-red-800",children:(0,Me.jsx)("strong",{children:"Payment Method Required"})}),(0,Me.jsx)("div",{className:"text-red-700",children:"Your campaign structure and creative have been created successfully, but a valid payment method is required to complete the ad creation process."}),(0,Me.jsxs)("div",{className:"text-red-700",children:[(0,Me.jsx)("strong",{children:"Next Steps:"}),(0,Me.jsxs)("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[(0,Me.jsx)("li",{children:"Visit Facebook Ads Manager billing section"}),(0,Me.jsx)("li",{children:"Add a valid credit card or payment method"}),(0,Me.jsx)("li",{children:"Return to AirSpark and try creating the ad again"})]})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsxs)("a",{href:"https://adsmanager.facebook.com/billing_hub/payment_methods",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[(0,Me.jsx)("span",{children:"Add Payment Method"}),(0,Me.jsx)(Dn,{className:"h-4 w-4 ml-2"})]})})]})),alert(`\u2705 Campaign Structure Created Successfully!\n\nCampaign ID: ${e.id}\nAd Set ID: ${r.data.id}\nCreative ID: ${t.id}\nCreative Type: ${t.type}\n\n\u26a0\ufe0f Payment Method Required:\nTo complete the process and create the actual ad, please add a valid payment method to your Facebook Ad Account.\n\nVisit: Facebook Ads Manager > Billing > Payment Methods`)}else l(`Creating ad failed: ${s.error.message||"Unknown error"}`);u(!1)}else console.log("\u2705 Ad created successfully:",s),u(!1),m.adCreative.imagePreview&&URL.revokeObjectURL(m.adCreative.imagePreview),h({name:"",objective:"OUTCOME_AWARENESS",budget:10,budgetType:"DAILY",duration:7,startDate:(new Date).toISOString().split("T")[0],targetAudience:{age_min:18,age_max:65,genders:[1,2],countries:["US"],interests:[],behaviors:[],customAudiences:[]},placements:["instagram_feed","instagram_stories"],adCreative:{headline:"",description:"",imageFile:null,imagePreview:null,imageHash:null,videoUrl:"",callToAction:"LEARN_MORE",websiteUrl:""}}),alert(`\ud83c\udf89 Campaign "${m.name}" created successfully!\n\nCampaign ID: ${e.id}\nAd Set ID: ${r.data.id}\nCreative ID: ${t.id} (${t.type})\nAd ID: ${s.id}\n\nThe campaign is paused and ready for review. You can activate it from the Campaigns tab.`),o(),U&&ne(s.id)})}catch(_){console.error("Creative creation failed:",_),l(`Failed to create ad creative: ${_.message}`),u(!1)}}catch(C){console.error("Backend request failed:",C),l(`Failed to create ad set: ${C.message}`),u(!1)}})}catch(s){console.error("Campaign creation error:",s),l(`Failed to create campaign: ${s.message}`),u(!1)}var t}else l("Please add either an image or headline for your ad");else l("Missing required account information. Please reconnect your account.")},className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name *"}),(0,Me.jsx)("input",{type:"text",value:m.name,onChange:e=>h(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Enter campaign name...",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Objective *"}),y?(0,Me.jsxs)("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 flex items-center",children:[(0,Me.jsx)(cn,{className:"h-4 w-4 animate-spin mr-2"}),(0,Me.jsx)("span",{className:"text-gray-500",children:"Loading objectives..."})]}):(0,Me.jsx)("select",{value:m.objective,onChange:e=>h(t=>({...t,objective:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",required:!0,children:0===b.length?(0,Me.jsx)("option",{value:"",children:"Loading objectives..."}):b.map(e=>(0,Me.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]})]}),(0,Me.jsxs)("div",{className:"border-t pt-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Budget & Schedule"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Type"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("button",{type:"button",onClick:()=>h(e=>({...e,budgetType:"DAILY"})),className:"flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all flex items-center justify-center space-x-2 "+("DAILY"===m.budgetType?"bg-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Me.jsx)("span",{children:"Daily Budget"}),"DAILY"===m.budgetType&&(0,Me.jsx)(Je,{className:"h-5 w-5"})]}),(0,Me.jsxs)("button",{type:"button",onClick:()=>h(e=>({...e,budgetType:"LIFETIME"})),className:"flex-1 px-4 py-2 rounded-lg font-medium text-sm transition-all flex items-center justify-center space-x-2 "+("LIFETIME"===m.budgetType?"bg-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,Me.jsx)("span",{children:"Lifetime Budget"}),"LIFETIME"===m.budgetType&&(0,Me.jsx)(Je,{className:"h-5 w-5"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["DAILY"===m.budgetType?"Daily Budget ($)":"Total Budget ($)"," *"]}),(0,Me.jsx)("input",{type:"number",value:m.budget,onChange:e=>h(t=>({...t,budget:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",min:"5",step:"0.01",required:!0}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Minimum: $5.00 ","DAILY"===m.budgetType?"per day":"total"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,Me.jsx)("input",{type:"date",value:m.startDate,onChange:e=>h(t=>({...t,startDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",min:(new Date).toISOString().split("T")[0]})]})]})]}),(0,Me.jsxs)("div",{className:"border-t pt-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Audience Targeting"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Range"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("input",{type:"number",value:m.targetAudience.age_min,onChange:e=>h(t=>({...t,targetAudience:{...t.targetAudience,age_min:parseInt(e.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",min:"13",max:"65"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Min age"})]}),(0,Me.jsx)("span",{className:"text-gray-400",children:"to"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("input",{type:"number",value:m.targetAudience.age_max,onChange:e=>h(t=>({...t,targetAudience:{...t.targetAudience,age_max:parseInt(e.target.value)}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500",min:"13",max:"65"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Max age"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,Me.jsx)("div",{className:"space-y-2",children:[{value:[1,2],label:"All genders"},{value:[1],label:"Men only"},{value:[2],label:"Women only"}].map(e=>(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"radio",name:"gender",checked:JSON.stringify(m.targetAudience.genders)===JSON.stringify(e.value),onChange:()=>h(t=>({...t,targetAudience:{...t.targetAudience,genders:e.value}})),className:"mr-2"}),(0,Me.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.label))})]})]}),(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Countries"}),k?(0,Me.jsxs)("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 flex items-center",children:[(0,Me.jsx)(cn,{className:"h-4 w-4 animate-spin mr-2"}),(0,Me.jsx)("span",{className:"text-gray-500",children:"Loading countries..."})]}):(0,Me.jsx)("select",{value:m.targetAudience.countries[0],onChange:e=>h(t=>({...t,targetAudience:{...t.targetAudience,countries:[e.target.value]}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:w.map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Me.jsxs)("div",{className:"mt-6",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interest Targeting"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:"text",placeholder:"Search interests (e.g., fashion, technology, fitness)...",onChange:e=>{const t=e.target.value;t.length>=2?(async e=>{if(n&&e.trim()){T(!0);try{const t=await T_.searchInterests(n,e);O(t)}catch(t){console.error("Interest search failed:",t),O([])}T(!1)}else O([])})(t):O([])},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"}),I&&(0,Me.jsx)("div",{className:"absolute right-3 top-3",children:(0,Me.jsx)(cn,{className:"h-4 w-4 animate-spin text-gray-400"})})]}),E.length>0&&(0,Me.jsx)("div",{className:"mt-2 max-h-48 overflow-y-auto border border-gray-300 rounded-lg",children:E.map(e=>(0,Me.jsxs)("button",{type:"button",onClick:()=>{var t;(null===(t=m.targetAudience.interests)||void 0===t?void 0:t.find(t=>t.id===e.id))||h(t=>({...t,targetAudience:{...t.targetAudience,interests:[...t.targetAudience.interests||[],e]}})),O([])},className:"w-full text-left px-3 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,Me.jsxs)("div",{className:"text-sm text-gray-500",children:[T_.formatNumber(e.audience_size)," people"]})]},e.id))}),(null===(t=m.targetAudience.interests)||void 0===t?void 0:t.length)>0&&(0,Me.jsxs)("div",{className:"mt-3",children:[(0,Me.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Interests:"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:m.targetAudience.interests.map(e=>(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[e.name,(0,Me.jsx)("button",{type:"button",onClick:()=>{h(t=>({...t,targetAudience:{...t.targetAudience,interests:t.targetAudience.interests.filter(t=>t.id!==e.id)}}))},className:"ml-2 text-blue-600 hover:text-blue-800",children:"\xd7"})]},e.id))})]})]}),M&&(0,Me.jsxs)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[(0,Me.jsx)("h5",{className:"font-semibold text-yellow-900 mb-3",children:"\ud83d\udcca Audience Estimate"}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-lg font-bold text-yellow-900",children:L?(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin mx-auto"}):T_.formatNumber(M.users)}),(0,Me.jsx)("div",{className:"text-sm text-yellow-700",children:"Potential Reach"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-lg font-bold text-yellow-900",children:M.estimate_ready?"\u2705":"\u23f3"}),(0,Me.jsx)("div",{className:"text-sm text-yellow-700",children:"Estimate Status"})]})]})]})]}),(0,Me.jsxs)("div",{className:"border-t pt-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Ad Creative"}),(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Image"}),m.adCreative.imagePreview?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsxs)("div",{className:"relative w-full h-64 rounded-lg overflow-hidden border border-gray-300",children:[(0,Me.jsx)("img",{src:m.adCreative.imagePreview,alt:"Ad preview",className:"w-full h-full object-cover"}),m.adCreative.imageHash&&(0,Me.jsx)("div",{className:"absolute top-2 left-2",children:(0,Me.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:[(0,Me.jsx)(Je,{className:"w-3 h-3 mr-1"}),"Uploaded"]})}),(0,Me.jsx)("button",{type:"button",onClick:()=>{m.adCreative.imagePreview&&URL.revokeObjectURL(m.adCreative.imagePreview),h(e=>({...e,adCreative:{...e.adCreative,imageFile:null,imagePreview:null,imageHash:null}}))},className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:(0,Me.jsx)(vs,{className:"w-4 h-4"})})]}),m.adCreative.imageHash&&(0,Me.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Image Hash: ",m.adCreative.imageHash]})]}):(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(async e=>{if(!e)return;if(!e.type.startsWith("image/"))return void l("Please select an image file (JPG, PNG, GIF)");if(e.size>8388608)return void l("Image file size must be less than 8MB");const t=URL.createObjectURL(e);h(s=>({...s,adCreative:{...s.adCreative,imageFile:e,imagePreview:t,imageHash:null}})),await te(e)})(t)},className:"hidden",id:"image-upload",disabled:x}),(0,Me.jsx)("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors "+(x?"opacity-50 cursor-not-allowed":""),children:(0,Me.jsx)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:x?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cn,{className:"w-8 h-8 mb-4 text-gray-500 animate-spin"}),(0,Me.jsx)("p",{className:"mb-2 text-sm text-gray-500",children:"Uploading image..."}),(0,Me.jsx)("div",{className:"w-48 bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-pink-600 h-2 rounded-full transition-all duration-300",style:{width:`${g}%`}})}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[g,"%"]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(Rs,{className:"w-8 h-8 mb-4 text-gray-500"}),(0,Me.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,Me.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 8MB"}),(0,Me.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Recommended: 1080x1080px"})]})})})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Headline *"}),(0,Me.jsx)("input",{type:"text",value:m.adCreative.headline,onChange:e=>h(t=>({...t,adCreative:{...t.adCreative,headline:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"Enter compelling headline...",maxLength:"40",required:!0}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[m.adCreative.headline.length,"/40 characters"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call to Action"}),A?(0,Me.jsxs)("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 flex items-center",children:[(0,Me.jsx)(cn,{className:"h-4 w-4 animate-spin mr-2"}),(0,Me.jsx)("span",{className:"text-gray-500",children:"Loading CTAs..."})]}):(0,Me.jsx)("select",{value:m.adCreative.callToAction,onChange:e=>h(t=>({...t,adCreative:{...t.adCreative,callToAction:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",children:_.map(e=>(0,Me.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]})]}),(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Me.jsx)("textarea",{value:m.adCreative.description,onChange:e=>h(t=>({...t,adCreative:{...t.adCreative,description:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",rows:"3",placeholder:"Write engaging ad description...",maxLength:"125",required:!0}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[m.adCreative.description.length,"/125 characters"]})]}),(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),(0,Me.jsx)("input",{type:"url",value:m.adCreative.websiteUrl,onChange:e=>h(t=>({...t,adCreative:{...t.adCreative,websiteUrl:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent",placeholder:"https://your-website.com"})]}),(m.adCreative.imagePreview||m.adCreative.headline||m.adCreative.description)&&(0,Me.jsxs)("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-900 mb-3",children:"Ad Preview"}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg p-4 max-w-sm",children:[m.adCreative.imagePreview&&(0,Me.jsx)("img",{src:m.adCreative.imagePreview,alt:"Ad preview",className:"w-full rounded-lg mb-3"}),m.adCreative.headline&&(0,Me.jsx)("h6",{className:"font-semibold text-gray-900 mb-1",children:m.adCreative.headline}),m.adCreative.description&&(0,Me.jsx)("p",{className:"text-gray-700 text-sm mb-3",children:m.adCreative.description}),m.adCreative.websiteUrl&&(0,Me.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:m.adCreative.websiteUrl}),(0,Me.jsx)("button",{type:"button",disabled:!0,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium",children:(null===(s=_.find(e=>e.value===m.adCreative.callToAction))||void 0===s?void 0:s.label)||"Learn More"})]})]})]}),(0,Me.jsxs)("div",{className:"border-t pt-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Meta Permissions"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",checked:F,onChange:()=>z(e=>!e),className:"mr-2"}),(0,Me.jsxs)("span",{className:"text-sm text-gray-700",children:["Request ",(0,Me.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"ads_read"})," permission to fetch live ad performance data after campaign creation"]})]}),(0,Me.jsx)("button",{type:"button",onClick:se,disabled:U||!F,className:"ml-4 px-3 py-2 rounded-lg text-sm font-medium "+(U?"bg-green-100 text-green-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:U?"ads_read Granted":"Grant ads_read Permission"})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"This permission is required to fetch real-time ad performance (impressions, clicks, spend, etc.) after campaign creation."})]}),(0,Me.jsx)("div",{className:"border-t pt-6",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:["Campaign will be created in ",(0,Me.jsx)("strong",{children:"paused state"})," for review before activation."]}),(0,Me.jsxs)("button",{type:"submit",disabled:d||x||!m.name.trim()||!m.adCreative.headline.trim()||!m.adCreative.description.trim(),className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin"}):x?(0,Me.jsx)(Rs,{className:"h-5 w-5"}):(0,Me.jsx)(Is,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:d?"Creating Campaign...":x?"Uploading Image...":"Create Campaign"})]})]})})]})})]}),"performance"===q&&(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center",children:[(0,Me.jsx)(nr,{className:"h-6 w-6 mr-2 text-green-600"}),"Live Ad Performance"]}),U?(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing latest ads for account ",(0,Me.jsx)("span",{className:"font-semibold",children:null===a||void 0===a?void 0:a.id})]}),(0,Me.jsx)("button",{onClick:re,className:"px-3 py-2 rounded-lg bg-gray-100 text-gray-700 text-sm font-medium hover:bg-gray-200",disabled:J,children:"Refresh"})]}),J?(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin text-green-600"}),(0,Me.jsx)("span",{className:"text-green-700",children:"Fetching live ad data..."})]}):X?(0,Me.jsx)("div",{className:"text-red-700",children:X}):0===G.length?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"text-gray-500 mb-6",children:"No recent ads found for this account."}),(0,Me.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 mb-4",children:[(0,Me.jsxs)("h4",{className:"font-semibold text-green-900 mb-3 flex items-center",children:[(0,Me.jsx)(Qn,{className:"h-5 w-5 mr-2 text-green-700"}),"Mock Live Ad Performance (Demo)"]}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full text-sm border",children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{className:"bg-green-100",children:[(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Ad Name"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Impressions"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Clicks"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Reach"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Spend (USD)"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Conversions"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Created"})]})}),(0,Me.jsxs)("tbody",{children:[(0,Me.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"Spring Sale Ad"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"ACTIVE"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"12,345"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"678"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"10,200"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"$123.45"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"24"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:new Date(Date.now()-864e5).toLocaleString()})]}),(0,Me.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"Brand Awareness"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"PAUSED"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"8,900"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"312"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"7,800"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"$89.00"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"10"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:new Date(Date.now()-1728e5).toLocaleString()})]}),(0,Me.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"Lead Gen Test"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"ACTIVE"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"5,432"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"210"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"4,900"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"$54.32"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:"7"}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:new Date(Date.now()-2592e5).toLocaleString()})]})]})]})}),(0,Me.jsx)("div",{className:"mt-3 text-xs text-green-700",children:"This is a mock example. Real ad performance will appear here once you create ads."})]})]}):(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full text-sm border",children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{className:"bg-green-50",children:[(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Ad Name"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Status"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Impressions"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Clicks"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Reach"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Spend (USD)"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Conversions"}),(0,Me.jsx)("th",{className:"px-3 py-2 border-b text-left",children:"Created"})]})}),(0,Me.jsx)("tbody",{children:G.map(e=>(0,Me.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.name||e.id}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.status}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.impressions}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.clicks}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.reach}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.spend}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.conversions}),(0,Me.jsx)("td",{className:"px-3 py-2 border-b",children:e.created_time?new Date(e.created_time).toLocaleString():"-"})]},e.id))})]})})]}):(0,Me.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-center space-x-3",children:[(0,Me.jsx)(We,{className:"h-5 w-5 text-yellow-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"font-medium text-yellow-900 mb-1",children:"ads_read Permission Required"}),(0,Me.jsxs)("div",{className:"text-yellow-800 text-sm",children:["Please grant ",(0,Me.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"ads_read"})," permission to fetch live ad performance data for this ad account."]}),(0,Me.jsx)("button",{type:"button",onClick:se,disabled:U,className:"mt-3 px-4 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700",children:"Grant ads_read Permission"})]})]})]})]})},D_=()=>{try{const e=JSON.parse(localStorage.getItem("currentUser")||"{}");let t=e.userId||e.id||e._id||e.customer_id;if(!t){const e=JSON.parse(localStorage.getItem("user")||"{}");t=e.userId||e.id||e._id||e.customer_id}if(!t){const e=localStorage.getItem("token")||localStorage.getItem("authToken");if(e)try{const s=JSON.parse(atob(e.split(".")[1]));t=s.userId||s.id||s.sub}catch(GB){console.warn("Could not decode token:",GB)}}return t}catch(e){return console.warn("Error getting current user ID:",e),null}},L_=e=>{const t=D_();return t?`${e}_user_${t}`:(console.warn(`No user ID found for key: ${e}`),e)},R_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const s=L_(e),n=localStorage.getItem(s);return n?JSON.parse(n):t}catch(s){return console.warn(`Error getting user data for key ${e}:`,s),t}},F_=(e,t)=>{try{const s=L_(e);return localStorage.setItem(s,JSON.stringify(t)),!0}catch(s){return console.warn(`Error setting user data for key ${e}:`,s),!1}},z_=e=>{try{const t=L_(e);return localStorage.removeItem(t),!0}catch(t){return console.warn(`Error removing user data for key ${e}:`,t),!1}},U_=e=>{try{if(!D_())return!1;let t=0;return e.forEach(e=>{const s=localStorage.getItem(e);if(s){const n=L_(e);localStorage.getItem(n)||(localStorage.setItem(n,s),t++),localStorage.removeItem(e)}}),t>0&&console.log(`Migrated ${t} keys to user-specific storage`),!0}catch(t){return console.warn("Error during migration:",t),!1}},$_=[{name:"ads_management",purpose:"Create and manage advertising campaigns for your business",description:"Allows AirSpark to help you create, edit, and manage Instagram advertising campaigns on your behalf.",required:!0,businessUse:"Campaign creation, budget management, targeting setup"},{name:"ads_read",purpose:"Read advertising performance data and insights",description:"Enables AirSpark to fetch and display your campaign performance metrics, helping you optimize your advertising strategy.",required:!0,businessUse:"Performance analytics, ROI tracking, campaign optimization"},{name:"business_management",purpose:"Access your business assets and accounts",description:"Allows AirSpark to access your Facebook Business Manager and associated ad accounts.",required:!0,businessUse:"Account management, asset access"},{name:"pages_read_engagement",purpose:"Read engagement data from your Facebook pages",description:"Helps analyze page performance to inform advertising strategies.",required:!1,businessUse:"Content performance analysis"},{name:"instagram_basic",purpose:"Access basic Instagram account information",description:"Retrieves basic information about your Instagram business account.",required:!0,businessUse:"Account verification, profile information"}];const B_=function(e){let{onData:t,onConnectionStatusChange:s}=e;const[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)("overview"),[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)([]),[b,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)({}),[k,S]=(0,r.useState)([]),[_,C]=(0,r.useState)("last_7_days"),[A,P]=(0,r.useState)(null),[E,O]=(0,r.useState)(!1),[I,T]=(0,r.useState)(!1),[M,D]=(0,r.useState)(1),[L,R]=(0,r.useState)([]),[F,z]=(0,r.useState)("overview"),[U,$]=(0,r.useState)(null),[B,V]=(0,r.useState)(null),[W,H]=(0,r.useState)([]),[q,Y]=(0,r.useState)(null);(0,r.useEffect)(()=>{document.getElementById("facebook-jssdk")?G():(window.fbAsyncInit=function(){window.FB.init({appId:"4416243821942660",cookie:!0,xfbml:!1,version:"v19.0"}),G()},function(e,t,s){var n,r=e.getElementsByTagName(t)[0];e.getElementById(s)||((n=e.createElement(t)).id=s,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk"))},[]);const G=()=>{try{const e=R_("instagram_ads_token"),t=R_("instagram_ads_account"),s=R_("instagram_ads_connected_accounts");e&&K(e).then(n=>{n?($(e),a(!0),t&&V(t),s&&(H(s),Y(s[0])),Z(e)):J()}).catch(()=>{J()})}catch(l){console.error("Error checking connection:",l),J()}finally{o(!1)}},K=e=>new Promise(t=>{window.FB?window.FB.api("/me",{access_token:e,fields:"id"},function(e){e.error?(console.error("Token validation failed:",e.error),t(!1)):t(!0)}):t(!1)}),J=()=>{z_("instagram_ads_token"),z_("instagram_ads_account"),z_("instagram_ads_connected_accounts"),$(null),a(!1),V(null),H([]),Y(null),f([]),c("Your Instagram advertising session has expired. Please reconnect your account to continue."),u("connect"),s&&s(!1)},Q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"API call";if(console.error(`${t} error:`,e),190===e.code)return void J();if(100===e.code&&1359188===e.error_subcode)return void c("Payment method required: Your Facebook Ad Account needs a valid payment method to create ads. Please visit Facebook Ads Manager to add a payment method, then try again.");const s={1:"API request limit reached. Please try again later.",2:"Temporary API error. Please try again in a few moments.",10:"Permission denied. Please ensure you have the required permissions.",17:"Too many requests. Please wait before trying again.",100:"Invalid parameter provided.",200:"Permission denied for this action.",613:"Rate limit exceeded. Please try again later."}[e.code]||e.message||"An unexpected error occurred";c(`${t} failed: ${s}`)},Z=e=>{window.FB&&(v(!0),window.FB.api("/me/adaccounts",{fields:"id,name,account_status,currency,business,timezone_name,spend_cap",access_token:e},function(t){if(t.error)return Q(t.error,"Loading ad accounts"),void v(!1);if(t.data&&t.data.length>0){const s=t.data[0];V(s),S(t.data),F_("instagram_ads_account",s),ee(e),se(s.id,e)}else v(!1),c("No ad accounts found. Please create a Facebook Ad Account first.")}))},ee=e=>{window.FB.api("/me/accounts",{fields:"id,name,access_token,instagram_business_account{id,username,profile_picture_url,followers_count,media_count,biography}",access_token:e},function(t){var s;if(t.error)return void Q(t.error,"Loading Instagram accounts");const n=(null===(s=t.data)||void 0===s?void 0:s.filter(e=>e.instagram_business_account))||[];if(n.length>0){const t=n.map(e=>({...e.instagram_business_account,pageId:e.id,pageName:e.name,pageAccessToken:e.access_token})).filter(e=>{if(!e.id||!e.pageId)return console.warn("Invalid Instagram account found:",e),!1;const t=e.id.toString();return!!/^\d+$/.test(t)||(console.warn("Invalid Instagram ID format:",t),!1)});console.log("Valid Instagram accounts loaded:",t),t.length>0?te(t,e):(console.warn("No valid Instagram business accounts found"),c("No valid Instagram business accounts found. Please ensure your Instagram account is properly connected to a Facebook Page and has business account status."))}else c("No Instagram business accounts found. Please connect an Instagram business account to your Facebook Page first.")})},te=async(e,t)=>{const s=[];for(const n of e)try{await new Promise((e,r)=>{window.FB.api(`/${n.id}`,{fields:"id,username,biography,followers_count,media_count,profile_picture_url",access_token:t},function(t){t.error?(console.warn(`Instagram account ${n.id} validation failed:`,t.error),e()):(console.log(`\u2705 Instagram account ${n.id} validated successfully`),s.push({...n,validated:!0,validationResponse:t}),e())})})}catch(l){console.warn(`Error validating Instagram account ${n.id}:`,l)}s.length>0?(H(s),Y(s[0]),F_("instagram_ads_connected_accounts",s)):c("No valid Instagram business accounts could be verified. Please ensure your Instagram account is properly connected and has the correct permissions.")},se=(e,t)=>{window.FB.api(`/${e}/campaigns`,{fields:"id,name,objective,status,created_time,updated_time,daily_budget,lifetime_budget,start_time,stop_time",access_token:t},function(e){v(!1),e.error?Q(e.error,"Loading campaigns"):f(e.data||[])})},ne=()=>{window.FB?(o(!0),c(null),z_("instagram_ads_token"),z_("instagram_ads_account"),z_("instagram_ads_connected_accounts"),window.FB.login(e=>{if("connected"===e.status){const t=e.authResponse.accessToken;K(t).then(e=>{e?($(t),F_("instagram_ads_token",t),a(!0),u("success"),Z(t)):c("Failed to validate access token. Please try connecting again."),o(!1)}).catch(e=>{console.error("Token validation error:",e),c("Failed to validate connection. Please try again."),o(!1)})}else"not_authorized"===e.status?(c("You need to authorize AirSpark to access your Instagram advertising account."),o(!1)):(c("Failed to connect to Facebook. Please check your internet connection and try again."),o(!1))},{scope:$_.map(e=>e.name).join(","),return_scopes:!0,auth_type:"rerequest"})):c("Facebook SDK not loaded. Please refresh the page and try again.")},re=()=>(0,Me.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,Me.jsx)(Jn,{className:"h-6 w-6 text-purple-600"})})}),(0,Me.jsxs)("div",{className:"flex-grow",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"\ud83d\udcfa Interactive Demo Available"}),(0,Me.jsx)("p",{className:"text-purple-800 text-sm mb-4",children:"Experience the full Instagram advertising workflow with our interactive demo. Perfect for app reviewers and potential users to see all features in action."}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Me.jsxs)("button",{onClick:()=>T(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium flex items-center space-x-2",children:[(0,Me.jsx)(pn,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Start Interactive Demo"})]}),(0,Me.jsxs)("button",{onClick:()=>O(!E),className:"bg-white border border-purple-300 text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors text-sm font-medium",children:[E?"Exit":"Enter"," Sandbox Mode"]})]})]})]})}),ae=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Step 1: Account Setup & Connection"}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-blue-900 mb-3",children:"\ud83d\udd17 OAuth Connection Process"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"bg-white border border-blue-200 rounded-lg p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(Je,{className:"h-5 w-5 text-blue-600"})}),(0,Me.jsx)("span",{className:"font-medium text-gray-900",children:"Facebook OAuth Integration"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 ml-11",children:"Secure connection using Facebook's OAuth 2.0 with explicit permission scopes"})]}),(0,Me.jsxs)("div",{className:"bg-white border border-blue-200 rounded-lg p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(nn,{className:"h-5 w-5 text-blue-600"})}),(0,Me.jsx)("span",{className:"font-medium text-gray-900",children:"Permissions Requested"})]}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600 ml-11 space-y-1",children:[(0,Me.jsxs)("div",{children:["\u2022 ",(0,Me.jsx)("code",{children:"ads_management"})," - Create and manage advertising campaigns"]}),(0,Me.jsxs)("div",{children:["\u2022 ",(0,Me.jsx)("code",{children:"ads_read"})," - Read campaign performance and insights"]}),(0,Me.jsxs)("div",{children:["\u2022 ",(0,Me.jsx)("code",{children:"business_management"})," - Access Business Manager accounts"]})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-900 mb-3",children:"\u2705 Connected Accounts"}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsx)("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(un,{className:"h-6 w-6 text-pink-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:"@airspark_demo"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Instagram Business Account \u2022 15.2K followers"})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Js,{className:"h-6 w-6 text-blue-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:"AirSpark Marketing Demo"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Ad Account ID: act_123456789 \u2022 $5,000 spend limit"})]})]})})]})]})]}),ie=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Step 2: Campaign Creation"}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udcdd Campaign Setup Form"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name"}),(0,Me.jsx)("input",{type:"text",value:"Holiday Gift Guide 2024",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Objective"}),(0,Me.jsx)("select",{value:"CONVERSIONS",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:(0,Me.jsx)("option",{value:"CONVERSIONS",children:"Conversions"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Budget"}),(0,Me.jsx)("input",{type:"number",value:"50",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Duration"}),(0,Me.jsx)("input",{type:"number",value:"14",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"days"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-purple-900 mb-3",children:"\ud83c\udfaf Campaign Objectives Available"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Brand Awareness",desc:"Reach people likely to remember your ads"},{name:"Reach",desc:"Show ads to maximum number of people"},{name:"Traffic",desc:"Drive traffic to your website or app"},{name:"Engagement",desc:"Get more likes, shares, and comments"},{name:"App Installs",desc:"Get people to install your app"},{name:"Video Views",desc:"Get more people to watch your videos"},{name:"Lead Generation",desc:"Collect leads for your business"},{name:"Conversions",desc:"Get people to take action on your site"}].map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white border border-purple-200 rounded-lg p-3",children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:e.desc})]},t))})]})]}),oe=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Step 3: Advanced Audience Targeting"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udc65 Demographics"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Range"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("input",{type:"number",value:"25",readOnly:!0,className:"w-20 px-3 py-2 border rounded bg-gray-50"}),(0,Me.jsx)("span",{children:"to"}),(0,Me.jsx)("input",{type:"number",value:"45",readOnly:!0,className:"w-20 px-3 py-2 border rounded bg-gray-50"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,Me.jsx)("div",{className:"space-y-2",children:(0,Me.jsxs)("label",{className:"flex items-center",children:[(0,Me.jsx)("input",{type:"checkbox",checked:!0,readOnly:!0,className:"mr-2"}),(0,Me.jsx)("span",{children:"All genders"})]})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Locations"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(nr,{className:"h-4 w-4 text-gray-600"}),(0,Me.jsx)("span",{className:"text-sm",children:"United States, Canada, United Kingdom"})]})})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83c\udfaf Interests & Behaviors"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interests"}),(0,Me.jsx)("div",{className:"space-y-2",children:["Fashion","Shopping","Lifestyle","Beauty"].map(e=>(0,Me.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:(0,Me.jsx)("span",{className:"text-sm text-blue-800",children:e})},e))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Behaviors"}),(0,Me.jsx)("div",{className:"space-y-2",children:["Online shoppers","Mobile device users","Frequent travelers"].map(e=>(0,Me.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:(0,Me.jsx)("span",{className:"text-sm text-green-800",children:e})},e))})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-yellow-900 mb-3",children:"\ud83d\udcca Estimated Audience Size"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-yellow-900",children:"2.1M"}),(0,Me.jsx)("div",{className:"text-sm text-yellow-700",children:"Potential Reach"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-yellow-900",children:"\u2705"}),(0,Me.jsx)("div",{className:"text-sm text-yellow-700",children:"Estimate Status"})]})]})]})]}),le=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Step 4: Budget Management & Bidding"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udcb0 Budget Settings"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Type"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"flex-1 px-4 py-2 rounded-lg font-medium text-sm bg-pink-600 text-white shadow-md flex items-center justify-center space-x-2",children:[(0,Me.jsx)("span",{children:"Daily Budget"}),(0,Me.jsx)(Je,{className:"h-5 w-5"})]}),(0,Me.jsx)("div",{className:"flex-1 px-4 py-2 rounded-lg font-medium text-sm bg-gray-100 text-gray-700",children:(0,Me.jsx)("span",{children:"Lifetime Budget"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Daily Budget ($) *"}),(0,Me.jsx)("input",{type:"number",value:"50",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum: $5.00 per day"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,Me.jsx)("input",{type:"date",value:(new Date).toISOString().split("T")[0],readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83c\udfaf Bidding Strategy"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bid Strategy"}),(0,Me.jsxs)("select",{value:"LOWEST_COST_WITHOUT_CAP",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:[(0,Me.jsx)("option",{value:"LOWEST_COST_WITHOUT_CAP",children:"Lowest cost"}),(0,Me.jsx)("option",{value:"LOWEST_COST_WITH_BID_CAP",children:"Lowest cost with bid cap"}),(0,Me.jsx)("option",{value:"TARGET_COST",children:"Target cost"})]})]}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Me.jsx)("h5",{className:"font-medium text-blue-900 mb-2",children:"\ud83d\udcc8 Optimization Goal"}),(0,Me.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Me.jsx)("div",{className:"font-medium",children:"Conversions"}),(0,Me.jsx)("div",{children:"Optimize for people most likely to complete purchases on your website"})]})]}),(0,Me.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,Me.jsx)("h5",{className:"font-medium text-green-900 mb-2",children:"\ud83d\udca1 Budget Recommendation"}),(0,Me.jsx)("div",{className:"text-sm text-green-800",children:"Based on your targeting and objectives, we recommend a daily budget of $45-$75 for optimal performance."})]})]})]})]})]}),ce=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Step 5: Analytics & Performance Monitoring"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[{label:"Impressions",value:"0",change:"N/A",icon:Ke,color:"blue"},{label:"Clicks",value:"0",change:"N/A",icon:Qn,color:"green"},{label:"Conversions",value:"0",change:"N/A",icon:ut,color:"purple"}].map((e,t)=>(0,Me.jsxs)("div",{className:`bg-${e.color}-50 border border-${e.color}-200 rounded-xl p-6`,children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)(e.icon,{className:`h-8 w-8 text-${e.color}-600`}),(0,Me.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:e.change})]}),(0,Me.jsx)("div",{className:`text-2xl font-bold text-${e.color}-900`,children:e.value}),(0,Me.jsx)("div",{className:`text-sm text-${e.color}-700`,children:e.label}),(0,Me.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Start campaigns to see data"})]},t))}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udcca Campaign Performance Table"}),(0,Me.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,Me.jsx)("div",{className:"text-gray-500 mb-2",children:(0,Me.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Campaign Performance Data"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"Create and run campaigns to see detailed performance metrics here"}),(0,Me.jsxs)("div",{className:"text-sm text-gray-500",children:["Real campaign data will show:",(0,Me.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 Campaign names and status"}),(0,Me.jsx)("li",{children:"\u2022 Budget allocation and spend"}),(0,Me.jsx)("li",{children:"\u2022 Impressions, clicks, and conversions"}),(0,Me.jsx)("li",{children:"\u2022 Click-through rates (CTR) and ROAS"})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-900 mb-3",children:"\ud83c\udf89 Demo Complete!"}),(0,Me.jsxs)("div",{className:"text-green-800 space-y-2",children:[(0,Me.jsx)("p",{children:"You've experienced the complete Instagram advertising workflow in AirSpark:"}),(0,Me.jsxs)("ul",{className:"list-disc list-inside text-sm space-y-1 ml-4",children:[(0,Me.jsx)("li",{children:"Secure account connection with proper OAuth flow"}),(0,Me.jsx)("li",{children:"Professional campaign creation with advanced options"}),(0,Me.jsx)("li",{children:"Sophisticated audience targeting and segmentation"}),(0,Me.jsx)("li",{children:"Intelligent budget management and bidding strategies"}),(0,Me.jsx)("li",{children:"Comprehensive analytics and performance monitoring"})]})]})]})]}),de=()=>(0,Me.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:(0,Me.jsx)(rt,{className:"h-6 w-6 text-orange-600"})})}),(0,Me.jsxs)("div",{className:"flex-grow",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"\ud83e\uddea Sandbox Mode Active"}),(0,Me.jsx)("p",{className:"text-orange-800 text-sm mb-4",children:"You're currently in sandbox mode. This allows you to test all advertising features without spending real money. Perfect for development and app review purposes."}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Me.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4",children:[(0,Me.jsx)("h4",{className:"font-semibold text-orange-900 mb-2",children:"\ud83d\udcca Sandbox Features"}),(0,Me.jsxs)("ul",{className:"text-sm text-orange-800 space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 Create test campaigns with sample data"}),(0,Me.jsx)("li",{children:"\u2022 Simulate audience targeting"}),(0,Me.jsx)("li",{children:"\u2022 Test budget and bidding features"}),(0,Me.jsx)("li",{children:"\u2022 View simulated performance metrics"})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-orange-200 rounded-lg p-4",children:[(0,Me.jsx)("h4",{className:"font-semibold text-orange-900 mb-2",children:"\ud83d\udd12 Sandbox Limitations"}),(0,Me.jsxs)("ul",{className:"text-sm text-orange-800 space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 No real ad spend or delivery"}),(0,Me.jsx)("li",{children:"\u2022 Limited to 1 sandbox ad account"}),(0,Me.jsx)("li",{children:"\u2022 Simulated performance data only"}),(0,Me.jsx)("li",{children:"\u2022 Cannot reach real audience"})]})]})]}),(0,Me.jsx)("button",{onClick:()=>O(!1),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors text-sm font-medium",children:"Exit Sandbox Mode"})]})]})}),ue=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Campaign Overview"}),0===g.length?(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Qn,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No campaigns yet"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first Instagram advertising campaign."}),(0,Me.jsxs)("button",{onClick:()=>z("create"),className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2 mx-auto",children:[(0,Me.jsx)(Is,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"Create Your First Campaign"})]})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.slice(0,6).map(e=>(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,Me.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("ACTIVE"===e.status?"bg-green-100 text-green-700":"PAUSED"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.status})]}),(0,Me.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,Me.jsxs)("div",{children:["Objective: ",e.objective]}),(0,Me.jsxs)("div",{children:["Budget: ",e.daily_budget?`$${(e.daily_budget/100).toFixed(2)}/day`:"Lifetime"]}),(0,Me.jsxs)("div",{children:["Created: ",new Date(e.created_time).toLocaleDateString()]})]})]},e.id))})]}),me=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"All Campaigns"}),(0,Me.jsxs)("button",{onClick:()=>z("create"),className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2",children:[(0,Me.jsx)(Is,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"New Campaign"})]})]}),b?(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)(cn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-pink-600"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading campaigns..."})]}):0===g.length?(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Qn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No campaigns found"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Create your first Instagram advertising campaign to get started."})]}):(0,Me.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"w-full",children:[(0,Me.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,Me.jsxs)("tr",{children:[(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Campaign"}),(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Objective"}),(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Budget"}),(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),(0,Me.jsx)("tbody",{children:g.map(e=>(0,Me.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,Me.jsxs)("td",{className:"py-3 px-4",children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,Me.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]}),(0,Me.jsx)("td",{className:"py-3 px-4",children:(0,Me.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("ACTIVE"===e.status?"bg-green-100 text-green-700":"PAUSED"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.status})}),(0,Me.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.objective}),(0,Me.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.daily_budget?`$${(e.daily_budget/100).toFixed(2)}/day`:e.lifetime_budget?`$${(e.lifetime_budget/100).toFixed(2)} lifetime`:"Not set"}),(0,Me.jsx)("td",{className:"py-3 px-4 text-gray-600",children:new Date(e.created_time).toLocaleDateString()}),(0,Me.jsx)("td",{className:"py-3 px-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>he(e.id,e.status),className:"p-1 text-gray-400 hover:text-gray-600",title:"ACTIVE"===e.status?"Pause":"Resume",children:"ACTIVE"===e.status?(0,Me.jsx)(rr,{className:"h-4 w-4"}):(0,Me.jsx)(pn,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",title:"Edit",children:(0,Me.jsx)(Xs,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{className:"p-1 text-gray-400 hover:red-600",title:"Delete",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})]})})]},e.id))})]})})})]}),he=(e,t)=>{const s="ACTIVE"===t?"PAUSED":"ACTIVE";U?window.FB.api(`/${e}`,"POST",{status:s,access_token:U},function(e){e.error?Q(e.error,"Updating campaign status"):B&&se(B.id,U)}):c("Access token not available. Please reconnect your account.")},xe=()=>(0,Me.jsx)(M_,{userAccessToken:U,adAccount:B,selectedInstagramAccount:q,onCampaignCreated:()=>{z("campaigns"),B&&se(B.id,U)},onError:c,onCancel:()=>z("campaigns")}),pe=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Campaign Analytics"}),(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(ft,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Analytics Dashboard"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Advanced campaign analytics and performance insights coming soon."})]})]}),ge=()=>{var e;return(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Account Settings"}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Connected Accounts"}),q&&(0,Me.jsx)("div",{className:"space-y-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[(0,Me.jsx)(un,{className:"h-8 w-8 text-pink-600"}),(0,Me.jsxs)("div",{className:"flex-grow",children:[(0,Me.jsxs)("div",{className:"font-medium text-gray-900",children:["@",q.username]}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:[null===(e=q.followers_count)||void 0===e?void 0:e.toLocaleString()," followers"]})]}),(0,Me.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Connected"})]})}),B&&(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[(0,Me.jsx)(Js,{className:"h-8 w-8 text-blue-600"}),(0,Me.jsxs)("div",{className:"flex-grow",children:[(0,Me.jsx)("div",{className:"font-medium text-gray-900",children:B.name}),(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:["Ad Account \u2022 ",B.currency," \u2022 ",B.account_status]})]}),(0,Me.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Active"})]})})]})]})};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(un,{className:"h-8 w-8 text-pink-600"}),(0,Me.jsx)("span",{className:"ml-2 text-xl font-bold text-[#1a1f2e]",children:"Instagram Advertising"})]}),n&&(0,Me.jsx)("button",{onClick:()=>{z_("instagram_ads_token"),a(!1),u("overview")},className:"text-gray-500 hover:text-gray-700 text-sm",children:"Disconnect"})]})})}),(0,Me.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[l&&(0,Me.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)(We,{className:"h-6 w-6 text-red-600"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:"Error"})]}),(0,Me.jsx)("div",{className:"text-red-700 mb-4",children:"string"===typeof l?l:"object"===typeof l&&null!==l?r.isValidElement(l)?l:JSON.stringify(l):String(l)}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{onClick:()=>c(null),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Dismiss"}),"string"===typeof l&&(l.includes("expired")||l.includes("token"))?(0,Me.jsx)("button",{onClick:()=>{c(null),u("connect")},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm font-medium",children:"Reconnect Account"}):null]})]}),I&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[(0,Me.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["\ud83c\udfac Instagram Advertising Demo - Step ",M," of 5"]}),(0,Me.jsx)("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Me.jsx)(X,{className:"h-6 w-6"})})]}),(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:[1,2,3,4,5].map(e=>(0,Me.jsx)("div",{className:"flex-1 h-2 rounded-full "+(e<=M?"bg-purple-600":"bg-gray-200")},e))}),(0,Me.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,Me.jsx)("span",{children:"Account Setup"}),(0,Me.jsx)("span",{children:"Campaign Creation"}),(0,Me.jsx)("span",{children:"Audience Targeting"}),(0,Me.jsx)("span",{children:"Budget & Bidding"}),(0,Me.jsx)("span",{children:"Analytics & Optimization"})]})]})]}),(0,Me.jsxs)("div",{className:"p-6",children:[1===M&&ae(),2===M&&ie(),3===M&&oe(),4===M&&le(),5===M&&ce(),(0,Me.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Me.jsx)("button",{onClick:()=>D(Math.max(1,M-1)),disabled:1===M,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),(0,Me.jsx)("button",{onClick:()=>D(Math.min(5,M+1)),disabled:5===M,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:5===M?"Complete Demo":"Next Step"})]})]})]})}),n?(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-pink-50 via-purple-50 to-indigo-50 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex itemscenter justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:(0,Me.jsx)(un,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Instagram Advertising Dashboard"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Manage your Instagram advertising campaigns"})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Connected Account"}),(0,Me.jsx)("div",{className:"font-semibold text-gray-900",children:(null===q||void 0===q?void 0:q.username)||"Instagram Business Account"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:g.length}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Active Campaigns"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-green-600",children:null!==q&&void 0!==q&&q.followers_count?`${(q.followers_count/1e3).toFixed(1)}K`:"0"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Followers"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===B||void 0===B?void 0:B.currency)||"USD"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Currency"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:"Live"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Status"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200",children:[(0,Me.jsx)("div",{className:"border-b border-gray-200",children:(0,Me.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:un},{id:"campaigns",label:"Campaigns",icon:Qn},{id:"create",label:"Create Campaign",icon:Is},{id:"analytics",label:"Analytics",icon:ut},{id:"settings",label:"Settings",icon:rt}].map(e=>(0,Me.jsxs)("button",{onClick:()=>z(e.id),className:"flex items-center space-x-2 py-4 px-2 border-b-2 font-medium text-sm "+(F===e.id?"border-pink-600 text-pink-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Me.jsx)(e.icon,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:e.label})]},e.id))})}),(0,Me.jsxs)("div",{className:"p-6",children:["overview"===F&&ue(),"campaigns"===F&&me(),"create"===F&&xe(),"analytics"===F&&pe(),"settings"===F&&ge()]})]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"flex items-center justify-between max-w-2xl mx-auto mb-8",children:[{key:"overview",label:"Overview",icon:un},{key:"requirements",label:"Requirements",icon:Je},{key:"permissions",label:"Permissions",icon:nn},{key:"connect",label:"Connect",icon:Dn},{key:"success",label:"Success",icon:Je}].map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border-2 "+(d===e.key?"border-pink-600 bg-pink-600 text-white":["overview","requirements","permissions","connect"].indexOf(d)>t?"border-green-600 bg-green-600 text-white":"border-gray-300 bg-white text-gray-400"),children:(0,Me.jsx)(e.icon,{className:"h-5 w-5"})}),(0,Me.jsx)("div",{className:"ml-2 text-sm font-medium text-gray-700",children:e.label}),t<4&&(0,Me.jsx)("div",{className:"w-8 h-0.5 ml-4 "+(["overview","requirements","permissions","connect"].indexOf(d)>t?"bg-green-600":"bg-gray-300")})]},e.key))}),"overview"===d&&(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center bg-gradient-to-br from-pink-50 via-purple-50 to-indigo-50 rounded-2xl p-8",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-pink-600 to-purple-600 rounded-2xl mb-6 shadow-lg",children:(0,Me.jsx)(un,{className:"h-10 w-10 text-white"})}),(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Professional Instagram Advertising Management"}),(0,Me.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"AirSpark's Instagram Advertising Integration empowers businesses to create, manage, and optimize high-performing Instagram advertising campaigns with advanced analytics and automated optimization."}),(0,Me.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[(0,Me.jsx)(Jn,{className:"h-6 w-6 text-yellow-500 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Campaign Creation"}),(0,Me.jsx)("div",{className:"text-xs text-gray-600",children:"Professional campaign setup"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[(0,Me.jsx)(ft,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Advanced Analytics"}),(0,Me.jsx)("div",{className:"text-xs text-gray-600",children:"Detailed performance insights"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[(0,Me.jsx)(Qn,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Audience Targeting"}),(0,Me.jsx)("div",{className:"text-xs text-gray-600",children:"Precise targeting tools"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[(0,Me.jsx)(Xn,{className:"h-6 w-6 text-purple-500 mx-auto mb-2"}),(0,Me.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Budget Optimization"}),(0,Me.jsx)("div",{className:"text-xs text-gray-600",children:"Smart budget management"})]})]}),(0,Me.jsxs)("button",{onClick:()=>u("requirements"),className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-8 py-4 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-3 mx-auto font-medium text-lg shadow-lg",children:[(0,Me.jsx)("span",{children:"Get Started with Instagram Advertising"}),(0,Me.jsx)(Ds,{className:"h-5 w-5"})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Designed for Business Success"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Js,{className:"h-8 w-8 text-blue-600"})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Enterprise Brands"}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Scale your Instagram advertising across multiple campaigns, markets, and objectives with centralized management and advanced reporting capabilities."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Zn,{className:"h-8 w-8 text-green-600"})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Growing Businesses"}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Leverage professional-grade advertising tools to reach new customers, drive website traffic, and increase sales with optimized budget allocation."})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(mt,{className:"h-8 w-8 text-purple-600"})}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Marketing Agencies"}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Manage Instagram advertising campaigns for multiple clients with white-label reporting, automated optimization, and detailed performance analytics."})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200 mb-8",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,Me.jsx)(tr,{className:"h-6 w-6 text-blue-600 mr-3"}),"Comprehensive Use Case Documentation"]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{title:"\ud83c\udfe2 Enterprise Marketing Teams",description:"Large organizations managing multiple Instagram advertising campaigns across different markets and product lines.",features:["Multi-account management","Advanced reporting","Team collaboration","Budget approval workflows"],example:"A global fashion retailer running seasonal campaigns across 15 countries with centralized oversight."},{title:"\ud83d\udcc8 Marketing Agencies",description:"Digital marketing agencies managing Instagram advertising for multiple clients with white-label solutions.",features:["Client management","White-label reporting","Permission-based access","Automated optimization"],example:"A digital agency managing 50+ client accounts with automated reporting and campaign optimization."},{title:"\ud83d\udecd\ufe0f E-commerce Businesses",description:"Online retailers using Instagram advertising to drive product discovery and sales conversions.",features:["Product catalog sync","Dynamic ads","Conversion tracking","ROI optimization"],example:"An online jewelry store using dynamic product ads to retarget website visitors with personalized recommendations."},{title:"\ud83d\udcf1 Mobile App Developers",description:"App developers promoting mobile applications through Instagram advertising to drive installs and engagement.",features:["App install campaigns","Deep linking","Event tracking","Lookalike audiences"],example:"A gaming company promoting their new mobile game with video ads targeting similar app users."},{title:"\ud83c\udf93 Educational Institutions",description:"Schools and universities using Instagram advertising for student recruitment and program promotion.",features:["Lead generation forms","Demographic targeting","Event promotion","Campus tour bookings"],example:"A university targeting high school students with program information and virtual campus tour sign-ups."},{title:"\ud83c\udfe5 Healthcare & Wellness",description:"Healthcare providers and wellness brands promoting services while maintaining compliance.",features:["Compliant targeting","Service promotion","Appointment booking","Educational content"],example:"A dental practice promoting preventive care services to local residents with appointment booking integration."}].map((e,t)=>(0,Me.jsxs)("div",{className:"border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:e.title}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-800 mb-2",children:"Key Features:"}),(0,Me.jsx)("ul",{className:"text-xs text-gray-600 space-y-1",children:e.features.map((e,t)=>(0,Me.jsxs)("li",{children:["\u2022 ",e]},t))})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-800 mb-1 text-xs",children:"Real-World Example:"}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:e.example})]})]},t))})]})]}),"requirements"===d&&(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Setup Requirements"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-8",children:"Please ensure you meet these requirements before connecting your Instagram advertising account"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,Me.jsx)(er,{className:"h-6 w-6 text-green-600 mr-3"}),"Prerequisites Checklist"]}),(0,Me.jsx)("div",{className:"space-y-4",children:[{title:"Facebook Business Manager Account",description:"You need an active Facebook Business Manager account to manage Instagram advertising.",link:"https://business.facebook.com",linkText:"Create Business Manager"},{title:"Facebook Ad Account with Active Billing",description:"A Facebook Ad Account with valid payment method is required to run Instagram campaigns.",link:"https://adsmanager.facebook.com/billing_hub/payment_methods",linkText:"Setup Payment Method",critical:!0},{title:"Instagram Business Account",description:"Your Instagram account must be converted to a Business or Creator account.",link:"https://help.instagram.com/502981923235522",linkText:"Convert to Business"},{title:"Instagram Connected to Facebook Page",description:"Your Instagram business account must be connected to a Facebook Page you manage.",link:"https://help.instagram.com/570895513091465",linkText:"Connect Accounts"},{title:"Admin Access to Facebook Page",description:"You need Admin-level access to the Facebook Page connected to your Instagram account.",link:"https://www.facebook.com/help/289207354498410",linkText:"Check Page Roles"}].map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-start space-x-4 p-4 border rounded-xl "+(e.critical?"border-red-200 bg-red-50":"border-gray-200"),children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+(e.critical?"bg-red-100":"bg-green-100"),children:(0,Me.jsx)(Je,{className:"h-4 w-4 "+(e.critical?"text-red-600":"text-green-600")})})}),(0,Me.jsxs)("div",{className:"flex-grow",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),e.critical&&(0,Me.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 mb-2",children:[(0,Me.jsx)(We,{className:"h-3 w-3 mr-1"}),"CRITICAL REQUIREMENT"]}),(0,Me.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:e.description}),(0,Me.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-700 text-sm mt-2",children:[(0,Me.jsx)(Dn,{className:"h-4 w-4 mr-1"}),e.linkText]})]})]},t))}),(0,Me.jsx)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)(We,{className:"h-6 w-6 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-yellow-900 mb-3",children:"\ud83d\udcb3 Payment Method Setup Guide"}),(0,Me.jsxs)("div",{className:"text-yellow-800 text-sm space-y-3",children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Why is this required?"}),' Facebook requires a valid payment method before any ads can run. Even if you create campaigns in "paused" state, the payment method must be active.']}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Supported Payment Methods:"}),(0,Me.jsxs)("ul",{className:"list-disc list-inside mt-1 ml-4",children:[(0,Me.jsx)("li",{children:"Credit Cards (Visa, Mastercard, American Express)"}),(0,Me.jsx)("li",{children:"Debit Cards (where supported)"}),(0,Me.jsx)("li",{children:"PayPal (in select regions)"}),(0,Me.jsx)("li",{children:"Bank transfers (for large accounts)"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Setup Steps:"}),(0,Me.jsxs)("ol",{className:"list-decimal list-inside mt-1 ml-4",children:[(0,Me.jsx)("li",{children:"Go to Facebook Ads Manager"}),(0,Me.jsx)("li",{children:'Click "Billing" in the menu'}),(0,Me.jsx)("li",{children:'Select "Payment Methods"'}),(0,Me.jsx)("li",{children:'Click "Add Payment Method"'}),(0,Me.jsx)("li",{children:"Enter your card details and save"})]})]})]})]})]})}),(0,Me.jsx)("div",{className:"mt-8 text-center",children:(0,Me.jsxs)("button",{onClick:()=>u("permissions"),className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2 mx-auto",children:[(0,Me.jsx)("span",{children:"Continue to Permissions"}),(0,Me.jsx)(Ds,{className:"h-5 w-5"})]})})]})]}),"permissions"===d&&(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Data Access & Permissions"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-8",children:"AirSpark requires specific permissions to provide professional Instagram advertising management services"})]}),(0,Me.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)(nn,{className:"h-8 w-8 text-blue-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Enterprise-Grade Security & Privacy"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-sm text-blue-800",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold mb-2",children:"\ud83d\udd12 Data Protection"}),(0,Me.jsxs)("ul",{className:"space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 All data encrypted in transit and at rest"}),(0,Me.jsx)("li",{children:"\u2022 SOC 2 Type II compliant infrastructure"}),(0,Me.jsx)("li",{children:"\u2022 GDPR and CCPA compliance"}),(0,Me.jsx)("li",{children:"\u2022 Regular security audits and monitoring"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold mb-2",children:"\ud83d\udee1\ufe0f Access Control"}),(0,Me.jsxs)("ul",{className:"space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 Role-based access controls"}),(0,Me.jsx)("li",{children:"\u2022 Two-factor authentication required"}),(0,Me.jsx)("li",{children:"\u2022 Activity logging and audit trails"}),(0,Me.jsx)("li",{children:"\u2022 Automatic session management"})]})]})]})]})]})}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,Me.jsx)(ht,{className:"h-6 w-6 text-green-600 mr-3"}),"Required Permissions & Business Justification"]}),(0,Me.jsx)("div",{className:"space-y-6",children:$_.map((e,t)=>(0,Me.jsxs)("div",{className:"border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-3 h-3 rounded-full "+(e.required?"bg-red-500":"bg-yellow-500")}),(0,Me.jsx)("code",{className:"text-sm font-mono bg-gray-100 px-2 py-1 rounded",children:e.name}),(0,Me.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(e.required?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.required?"Required":"Optional"})]})}),(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.purpose}),(0,Me.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,Me.jsxs)("div",{className:"text-sm",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-700",children:"Business Use Case: "}),(0,Me.jsx)("span",{className:"text-gray-600",children:e.businessUse})]})})]},t))}),(0,Me.jsx)("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-xl p-6",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)(Je,{className:"h-6 w-6 text-green-600 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-900 mb-2",children:"Your Data Rights"}),(0,Me.jsxs)("div",{className:"text-sm text-green-800 space-y-2",children:[(0,Me.jsx)("p",{children:"\u2022 You maintain full ownership of your advertising data and can revoke access at any time"}),(0,Me.jsx)("p",{children:"\u2022 AirSpark only accesses data necessary to provide advertising management services"}),(0,Me.jsx)("p",{children:"\u2022 All data processing complies with Meta's Platform Policies and applicable privacy laws"}),(0,Me.jsx)("p",{children:"\u2022 You can request data deletion or export your data at any time through our support team"})]})]})]})}),(0,Me.jsxs)("div",{className:"mt-8 text-center space-y-4",children:[(0,Me.jsxs)("button",{onClick:()=>p(!x),className:"text-blue-600 hover:text-blue-700 flex items-center space-x-2 mx-auto",children:[(0,Me.jsx)(tr,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"View Complete Privacy Policy & Terms"})]}),x&&(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 text-left",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Privacy Policy & Data Usage"}),(0,Me.jsxs)("div",{className:"text-sm text-gray-700 space-y-3",children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Data Collection:"})," AirSpark collects only the minimum data necessary to provide Instagram advertising management services, including campaign performance metrics, audience insights, and account information."]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Data Usage:"})," Your data is used exclusively to create, manage, and optimize your Instagram advertising campaigns. We do not share your data with third parties or use it for any purpose other than providing our services."]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Data Retention:"})," We retain your data only as long as necessary to provide our services or as required by law. You can request data deletion at any time."]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Security:"})," All data is encrypted, stored securely, and accessed only by authorized personnel for legitimate business purposes."]})]})]}),(0,Me.jsxs)("button",{onClick:()=>u("connect"),className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2 mx-auto",children:[(0,Me.jsx)("span",{children:"I Understand - Connect Account"}),(0,Me.jsx)(Ds,{className:"h-5 w-5"})]})]})]})]}),"connect"===d&&(0,Me.jsxs)("div",{className:"space-y-8",children:[re(),E&&de(),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connect Your Instagram Advertising Account"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-8",children:"Complete the connection process to start managing your Instagram advertising campaigns with AirSpark"})]}),(0,Me.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-200",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-pink-600 to-purple-600 rounded-2xl mb-6 shadow-lg",children:(0,Me.jsx)(un,{className:"h-10 w-10 text-white"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Secure OAuth Connection"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Click the button below to securely connect your Instagram advertising account through Meta's official OAuth system. This ensures your credentials remain secure and are never stored by AirSpark."}),(0,Me.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)(sr,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{className:"text-left",children:[(0,Me.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"What happens next?"}),(0,Me.jsxs)("ol",{className:"text-sm text-blue-800 space-y-2 list-decimal list-inside",children:[(0,Me.jsx)("li",{children:"You'll be redirected to Meta's secure login page"}),(0,Me.jsx)("li",{children:"Log in with your Facebook account credentials"}),(0,Me.jsx)("li",{children:"Review and approve the requested permissions"}),(0,Me.jsx)("li",{children:"You'll be redirected back to AirSpark with a secure connection"}),(0,Me.jsx)("li",{children:"Start creating and managing your Instagram advertising campaigns"})]})]})]})}),(0,Me.jsxs)("button",{onClick:ne,disabled:i,className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-8 py-4 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-3 mx-auto font-medium text-lg shadow-lg disabled:opacity-50",children:[i?(0,Me.jsx)(cn,{className:"h-6 w-6 animate-spin"}):(0,Me.jsx)(un,{className:"h-6 w-6"}),(0,Me.jsx)("span",{children:i?"Connecting...":"Connect Instagram Advertising Account"})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-4",children:"By connecting your account, you agree to AirSpark's Terms of Service and Privacy Policy"})]})})]}),"success"===d&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-2xl mb-6",children:(0,Me.jsx)(Je,{className:"h-10 w-10 text-green-600"})}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Successfully Connected!"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-8",children:"Your Instagram advertising account is now connected to AirSpark. You can start creating and managing campaigns."}),(0,Me.jsx)("button",{onClick:()=>u("dashboard"),className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200",children:"Go to Campaign Dashboard"})]})]})]})})]})},V_=Ve("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),W_=Ve("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const H_=function(){const e=te(),{currentUser:t,logout:s}=Le(),[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)({totalPosts:0,contentCalendars:0,publishedContent:0}),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{t&&t._id?async function(){u(!0);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars"),s=(await e.json()).filter(e=>e.customerId===t._id||e.customerId===t.id);let n=[];s.forEach(e=>{Array.isArray(e.contentItems)&&e.contentItems.forEach(t=>{n.push({...t,calendarName:e.name||"",id:t.id||t._id||Math.random().toString(36).slice(2),creator:t.assignedToName||t.assignedTo||e.assignedToName||e.assignedTo||""})})});const r=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/scheduled-posts");let a=await r.json();Array.isArray(a)||(a=[]);const i=a.filter(e=>(e.customerId===t._id||e.customerId===t.id)&&"published"===e.status),l=e=>i.some(t=>t.item_id&&t.item_id===e.id||t.contentId&&t.contentId===e.id||t.item_name&&t.item_name===e.title),d=n.length,u=s.length,m=n.filter(e=>l(e)).length;o({totalPosts:d,contentCalendars:u,publishedContent:m});const h=[...n].filter(e=>e.date).sort((e,t)=>new Date(t.date)-new Date(e.date)).slice(0,4).map(e=>({id:e.id,platform:e.title||e.description||e.creator||"Content",date:e.date,status:l(e)?"Published":e.status?e.status.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown"}));c(h)}catch(e){o({totalPosts:0,contentCalendars:0,publishedContent:0}),c([])}finally{u(!1)}}():u(!1)},[t]),d?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600 mx-auto"}),(0,Me.jsx)("div",{className:"absolute inset-0 rounded-full h-16 w-16 border-4 border-transparent border-r-blue-400 animate-ping mx-auto opacity-20"})]}),(0,Me.jsx)("p",{className:"mt-6 text-slate-600 font-medium",children:"Loading your dashboard..."})]})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("div",{className:"min-h-screen px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24",children:(0,Me.jsx)("div",{className:"w-full mx-auto py-8",children:(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-500 rounded-2xl shadow-xl",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iYSIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVHJhbnNmb3JtPSJyb3RhdGUoNDUpIj48cGF0aCBkPSJNLTEwIDMwaDYwIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMC41IiBvcGFjaXR5PSIwLjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=')] opacity-30"}),(0,Me.jsx)("div",{className:"relative px-8 py-10",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h1",{className:"text-4xl font-bold text-white mb-3 tracking-tight",children:["Welcome back",null!==t&&void 0!==t&&t.name?`, ${t.name}`:"","!"]}),(0,Me.jsxs)("p",{className:"text-blue-50 text-lg font-medium flex items-center gap-2",children:[(0,Me.jsx)(lt,{className:"h-5 w-5"}),"Track and manage your social media content effectively"]}),(0,Me.jsx)("p",{className:"text-blue-100/80 text-sm mt-2",children:bs(new Date,"EEEE, MMMM dd, yyyy")})]}),(0,Me.jsx)("div",{className:"hidden lg:block",children:(0,Me.jsx)("div",{className:"w-32 h-32 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center border-4 border-white/20",children:(0,Me.jsx)(ut,{className:"h-16 w-16 text-white"})})})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"group relative bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 cursor-pointer overflow-hidden border border-slate-200",onClick:()=>e(""),children:[(0,Me.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-500/10 to-blue-500/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),(0,Me.jsxs)("div",{className:"relative p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:(0,Me.jsx)(V_,{className:"h-7 w-7 text-white"})}),(0,Me.jsx)(W_,{className:"h-5 w-5 text-slate-400 group-hover:text-indigo-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-300"})]}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-1",children:"Total Posts"}),(0,Me.jsx)("p",{className:"text-4xl font-bold text-slate-800 mb-1",children:i.totalPosts}),(0,Me.jsx)("p",{className:"text-xs text-slate-500",children:"All content items"})]})]}),(0,Me.jsxs)("div",{className:"group relative bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 cursor-pointer overflow-hidden border border-slate-200",onClick:()=>e("/customer/calendar"),children:[(0,Me.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),(0,Me.jsxs)("div",{className:"relative p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:(0,Me.jsx)(xt,{className:"h-7 w-7 text-white"})}),(0,Me.jsx)(W_,{className:"h-5 w-5 text-slate-400 group-hover:text-blue-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-300"})]}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-1",children:"Content Calendars"}),(0,Me.jsx)("p",{className:"text-4xl font-bold text-slate-800 mb-1",children:i.contentCalendars}),(0,Me.jsx)("p",{className:"text-xs text-slate-500",children:"Active calendars"})]})]}),(0,Me.jsxs)("div",{className:"group relative bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 cursor-pointer overflow-hidden border border-slate-200",onClick:()=>e(""),children:[(0,Me.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),(0,Me.jsxs)("div",{className:"relative p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:(0,Me.jsx)(gt,{className:"h-7 w-7 text-white"})}),(0,Me.jsx)(W_,{className:"h-5 w-5 text-slate-400 group-hover:text-emerald-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-300"})]}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-1",children:"Published Content"}),(0,Me.jsx)("p",{className:"text-4xl font-bold text-slate-800 mb-1",children:i.publishedContent}),(0,Me.jsx)("p",{className:"text-xs text-slate-500",children:"Live posts"})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 px-6 py-5 border-b border-slate-200",children:(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(on,{className:"h-5 w-5 text-indigo-600"})}),(0,Me.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Recent Activity"})]})}),(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsx)("div",{className:"space-y-3",children:0===l.length?(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(lt,{className:"h-8 w-8 text-slate-400"})}),(0,Me.jsx)("p",{className:"text-slate-500 font-medium",children:"No recent activity"}),(0,Me.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Your content activity will appear here"})]}):l.map(e=>(0,Me.jsx)("div",{className:"group flex items-center justify-between p-4 bg-gradient-to-r from-slate-50 to-blue-50/50 hover:from-blue-50 hover:to-indigo-50 rounded-xl border border-slate-100 hover:border-indigo-200 transition-all duration-200",children:(0,Me.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-indigo-100 group-hover:bg-indigo-200 rounded-lg flex items-center justify-center transition-colors duration-200",children:(0,Me.jsx)(Ps,{className:"h-5 w-5 text-indigo-600"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-semibold text-slate-800 text-sm group-hover:text-indigo-700 transition-colors",children:e.platform}),(0,Me.jsxs)("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[(0,Me.jsx)(xt,{className:"h-3 w-3"}),e.date?bs(new Date(e.date),"MMM dd, yyyy"):"N/A"]})]})]})},e.id))})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 px-6 py-5 border-b border-slate-200",children:(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(ut,{className:"h-5 w-5 text-blue-600"})}),(0,Me.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Quick Actions"})]})}),(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("button",{onClick:()=>e("/customer/calendar"),className:"group w-full flex items-center p-4 text-left bg-gradient-to-r from-indigo-50 to-blue-50 hover:from-indigo-100 hover:to-blue-100 rounded-xl transition-all duration-200 border border-indigo-100 hover:border-indigo-200 hover:shadow-md",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-200",children:(0,Me.jsx)(xt,{className:"h-6 w-6 text-white"})}),(0,Me.jsx)("span",{className:"ml-4 font-semibold text-slate-800 group-hover:text-indigo-700 transition-colors",children:"View Content Calendar"}),(0,Me.jsx)(W_,{className:"ml-auto h-5 w-5 text-slate-400 group-hover:text-indigo-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-200"})]}),(0,Me.jsxs)("button",{onClick:()=>e("/customer/content-review"),className:"group w-full flex items-center p-4 text-left bg-gradient-to-r from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 rounded-xl transition-all duration-200 border border-blue-100 hover:border-blue-200 hover:shadow-md",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-200",children:(0,Me.jsx)(fn,{className:"h-6 w-6 text-white"})}),(0,Me.jsx)("span",{className:"ml-4 font-semibold text-slate-800 group-hover:text-blue-700 transition-colors",children:"Review Content"}),(0,Me.jsx)(W_,{className:"ml-auto h-5 w-5 text-slate-400 group-hover:text-blue-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-200"})]}),(0,Me.jsxs)("button",{onClick:()=>e("/customer/media-library"),className:"group w-full flex items-center p-4 text-left bg-gradient-to-r from-violet-50 to-purple-50 hover:from-violet-100 hover:to-purple-100 rounded-xl transition-all duration-200 border border-violet-100 hover:border-violet-200 hover:shadow-md",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-500 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-200",children:(0,Me.jsx)(gn,{className:"h-6 w-6 text-white"})}),(0,Me.jsx)("span",{className:"ml-4 font-semibold text-slate-800 group-hover:text-violet-700 transition-colors",children:"Manage Media Library"}),(0,Me.jsx)(W_,{className:"ml-auto h-5 w-5 text-slate-400 group-hover:text-violet-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-200"})]}),(0,Me.jsxs)("button",{onClick:()=>e("/customer/roi-dashboard"),className:"group w-full flex items-center p-4 text-left bg-gradient-to-r from-emerald-50 to-teal-50 hover:from-emerald-100 hover:to-teal-100 rounded-xl transition-all duration-200 border border-emerald-100 hover:border-emerald-200 hover:shadow-md",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform duration-200",children:(0,Me.jsx)(ft,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"ml-4 flex flex-col flex-1",children:[(0,Me.jsx)("span",{className:"font-semibold text-slate-800 group-hover:text-emerald-700 transition-colors",children:"ROI Analytics Dashboard"}),(0,Me.jsx)("span",{className:"text-xs text-slate-500 mt-0.5",children:"Comprehensive social media ROI tracking"})]}),(0,Me.jsx)(W_,{className:"ml-2 h-5 w-5 text-slate-400 group-hover:text-emerald-600 group-hover:translate-x-1 group-hover:-translate-y-1 transition-all duration-200"})]})]})})]})]})]})})}),n&&(0,Me.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})},q_=e=>{switch(e){case"instagram":return(0,Me.jsx)(un,{className:"h-5 w-5 text-pink-600"});case"facebook":return(0,Me.jsx)(dn,{className:"h-5 w-5 text-blue-600"});case"linkedin":return(0,Me.jsx)(yn,{className:"h-5 w-5 text-blue-700"});case"youtube":return(0,Me.jsx)(vn,{className:"h-5 w-5 text-red-600"});default:return null}},Y_=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"draft":default:return"bg-gray-100 text-gray-800";case"scheduled":return"bg-blue-100 text-blue-800";case"waiting_input":return"bg-orange-100 text-orange-800"}},G_=e=>{if(!e)return"";switch(e){case"published":return"Published";case"waiting_input":return"Waiting Input";default:return e.replace("_"," ").charAt(0).toUpperCase()+e.slice(1)}};const K_=function(){var e,t,s;te();const[n,a]=(0,r.useState)(null),[i,o]=(0,r.useState)("all"),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0),[x,p]=(0,r.useState)([]);let g=null;try{g=JSON.parse(localStorage.getItem("user"))}catch{g=null}const f=(null===(e=g)||void 0===e?void 0:e.id)||(null===(t=g)||void 0===t?void 0:t._id);null===(s=g)||void 0===s||s.name,(0,r.useEffect)(()=>{f&&(async()=>{h(!0);try{const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/customer/${f}`),t=await e.json();u(t);const s=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars"),n=(await s.json()).filter(e=>e.customerId===f);c(n);const r=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/scheduled-posts");let a=await r.json();Array.isArray(a)||(a=[]);const i=a.filter(e=>e.customerId===f&&"published"===e.status);p(i)}catch(e){u(null),c([]),p([])}finally{h(!1)}})()},[f]);const b=e=>x.filter(t=>t.item_id&&t.item_id===e.id||t.contentId&&t.contentId===e.id||t.item_name&&t.item_name===e.title).map(e=>e.platform);let v=[];l.forEach(e=>{Array.isArray(e.contentItems)&&e.contentItems.forEach(t=>{const s=(e=>x.some(t=>t.item_id&&t.item_id===e.id||t.contentId&&t.contentId===e.id||t.item_name&&t.item_name===e.title))(t);v.push({...t,calendarName:e.name||"",id:t.id||t._id||Math.random().toString(36).slice(2),creator:t.assignedToName||t.assignedTo||e.assignedToName||e.assignedTo||"",status:s?"published":t.status,publishedPlatforms:s?b(t):[]})})});const y=[..."all"===i?v:v.filter(e=>e.status===i)].sort((e,t)=>"all"===i?0:e.status===i&&t.status!==i?-1:e.status!==i&&t.status===i?1:0);return m?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center text-gray-500",children:"Loading..."}):d?(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("div",{className:"px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24 py-8",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,Me.jsx)("div",{className:"lg:w-1/4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[(0,Me.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,Me.jsx)(xt,{className:"h-5 w-5 text-indigo-600"}),"Content Calendars"]}),(0,Me.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>{var s;return(0,Me.jsxs)("button",{onClick:()=>{},className:"w-full text-left p-4 rounded-xl bg-gradient-to-r from-indigo-600 to-blue-600 text-white hover:from-indigo-700 hover:to-blue-700 transition-all shadow-md hover:shadow-lg",children:[(0,Me.jsx)("div",{className:"font-semibold",children:e.name}),(0,Me.jsxs)("div",{className:"text-sm opacity-90 mt-1",children:[(null===(s=e.contentItems)||void 0===s?void 0:s.length)||0," items"]})]},e._id||t)})})]})}),(0,Me.jsx)("div",{className:"lg:w-3/4",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border border-slate-200",children:[(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h2",{className:"text-2xl font-bold text-slate-800",children:[d.name,"'s Content Calendar"]}),(0,Me.jsx)("p",{className:"text-slate-600 text-sm mt-1",children:"Manage your content schedule"})]}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"All",color:"from-slate-100 to-blue-100",textColor:"text-slate-700",activeColor:"from-indigo-600 to-blue-600",activeText:"text-white"},{key:"published",label:"Published",color:"from-emerald-100 to-green-100",textColor:"text-emerald-700",activeColor:"from-emerald-600 to-green-600",activeText:"text-white"},{key:"under_review",label:"Under Review",color:"from-amber-100 to-yellow-100",textColor:"text-amber-700",activeColor:"from-amber-600 to-yellow-600",activeText:"text-white"},{key:"scheduled",label:"Scheduled",color:"from-blue-100 to-cyan-100",textColor:"text-blue-700",activeColor:"from-blue-600 to-cyan-600",activeText:"text-white"},{key:"waiting_input",label:"Waiting Input",color:"from-orange-100 to-red-100",textColor:"text-orange-700",activeColor:"from-orange-600 to-red-600",activeText:"text-white"},{key:"draft",label:"Draft",color:"from-gray-100 to-slate-100",textColor:"text-gray-700",activeColor:"from-gray-600 to-slate-600",activeText:"text-white"}].map(e=>(0,Me.jsx)("button",{onClick:()=>o(e.key),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold transition-all shadow-sm hover:shadow-md\n                        "+(i===e.key?`bg-gradient-to-r ${e.activeColor} ${e.activeText} border border-transparent`:`bg-gradient-to-r ${e.color} ${e.textColor} border border-transparent hover:scale-105`),children:e.label},e.key))})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[y.map(e=>(0,Me.jsxs)("div",{className:`border-2 rounded-xl p-5 transition-all duration-200 ${"published"===e.status?"cursor-pointer hover:shadow-lg hover:border-indigo-300 bg-gradient-to-r from-white to-blue-50/30":"bg-white"} border-slate-200 hover:border-indigo-200`,onClick:()=>(e=>{a(e)})(e),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)("span",{className:"text-slate-600 font-medium",children:bs(new Date(e.date),"MMM dd, yyyy")}),"published"===e.status?(0,Me.jsxs)("span",{className:"px-4 py-1.5 rounded-full text-sm font-semibold flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white shadow-md",children:[(0,Me.jsx)(Je,{className:"h-4 w-4"}),"Published",e.publishedPlatforms&&e.publishedPlatforms.length>0&&(0,Me.jsx)("span",{className:"ml-1 text-xs bg-white/20 px-2 py-0.5 rounded-full",children:e.publishedPlatforms.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", ")})]}):(0,Me.jsx)("span",{className:`px-4 py-1.5 rounded-full text-sm font-semibold ${Y_(e.status)}`,children:G_(e.status)})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-1 text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-lg",children:[(0,Me.jsx)(fn,{className:"h-4 w-4"}),(0,Me.jsx)("span",{className:"font-semibold",children:e.commentCount||0})]}),"published"===e.status&&(0,Me.jsx)("div",{className:"p-2 bg-slate-100 rounded-lg",children:(0,Me.jsx)(Ke,{className:"h-4 w-4 text-slate-600"})})]})]}),(0,Me.jsx)("p",{className:"text-slate-700 mb-3 font-medium",children:e.description}),e.creator&&(0,Me.jsxs)("div",{className:"text-xs text-[#38bdf8] mb-2",children:["Assigned to: ",(0,Me.jsx)("span",{className:"font-semibold",children:e.creator})]}),(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(e.platforms||[]).map(e=>(0,Me.jsx)("div",{className:"text-[#0a2342]/60",children:q_(e)},e))})]},e.id)),0===y.length&&(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)(We,{className:"h-12 w-12 text-[#38bdf8] mx-auto mb-3"}),(0,Me.jsx)("p",{className:"text-[#0a2342]/70",children:"No content items found in this calendar."})]})]})]})})]})}),n&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-[#0a2342]/70 flex items-center justify-center p-4 z-50",children:(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-4 text-[#0a2342]",children:"Content Details"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-[#38bdf8]",children:"Date"}),(0,Me.jsx)("p",{className:"font-medium text-[#0a2342]",children:bs(new Date(n.date),"MMMM dd, yyyy")})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-[#38bdf8]",children:"Description"}),(0,Me.jsx)("p",{className:"font-medium text-[#0a2342]",children:n.description})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm text-[#38bdf8]",children:"Published On"}),(0,Me.jsx)("div",{className:"flex items-center space-x-3 mt-2",children:(n.publishedPlatforms||n.platforms||[]).map(e=>(0,Me.jsxs)("div",{className:"flex items-center space-x-2 bg-[#bae6fd] px-3 py-2 rounded-md",children:[q_(e),(0,Me.jsx)("span",{className:"capitalize text-[#0a2342]",children:e})]},e))})]})]}),(0,Me.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Me.jsx)("button",{onClick:()=>a(null),className:"px-4 py-2 bg-[#bae6fd] text-[#0a2342] rounded-md hover:bg-[#38bdf8]/20",children:"Close"})})]})})})]}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center text-red-500",children:"Customer not found."})},J_=Ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Q_=Ve("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var X_=["axis"],Z_=(0,r.forwardRef)((e,t)=>r.createElement(Sj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:X_,tooltipPayloadSearcher:Ai,categoricalChartProps:e,ref:t})),eC=["x1","y1","x2","y2","key"],tC=["offset"],sC=["xAxisId","yAxisId"],nC=["xAxisId","yAxisId"];function rC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function aC(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?rC(Object(s),!0).forEach(function(t){iC(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):rC(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function iC(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function oC(){return oC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},oC.apply(null,arguments)}function lC(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var cC=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:s,x:n,y:a,width:i,height:o,ry:l}=e;return r.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function dC(e,t){var s;if(r.isValidElement(e))s=r.cloneElement(e,t);else if("function"===typeof e)s=e(t);else{var{x1:n,y1:a,x2:i,y2:o,key:l}=t,c=lC(t,eC),d=By(c,!1),{offset:u}=d,m=lC(d,tC);s=r.createElement("line",oC({},m,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return s}function uC(e){var{x:t,width:s,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=lC(e,sC),c=a.map((e,r)=>{var a=aC(aC({},l),{},{x1:t,y1:e,x2:t+s,y2:e,key:"line-".concat(r),index:r});return dC(n,a)});return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function mC(e){var{y:t,height:s,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=lC(e,nC),c=a.map((e,r)=>{var a=aC(aC({},l),{},{x1:e,y1:t,x2:e,y2:t+s,key:"line-".concat(r),index:r});return dC(n,a)});return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function hC(e){var{horizontalFill:t,fillOpacity:s,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==d[0]&&d.unshift(0);var u=d.map((e,l)=>{var c=!d[l+1]?a+o-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:n,height:c,width:i,stroke:"none",fill:t[u],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function xC(e){var{vertical:t=!0,verticalFill:s,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!s||!s.length)return null;var d=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==d[0]&&d.unshift(0);var u=d.map((e,t)=>{var c=!d[t+1]?a+o-e:d[t+1]-e;if(c<=0)return null;var u=t%s.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:c,height:l,stroke:"none",fill:s[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var pC=(e,t)=>{var{xAxis:s,width:n,height:r,offset:a}=e;return Hl(Cw(aC(aC(aC({},Dw.defaultProps),s),{},{ticks:ql(s,!0),viewBox:{x:0,y:0,width:n,height:r}})),a.left,a.left+a.width,t)},gC=(e,t)=>{var{yAxis:s,width:n,height:r,offset:a}=e;return Hl(Cw(aC(aC(aC({},Dw.defaultProps),s),{},{ticks:ql(s,!0),viewBox:{x:0,y:0,width:n,height:r}})),a.top,a.top+a.height,t)},fC={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function bC(e){var t=Ac(),s=Pc(),n=Cc(),a=aC(aC({},jj(e,fC)),{},{x:xr(e.x)?e.x:n.left,y:xr(e.y)?e.y:n.top,width:xr(e.width)?e.width:n.width,height:xr(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:m,horizontalValues:h,verticalValues:x}=a,p=wc(),g=vl(e=>Mf(e,"xAxis",i,p)),f=vl(e=>Mf(e,"yAxis",o,p));if(!xr(d)||d<=0||!xr(u)||u<=0||!xr(l)||l!==+l||!xr(c)||c!==+c)return null;var b=a.verticalCoordinatesGenerator||pC,v=a.horizontalCoordinatesGenerator||gC,{horizontalPoints:y,verticalPoints:j}=a;if((!y||!y.length)&&"function"===typeof v){var w=h&&h.length,N=v({yAxis:f?aC(aC({},f),{},{ticks:w?h:f.ticks}):void 0,width:t,height:s,offset:n},!!w||m);Sr(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(y=N)}if((!j||!j.length)&&"function"===typeof b){var k=x&&x.length,S=b({xAxis:g?aC(aC({},g),{},{ticks:k?x:g.ticks}):void 0,width:t,height:s,offset:n},!!k||m);Sr(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(j=S)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(cC,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),r.createElement(hC,oC({},a,{horizontalPoints:y})),r.createElement(xC,oC({},a,{verticalPoints:j})),r.createElement(uC,oC({},a,{offset:n,horizontalPoints:y,xAxis:g,yAxis:f})),r.createElement(mC,oC({},a,{offset:n,verticalPoints:j,xAxis:g,yAxis:f})))}bC.displayName="CartesianGrid";var vC=(e,t,s,n)=>zf(e,"xAxis",t,n),yC=(e,t,s,n)=>Ff(e,"xAxis",t,n),jC=(e,t,s,n)=>zf(e,"yAxis",s,n),wC=(e,t,s,n)=>Ff(e,"yAxis",s,n),NC=dl([Oc,vC,jC,yC,wC],(e,t,s,n,r)=>Wl(e,"xAxis")?rc(t,n,!1):rc(s,r,!1)),kC=dl([mg,(e,t,s,n,r)=>r],(e,t)=>{if(e.some(e=>"area"===e.type&&t.dataKey===e.dataKey&&Ql(t.stackId)===e.stackId&&t.data===e.data))return t}),SC=dl([Oc,vC,jC,yC,wC,(e,t,s,n,r)=>{var a,i,o=Oc(e);if(null!=(i=Wl(o,"xAxis")?Ag(e,"yAxis",s,n):Ag(e,"xAxis",t,n))){var{dataKey:l,stackId:c}=r;if(null!=c){var d=null===(a=i[c])||void 0===a?void 0:a.stackedData;return null===d||void 0===d?void 0:d.find(e=>e.key===l)}}},Hx,NC,kC],(e,t,s,n,r,a,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=i;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=s&&null!=n&&null!=r&&0!==n.length&&0!==r.length&&null!=o){var m,{data:h}=l;if(null!=(m=h&&h.length>0?h:null===c||void 0===c?void 0:c.slice(d,u+1))){return function(e){var t,{areaSettings:{connectNulls:s,baseValue:n,dataKey:r},stackedData:a,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:m,yAxisTicks:h,bandSize:x}=e,p=a&&a.length,g=qC(i,o,n,l,c),f="horizontal"===i,b=!1,v=d.map((e,t)=>{var n;p?n=a[u+t]:(n=Vl(e,r),Array.isArray(n)?b=!0:n=[g,n]);var i=null==n[1]||p&&!s&&null==Vl(e,r);return f?{x:Xl({axis:l,ticks:m,bandSize:x,entry:e,index:t}),y:i?null:c.scale(n[1]),value:n,payload:e}:{x:i?null:l.scale(n[1]),y:Xl({axis:c,ticks:h,bandSize:x,entry:e,index:t}),value:n,payload:e}});t=p||b?v.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return f?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null}:{x:null!=t?l.scale(t):null,y:e.y}}):f?c.scale(g):l.scale(g);return{points:v,baseLine:t,isRange:b}}({layout:e,xAxis:t,yAxis:s,xAxisTicks:n,yAxisTicks:r,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:m,chartBaseValue:undefined,bandSize:o})}}}),_C=["layout","type","stroke","connectNulls","isRange"],CC=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function AC(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function PC(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function EC(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?PC(Object(s),!0).forEach(function(t){OC(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):PC(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function OC(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},IC.apply(null,arguments)}function TC(e,t){return e&&"none"!==e?e:t}var MC=e=>{var{dataKey:t,name:s,stroke:n,fill:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:TC(n,r),value:ic(s,t),payload:e}]};function DC(e){var{dataKey:t,data:s,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:ic(i,t),hide:o,type:e.tooltipType,color:TC(n,a),unit:l}}}function LC(e){var{clipPathId:t,points:s,props:n}=e,{needClip:a,dot:i,dataKey:o}=n;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(s,i))return null;var l=$y(i),c=By(n,!1),d=By(i,!0),u=s.map((e,t)=>{var n=EC(EC(EC({key:"dot-".concat(t),r:3},c),d),{},{index:t,cx:e.x,cy:e.y,dataKey:o,value:e.value,payload:e.payload,points:s});return((e,t)=>{var s;if(r.isValidElement(e))s=r.cloneElement(e,t);else if("function"===typeof e)s=e(t);else{var n=ir("recharts-area-dot","boolean"!==typeof e?e.className:"");s=r.createElement(xS,IC({},t,{className:n}))}return s})(i,n)}),m={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return r.createElement(Oj,IC({className:"recharts-area-dots"},m),u)}function RC(e){var{points:t,baseLine:s,needClip:n,clipPathId:a,props:i,showLabels:o}=e,{layout:l,type:c,stroke:d,connectNulls:u,isRange:m}=i,h=AC(i,_C);return r.createElement(r.Fragment,null,(null===t||void 0===t?void 0:t.length)>1&&r.createElement(Oj,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},r.createElement(sk,IC({},By(h,!0),{points:t,connectNulls:u,type:c,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==d&&r.createElement(sk,IC({},By(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:t})),"none"!==d&&m&&r.createElement(sk,IC({},By(i,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:s}))),r.createElement(LC,{points:t,props:i,clipPathId:a}),o&&SS.renderCallByParent(i,t))}function FC(e){var{alpha:t,baseLine:s,points:n,strokeWidth:a}=e,i=n[0].y,o=n[n.length-1].y;if(!qx(i)||!qx(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(e=>e.x||0));return xr(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(e=>e.x||0),c)),xr(c)?r.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(l)}):null}function zC(e){var{alpha:t,baseLine:s,points:n,strokeWidth:a}=e,i=n[0].x,o=n[n.length-1].x;if(!qx(i)||!qx(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(e=>e.y||0));return xr(s)?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(...s.map(e=>e.y||0),c)),xr(c)?r.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function UC(e){var{alpha:t,layout:s,points:n,baseLine:a,strokeWidth:i}=e;return"vertical"===s?r.createElement(FC,{alpha:t,points:n,baseLine:a,strokeWidth:i}):r.createElement(zC,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function $C(e){var{needClip:t,clipPathId:s,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:m,onAnimationStart:h,onAnimationEnd:x}=n,p=u_(n,"recharts-area-"),[g,f]=(0,r.useState)(!0),b=(0,r.useCallback)(()=>{"function"===typeof x&&x(),f(!1)},[x]),v=(0,r.useCallback)(()=>{"function"===typeof h&&h(),f(!0)},[h]),y=a.current,j=i.current;return r.createElement(Fk,{begin:d,duration:u,isActive:c,easing:m,from:{t:0},to:{t:1},onAnimationEnd:b,onAnimationStart:v,key:p},e=>{var{t:c}=e;if(y){var d,u=y.length/o.length,m=1===c?o:o.map((e,t)=>{var s=Math.floor(t*u);if(y[s]){var n=y[s];return EC(EC({},e),{},{x:jr(n.x,e.x,c),y:jr(n.y,e.y,c)})}return e});return d=xr(l)?jr(j,l,c):Nr(l)||mr(l)?jr(j,0,c):l.map((e,t)=>{var s=Math.floor(t*u);if(Array.isArray(j)&&j[s]){var n=j[s];return EC(EC({},e),{},{x:jr(n.x,e.x,c),y:jr(n.y,e.y,c)})}return e}),c>0&&(a.current=m,i.current=d),r.createElement(RC,{points:m,baseLine:d,needClip:t,clipPathId:s,props:n,showLabels:!g})}return c>0&&(a.current=o,i.current=l),r.createElement(Oj,null,r.createElement("defs",null,r.createElement("clipPath",{id:"animationClipPath-".concat(s)},r.createElement(UC,{alpha:c,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),r.createElement(Oj,{clipPath:"url(#animationClipPath-".concat(s,")")},r.createElement(RC,{points:o,baseLine:l,needClip:t,clipPathId:s,props:n,showLabels:!0})))})}function BC(e){var{needClip:t,clipPathId:s,props:n}=e,{points:a,baseLine:i,isAnimationActive:o}=n,l=(0,r.useRef)(null),c=(0,r.useRef)(),d=l.current,u=c.current;return o&&a&&a.length&&(d!==a||u!==i)?r.createElement($C,{needClip:t,clipPathId:s,props:n,previousPointsRef:l,previousBaselineRef:c}):r.createElement(RC,{points:a,baseLine:i,needClip:t,clipPathId:s,props:n,showLabels:!0})}class VC extends r.PureComponent{constructor(){super(...arguments),OC(this,"id",fr("recharts-area-"))}render(){var e,{hide:t,dot:s,points:n,className:a,top:i,left:o,needClip:l,xAxisId:c,yAxisId:d,width:u,height:m,id:h,baseLine:x}=this.props;if(t)return null;var p=ir("recharts-area",a),g=Nr(h)?this.id:h,{r:f=3,strokeWidth:b=2}=null!==(e=By(s,!1))&&void 0!==e?e:{r:3,strokeWidth:2},v=$y(s),y=2*f+b;return r.createElement(r.Fragment,null,r.createElement(Oj,{className:p},l&&r.createElement("defs",null,r.createElement(e_,{clipPathId:g,xAxisId:c,yAxisId:d}),!v&&r.createElement("clipPath",{id:"clipPath-dots-".concat(g)},r.createElement("rect",{x:o-y/2,y:i-y/2,width:u+y,height:m+y}))),r.createElement(BC,{needClip:l,clipPathId:g,props:this.props})),r.createElement(QS,{points:n,mainColor:TC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(x)&&r.createElement(QS,{points:x,mainColor:TC(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var WC={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ij,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function HC(e){var t,s=jj(e,WC),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:m,isAnimationActive:h,legendType:x,stroke:p,xAxisId:g,yAxisId:f}=s,b=AC(s,CC),v=Ic(),y=Qb(),{needClip:j}=ZS(g,f),w=wc(),N=(0,r.useMemo)(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:l,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,l,e.data,e.dataKey]),{points:k,isRange:S,baseLine:_}=null!==(t=vl(e=>SC(e,g,f,w,N)))&&void 0!==t?t:{},{height:C,width:A,x:P,y:E}=xj();return"horizontal"!==v&&"vertical"!==v||"AreaChart"!==y&&"ComposedChart"!==y?null:r.createElement(VC,IC({},b,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:_,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:C,hide:m,layout:v,isAnimationActive:h,isRange:S,legendType:x,needClip:j,points:k,stroke:p,width:A,left:P,top:E,xAxisId:g,yAxisId:f}))}var qC=(e,t,s,n,r)=>{var a=null!==s&&void 0!==s?s:t;if(xr(a))return a;var i="horizontal"===e?r:n,o=i.scale.domain();if("number"===i.type){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===a?c:"dataMax"===a||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===a?o[0]:"dataMax"===a?o[1]:o[0]};class YC extends r.PureComponent{render(){return r.createElement(RS,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},r.createElement(c_,{legendPayload:MC(this.props)}),r.createElement(XS,{fn:DC,args:this.props}),r.createElement(HC,this.props))}}OC(YC,"displayName","Area"),OC(YC,"defaultProps",WC);var GC=["axis","item"],KC=(0,r.forwardRef)((e,t)=>r.createElement(Sj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:GC,tooltipPayloadSearcher:Ai,categoricalChartProps:e,ref:t})),JC=e=>null;JC.displayName="Cell";var QC="Invariant failed";var XC=s(9397),ZC=s.n(XC);function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},eA.apply(null,arguments)}var tA=(e,t,s,n,r)=>{var a,i=s-n;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+s,",").concat(t),a+="L ".concat(e+s-i/2,",").concat(t+r),a+="L ".concat(e+s-i/2-n,",").concat(t+r),a+="L ".concat(e,",").concat(t," Z")},sA={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nA=e=>{var t=jj(e,sA),s=(0,r.useRef)(),[n,a]=(0,r.useState)(-1);(0,r.useEffect)(()=>{if(s.current&&s.current.getTotalLength)try{var e=s.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:d,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:x,isUpdateAnimationActive:p}=t;if(i!==+i||o!==+o||l!==+l||c!==+c||d!==+d||0===l&&0===c||0===d)return null;var g=ir("recharts-trapezoid",u);return p?r.createElement(Fk,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:i,y:o},duration:h,animationEasing:m,isActive:p},e=>{var{upperWidth:a,lowerWidth:i,height:o,x:l,y:c}=e;return r.createElement(Fk,{canBegin:n>0,from:"0px ".concat(-1===n?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:h,easing:m},r.createElement("path",eA({},By(t,!0),{className:g,d:tA(l,c,a,i,o),ref:s})))}):r.createElement("g",null,r.createElement("path",eA({},By(t,!0),{className:g,d:tA(i,o,l,c,d)})))};Math.abs,Math.atan2;const rA=Math.cos,aA=(Math.max,Math.min,Math.sin),iA=Math.sqrt,oA=Math.PI,lA=2*oA;const cA={draw(e,t){const s=iA(t/oA);e.moveTo(s,0),e.arc(0,0,s,0,lA)}},dA={draw(e,t){const s=iA(t/5)/2;e.moveTo(-3*s,-s),e.lineTo(-s,-s),e.lineTo(-s,-3*s),e.lineTo(s,-3*s),e.lineTo(s,-s),e.lineTo(3*s,-s),e.lineTo(3*s,s),e.lineTo(s,s),e.lineTo(s,3*s),e.lineTo(-s,3*s),e.lineTo(-s,s),e.lineTo(-3*s,s),e.closePath()}},uA=iA(1/3),mA=2*uA,hA={draw(e,t){const s=iA(t/mA),n=s*uA;e.moveTo(0,-s),e.lineTo(n,0),e.lineTo(0,s),e.lineTo(-n,0),e.closePath()}},xA={draw(e,t){const s=iA(t),n=-s/2;e.rect(n,n,s,s)}},pA=aA(oA/10)/aA(7*oA/10),gA=aA(lA/10)*pA,fA=-rA(lA/10)*pA,bA={draw(e,t){const s=iA(.8908130915292852*t),n=gA*s,r=fA*s;e.moveTo(0,-s),e.lineTo(n,r);for(let a=1;a<5;++a){const t=lA*a/5,i=rA(t),o=aA(t);e.lineTo(o*s,-i*s),e.lineTo(i*n-o*r,o*n+i*r)}e.closePath()}},vA=iA(3),yA={draw(e,t){const s=-iA(t/(3*vA));e.moveTo(0,2*s),e.lineTo(-vA*s,-s),e.lineTo(vA*s,-s),e.closePath()}},jA=-.5,wA=iA(3)/2,NA=1/iA(12),kA=3*(NA/2+1),SA={draw(e,t){const s=iA(t/kA),n=s/2,r=s*NA,a=n,i=s*NA+s,o=-a,l=i;e.moveTo(n,r),e.lineTo(a,i),e.lineTo(o,l),e.lineTo(jA*n-wA*r,wA*n+jA*r),e.lineTo(jA*a-wA*i,wA*a+jA*i),e.lineTo(jA*o-wA*l,wA*o+jA*l),e.lineTo(jA*n+wA*r,jA*r-wA*n),e.lineTo(jA*a+wA*i,jA*i-wA*a),e.lineTo(jA*o+wA*l,jA*l-wA*o),e.closePath()}};iA(3),iA(3);var _A=["type","size","sizeType"];function CA(){return CA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},CA.apply(null,arguments)}function AA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function PA(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?AA(Object(s),!0).forEach(function(t){EA(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):AA(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function EA(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var OA={symbolCircle:cA,symbolCross:dA,symbolDiamond:hA,symbolSquare:xA,symbolStar:bA,symbolTriangle:yA,symbolWye:SA},IA=Math.PI/180,TA=e=>{var{type:t="circle",size:s=64,sizeType:n="area"}=e,a=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,_A),i=PA(PA({},a),{},{type:t,size:s,sizeType:n}),{className:o,cx:l,cy:c}=i,d=By(i,!0);return l===+l&&c===+c&&s===+s?r.createElement("path",CA({},d,{className:ir("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(kr(e));return OA[t]||cA})(t),r=function(e,t){let s=null,n=BN(r);function r(){let r;if(s||(s=r=n()),e.apply(this,arguments).draw(s,+t.apply(this,arguments)),r)return s=null,r+""||null}return e="function"===typeof e?e:_l(e||cA),t="function"===typeof t?t:_l(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:_l(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:_l(+e),r):t},r.context=function(e){return arguments.length?(s=null==e?null:e,r):s},r}().type(e).size(((e,t,s)=>{if("area"===t)return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*IA;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(s,n,t));return r()})()})):null};TA.registerSymbol=(e,t)=>{OA["symbol".concat(kr(e))]=t};var MA=["option","shapeType","propTransformer","activeClassName","isActive"];function DA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function LA(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?DA(Object(s),!0).forEach(function(t){RA(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):DA(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function RA(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function FA(e,t){return LA(LA({},t),e)}function zA(e){var{shapeType:t,elementProps:s}=e;switch(t){case"rectangle":return r.createElement(Bk,s);case"trapezoid":return r.createElement(nA,s);case"sector":return r.createElement(Gk,s);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(TA,s);break;default:return null}}function UA(e){var t,{option:s,shapeType:n,propTransformer:a=FA,activeClassName:i="recharts-active-shape",isActive:o}=e,l=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,MA);if((0,r.isValidElement)(s))t=(0,r.cloneElement)(s,LA(LA({},l),function(e){return(0,r.isValidElement)(e)?e.props:e}(s)));else if("function"===typeof s)t=s(l);else if(ZC()(s)&&"boolean"!==typeof s){var c=a(s,l);t=r.createElement(zA,{shapeType:n,elementProps:c})}else{var d=l;t=r.createElement(zA,{shapeType:n,elementProps:d})}return o?r.createElement(Oj,{className:i},t):t}var $A=["x","y"];function BA(){return BA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},BA.apply(null,arguments)}function VA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function WA(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?VA(Object(s),!0).forEach(function(t){HA(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):VA(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function HA(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function qA(e,t){var{x:s,y:n}=e,r=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,$A),a="".concat(s),i=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||r.height),d=parseInt(c,10),u="".concat(t.width||r.width),m=parseInt(u,10);return WA(WA(WA(WA(WA({},t),r),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function YA(e){return r.createElement(UA,BA({shapeType:"rectangle",propTransformer:qA,activeClassName:"recharts-active-bar"},e))}var GA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(s,n)=>{if(xr(e))return e;var r=xr(s)||Nr(s);return r?e(s,n):(r||function(e){if(!e)throw new Error(QC)}(!1),t)}},KA=(e,t)=>{var s=pl();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),s(Ro({activeIndex:String(r),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},JA=e=>{var t=pl();return(s,n)=>r=>{null===e||void 0===e||e(s,n,r),t(Fo())}},QA=(e,t)=>{var s=pl();return(n,r)=>a=>{null===e||void 0===e||e(n,r,a),s(Uo({activeIndex:String(r),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},XA=()=>{var e=pl();return(0,r.useEffect)(()=>(e(Ev()),()=>{e(Ov())})),null};function ZA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function eP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ZA(Object(s),!0).forEach(function(t){tP(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ZA(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function tP(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var sP=(e,t,s,n,r)=>r,nP=(e,t,s)=>{var n=null!==s&&void 0!==s?s:e;if(!Nr(n))return br(n,t,0)},rP=dl([Oc,mg,(e,t)=>t,(e,t,s)=>s,(e,t,s,n)=>n],(e,t,s,n,r)=>t.filter(t=>"horizontal"===e?t.xAxisId===s:t.yAxisId===n).filter(e=>e.isPanorama===r).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function aP(e){return null!=e.stackId&&null!=e.dataKey}var iP=(e,t,s)=>{var n=e.filter(aP),r=e.filter(e=>null==e.stackId),a=n.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(a).map(e=>{var[n,r]=e;return{stackId:n,dataKeys:r.map(e=>e.dataKey),barSize:nP(t,s,r[0].barSize)}}),...r.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:nP(t,s,e.barSize)}))]},oP=dl([rP,vp,(e,t,s)=>"horizontal"===Oc(e)?Pf(e,"xAxis",t):Pf(e,"yAxis",s)],iP),lP=(e,t,s,n)=>{var r,a;return"horizontal"===Oc(e)?(r=zf(e,"xAxis",t,n),a=Ff(e,"xAxis",t,n)):(r=zf(e,"yAxis",s,n),a=Ff(e,"yAxis",s,n)),rc(r,a)};var cP=(e,t,s,n,r,a,i)=>{var o=Nr(i)?t:i,l=function(e,t,s,n,r){var a=n.length;if(!(a<1)){var i,o=br(e,s,0,!0),l=[];if(qx(n[0].barSize)){var c=!1,d=s/a,u=n.reduce((e,t)=>e+(t.barSize||0),0);(u+=(a-1)*o)>=s&&(u-=(a-1)*o,o=0),u>=s&&d>0&&(c=!0,u=a*(d*=.9));var m={offset:((s-u)/2|0)-o,size:0};i=n.reduce((e,t)=>{var s,n=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:m.offset+m.size+o,size:c?d:null!==(s=t.barSize)&&void 0!==s?s:0}}];return m=n[n.length-1].position,n},l)}else{var h=br(t,s,0,!0);s-2*h-(a-1)*o<=0&&(o=0);var x=(s-2*h-(a-1)*o)/a;x>1&&(x>>=0);var p=qx(r)?Math.min(x,r):x;i=n.reduce((e,t,s)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h+(x+o)*s+(x-p)/2,size:p}}],l)}return i}}(s,n,r!==a?r:a,e,o);return r!==a&&null!=l&&(l=l.map(e=>eP(eP({},e),{},{position:eP(eP({},e.position),{},{offset:e.position.offset-r/2})}))),l},dP=dl([oP,gp,fp,bp,(e,t,s,n,r)=>{var a,i,o,l,c=Oc(e),d=gp(e),{maxBarSize:u}=r,m=Nr(u)?d:u;return"horizontal"===c?(o=zf(e,"xAxis",t,n),l=Ff(e,"xAxis",t,n)):(o=zf(e,"yAxis",s,n),l=Ff(e,"yAxis",s,n)),null!==(a=null!==(i=rc(o,l,!0))&&void 0!==i?i:m)&&void 0!==a?a:0},lP,(e,t,s,n,r)=>r.maxBarSize],cP),uP=dl([dP,sP],(e,t)=>{if(null!=e){var s=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=s)return s.position}}),mP=(e,t)=>{if(e&&null!=(null===t||void 0===t?void 0:t.dataKey)){var{stackId:s}=t;if(null!=s){var n=e[s];if(n){var{stackedData:r}=n;if(r)return r.find(e=>e.key===t.dataKey)}}}},hP=dl([mg,sP],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),xP=dl([(e,t,s,n)=>"horizontal"===Oc(e)?Ag(e,"yAxis",s,n):Ag(e,"xAxis",t,n),sP],mP),pP=dl([bc,(e,t,s,n)=>zf(e,"xAxis",t,n),(e,t,s,n)=>zf(e,"yAxis",s,n),(e,t,s,n)=>Ff(e,"xAxis",t,n),(e,t,s,n)=>Ff(e,"yAxis",s,n),uP,Oc,Hx,lP,xP,hP,(e,t,s,n,r,a)=>a],(e,t,s,n,r,a,i,o,l,c,d,u)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:x}=o;if(null!=d&&null!=a&&("horizontal"===i||"vertical"===i)&&null!=t&&null!=s&&null!=n&&null!=r&&null!=l){var p,{data:g}=d;if(null!=(p=null!=g&&g.length>0?g:null===m||void 0===m?void 0:m.slice(h,x+1)))return function(e){var{layout:t,barSettings:{dataKey:s,minPointSize:n},pos:r,bandSize:a,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:u,offset:m,cells:h}=e,x="horizontal"===t?o:i,p=d?x.scale.domain():null,g=ec({numericAxis:x});return u.map((e,u)=>{var x,f,b,v,y,j;d?x=Gl(d[u],p):(x=Vl(e,s),Array.isArray(x)||(x=[g,x]));var w=GA(n,EP)(x[1],u);if("horizontal"===t){var N,[k,S]=[o.scale(x[0]),o.scale(x[1])];f=Zl({axis:i,ticks:l,bandSize:a,offset:r.offset,entry:e,index:u}),b=null!==(N=null!==S&&void 0!==S?S:k)&&void 0!==N?N:void 0,v=r.size;var _=k-S;if(y=mr(_)?0:_,j={x:f,y:m.top,width:v,height:m.height},Math.abs(w)>0&&Math.abs(y)<Math.abs(w)){var C=ur(y||w)*(Math.abs(w)-Math.abs(y));b-=C,y+=C}}else{var[A,P]=[i.scale(x[0]),i.scale(x[1])];if(f=A,b=Zl({axis:o,ticks:c,bandSize:a,offset:r.offset,entry:e,index:u}),v=P-A,y=r.size,j={x:m.left,y:b,width:m.width,height:y},Math.abs(w)>0&&Math.abs(v)<Math.abs(w))v+=ur(v||w)*(Math.abs(w)-Math.abs(v))}return jP(jP({},e),{},{x:f,y:b,width:v,height:y,value:d?x:x[1],payload:e,background:j,tooltipPosition:{x:f+v/2,y:b+y/2}},h&&h[u]&&h[u].props)})}({layout:i,barSettings:d,pos:a,bandSize:l,xAxis:t,yAxis:s,xAxisTicks:n,yAxisTicks:r,stackedData:c,displayedData:p,offset:e,cells:u})}}),gP=["onMouseEnter","onMouseLeave","onClick"],fP=["value","background","tooltipPosition"],bP=["onMouseEnter","onClick","onMouseLeave"];function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},vP.apply(null,arguments)}function yP(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function jP(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?yP(Object(s),!0).forEach(function(t){wP(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):yP(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function wP(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function NP(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var kP=e=>{var{dataKey:t,name:s,fill:n,legendType:r,hide:a}=e;return[{inactive:a,dataKey:t,type:r,color:n,value:ic(s,t),payload:e}]};function SP(e){var{dataKey:t,stroke:s,strokeWidth:n,fill:r,name:a,hide:i,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:r,dataKey:t,nameKey:void 0,name:ic(a,t),hide:i,type:e.tooltipType,color:e.fill,unit:o}}}function _P(e){var t=vl(Bb),{data:s,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=NP(i,gP),u=KA(o,n),m=JA(l),h=QA(c,n);if(!a||null==s)return null;var x=By(a,!1);return r.createElement(r.Fragment,null,s.map((e,s)=>{var{value:i,background:o,tooltipPosition:l}=e,c=NP(e,fP);if(!o)return null;var p=u(e,s),g=m(e,s),f=h(e,s),b=jP(jP(jP(jP(jP({option:a,isActive:String(s)===t},c),{},{fill:"#eee"},o),x),Dy(d,e,s)),{},{onMouseEnter:p,onMouseLeave:g,onClick:f,dataKey:n,index:s,className:"recharts-bar-background-rectangle"});return r.createElement(YA,vP({key:"background-bar-".concat(s)},b))}))}function CP(e){var{data:t,props:s,showLabels:n}=e,a=By(s,!1),{shape:i,dataKey:o,activeBar:l}=s,c=vl(Bb),d=vl(Wb),{onMouseEnter:u,onClick:m,onMouseLeave:h}=s,x=NP(s,bP),p=KA(u,o),g=JA(h),f=QA(m,o);return t?r.createElement(r.Fragment,null,t.map((e,t)=>{var s=l&&String(t)===c&&(null==d||o===d),n=s?l:i,u=jP(jP(jP({},a),e),{},{isActive:s,option:n,index:t,dataKey:o});return r.createElement(Oj,vP({className:"recharts-bar-rectangle"},Dy(x,e,t),{onMouseEnter:p(e,t),onMouseLeave:g(e,t),onClick:f(e,t),key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(t)}),r.createElement(YA,u))}),n&&SS.renderCallByParent(s,t)):null}function AP(e){var{props:t,previousRectanglesRef:s}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,m=s.current,h=u_(t,"recharts-bar-"),[x,p]=(0,r.useState)(!1),g=(0,r.useCallback)(()=>{"function"===typeof d&&d(),p(!1)},[d]),f=(0,r.useCallback)(()=>{"function"===typeof u&&u(),p(!0)},[u]);return r.createElement(Fk,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:f,key:h},e=>{var{t:i}=e,o=1===i?n:n.map((e,t)=>{var s=m&&m[t];if(s){var n=yr(s.x,e.x),r=yr(s.y,e.y),o=yr(s.width,e.width),l=yr(s.height,e.height);return jP(jP({},e),{},{x:n(i),y:r(i),width:o(i),height:l(i)})}if("horizontal"===a){var c=yr(0,e.height)(i);return jP(jP({},e),{},{y:e.y+e.height-c,height:c})}var d=yr(0,e.width)(i);return jP(jP({},e),{},{width:d})});return i>0&&(s.current=o),r.createElement(Oj,null,r.createElement(CP,{props:t,data:o,showLabels:!x}))})}function PP(e){var{data:t,isAnimationActive:s}=e,n=(0,r.useRef)(null);return s&&t&&t.length&&(null==n.current||n.current!==t)?r.createElement(AP,{previousRectanglesRef:n,props:e}):r.createElement(CP,{props:e,data:t,showLabels:!0})}var EP=0,OP=(e,t)=>{var s=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:s,errorVal:Vl(e,t)}};class IP extends r.PureComponent{constructor(){super(...arguments),wP(this,"id",fr("recharts-bar-"))}render(){var{hide:e,data:t,dataKey:s,className:n,xAxisId:a,yAxisId:i,needClip:o,background:l,id:c,layout:d}=this.props;if(e)return null;var u=ir("recharts-bar",n),m=Nr(c)?this.id:c;return r.createElement(Oj,{className:u},o&&r.createElement("defs",null,r.createElement(e_,{clipPathId:m,xAxisId:a,yAxisId:i})),r.createElement(Oj,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):null},r.createElement(_P,{data:t,dataKey:s,background:l,allOtherBarProps:this.props}),r.createElement(PP,this.props)),r.createElement(WS,{direction:"horizontal"===d?"y":"x"},this.props.children))}}var TP={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ij,legendType:"rect",minPointSize:EP,xAxisId:0,yAxisId:0};function MP(e){var t,{xAxisId:s,yAxisId:n,hide:a,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:m}=jj(e,TP),{needClip:h}=ZS(s,n),x=Ic(),p=wc(),g=(0,r.useMemo)(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:o,stackId:Ql(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,o,e.stackId]),f=Uy(e.children,JC),b=vl(e=>pP(e,s,n,p,g,f));if("vertical"!==x&&"horizontal"!==x)return null;var v=null===b||void 0===b?void 0:b[0];return t=null==v||null==v.height||null==v.width?0:"vertical"===x?v.height/2:v.width/2,r.createElement(LS,{xAxisId:s,yAxisId:n,data:b,dataPointFormatter:OP,errorBarOffset:t},r.createElement(IP,vP({},e,{layout:x,needClip:h,data:b,xAxisId:s,yAxisId:n,hide:a,legendType:i,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:u,isAnimationActive:m})))}class DP extends r.PureComponent{render(){return r.createElement(RS,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},r.createElement(XA,null),r.createElement(c_,{legendPayload:kP(this.props)}),r.createElement(XS,{fn:SP,args:this.props}),r.createElement(MP,this.props))}}function LP(e){var t=pl();return(0,r.useEffect)(()=>{t(hy(e))},[t,e]),null}wP(DP,"displayName","Bar"),wP(DP,"defaultProps",TP);var RP=["width","height","layout"];function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},FP.apply(null,arguments)}var zP={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},UP=(0,r.forwardRef)(function(e,t){var s,n=jj(e.categoricalChartProps,zP),{width:a,height:i,layout:o}=n,l=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(n,RP);if(!Yx(a)||!Yx(i))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m}=e,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return r.createElement(Sy,{preloadedState:{options:h},reduxStoreName:null!==(s=n.id)&&void 0!==s?s:c},r.createElement(_y,{chartData:n.data}),r.createElement(Cy,{width:a,height:i,layout:o,margin:n.margin}),r.createElement(Ay,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),r.createElement(LP,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),r.createElement(bj,FP({width:a,height:i},l,{ref:t})))}),$P=["item"],BP={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},VP=(0,r.forwardRef)((e,t)=>{var s=jj(e,BP);return r.createElement(UP,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:$P,tooltipPayloadSearcher:Ai,categoricalChartProps:s,ref:t})}),WP=e=>e.graphicalItems.polarItems,HP=dl([Jp,Qp],ug),qP=dl([WP,lg,HP],xg),YP=dl([qP],bg),GP=dl([YP,Wx],yg),KP=dl([GP,lg,qP],wg),JP=dl([GP,lg,qP],(e,t,s)=>s.length>0?e.flatMap(e=>s.flatMap(s=>{var n;return{value:Vl(e,null!==(n=t.dataKey)&&void 0!==n?n:s.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:Vl(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),QP=()=>{},XP=dl([lg,Jg,QP,JP,QP],Qg),ZP=dl([lg,Oc,GP,KP,yp,Jp,XP],ef),eE=dl([ZP,lg,nf],af),tE=dl([lg,ZP,eE,Jp],lf);function sE(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function nE(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(s),!0).forEach(function(t){rE(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):sE(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function rE(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var aE=(e,t)=>t,iE=[],oE=(e,t,s)=>0===(null===s||void 0===s?void 0:s.length)?iE:s,lE=dl([Wx,aE,oE],(e,t,s)=>{var n,{chartData:r}=e;if((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:r)&&n.length||null==s||(n=s.map(e=>nE(nE({},t.presentationProps),e.props))),null!=n)return n}),cE=dl([lE,aE,oE],(e,t,s)=>{if(null!=e)return e.map((e,n)=>{var r,a,i=Vl(e,t.nameKey,t.name);return a=null!==s&&void 0!==s&&null!==(r=s[n])&&void 0!==r&&null!==(r=r.props)&&void 0!==r&&r.fill?s[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:ic(i,t.dataKey),color:a,payload:e,type:t.legendType}})}),dE=dl([WP,aE],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),uE=dl([lE,dE,oE,bc],(e,t,s,n)=>{if(null!=t&&null!=e)return function(e){var t,s,n,{pieSettings:r,displayedData:a,cells:i,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:m,tooltipType:h}=r,x=Math.abs(r.minAngle),p=yE(c,d),g=Math.abs(p),f=a.length<=1?0:null!==(t=r.paddingAngle)&&void 0!==t?t:0,b=a.filter(e=>0!==Vl(e,u,0)).length,v=g-b*x-(g>=360?b:b-1)*f,y=a.reduce((e,t)=>{var s=Vl(t,u,0);return e+(xr(s)?s:0)},0);y>0&&(s=a.map((e,t)=>{var s,a=Vl(e,u,0),d=Vl(e,m,t),g=vE(r,o,e),b=(xr(a)?a:0)/y,j=xE(xE({},e),i&&i[t]&&i[t].props),w=(s=t?n.endAngle+ur(p)*f*(0!==a?1:0):c)+ur(p)*((0!==a?x:0)+b*v),N=(s+w)/2,k=(g.innerRadius+g.outerRadius)/2,S=[{name:d,value:a,payload:j,dataKey:u,type:h}],_=Dl(g.cx,g.cy,k,N);return n=xE(xE(xE(xE({},r.presentationProps),{},{percent:b,cornerRadius:l,name:d,tooltipPayload:S,midAngle:N,middleRadius:k,tooltipPosition:_},j),g),{},{value:Vl(e,u),startAngle:s,endAngle:w,payload:j,paddingAngle:ur(p)*f})}));return s}({offset:n,pieSettings:t,displayedData:e,cells:s})}),mE=["onMouseEnter","onClick","onMouseLeave"];function hE(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function xE(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?hE(Object(s),!0).forEach(function(t){pE(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):hE(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function pE(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},gE.apply(null,arguments)}function fE(e){var t=(0,r.useMemo)(()=>By(e,!1),[e]),s=(0,r.useMemo)(()=>Uy(e.children,JC),[e.children]),n=(0,r.useMemo)(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),a=vl(e=>cE(e,n,s));return r.createElement(d_,{legendPayload:a})}function bE(e){var{dataKey:t,nameKey:s,sectors:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null===n||void 0===n?void 0:n.map(e=>e.tooltipPayload),positions:null===n||void 0===n?void 0:n.map(e=>e.tooltipPosition),settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:s,name:ic(o,t),hide:l,type:c,color:i,unit:""}}}var vE=(e,t,s)=>{var{top:n,left:r,width:a,height:i}=t,o=Ll(a,i),l=r+br(e.cx,a,a/2),c=n+br(e.cy,i,i/2),d=br(e.innerRadius,o,0),u=((e,t,s)=>"function"===typeof t?t(e):br(t,s,.8*s))(s,e.outerRadius,o);return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}},yE=(e,t)=>ur(t-e)*Math.min(Math.abs(t-e),360);function jE(e){var{sectors:t,props:s,showLabels:n}=e,{label:a,labelLine:i,dataKey:o}=s;if(!n||!a||!t)return null;var l=By(s,!1),c=By(a,!1),d=By(i,!1),u="object"===typeof a&&"offsetRadius"in a&&a.offsetRadius||20,m=t.map((e,t)=>{var s,n,m=(e.startAngle+e.endAngle)/2,h=Dl(e.cx,e.cy,e.outerRadius+u,m),x=xE(xE(xE(xE({},l),e),{},{stroke:"none"},c),{},{index:t,textAnchor:(s=h.x,n=e.cx,s>n?"start":s<n?"end":"middle")},h),p=xE(xE(xE(xE({},l),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[Dl(e.cx,e.cy,e.outerRadius,m),h],key:"line"});return r.createElement(Oj,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},i&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return e(t);var s=ir("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(sk,gE({},t,{type:"linear",className:s}))})(i,p),((e,t,s)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var n=s;if("function"===typeof e&&(n=e(t),r.isValidElement(n)))return n;var a=ir("recharts-pie-label-text","boolean"!==typeof e&&"function"!==typeof e?e.className:"");return r.createElement(ow,gE({},t,{alignmentBaseline:"middle",className:a}),n)})(a,x,Vl(e,o)))});return r.createElement(Oj,{className:"recharts-pie-labels"},m)}function wE(e){var{sectors:t,activeShape:s,inactiveShape:n,allOtherPieProps:a,showLabels:i}=e,o=vl(Bb),{onMouseEnter:l,onClick:c,onMouseLeave:d}=a,u=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(a,mE),m=KA(l,a.dataKey),h=JA(d),x=QA(c,a.dataKey);return null==t?null:r.createElement(r.Fragment,null,t.map((e,i)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==t.length)return null;var l=s&&String(i)===o,c=l?s:o?n:null,d=xE(xE({},e),{},{stroke:e.stroke,tabIndex:-1,[hc]:i,[xc]:a.dataKey});return r.createElement(Oj,gE({tabIndex:-1,className:"recharts-pie-sector"},Dy(u,e,i),{onMouseEnter:m(e,i),onMouseLeave:h(e,i),onClick:x(e,i),key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(i)}),r.createElement(UA,gE({option:c,isActive:l,shapeType:"sector"},d)))}),r.createElement(jE,{sectors:t,props:a,showLabels:i}))}function NE(e){var{props:t,previousSectorsRef:s}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:m}=t,h=u_(t,"recharts-pie-"),x=s.current,[p,g]=(0,r.useState)(!0),f=(0,r.useCallback)(()=>{"function"===typeof m&&m(),g(!1)},[m]),b=(0,r.useCallback)(()=>{"function"===typeof u&&u(),g(!0)},[u]);return r.createElement(Fk,{begin:i,duration:o,isActive:a,easing:l,from:{t:0},to:{t:1},onAnimationStart:b,onAnimationEnd:f,key:h},e=>{var{t:a}=e,i=[],o=(n&&n[0]).startAngle;return n.forEach((e,t)=>{var s=x&&x[t],n=t>0?dr()(e,"paddingAngle",0):0;if(s){var r=yr(s.endAngle-s.startAngle,e.endAngle-e.startAngle),l=xE(xE({},e),{},{startAngle:o+n,endAngle:o+r(a)+n});i.push(l),o=l.endAngle}else{var{endAngle:c,startAngle:d}=e,u=yr(0,c-d)(a),m=xE(xE({},e),{},{startAngle:o+n,endAngle:o+u+n});i.push(m),o=m.endAngle}}),s.current=i,r.createElement(Oj,null,r.createElement(wE,{sectors:i,activeShape:c,inactiveShape:d,allOtherPieProps:t,showLabels:!p}))})}function kE(e){var{sectors:t,isAnimationActive:s,activeShape:n,inactiveShape:a}=e,i=(0,r.useRef)(null),o=i.current;return s&&t&&t.length&&(!o||o!==t)?r.createElement(NE,{props:e,previousSectorsRef:i}):r.createElement(wE,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function SE(e){var{hide:t,className:s,rootTabIndex:n}=e,a=ir("recharts-pie",s);return t?null:r.createElement(Oj,{tabIndex:n,className:a},r.createElement(kE,e))}var _E={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ij,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function CE(e){var t=jj(e,_E),s=(0,r.useMemo)(()=>Uy(e.children,JC),[e.children]),n=By(t,!1),a=(0,r.useMemo)(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),i=vl(e=>uE(e,a,s));return r.createElement(r.Fragment,null,r.createElement(XS,{fn:bE,args:xE(xE({},t),{},{sectors:i})}),r.createElement(SE,gE({},t,{sectors:i})))}class AE extends r.PureComponent{constructor(){super(...arguments),pE(this,"id",fr("recharts-pie-"))}render(){return r.createElement(r.Fragment,null,r.createElement(ES,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),r.createElement(fE,this.props),r.createElement(CE,this.props),this.props.children)}}pE(AE,"displayName","Pie"),pE(AE,"defaultProps",_E);const PE=[{value:7,label:"Last 7 days"},{value:15,label:"Last 15 days"},{value:30,label:"Last 30 days"},{value:60,label:"Last 2 months"},{value:90,label:"Last 3 months"},{value:180,label:"Last 6 months"},{value:365,label:"Last 1 year"}],EE=[{value:"trend",label:"Trend Chart",icon:ut},{value:"bar",label:"Bar Chart",icon:ft},{value:"pie",label:"Pie Chart",icon:Q_}],OE=[{value:"followers",label:"Followers",color:"#3B82F6"},{value:"likes",label:"Likes",color:"#10B981"},{value:"comments",label:"Comments",color:"#8B5CF6"},{value:"shares",label:"Shares",color:"#F59E0B"},{value:"engagement",label:"Total Engagement",color:"#EF4444"},{value:"views",label:"Views",color:"#06B6D4"},{value:"reach",label:"Reach",color:"#84CC16"},{value:"impressions",label:"Impressions",color:"#F97316"}];const IE=function(e){let{platform:t,accountId:s,title:n,defaultMetric:a="followers"}=e;const[i,o]=(0,r.useState)(30),[l,c]=(0,r.useState)("trend"),[d,u]=(0,r.useState)([a]),[m,h]=(0,r.useState)(null),[x,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null),[b,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&s&&y()},[t,s,i]);const y=async()=>{p(!0),f(null);try{const o=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/analytics-data/chart?platform=${t}&accountId=${s}&timePeriod=${i}`),l=await o.json();if(l.success){var e,n,r,a;if(console.log(`\u2705 Loaded historical data for ${t}:${s}`,{period:i,snapshots:l.snapshotsCount,dataKeys:Object.keys(l.data||{}),likesData:null===(e=l.data)||void 0===e?void 0:e.likes,sampleSnapshot:null===(n=l.data)||void 0===n||null===(r=n.likes)||void 0===r?void 0:r[0],debugInfo:l.debug}),null!==(a=l.data)&&void 0!==a&&a.likes){const e=l.data.likes.filter(e=>e.value>0);console.log("\ud83d\udcca Likes analysis:",{totalDataPoints:l.data.likes.length,pointsWithValues:e.length,values:e.map(e=>({date:e.date,value:e.value}))})}h(l.data),v((new Date).toISOString())}else f(l.error||"Failed to fetch historical data")}catch(o){console.error("Error fetching historical data:",o),f("Failed to fetch historical data")}finally{p(!1)}},j=async()=>{p(!0);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/historical-data/capture",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:t,accountId:s,pageId:s})}),n=await e.json();n.success?(alert(`\u2705 ${n.message}\n${n.note||""}`),setTimeout(()=>{y()},1e3)):alert(`\u274c Failed to capture snapshot: ${n.error}`)}catch(e){console.error("Error capturing snapshot:",e),alert("\u274c Failed to capture snapshot: Network error")}finally{p(!1)}};return(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"bg-blue-600 p-2 rounded-lg",children:(0,Me.jsx)(ut,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["Historical analytics with ",i," days of data"]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsxs)("button",{onClick:async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/historical-data/debug-accounts"),t=await e.json();if(t.success){console.log("=== STORED SOCIAL ACCOUNTS DEBUG ==="),console.log(`Total accounts: ${t.totalAccounts}`),console.log(`Facebook accounts: ${t.facebookAccounts.length}`),t.facebookAccounts.forEach(e=>{console.log(`\n\ud83d\udcf1 Facebook Account: ${e.name}`),console.log(`  - Platform User ID: ${e.platformUserId}`),console.log(`  - Has User Token: ${e.hasAccessToken} (${e.accessTokenLength} chars)`),console.log(`  - Pages: ${e.pagesCount}`),e.pages.forEach(e=>{console.log(`    \ud83d\udcc4 Page: ${e.name} (ID: ${e.id})`),console.log(`       - Has Token: ${e.hasAccessToken} (${e.accessTokenLength} chars)`)})}),console.log(`\n\ud83c\udfaf Looking for page ID: ${s}`);const e=t.facebookAccounts.filter(e=>e.pages.some(e=>e.id===s));e.length>0?(console.log(`\u2705 Found ${e.length} account(s) with this page!`),e.forEach(e=>{const t=e.pages.find(e=>e.id===s);console.log(`  - Account: ${e.name}`),console.log(`  - Page: ${t.name}`),console.log(`  - Has Page Token: ${t.hasAccessToken}`)})):console.log(`\u274c No accounts found with page ID: ${s}`),alert(`Debug info logged to console. Found ${t.facebookAccounts.length} Facebook accounts with ${t.facebookAccounts.reduce((e,t)=>e+t.pagesCount,0)} total pages.`)}else alert(`Debug failed: ${t.error}`)}catch(g){console.error("Debug error:",g),alert("Debug failed: Network error")}},className:"bg-purple-600 text-white px-3 py-2 rounded-lg hover:bg-purple-700 flex items-center space-x-2 text-sm",title:"Debug stored social accounts",children:[(0,Me.jsx)("span",{children:"\ud83d\udd0d"}),(0,Me.jsx)("span",{children:"Debug Accounts"})]}),(0,Me.jsxs)("button",{onClick:j,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2 text-sm",title:"Capture current data snapshot",children:[(0,Me.jsx)(_n,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Capture Now"})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Period"}),(0,Me.jsx)("select",{value:i,onChange:e=>o(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:PE.map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chart Type"}),(0,Me.jsx)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:EE.map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Metrics to Show"}),(0,Me.jsx)("select",{multiple:!0,value:d,onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);u(t.length>0?t:[a])},className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 h-20",children:OE.map(e=>(0,Me.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple"})]})]}),b&&(0,Me.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[(0,Me.jsxs)("div",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(b).toLocaleString()]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,Me.jsx)("div",{className:"bg-blue-100 px-2 py-1 rounded",children:"\ud83d\udcca Stored Data"}),(0,Me.jsxs)("div",{className:"bg-green-100 px-2 py-1 rounded",children:[m&&Object.keys(m).length," Metrics"]})]})]})]}),x&&(0,Me.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:(0,Me.jsxs)("div",{className:"inline-flex items-center space-x-2 text-blue-600",children:[(0,Me.jsx)(_n,{className:"h-5 w-5 animate-spin"}),(0,Me.jsx)("span",{children:"Loading historical data..."})]})}),g&&(0,Me.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2 text-red-800 mb-2",children:[(0,Me.jsx)(xt,{className:"h-5 w-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Historical Data Error"})]}),(0,Me.jsx)("p",{className:"text-red-700 text-sm mb-3",children:g}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("button",{onClick:y,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm",children:"Retry"}),(0,Me.jsxs)("button",{onClick:j,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm flex items-center space-x-2",disabled:x,children:[(0,Me.jsx)(_n,{className:"h-4 w-4 "+(x?"animate-spin":"")}),(0,Me.jsx)("span",{children:"Capture Data"})]})]}),(0,Me.jsxs)("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[(0,Me.jsx)("strong",{children:"Tip:"})," If this is a new account, try capturing a snapshot first to establish baseline data."]})]}),!x&&!g&&m&&Object.keys(m).every(e=>0===m[e].length)&&(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 text-center",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-blue-800 mb-3",children:[(0,Me.jsx)(xt,{className:"h-6 w-6"}),(0,Me.jsx)("span",{className:"text-lg font-medium",children:"No Historical Data Available"})]}),(0,Me.jsxs)("p",{className:"text-blue-700 text-sm mb-4",children:["This ",t," account doesn't have any historical data yet. Start by capturing your first snapshot to begin tracking analytics over time."]}),(0,Me.jsxs)("button",{onClick:j,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 flex items-center space-x-2 mx-auto",disabled:x,children:[(0,Me.jsx)(_n,{className:"h-5 w-5 "+(x?"animate-spin":"")}),(0,Me.jsx)("span",{children:"Capture First Snapshot"})]})]}),m&&!x&&(()=>{if(!m)return null;const e=()=>{const e=d.map(e=>{const t=(m[e]||[]).reduce((e,t)=>e+(t.value||0),0),s=OE.find(t=>t.value===e);return{name:(null===s||void 0===s?void 0:s.label)||e,value:t,color:(null===s||void 0===s?void 0:s.color)||"#6B7280"}}).filter(e=>e.value>0);return 0===e.length?null:(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Metrics Distribution"}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["Last ",i," days totals"]})]})}),(0,Me.jsx)("div",{className:"h-64",children:(0,Me.jsx)(Pr,{width:"100%",height:"100%",children:(0,Me.jsxs)(VP,{children:[(0,Me.jsx)(AE,{data:e,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:e.map((e,t)=>(0,Me.jsx)(JC,{fill:e.color},`cell-${t}`))}),(0,Me.jsx)(mS,{formatter:(e,t)=>[e.toLocaleString(),t],contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})}),(0,Me.jsx)("div",{className:"grid grid-cols-2 gap-3 mt-4 pt-4 border-t border-gray-100",children:e.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Me.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,Me.jsxs)("span",{className:"font-medium",children:[e.name,":"]})," ",e.value.toLocaleString()]})]},e.name))})]})};return"pie"===l?(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e(),(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Summary Statistics"}),(0,Me.jsx)("div",{className:"space-y-4",children:d.map(e=>{var t;const s=m[e]||[],n=s.reduce((e,t)=>e+(t.value||0),0),r=s.length>0?n/s.length:0,a=(null===(t=s[s.length-1])||void 0===t?void 0:t.value)||0,i=OE.find(t=>t.value===e);return(0,Me.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-700",children:null===i||void 0===i?void 0:i.label}),(0,Me.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:null===i||void 0===i?void 0:i.color}})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-gray-500",children:"Latest"}),(0,Me.jsx)("div",{className:"font-semibold",children:a.toLocaleString()})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-gray-500",children:"Total"}),(0,Me.jsx)("div",{className:"font-semibold",children:n.toLocaleString()})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"text-gray-500",children:"Avg/Day"}),(0,Me.jsx)("div",{className:"font-semibold",children:Math.round(r).toLocaleString()})]})]})]},e)})})]})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:d.map(e=>"trend"===l?(e=>{var t,s,n;const r=m[e]||[],a=OE.find(t=>t.value===e);if(0===r.length)return null;const o=r.map(e=>e.value||0),l=Math.max(...o),c=Math.min(...o),d=o.reduce((e,t)=>e+t,0)/o.length,u=o.filter(e=>e>0).length;return console.log(`\ud83d\udcca [Chart Render] ${(null===a||void 0===a?void 0:a.label)||e}:`,{dataPoints:r.length,currentValue:null===(t=r[r.length-1])||void 0===t?void 0:t.value,maxValue:l,minValue:c,avgValue:d,nonZeroCount:u,sampleData:r.slice(-3)}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:(null===a||void 0===a?void 0:a.label)||e}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["Last ",i," days \u2022 ",u," data points"]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",style:{color:null===a||void 0===a?void 0:a.color},children:(null===(s=r[r.length-1])||void 0===s||null===(n=s.value)||void 0===n?void 0:n.toLocaleString())||0}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Current"}),l>0&&(0,Me.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Peak: ",l.toLocaleString()]})]})]}),(0,Me.jsx)("div",{className:"h-64",children:(0,Me.jsx)(Pr,{width:"100%",height:"100%",children:(0,Me.jsxs)(Z_,{data:r,children:[(0,Me.jsx)("defs",{children:(0,Me.jsxs)("linearGradient",{id:`gradient-${e}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Me.jsx)("stop",{offset:"5%",stopColor:null===a||void 0===a?void 0:a.color,stopOpacity:.3}),(0,Me.jsx)("stop",{offset:"95%",stopColor:null===a||void 0===a?void 0:a.color,stopOpacity:.05})]})}),(0,Me.jsx)(bC,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,Me.jsx)(Ww,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,Me.jsx)(Xw,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"}}),(0,Me.jsx)(mS,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>[null===e||void 0===e?void 0:e.toLocaleString(),null===a||void 0===a?void 0:a.label],contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,Me.jsx)(YC,{type:"monotone",dataKey:"value",stroke:null===a||void 0===a?void 0:a.color,strokeWidth:2,fill:`url(#gradient-${e})`})]})})})]},e)})(e):(e=>{const t=m[e]||[],s=OE.find(t=>t.value===e);if(0===t.length)return null;const n=t.slice(-7);return(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.label)||e}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Last 7 days"})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",style:{color:null===s||void 0===s?void 0:s.color},children:n.reduce((e,t)=>e+(t.value||0),0).toLocaleString()}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),(0,Me.jsx)("div",{className:"h-64",children:(0,Me.jsx)(Pr,{width:"100%",height:"100%",children:(0,Me.jsxs)(KC,{data:n,children:[(0,Me.jsx)(bC,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,Me.jsx)(Ww,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"},tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,Me.jsx)(Xw,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"}}),(0,Me.jsx)(mS,{labelFormatter:e=>new Date(e).toLocaleDateString(),formatter:e=>[null===e||void 0===e?void 0:e.toLocaleString(),null===s||void 0===s?void 0:s.label],contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,Me.jsx)(DP,{dataKey:"value",fill:null===s||void 0===s?void 0:s.color,radius:[4,4,0,0]})]})})})]},e)})(e))})})()]})};const TE=function(){const[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)([]),[a,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)([]),[h,x]=(0,r.useState)({}),[p,g]=(0,r.useState)({}),[f,b]=(0,r.useState)({}),[v,y]=(0,r.useState)({}),[j,w]=(0,r.useState)({}),[N,k]=(0,r.useState)({}),[S,_]=(0,r.useState)(null),[C,A]=(0,r.useState)(null),[P,E]=(0,r.useState)({}),O=()=>window.FB&&window.FB.api&&"function"===typeof window.FB.api;function I(){let e=null;const t=new URLSearchParams(window.location.search),s=new URLSearchParams(window.location.hash.split("?")[1]||"");if(e=t.get("customerId")||s.get("customerId"),e)return e;const n=JSON.parse(localStorage.getItem("currentUser")||"{}");if(e=n.userId||n.id||n._id||n.customer_id,!e){const t=JSON.parse(localStorage.getItem("user")||"{}");e=t.userId||t.id||t._id||t.customer_id}return e}(0,r.useEffect)(()=>{console.log("\ud83d\udd0d Component mounted, loading accounts from storage..."),U_(["fb_connected_accounts","fb_active_account_id"]);const e=I();function t(e){const t=new Set;return e.filter(e=>!t.has(e.id)&&(t.add(e.id),!0))}(async()=>{const s=await async function(){if(!e)return null;try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${e}`),s=await t.json();if(s.success&&Array.isArray(s.accounts))return s.accounts.filter(t=>"facebook"===t.platform&&t.customerId===e).map(e=>({id:e.platformUserId,name:e.name,email:e.email,picture:{data:{url:e.profilePicture}},accessToken:e.accessToken,connectedAt:e.connectedAt,tokenExpiresAt:e.tokenExpiresAt||null,tokenType:e.tokenType,pages:e.pages||[]}))}catch(t){}return null}();if(s&&s.length>0){if(console.log(`\ud83d\udce5 Loaded ${s.length} Facebook accounts from backend`),s.length>1){console.log("\u2705 Multiple accounts detected - using backend data directly (no SDK validation)");const e=t(s);return n(e),F_("fb_connected_accounts",e),i(e[0].id),d(e[0]),void F_("fb_active_account_id",e[0].id)}const e=s[0];if(!e.lastTokenValidation||new Date(e.lastTokenValidation)<new Date(Date.now()-18e5)){console.log("\ud83d\udd04 Single account - validating token via Graph API...");const e=t(await async function(e){return console.log("\ud83d\udd04 Hydrating accounts using direct Graph API calls..."),await Promise.all(e.map(async e=>{try{const t=`https://graph.facebook.com/v18.0/me?fields=id,name,email,picture&access_token=${e.accessToken}`,s=await fetch(t),n=await s.json();if(n.error)return console.warn(`\u26a0\ufe0f Token validation failed for ${e.name}:`,n.error.message),190===n.error.code?{...e,needsReconnection:!0,lastError:n.error}:e;const r=`https://graph.facebook.com/v18.0/me/accounts?fields=id,name,access_token,category,about,fan_count,link,picture,username,website,phone,verification_status&access_token=${e.accessToken}`,a=await fetch(r),i=await a.json();return{...e,name:n.name||e.name,email:n.email||e.email,picture:n.picture||e.picture,pages:i.data||e.pages,needsReconnection:!1,lastTokenValidation:(new Date).toISOString()}}catch(t){return console.warn(`\u26a0\ufe0f Hydration failed for ${e.name}:`,t.message),e}}))}(s));n(e),F_("fb_connected_accounts",e),i(e[0].id),d(e[0]),F_("fb_active_account_id",e[0].id)}else{console.log("\u2705 Single account - token recently validated, using backend data");const e=t(s);n(e),F_("fb_connected_accounts",e),i(e[0].id),d(e[0]),F_("fb_active_account_id",e[0].id)}return}const r=R_("fb_connected_accounts"),a=R_("fb_active_account_id");if(r&&Array.isArray(r)&&r.length>0){const e=t(r);if(n(e),a&&e.some(e=>e.id===a)){i(a);const t=e.find(e=>e.id===a);d(t)}else e.length>0&&(i(e[0].id),d(e[0]),F_("fb_active_account_id",e[0].id))}})()},[]),(0,r.useEffect)(()=>{if(document.getElementById("facebook-jssdk")){const e=()=>{O()?t(!0):setTimeout(e,100)};return void e()}window.fbAsyncInit=function(){window.FB.init({appId:"4416243821942660",cookie:!0,xfbml:!1,version:"v19.0"});const e=()=>{O()?t(!0):setTimeout(e,100)};e()},function(e,t,s){var n,r=e.getElementsByTagName(t)[0];e.getElementById(s)||((n=e.createElement(t)).id=s,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk")},[]),(0,r.useEffect)(()=>{c&&e&&O()&&z()},[c,e]),(0,r.useEffect)(()=>{const t=setTimeout(async()=>{c&&e&&O()&&u.length>0&&!u.some(e=>"never"===e.tokenExpiry)&&(console.log("\ud83d\udd04 Auto-upgrading to never-expiring page tokens..."),await G())},2e3);return()=>clearTimeout(t)},[u,c,e]);const T=e=>{console.log("\ud83d\udcbe Saving accounts to storage:",e.length,"accounts");try{F_("fb_connected_accounts",e),console.log("\u2705 Accounts saved successfully");const t=R_("fb_connected_accounts");console.log("\ud83d\udd0d Storage verification:",t?t.length:0,"accounts")}catch(t){console.error("\u274c Failed to save accounts:",t)}},M=()=>{O()?(console.log("\ud83d\udd10 Starting Facebook login..."),window.FB.login(e=>{if(console.log("\ud83d\udce8 Facebook login response:",e.status),"connected"===e.status){const t=e.authResponse.accessToken,r=e.authResponse.userID;console.log("\u2705 Facebook login successful, fetching user data..."),window.FB.api("/me",{fields:"id,name,email,picture",access_token:t},function(a){if(!a||a.error)return console.error("\u274c Failed to fetch user data:",a.error),void l(a.error);console.log("\ud83d\udc64 User data received:",a.name);const o={id:r,name:a.name,email:a.email,picture:a.picture,accessToken:t,connectedAt:(new Date).toISOString(),tokenExpiresAt:e.authResponse.expiresIn?new Date(Date.now()+1e3*e.authResponse.expiresIn).toISOString():null};console.log("\ud83c\udd95 Created new account object:",{id:o.id,name:o.name,email:o.email});const c=s.findIndex(e=>e.id===r);let u;c>=0?(console.log("\ud83d\udd04 Updating existing account"),u=[...s],u[c]={...u[c],...o}):(console.log("\u2795 Adding new account"),u=[...s,o]),console.log("\ud83d\udcca Total accounts after update:",u.length),n(u),i(r),d(o),T(u),F_("fb_active_account_id",r),l(null),console.log("\u2705 Account setup complete, requesting long-lived token..."),D(t,o).then(()=>{const e=[...u];T(e),console.log("\ud83d\udcbe Final save after token exchange complete")})})}else console.error("\u274c Facebook login failed:",e),l({message:"Facebook login failed or was cancelled"})},{scope:"pages_show_list,pages_read_engagement,pages_read_user_content,pages_manage_metadata,instagram_basic,email,public_profile",return_scopes:!0,auth_type:"rerequest"})):l({message:"Facebook SDK is not ready. Please wait and try again."})},D=async(e,t)=>{try{console.log("\ud83d\udd04 Requesting long-lived token via backend...");const r=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/facebook/exchange-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortLivedToken:e,userId:t.id})}),i=await r.json();if(i.success&&i.longLivedToken){console.log("\u2705 Received long-lived token (expires in",i.expiresIn,"seconds)");const e=i.expiresIn?new Date(Date.now()+1e3*i.expiresIn).toISOString():new Date(Date.now()+5184e6).toISOString(),r={...t,accessToken:i.longLivedToken,tokenType:"long_lived",tokenExpiresAt:e};console.log("\ud83d\udd04 Updating account with long-lived token..."),n(e=>{const s=e.map(e=>e.id===t.id?r:e);return T(s),console.log("\ud83d\udcbe Saved updated accounts with long-lived token"),s}),a===t.id&&d(r),console.log("\ud83d\udcbe Stored long-lived token, expires:",new Date(e).toLocaleDateString()),console.log("\ud83d\udd04 Requesting never-expiring page tokens...");try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/facebook/page-tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAccessToken:i.longLivedToken,userId:t.id})}),s=await e.json();s.success&&s.pages&&(console.log(`\u2705 Got never-expiring tokens for ${s.pages.length} pages`),r.pages=s.pages)}catch(s){console.warn("\u26a0\ufe0f Failed to get never-expiring page tokens:",s)}return r}return console.warn("\u26a0\ufe0f Failed to get long-lived token:",i.error||"Unknown error"),t}catch(r){return console.warn("\u26a0\ufe0f Error requesting long-lived token:",r),t}},L=e=>{if(e.pages&&e.pages.some(e=>"never"===e.tokenExpiry||"never_expiring"===e.tokenType))return!1;if("long_lived"===e.tokenType&&e.pages&&e.pages.length>0)return!1;if(!e.tokenExpiresAt)return!1;const t=new Date(e.tokenExpiresAt),s=new Date,n=t.getTime()-s.getTime()<36e5;if(n){const n=Math.floor((t.getTime()-s.getTime())/864e5);console.log(`\u26a0\ufe0f Token for ${e.name} expires in ${n} days`)}return n},R=async function(e){var t,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(console.error("Facebook API Error:",e),190===e.code||null!==(t=e.message)&&void 0!==t&&t.includes("expired")||null!==(s=e.message)&&void 0!==s&&s.includes("Session has expired")){console.log("\ud83d\udd04 Token expired, attempting refresh...");await F()?(console.log("\u2705 Session refreshed successfully"),l(null),n&&c&&setTimeout(()=>{z()},1e3)):(console.log("\u274c Session refresh failed"),l({message:"Your Facebook session has expired. Please reconnect your account.",code:"SESSION_EXPIRED",action:"reconnect"}))}else l(e)},F=async()=>new Promise(e=>{O()?window.FB.getLoginStatus(t=>{if("connected"===t.status){const r=t.authResponse.accessToken,a=t.authResponse.userID;if(c&&c.id===a){const i={...c,accessToken:r,tokenExpiresAt:t.authResponse.expiresIn?new Date(Date.now()+1e3*t.authResponse.expiresIn).toISOString():null};d(i);const o=s.map(e=>e.id===a?i:e);n(o),T(o),e(!0)}else e(!1)}else e(!1)},!0):e(!1)}),z=async()=>{if(c){if(L(c))return console.log("\u26a0\ufe0f Token appears to be expired, attempting silent refresh..."),void F().then(e=>{e?(console.log("\u2705 Silent refresh successful, retrying fetch"),setTimeout(()=>z(),1e3)):console.log("\u26a0\ufe0f Token refresh failed - account may need reconnection")});console.log("\ud83d\udd0d Fetching pages using Graph API...");try{const t=`https://graph.facebook.com/v18.0/me/accounts?fields=id,name,access_token,category,about,fan_count,link,picture,username,website,phone,verification_status&access_token=${c.accessToken}`,s=await fetch(t),n=await s.json();if(n.error)return R(n.error),void console.error("\u274c Failed to fetch pages:",n.error);console.log("\u2705 Fetched pages successfully:",n.data.length),console.log("\ud83d\udd04 Converting to never-expiring page tokens...");try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/facebook/page-tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAccessToken:c.accessToken,userId:c.id})}),t=await e.json();if(t.success&&t.pages){console.log(`\u2705 Got never-expiring tokens for ${t.pages.length} pages`);const e=n.data.map(e=>{const s=t.pages.find(t=>t.id===e.id);return s?{...e,access_token:s.access_token,tokenType:"never_expiring",tokenExpiry:"never"}:e});m(e),e.forEach(async e=>{console.log(`\ud83d\udcc4 Processing page: ${e.name} (${e.id}) - Token: ${e.tokenType||"standard"}`),await q(e)})}else m(n.data),n.data.forEach(async e=>{await q(e)})}catch(e){console.warn("\u26a0\ufe0f Failed to get never-expiring tokens, using standard tokens:",e),m(n.data),n.data.forEach(async e=>{await q(e)})}l(null)}catch(t){console.error("\u274c Error fetching pages:",t),R({message:t.message,code:"FETCH_ERROR"})}}else console.warn("\u26a0\ufe0f No active account")},U=e=>{const t=h[e];return t&&0!==t.length?(0,Me.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,Me.jsxs)("h5",{className:"font-medium text-blue-700 mb-3 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-4 w-4 mr-2"}),"Engagement Metrics (Last 10 posts)"]}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((e,t)=>{var s;return(0,Me.jsxs)("div",{className:"text-center bg-white p-3 rounded",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(s=e.value)||void 0===s?void 0:s.toLocaleString())||0}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:e.name})]},t)})})]}):null},$=e=>{const t=p[e],s=j[e];return t&&0!==t.length?(0,Me.jsxs)("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsxs)("h5",{className:"font-medium text-green-700 flex items-center",children:[(0,Me.jsx)(dn,{className:"h-4 w-4 mr-2"}),"Facebook Posts (",t.length,")"]}),(0,Me.jsx)("button",{onClick:()=>w(t=>({...t,[e]:!t[e]})),className:"text-sm text-green-600 hover:text-green-800 font-medium",children:s?"Hide Posts":"Show Posts"})]}),s&&(0,Me.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.map(e=>{var t,s,n,r,a;return(0,Me.jsx)("div",{className:"bg-white p-4 rounded-lg border shadow-sm",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[e.full_picture&&(0,Me.jsx)("img",{src:e.full_picture,alt:"Post media",className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.type||"post"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_time).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.message&&(0,Me.jsx)("p",{className:"text-sm text-gray-800 mb-3 leading-relaxed",children:e.message.length>200?(0,Me.jsxs)(Me.Fragment,{children:[e.message.substring(0,200),"...",(0,Me.jsx)("span",{className:"text-blue-600 text-xs ml-1 cursor-pointer",children:"read more"})]}):e.message}),e.story&&!e.message&&(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-3 italic",children:e.story}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[(0,Me.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Me.jsx)("span",{children:"\ud83d\udc4d"}),(0,Me.jsx)("span",{children:(null===(t=e.likes)||void 0===t||null===(s=t.summary)||void 0===s?void 0:s.total_count)||0})]}),(0,Me.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Me.jsx)("span",{children:"\ud83d\udcac"}),(0,Me.jsx)("span",{children:(null===(n=e.comments)||void 0===n||null===(r=n.summary)||void 0===r?void 0:r.total_count)||0})]}),(0,Me.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Me.jsx)("span",{children:"\ud83d\udd04"}),(0,Me.jsx)("span",{children:(null===(a=e.shares)||void 0===a?void 0:a.count)||0})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{className:"text-xs text-purple-600 hover:text-purple-800 font-medium px-2 py-1 bg-purple-50 rounded",onClick:()=>{_(e.id),(e=>{var t,s,n,r,a,i,o,l,c,d,u,m,h,x;if(!e)return;_(e.id);const p={id:e.id,message:e.message||"No message",story:e.story||null,created_time:e.created_time,permalink_url:e.permalink_url,full_picture:e.full_picture,likes_count:(null===(t=e.likes)||void 0===t||null===(s=t.summary)||void 0===s?void 0:s.total_count)||0,comments_count:(null===(n=e.comments)||void 0===n||null===(r=n.summary)||void 0===r?void 0:r.total_count)||0,shares_count:(null===(a=e.shares)||void 0===a?void 0:a.count)||0,reactions_count:(null===(i=e.reactions)||void 0===i||null===(o=i.summary)||void 0===o?void 0:o.total_count)||0,total_engagement:((null===(l=e.likes)||void 0===l||null===(c=l.summary)||void 0===c?void 0:c.total_count)||0)+((null===(d=e.comments)||void 0===d||null===(u=d.summary)||void 0===u?void 0:u.total_count)||0)+((null===(m=e.shares)||void 0===m?void 0:m.count)||0)+((null===(h=e.reactions)||void 0===h||null===(x=h.summary)||void 0===x?void 0:x.total_count)||0),engagement_rate:0};A(p)})(e)},children:"\ud83d\udcca Analytics"}),e.permalink_url&&(0,Me.jsx)("a",{href:e.permalink_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"View on Facebook \u2192"})]})]})]})]})},e.id)})})]}):null},B=e=>{var t;return(0,Me.jsx)("div",{className:"border-2 border-slate-200 rounded-2xl p-6 mb-6 bg-white shadow-md hover:shadow-lg transition-shadow",children:(0,Me.jsxs)("div",{className:"flex items-start gap-4",children:[e.picture&&(0,Me.jsx)("img",{src:e.picture.data.url,alt:e.name,className:"w-24 h-24 rounded-2xl border-4 border-blue-100 shadow-md"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Me.jsx)("h4",{className:"font-bold text-2xl text-slate-800",children:e.name}),e.verification_status&&(0,Me.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-white text-sm",children:"\u2713"})})]}),(0,Me.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-lg mb-4",children:[(0,Me.jsx)("span",{className:"font-semibold text-sm",children:"Category:"}),(0,Me.jsx)("span",{className:"text-sm",children:e.category})]}),e.about&&(0,Me.jsx)("p",{className:"text-sm text-slate-700 mb-4 bg-gradient-to-r from-slate-50 to-blue-50 p-4 rounded-xl border border-slate-200",children:e.about}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-6",children:[(0,Me.jsxs)("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{className:"font-bold text-slate-700",children:"Page ID:"}),(0,Me.jsx)("span",{className:"text-slate-600",children:e.id})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{className:"font-bold text-slate-700",children:"Followers:"}),(0,Me.jsx)("span",{className:"text-slate-600 font-semibold",children:(null===(t=e.fan_count)||void 0===t?void 0:t.toLocaleString())||"N/A"})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{className:"font-bold text-slate-700",children:"Username:"}),(0,Me.jsxs)("span",{className:"text-slate-600",children:["@",e.username||"N/A"]})]})]}),(0,Me.jsxs)("div",{className:"space-y-3 bg-slate-50 p-4 rounded-xl",children:[(0,Me.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Me.jsx)("span",{className:"font-bold text-slate-700",children:"Website:"}),e.website?(0,Me.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:e.website}):(0,Me.jsx)("span",{className:"text-slate-600",children:"N/A"})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{className:"font-bold text-slate-700",children:"Phone:"}),(0,Me.jsx)("span",{className:"text-slate-600",children:e.phone||"N/A"})]}),(0,Me.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Me.jsx)("span",{className:"font-bold text-slate-700",children:"Link:"}),e.link?(0,Me.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 hover:underline transition-colors inline-flex items-center gap-1",children:["View Page ",(0,Me.jsx)(Dn,{className:"h-3 w-3"})]}):(0,Me.jsx)("span",{className:"text-slate-600",children:"N/A"})]})]})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Me.jsxs)("button",{onClick:()=>(async(e,t)=>{b(t=>({...t,[e]:!0}));try{const s=`https://graph.facebook.com/v18.0/${e}/posts?fields=id,message,created_time,likes.summary(true),comments.summary(true),shares,reactions.summary(true),full_picture&limit=10&access_token=${t}`,n=await fetch(s),r=await n.json();if(b(t=>({...t,[e]:!1})),r.error)return console.error("Posts fetch error:",r.error),R(r.error,e),void x(t=>({...t,[e]:[]}));const a=r.data||[],i=a.reduce((e,t)=>{var s,n;return e+((null===(s=t.likes)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)},0),o=a.reduce((e,t)=>{var s,n;return e+((null===(s=t.comments)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)},0);let l=[{name:"FB Likes",value:i,title:"Facebook Likes (Last 10 posts)"},{name:"FB Comments",value:o,title:"Facebook Comments (Last 10 posts)"},{name:"FB Shares",value:a.reduce((e,t)=>{var s;return e+((null===(s=t.shares)||void 0===s?void 0:s.count)||0)},0),title:"Facebook Shares (Last 10 posts)"},{name:"FB Reactions",value:a.reduce((e,t)=>{var s,n;return e+((null===(s=t.reactions)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)},0),title:"Facebook Reactions (Last 10 posts)"}];x(t=>({...t,[e]:l}))}catch(s){console.error("Error fetching page insights:",s),b(t=>({...t,[e]:!1})),x(t=>({...t,[e]:[]}))}})(e.id,e.access_token),disabled:f[e.id]||!O(),className:"group bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-5 py-2.5 rounded-xl text-sm font-medium hover:from-blue-600 hover:to-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-md hover:shadow-lg transition-all",children:[(0,Me.jsx)(ft,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),(0,Me.jsx)("span",{children:f[e.id]?"Loading...":"Get Insights"})]}),(0,Me.jsxs)("button",{onClick:()=>{return t=e.id,s=e.access_token,void(O()?(y(e=>({...e,[t]:!0})),window.FB.api(`/${t}/posts`,{fields:"id,message,created_time,permalink_url,full_picture,likes.summary(true),comments.summary(true),shares,reactions.summary(true)",limit:10,access_token:s},function(e){y(e=>({...e,[t]:!1})),!e||e.error?console.error("Facebook posts fetch error:",e.error):(g(s=>({...s,[t]:e.data})),w(e=>({...e,[t]:!0})))})):l({message:"Facebook API is not ready"}));var t,s},disabled:v[e.id]||!O(),className:"group bg-gradient-to-r from-emerald-500 to-green-500 text-white px-5 py-2.5 rounded-xl text-sm font-medium hover:from-emerald-600 hover:to-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-md hover:shadow-lg transition-all",children:[(0,Me.jsx)(dn,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),(0,Me.jsx)("span",{children:v[e.id]?"Loading...":"Show FB Posts"})]})]}),U(e.id),$(e.id)]})]})},e.id)},V=e=>{const t=s.find(t=>t.id===e);t&&(i(e),d(t),F_("fb_active_account_id",e),m([]),x({}),g({}),E({}))},W=async e=>{const t=s.find(t=>t.id===e),r=(null===t||void 0===t?void 0:t.name)||"this account";if(window.confirm(`Are you sure you want to disconnect ${r}?\n\nThis will remove the account and delete all associated data from the database.`))try{if(t){const t=I();if(t){console.log("\ud83d\uddd1\ufe0f Deleting account from backend:",{accountId:e,customerId:t,platform:"facebook"});try{const s=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${t}`),n=await s.json();if(n.success&&n.accounts){const t=n.accounts.find(t=>"facebook"===t.platform&&t.platformUserId===e);if(t&&t._id){const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${t._id}`,{method:"DELETE"}),s=await e.json();s.success?console.log("\u2705 Account deleted from backend successfully"):console.warn("\u26a0\ufe0f Failed to delete account from backend:",s.error)}}}catch(o){console.warn("\u26a0\ufe0f Error deleting from backend (continuing with local removal):",o)}}}const r=s.filter(t=>t.id!==e);n(r),T(r),a===e&&(r.length>0?V(r[0].id):(i(null),d(null),m([]),x({}),g({}),E({}),z_("fb_active_account_id"))),alert("\u2705 Facebook account disconnected successfully!")}catch(l){console.error("\u274c Error removing account:",l),alert("\u274c Failed to disconnect account. Please try again.")}},H=async()=>{try{const n=I();if(n&&s.length>0){console.log("\ud83d\uddd1\ufe0f Deleting all Facebook accounts from backend for customer:",n);try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${n}`),s=await t.json();if(s.success&&s.accounts){const t=s.accounts.filter(e=>"facebook"===e.platform);for(const s of t)if(s._id)try{const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${s._id}`,{method:"DELETE"}),t=await e.json();t.success?console.log("\u2705 Deleted Facebook account from backend:",s.name):console.warn("\u26a0\ufe0f Failed to delete account from backend:",t.error)}catch(e){console.warn("\u26a0\ufe0f Error deleting individual account:",e)}}}catch(t){console.warn("\u26a0\ufe0f Error deleting from backend (continuing with local removal):",t)}}}catch(r){console.error("\u274c Error in clearAllAccountData:",r)}n([]),i(null),d(null),m([]),x({}),g({}),E({}),z_("fb_connected_accounts"),z_("fb_active_account_id"),console.log("\u2705 All Facebook account data cleared")},q=async e=>{try{const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/connected-pages/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pageId:e.id,pageName:e.name,accessToken:e.access_token,userId:(null===c||void 0===c?void 0:c.id)||"unknown",accountName:(null===c||void 0===c?void 0:c.name)||"unknown"})});(await t.json()).success&&console.log("\u2705 Stored connected page:",e.name),await Y(e)}catch(t){console.warn("Failed to store connected page:",t)}},Y=async e=>{try{var t,s,n,r;let a=null;const i=JSON.parse(localStorage.getItem("currentUser")||"{}");if(a=i.userId||i.id||i._id||i.customer_id,!a){const e=JSON.parse(localStorage.getItem("user")||"{}");a=e.userId||e.id||e._id||e.customer_id}if(console.log("\ud83d\udd0d Customer ID search:",{currentUser:i,customerId:a,found:!!a}),!a)return void console.warn("No customer ID found, cannot store social account");null!==c&&void 0!==c&&c.accessToken||(console.error("\u274c No user access token available - refresh will not work"),alert("Warning: User access token is missing. Token refresh may not work. Please reconnect if you experience issues."));const o={customerId:a,platform:"facebook",platformUserId:c.id,name:c.name,email:c.email,profilePicture:null===(t=c.picture)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.url,accessToken:c.accessToken,userId:c.id,pages:[{id:e.id,name:e.name,accessToken:e.access_token,category:e.category,fanCount:e.fan_count,permissions:["pages_read_engagement"],tasks:e.tasks||[],tokenValidatedAt:(new Date).toISOString(),tokenType:e.tokenType||"standard",tokenExpiry:e.tokenExpiry||"unknown"}],connectedAt:(new Date).toISOString(),tokenExpiresAt:c.tokenExpiresAt||new Date(Date.now()+5184e6).toISOString(),needsReconnection:!1,lastTokenValidation:(new Date).toISOString(),refreshError:null,lastRefreshAttempt:null,lastSuccessfulValidation:(new Date).toISOString(),tokenStatus:"active"},l=!!o.accessToken,d=!!o.pages[0].accessToken;l||(console.warn("\u26a0\ufe0f Missing user access token - refresh will not work"),o.needsReconnection=!0,o.refreshError="User access token not available during connection",o.tokenStatus="invalid_user_token"),d||(console.warn("\u26a0\ufe0f Missing page access token - posting will not work"),o.needsReconnection=!0,o.refreshError="Page access token not available during connection",o.tokenStatus="invalid_page_token"),console.log("\ud83d\udd11 Token Validation Summary:",{hasUserToken:l,hasPageToken:d,userTokenLength:(null===(n=o.accessToken)||void 0===n?void 0:n.length)||0,pageTokenLength:(null===(r=o.pages[0].accessToken)||void 0===r?void 0:r.length)||0,needsReconnection:o.needsReconnection,tokenStatus:o.tokenStatus});const u=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!u.ok){const e=await u.text();return console.warn("Failed to store customer social account - server response:",u.status,e),void(409===u.status&&console.log("\ud83d\udcdd Document conflict detected - this is normal for concurrent updates"))}const m=await u.json();m.success?console.log("\u2705 Stored customer social account for admin access"):console.warn("Failed to store customer social account:",m.error)}catch(a){console.warn("Failed to store customer social account:",a)}},G=async()=>{if(c&&O()){console.log("\ud83d\udd04 Refreshing page access tokens...");try{if(await F()){const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/facebook/page-tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAccessToken:c.accessToken,userId:c.id})}),t=await e.json();t.success&&t.pages?(console.log(`\u2705 Got never-expiring tokens for ${t.pages.length} pages`),m(e=>e.map(e=>{const s=t.pages.find(t=>t.id===e.id);return s?{...e,access_token:s.access_token,tokenType:"never_expiring_page_token"}:e})),alert("\u2705 Tokens refreshed successfully! Page tokens are now never-expiring.")):(z(),alert("\u2705 Tokens refreshed successfully!"))}else alert("\u274c Failed to refresh session. Please try reconnecting your Facebook account.")}catch(e){console.error("\u274c Failed to refresh tokens:",e),alert("\u274c Failed to refresh tokens. Please try reconnecting your Facebook account.")}}else console.warn("Cannot refresh tokens: no active account or FB API not ready")};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("header",{className:"bg-white/80 backdrop-blur-md shadow-md border-b border-slate-200 sticky top-0 z-50",children:(0,Me.jsx)("div",{className:"px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24",children:(0,Me.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,Me.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-md",children:(0,Me.jsx)(dn,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-xl font-bold text-slate-800",children:"Facebook Integration"}),(0,Me.jsx)("p",{className:"text-xs text-slate-500",children:"Manage your Facebook pages and analytics"})]})]})})})}),(0,Me.jsx)("div",{className:"px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24 py-8",children:(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6 md:p-8",children:[o?(0,Me.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)("span",{className:"text-red-600 text-xl",children:"\u26a0\ufe0f"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("h4",{className:"font-medium text-red-800 mb-2",children:"SESSION_EXPIRED"===o.code?"Session Expired":"Facebook API Error"}),(0,Me.jsxs)("p",{className:"text-red-600 text-sm mb-3",children:[(0,Me.jsx)("strong",{children:"Error:"})," ",o.message||JSON.stringify(o)]}),"SESSION_EXPIRED"===o.code&&(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsx)("p",{className:"text-sm text-red-700",children:"Your Facebook session has expired. You can try refreshing the tokens or reconnect your account."}),(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:G,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"\ud83d\udd04 Refresh Tokens"}),(0,Me.jsx)("button",{onClick:M,className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"\ud83d\udd17 Reconnect Account"})]})]})]}),(0,Me.jsx)("button",{onClick:()=>l(null),className:"flex-shrink-0 text-red-400 hover:text-red-600",children:"\u2715"})]})}):null,0===s.length?(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl mb-6 shadow-lg",children:(0,Me.jsx)(dn,{className:"h-10 w-10 text-white"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-3",children:"Connect Facebook Accounts"}),(0,Me.jsx)("p",{className:"text-slate-600 mb-8 max-w-md mx-auto text-lg",children:"Connect your Facebook accounts to manage your pages and access detailed analytics."}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6 mb-8 max-w-md mx-auto",children:[(0,Me.jsxs)("h4",{className:"font-bold text-blue-800 mb-4 flex items-center gap-2",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-white",children:"\ud83d\udcf1"})}),"Multi-Account Setup Guide"]}),(0,Me.jsxs)("div",{className:"text-sm text-slate-700 text-left space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-xs",children:"1"}),(0,Me.jsx)("p",{children:"Log in with your Facebook account"})]}),(0,Me.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-xs",children:"2"}),(0,Me.jsx)("p",{children:"Grant permissions to access your pages"})]}),(0,Me.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-xs",children:"3"}),(0,Me.jsx)("p",{children:"Select which accounts to connect and manage"})]}),(0,Me.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Me.jsx)("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center flex-shrink-0 font-semibold text-xs",children:"4"}),(0,Me.jsx)("p",{children:"Historical data will be captured automatically"})]})]})]}),(0,Me.jsxs)("button",{onClick:M,disabled:!O(),className:"group bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center gap-3 mx-auto font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Me.jsx)(dn,{className:"h-6 w-6 group-hover:scale-110 transition-transform"}),(0,Me.jsx)("span",{children:"Connect Facebook Account"})]})]}):(0,Me.jsxs)("div",{className:"space-y-6",children:[s.length>1&&(s.length<=1?null:(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,Me.jsx)(mt,{className:"h-5 w-5 mr-2"}),"Connected Facebook Accounts (",s.length,")"]}),(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(0,Me.jsxs)("button",{onClick:G,disabled:!e||!O()||!c,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2 text-sm",children:[(0,Me.jsx)("span",{children:"\ud83d\udd04"}),(0,Me.jsx)("span",{children:"Refresh Tokens"})]})})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>{const t=L(e);return(0,Me.jsx)("div",{className:`border rounded-lg p-4 transition-all cursor-pointer ${a===e.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"} ${t?"border-orange-300 bg-orange-50":""}`,onClick:()=>V(e.id),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[e.picture&&(0,Me.jsx)("img",{src:e.picture.data.url,alt:e.name,className:"w-12 h-12 rounded-full"}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-900 truncate",children:e.name}),a===e.id&&(0,Me.jsx)(ht,{className:"h-4 w-4 text-blue-600"}),t&&(0,Me.jsx)("span",{className:"text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded",children:"Expired"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.email}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Connected ",new Date(e.connectedAt).toLocaleDateString()]}),e.pages&&e.pages.some(e=>"never"===e.tokenExpiry||"never_expiring"===e.tokenType)?(0,Me.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"\u2705 Tokens: Never expire"}):e.tokenExpiresAt?(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Expires: ",new Date(e.tokenExpiresAt).toLocaleDateString()]}):(0,Me.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"\u2705 Active"})]}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),W(e.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Remove account",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})]})},e.id)})}),c&&(0,Me.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"})]})),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-500 px-4 py-2 rounded-xl shadow-md",children:[(0,Me.jsx)("span",{className:"text-white font-bold text-lg",children:"\u25cf"}),(0,Me.jsxs)("span",{className:"text-sm font-semibold text-white",children:[s.length," Account",1!==s.length?"s":""," Connected"]})]}),c&&(0,Me.jsxs)("div",{className:"flex items-center gap-2 bg-slate-100 px-4 py-2 rounded-xl",children:[c.picture&&(0,Me.jsx)("img",{src:c.picture.data.url,alt:"Profile",className:"w-7 h-7 rounded-full border-2 border-slate-300"}),(0,Me.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:c.name})]})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,Me.jsxs)("button",{onClick:G,disabled:!e||!O()||!c,className:"group flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-xl hover:from-emerald-600 hover:to-green-600 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[(0,Me.jsx)(_n,{className:"h-4 w-4 group-hover:rotate-180 transition-transform duration-500"}),(0,Me.jsx)("span",{children:"Refresh Tokens"})]}),(0,Me.jsxs)("button",{onClick:M,disabled:!e||!O(),className:"group flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl hover:from-blue-600 hover:to-indigo-600 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[(0,Me.jsx)(Is,{className:"h-4 w-4 group-hover:scale-110 transition-transform"}),(0,Me.jsx)("span",{children:"Add Account"})]}),(0,Me.jsxs)("button",{onClick:()=>(async()=>{const e=s.length;window.confirm(`Are you sure you want to disconnect all ${e} Facebook account${e>1?"s":""}?\n\nThis will remove all accounts and delete all associated data from the database.`)&&(O()?window.FB.getLoginStatus(e=>{"connected"===e.status?window.FB.logout(()=>{H().catch(e=>{console.error("Error clearing account data after logout:",e)})}):H().catch(e=>{console.error("Error clearing account data:",e)})}):await H())})(),className:"group flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-slate-100 to-slate-200 text-slate-700 rounded-xl hover:from-slate-200 hover:to-slate-300 transition-all border border-slate-300 font-medium",children:[(0,Me.jsx)(Dn,{className:"h-4 w-4 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),(0,Me.jsx)("span",{children:"Disconnect All"})]})]})]}),c&&(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border-2 border-indigo-200 rounded-2xl p-6 shadow-lg",children:[(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-4",children:[c.picture&&(0,Me.jsx)("img",{src:c.picture.data.url,alt:"Profile",className:"w-20 h-20 rounded-2xl border-4 border-white shadow-md"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:c.name}),(0,Me.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:c.email})]})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Me.jsxs)("button",{onClick:G,disabled:!e||!O()||!c,className:"group flex items-center gap-2 px-4 py-2 bg-white border-2 border-indigo-200 text-indigo-700 rounded-xl hover:bg-indigo-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-sm",children:[(0,Me.jsx)(_n,{className:"h-4 w-4 group-hover:rotate-180 transition-transform duration-500"}),(0,Me.jsx)("span",{children:"Refresh"})]}),(0,Me.jsxs)("button",{onClick:()=>W(c.id),className:"group flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-500 to-rose-500 text-white rounded-xl hover:from-red-600 hover:to-rose-600 transition-all font-medium shadow-md hover:shadow-lg",children:[(0,Me.jsx)(Dn,{className:"h-4 w-4 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),(0,Me.jsx)("span",{children:"Disconnect"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"font-bold text-lg mb-4 text-slate-800",children:["Pages for ",c.name,":"]}),0===u.length?(0,Me.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl border-2 border-dashed border-slate-300",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(dn,{className:"h-8 w-8 text-slate-400"})}),(0,Me.jsx)("p",{className:"text-slate-600 font-medium mb-2",children:"No pages found or you don't manage any pages."}),(0,Me.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Make sure you're an admin or editor of at least one Facebook page."}),(0,Me.jsxs)("button",{onClick:z,disabled:!O(),className:"group bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg font-medium inline-flex items-center gap-2",children:[(0,Me.jsx)(_n,{className:"h-4 w-4 group-hover:rotate-180 transition-transform duration-500"}),"Retry Loading Pages"]})]}):(0,Me.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"overflow-x-auto",children:B(e)}),(0,Me.jsx)("div",{className:"mb-6",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-gradient-to-r from-indigo-50 to-blue-50 rounded-2xl border-2 border-indigo-200 p-5 gap-4 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-xl flex items-center justify-center shadow-md",children:(0,Me.jsx)(xt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-bold text-slate-800",children:"Historical Analytics"}),(0,Me.jsx)("p",{className:"text-sm text-slate-600",children:"View long-term trends and growth patterns"})]})]}),(0,Me.jsxs)("button",{onClick:()=>k(t=>({...t,[e.id]:!t[e.id]})),className:"group flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white px-5 py-3 rounded-xl hover:from-indigo-700 hover:to-blue-700 transition-all shadow-md hover:shadow-lg font-medium",children:[(0,Me.jsx)(xt,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),(0,Me.jsxs)("span",{children:[N[e.id]?"Hide":"Show"," Historical Data"]})]})]})}),N[e.id]&&(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsx)(IE,{platform:"facebook",accountId:e.id,title:"Facebook Historical Analytics",defaultMetric:"followers"})})]},e.id))})]})]})]}),(()=>{var e,t,s,n,r;return S&&C?(0,Me.jsxs)("div",{className:"mt-6 bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-5 w-5 mr-2 text-blue-600"}),"Facebook Post Analytics"]}),(0,Me.jsx)("button",{onClick:()=>{_(null),A(null)},className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[C.full_picture&&(0,Me.jsx)("img",{src:C.full_picture,alt:"Post media",className:"w-20 h-20 object-cover rounded-lg"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded font-medium",children:"Facebook Post"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:new Date(C.created_time).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),C.message&&(0,Me.jsx)("p",{className:"text-sm text-gray-800 mb-2",children:C.message.length>150?`${C.message.substring(0,150)}...`:C.message}),C.story&&!C.message&&(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-2 italic",children:C.story}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Me.jsx)("span",{children:"Facebook Post"}),C.permalink_url&&(0,Me.jsx)("a",{href:C.permalink_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700",children:"View on Facebook \u2192"})]})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=C.likes_count)||void 0===e?void 0:e.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-sm text-blue-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)("span",{className:"mr-1",children:"\ud83d\udc4d"}),"Likes"]})]}),(0,Me.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(t=C.comments_count)||void 0===t?void 0:t.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-sm text-green-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)("span",{className:"mr-1",children:"\ud83d\udcac"}),"Comments"]})]}),(0,Me.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===(s=C.shares_count)||void 0===s?void 0:s.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-sm text-purple-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)("span",{className:"mr-1",children:"\ud83d\udd04"}),"Shares"]})]}),(0,Me.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null===(n=C.reactions_count)||void 0===n?void 0:n.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-sm text-orange-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)("span",{className:"mr-1",children:"\ud83d\ude0d"}),"Reactions"]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-6 text-center",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:(null===(r=C.total_engagement)||void 0===r?void 0:r.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-lg text-indigo-700 font-medium flex items-center justify-center",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 mr-2"}),"Total Engagement"]}),(0,Me.jsx)("div",{className:"text-sm text-indigo-600 mt-2",children:"Likes + Comments + Shares + Reactions"})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-4 w-4 mr-2"}),"Engagement Breakdown"]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,Me.jsx)("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Likes"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:(C.total_engagement>0?C.likes_count/C.total_engagement*100:0)+"%"}})}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-900 min-w-[3rem] text-right",children:[(C.likes_count/Math.max(C.total_engagement,1)*100).toFixed(1),"%"]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,Me.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Comments"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:(C.total_engagement>0?C.comments_count/C.total_engagement*100:0)+"%"}})}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-900 min-w-[3rem] text-right",children:[(C.comments_count/Math.max(C.total_engagement,1)*100).toFixed(1),"%"]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,Me.jsx)("span",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),"Shares"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:(C.total_engagement>0?C.shares_count/C.total_engagement*100:0)+"%"}})}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-900 min-w-[3rem] text-right",children:[(C.shares_count/Math.max(C.total_engagement,1)*100).toFixed(1),"%"]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-600 flex items-center",children:[(0,Me.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2"}),"Reactions"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:(C.total_engagement>0?C.reactions_count/C.total_engagement*100:0)+"%"}})}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-900 min-w-[3rem] text-right",children:[(C.reactions_count/Math.max(C.total_engagement,1)*100).toFixed(1),"%"]})]})]})]})]})]})]}):null})()]})})]})},ME=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),DE=Ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);function LE(e,t){return yt(2,arguments),function(e,t){yt(2,arguments);var s=jt(e),n=Nt(t);return isNaN(n)?new Date(NaN):n?(s.setDate(s.getDate()+n),s):s}(e,-Nt(t))}const RE="4416243821942660";const FE=function(e){let{onData:t,onConnectionStatusChange:s}=e;const[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)([]),[x,p]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(null),[w,N]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[_,C]=(0,r.useState)(!1),[A,P]=(0,r.useState)(!1),[E,O]=(0,r.useState)(null),[I,T]=(0,r.useState)(null),[M,D]=(0,r.useState)(null),[L,R]=(0,r.useState)({}),[F,z]=(0,r.useState)({}),U=()=>window.FB&&window.FB.api&&"function"===typeof window.FB.api;function $(){let e=null;const t=new URLSearchParams(window.location.search),s=new URLSearchParams(window.location.hash.split("?")[1]||"");if(e=t.get("customerId")||s.get("customerId"),e)return console.log("\u2705 Found customer ID in URL for Instagram:",e),e;const n=JSON.parse(localStorage.getItem("currentUser")||"{}");if(e=n.userId||n.id||n._id||n.customer_id,!e){const t=JSON.parse(localStorage.getItem("user")||"{}");e=t.userId||t.id||t._id||t.customer_id}return e?console.log("\u2705 Found customer ID in localStorage for Instagram:",e):console.warn("\u274c No customer ID found in URL or localStorage for Instagram"),e}(0,r.useEffect)(()=>{console.log("\ud83d\udd0d Instagram component mounted, loading accounts from backend..."),U_(["connected_instagram_accounts","selected_instagram_account","instagram_connected_accounts","instagram_active_account_id"]);const e=$();console.log("\ud83c\udd94 Detected Customer ID for Instagram:",{customerId:e,urlParams:new URLSearchParams(window.location.search).get("customerId"),hashParams:new URLSearchParams(window.location.hash.split("?")[1]||"").get("customerId"),localStorage:JSON.parse(localStorage.getItem("currentUser")||"{}"),fullUrl:window.location.href});(async()=>{const t=await(async()=>{if(!e)return console.warn("\u274c No customer ID available for Instagram backend fetch"),null;try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${e}`),s=await t.json();if(s.success&&Array.isArray(s.accounts))return s.accounts.filter(t=>"instagram"===t.platform&&t.customerId===e).map(e=>{var t,s,n,r,a,i;return{id:e.platformUserId,pageId:e.facebookPageId,pageName:e.name,profile:{username:e.username,profile_picture_url:e.profilePicture,followers_count:null===(t=e.instagramData)||void 0===t?void 0:t.followersCount,media_count:null===(s=e.instagramData)||void 0===s?void 0:s.mediaCount,biography:null===(n=e.instagramData)||void 0===n?void 0:n.biography,website:null===(r=e.instagramData)||void 0===r?void 0:r.website},media:[],userAccessToken:e.accessToken,pageAccessToken:null===(a=e.pages)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.accessToken,connected:!0,connectedAt:e.connectedAt,tokenExpiresAt:e.tokenExpiresAt||null}})}catch(t){console.warn("Failed to fetch Instagram accounts from backend:",t)}return null})();if(t&&t.length>0){const e=await(async e=>{if(!window.FB||!window.FB.api)return e;const t=await Promise.all(e.map(e=>new Promise(t=>{window.FB.api(`/${e.id}`,{fields:"id,username,media_count,profile_picture_url,biography,website,followers_count",access_token:e.pageAccessToken},function(s){window.FB.api(`/${e.id}/media`,{fields:"id,caption,media_type,media_url,thumbnail_url,permalink,timestamp,like_count,comments_count",limit:12,access_token:e.pageAccessToken},function(n){t({...e,profile:s&&!s.error?s:e.profile,media:n&&n.data?n.data:[]})})})})));return t})(t);return o(e),P(!0),F_("instagram_connected_accounts",e),F_("connected_instagram_accounts",e),c(e[0].id),O(e[0].id),u(e[0]),S(e[0].userAccessToken||e[0].accessToken),F_("instagram_active_account_id",e[0].id),void F_("selected_instagram_account",e[0].id)}const s=R_("instagram_connected_accounts")||R_("connected_instagram_accounts"),n=R_("instagram_active_account_id")||R_("selected_instagram_account"),r=Array.isArray(s)?s.filter(t=>"instagram"===t.platform&&t.customerId===e):s;if(console.log("\ud83d\udce6 Instagram storage check on mount:",{savedAccounts:s?s.length:0,savedActiveId:n,accountsData:s}),r&&Array.isArray(r)&&r.length>0){if(console.log("\u2705 Setting Instagram accounts from storage:",r),o(r),P(!0),n&&r.some(e=>e.id===n)){var a;c(n),O(n);const e=r.find(e=>e.id===n);u(e),S(e.userAccessToken||e.accessToken),console.log("\u2705 Set active Instagram account:",null===e||void 0===e||null===(a=e.profile)||void 0===a?void 0:a.username)}else if(r.length>0){var i;c(r[0].id),O(r[0].id),u(r[0]),S(r[0].userAccessToken||r[0].accessToken),F_("instagram_active_account_id",r[0].id),console.log("\u2705 Set first Instagram account as active:",null===(i=r[0].profile)||void 0===i?void 0:i.username)}}else console.log("\u2139\ufe0f No connected Instagram accounts found in storage")})()},[]),(0,r.useEffect)(()=>{window.FB?(a(!0),window.FB.getLoginStatus(e=>{"connected"===e.status&&(S(e.authResponse.accessToken),0===i.length&&J(e.authResponse.accessToken))})):W()},[]);const B=async(e,t,s)=>{try{const n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/historical-data/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:"instagram",accountId:e,pageId:e,accountName:t,metrics:{followersCount:s.followersCount||0,mediaCount:s.mediaCount||0,likesCount:s.totalLikes||0,totalLikes:s.totalLikes||0,commentsCount:s.totalComments||0,totalComments:s.totalComments||0,engagementCount:(s.totalLikes||0)+(s.totalComments||0),totalEngagement:(s.totalLikes||0)+(s.totalComments||0),postsCount:s.postsCount||0,photosCount:s.photosCount||0,videosCount:s.videosCount||0},dataSource:"api"})});(await n.json()).success&&console.log(`\u2705 Stored historical snapshot for Instagram account: ${t}`)}catch(x){console.warn("Failed to store historical snapshot:",x)}};function $(){let e=null;const t=new URLSearchParams(window.location.search),s=new URLSearchParams(window.location.hash.split("?")[1]||"");if(e=t.get("customerId")||s.get("customerId"),e)return console.log("\u2705 Found customer ID in URL for Instagram:",e),e;const n=JSON.parse(localStorage.getItem("currentUser")||"{}");if(e=n.userId||n.id||n._id||n.customer_id,!e){const t=JSON.parse(localStorage.getItem("user")||"{}");e=t.userId||t.id||t._id||t.customer_id}return e?console.log("\u2705 Found customer ID in localStorage for Instagram:",e):console.warn("\u274c No customer ID found in URL or localStorage for Instagram"),e}(0,r.useEffect)(()=>{console.log("\ud83d\udd0d Instagram component mounted, loading accounts from backend..."),U_(["connected_instagram_accounts","selected_instagram_account","instagram_connected_accounts","instagram_active_account_id"]);const e=$();console.log("\ud83c\udd94 Detected Customer ID for Instagram:",{customerId:e,urlParams:new URLSearchParams(window.location.search).get("customerId"),hashParams:new URLSearchParams(window.location.hash.split("?")[1]||"").get("customerId"),localStorage:JSON.parse(localStorage.getItem("currentUser")||"{}"),fullUrl:window.location.href});(async()=>{const t=await(async()=>{if(!e)return console.warn("\u274c No customer ID available for Instagram backend fetch"),null;try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${e}`),s=await t.json();if(s.success&&Array.isArray(s.accounts))return s.accounts.filter(t=>"instagram"===t.platform&&t.customerId===e).map(e=>{var t,s,n,r,a,i;return{id:e.platformUserId,pageId:e.facebookPageId,pageName:e.name,profile:{username:e.username,profile_picture_url:e.profilePicture,followers_count:null===(t=e.instagramData)||void 0===t?void 0:t.followersCount,media_count:null===(s=e.instagramData)||void 0===s?void 0:s.mediaCount,biography:null===(n=e.instagramData)||void 0===n?void 0:n.biography,website:null===(r=e.instagramData)||void 0===r?void 0:r.website},media:[],userAccessToken:e.accessToken,pageAccessToken:null===(a=e.pages)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.accessToken,connected:!0,connectedAt:e.connectedAt,tokenExpiresAt:e.tokenExpiresAt||null}})}catch(t){console.warn("Failed to fetch Instagram accounts from backend:",t)}return null})();if(t&&t.length>0){const e=await(async e=>{if(!window.FB||!window.FB.api)return e;const t=await Promise.all(e.map(e=>new Promise(t=>{window.FB.api(`/${e.id}`,{fields:"id,username,media_count,profile_picture_url,biography,website,followers_count",access_token:e.pageAccessToken},function(s){window.FB.api(`/${e.id}/media`,{fields:"id,caption,media_type,media_url,thumbnail_url,permalink,timestamp,like_count,comments_count",limit:12,access_token:e.pageAccessToken},function(n){t({...e,profile:s&&!s.error?s:e.profile,media:n&&n.data?n.data:[]})})})})));return t})(t);return o(e),P(!0),F_("instagram_connected_accounts",e),F_("connected_instagram_accounts",e),c(e[0].id),O(e[0].id),u(e[0]),S(e[0].userAccessToken||e[0].accessToken),F_("instagram_active_account_id",e[0].id),void F_("selected_instagram_account",e[0].id)}const s=R_("instagram_connected_accounts")||R_("connected_instagram_accounts"),n=R_("instagram_active_account_id")||R_("selected_instagram_account"),r=Array.isArray(s)?s.filter(t=>"instagram"===t.platform&&t.customerId===e):s;if(console.log("\ud83d\udce6 Instagram storage check on mount:",{savedAccounts:s?s.length:0,savedActiveId:n,accountsData:s}),r&&Array.isArray(r)&&r.length>0){if(console.log("\u2705 Setting Instagram accounts from storage:",r),o(r),P(!0),n&&r.some(e=>e.id===n)){var a;c(n),O(n);const e=r.find(e=>e.id===n);u(e),S(e.userAccessToken||e.accessToken),console.log("\u2705 Set active Instagram account:",null===e||void 0===e||null===(a=e.profile)||void 0===a?void 0:a.username)}else if(r.length>0){var i;c(r[0].id),O(r[0].id),u(r[0]),S(r[0].userAccessToken||r[0].accessToken),F_("instagram_active_account_id",r[0].id),console.log("\u2705 Set first Instagram account as active:",null===(i=r[0].profile)||void 0===i?void 0:i.username)}}else console.log("\u2139\ufe0f No connected Instagram accounts found in storage")})()},[]),(0,r.useEffect)(()=>{window.FB?(a(!0),window.FB.getLoginStatus(e=>{"connected"===e.status&&(S(e.authResponse.accessToken),0===i.length&&J(e.authResponse.accessToken))})):W()},[]);const V=e=>{console.log("\ud83d\udcbe Saving Instagram accounts to storage:",e.length,"accounts");try{F_("instagram_connected_accounts",e),F_("connected_instagram_accounts",e),console.log("\u2705 Instagram accounts saved successfully");const t=R_("instagram_connected_accounts");console.log("\ud83d\udd0d Instagram storage verification:",t?t.length:0,"accounts")}catch(x){console.error("\u274c Failed to save Instagram accounts:",x)}},W=()=>{document.getElementById("facebook-jssdk")?a(!0):(window.fbAsyncInit=function(){window.FB.init({appId:RE,cookie:!0,xfbml:!1,version:"v18.0"});const e=()=>{U()?(a(!0),window.FB.getLoginStatus(e=>{"connected"===e.status&&(S(e.authResponse.accessToken),0===i.length&&J(e.authResponse.accessToken))})):setTimeout(e,100)};e()},function(e,t,s){var n,r=e.getElementsByTagName(t)[0];e.getElementById(s)||((n=e.createElement(t)).id=s,n.src="https://connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk"))},H=e=>{if(!e.tokenExpiresAt){const t=new Date(Date.now()-36e5);return new Date(e.connectedAt||Date.now())<t}const t=new Date(e.tokenExpiresAt),s=new Date,n=t.getTime()-s.getTime()<18e5;var r;n&&console.warn("\ud83d\udd50 Instagram token will expire soon:",{account:null===(r=e.profile)||void 0===r?void 0:r.username,expiresAt:t.toISOString(),timeLeft:Math.round((t.getTime()-s.getTime())/6e4)+" minutes"});return n},q=async function(e){var t,s;if(console.error("Instagram/Facebook API Error:",e),190===e.code||null!==(t=e.message)&&void 0!==t&&t.includes("expired")||null!==(s=e.message)&&void 0!==s&&s.includes("Session has expired")){console.log("\ud83d\udd04 Token expired, attempting refresh...");await Y()?(console.log("\u2705 Session refreshed successfully"),p(null),k&&0===i.length&&setTimeout(()=>{J(k)},1e3)):(console.log("\u274c Session refresh failed"),p("Your Facebook session has expired. Please reconnect your account to continue using Instagram features."))}else p(e.message||"An error occurred while accessing Instagram data.")},Y=async()=>new Promise(e=>{U()?window.FB.getLoginStatus(t=>{if("connected"===t.status){const s=t.authResponse.accessToken;t.authResponse.userID;if(S(s),i.length>0){const e=i.map(e=>({...e,userAccessToken:s,tokenExpiresAt:t.authResponse.expiresIn?new Date(Date.now()+1e3*t.authResponse.expiresIn).toISOString():null}));if(o(e),V(e),d){const e={...d,userAccessToken:s};u(e)}}e(!0)}else e(!1)},!0):e(!1)}),G=()=>{n?(f(!0),console.log("\ud83d\udd10 Starting Facebook login for Instagram..."),window.FB.login(e=>{if(f(!1),console.log("\ud83d\udce8 Facebook login response for Instagram:",e.status),"connected"===e.status){P(!0),p(null);const t=e.authResponse.accessToken,s=e.authResponse.expiresIn||7200;console.log("\u2705 Instagram Facebook login successful, token expires in:",Math.round(s/60),"minutes"),console.log("\ud83d\udd04 CRITICAL: Exchanging for long-lived token (60 days)..."),K(t).then(e=>{const n=(null===e||void 0===e?void 0:e.token)||t,r=(null===e||void 0===e?void 0:e.expiresIn)||s;S(n),null!==e&&void 0!==e&&e.token?console.log("\u2705 Using long-lived user token for Instagram (expires in",Math.floor(r/86400),"days)"):(console.warn("\u26a0\ufe0f Using short-lived token for Instagram - will expire in",Math.round(r/60),"minutes"),p("Warning: Using short-lived token (expires in 1-2 hours). Long-lived token exchange failed.")),J(n)})}else p("Please log in to Facebook to access Instagram features. Regular Facebook accounts can connect Instagram Business accounts.")},{scope:"email,public_profile,pages_show_list,pages_read_engagement,instagram_basic,instagram_content_publish"})):p("Facebook SDK not loaded yet. Please try again.")},K=async e=>{try{console.log("\ud83d\udd04 Requesting long-lived user token for Instagram...");const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/facebook/exchange-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortLivedToken:e,clientId:RE})}),s=await t.json();return s.success&&s.longLivedToken?(console.log("\u2705 Received long-lived user token for Instagram"),console.log("\ud83d\udd50 User token expires in:",Math.round(s.expiresIn/86400),"days"),{token:s.longLivedToken,expiresIn:s.expiresIn||5183999,tokenType:"long_lived_user"}):(console.error("\u274c Failed to get long-lived user token for Instagram:",s.error),p("Warning: Using short-lived token (expires in 1-2 hours). Long-lived token exchange failed."),null)}catch(x){return console.error("\u274c Error requesting long-lived user token for Instagram:",x),p("Warning: Using short-lived token. Network error during token exchange."),null}},J=async e=>{v(!0);try{const t=`https://graph.facebook.com/v18.0/me/accounts?fields=id,name,instagram_business_account,access_token&access_token=${e}`,s=await fetch(t),n=await s.json();if(n.error)return v(!1),void q(n.error);const r=(n.data||[]).filter(e=>e.instagram_business_account);if(0===r.length)return v(!1),void p("No Instagram Business accounts found. To connect Instagram: 1) Convert to Business account in Instagram app, 2) Connect it to a Facebook page you manage.");console.log("\ud83d\udd04 Exchanging page tokens for long-lived versions...");const a=(await Promise.all(r.map(async t=>{let s=t.access_token,n=3600;const r=!(!t.access_token||t.access_token===e);if(r)try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/facebook/exchange-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortLivedToken:t.access_token,clientId:RE})}),r=await e.json();r.success&&r.longLivedToken?(s=r.longLivedToken,n=r.expiresIn||5183999,console.log(`\u2705 Long-lived page token obtained for ${t.name} (expires in ${Math.floor(n/86400)} days)`)):console.warn(`\u26a0\ufe0f Could not exchange page token for ${t.name}, using original token`)}catch(a){console.warn(`\u26a0\ufe0f Failed to exchange page token for ${t.name}:`,a.message)}return{id:t.instagram_business_account.id,pageId:t.id,pageName:t.name,pageAccessToken:s,userAccessToken:e,connected:!1,profile:null,media:[],hasValidPageToken:r,tokenType:"long_lived_page",tokenExpiresIn:n,tokenExpiresAt:new Date(Date.now()+1e3*n).toISOString(),tokenValidatedAt:(new Date).toISOString(),tokenWarning:r?null:"Page token is same as user token - refresh may not work"}}))).filter(e=>!i.some(t=>t.id===e.id));console.log(`\u2705 Found ${a.length} available Instagram accounts with long-lived tokens`),h(a),v(!1)}catch(x){console.error("\u274c Error loading Instagram accounts:",x),v(!1),p("Failed to load Instagram accounts. Please try again.")}},Q=e=>{const t=i.find(t=>t.id===e);t&&(c(e),O(e),u(t),F_("instagram_active_account_id",e),F_("selected_instagram_account",e),C(!1),j(null))},X=async e=>{var t;const s=i.find(t=>t.id===e),n=(null===s||void 0===s||null===(t=s.profile)||void 0===t?void 0:t.username)||(null===s||void 0===s?void 0:s.username)||"this account";if(!window.confirm(`Are you sure you want to disconnect @${n}? This will remove all stored data for this account.`))return;const r=i.filter(t=>t.id!==e);o(r),V(r);const a=$();if(a)try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${a}`),s=await t.json();if(s.success&&Array.isArray(s.accounts)){const t=s.accounts.find(t=>t.platformUserId===e&&"instagram"===t.platform);if(t&&t._id){const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${t._id}`,{method:"DELETE"}),s=await e.json();console.log("\u2705 Instagram account deleted from backend:",s)}}}catch(d){console.error("\u274c Failed to remove Instagram account from backend:",d),alert("Warning: Account disconnected locally but may still exist in database. Please contact support if issues persist.")}l===e&&(r.length>0?Q(r[0].id):(c(null),O(null),u(null),j(null),z_("instagram_active_account_id"),z_("selected_instagram_account"),P(!1)))},Z=async()=>{if(i.length>0){const e=i.map(e=>{var t;return`@${(null===(t=e.profile)||void 0===t?void 0:t.username)||e.username||"Unknown"}`}).join(", ");if(!window.confirm(`Are you sure you want to disconnect ALL Instagram accounts (${i.length} accounts: ${e})? This will remove all stored data.`))return}console.log("\ud83d\udd04 Signing out from Instagram integration...");const e=$();if(e)try{const s=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${e}`),n=await s.json();if(n.success&&Array.isArray(n.accounts)){const e=n.accounts.filter(e=>"instagram"===e.platform);for(const s of e)try{await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${s._id}`,{method:"DELETE"}),console.log("\u2705 Deleted Instagram account from backend:",s.platformUserId)}catch(t){console.error("\u274c Failed to delete account:",s.platformUserId,t)}}}catch(t){console.error("\u274c Failed to remove Instagram accounts from backend:",t),alert("Warning: Accounts disconnected locally but may still exist in database. Please contact support if issues persist.")}P(!1),o([]),h([]),c(null),O(null),u(null),p(null),j(null),S(null),z_("instagram_connected_accounts"),z_("instagram_active_account_id"),z_("connected_instagram_accounts"),z_("selected_instagram_account"),window.FB&&U()&&window.FB.logout()},ee=async()=>{if(d&&U()){console.log("\ud83d\udd04 Refreshing Instagram account tokens..."),f(!0);try{await Y()?(k&&J(k),p(null),alert("\u2705 Tokens refreshed successfully!")):p("Failed to refresh session. Please try reconnecting your Facebook account.")}catch(x){console.error("\u274c Failed to refresh tokens:",x),p("Failed to refresh tokens. Please try reconnecting your Facebook account.")}finally{f(!1)}}else console.warn("Cannot refresh tokens: no active account or FB API not ready")},te=async e=>{try{var t,s,n,r,a,i,o,l,c,d,u,m,h,p,g,f;const x=$();if(console.log("\ud83d\udd0d Instagram Customer ID search for social account storage:",{customerId:x,found:!!x,urlCustomerId:new URLSearchParams(window.location.search).get("customerId")||new URLSearchParams(window.location.hash.split("?")[1]||"").get("customerId"),localStorageUser:JSON.parse(localStorage.getItem("currentUser")||"{}")}),!x)return console.error("\u274c No customer ID found for Instagram, cannot store social account"),void alert("Error: No customer ID found. Please make sure you accessed this page through the proper configuration link.");k||(console.error("\u274c No user access token available - refresh capabilities will be limited"),alert("Warning: User access token is missing. Token refresh may not work. Please reconnect if you experience issues."));let v=null,y=null;if(k)try{const e=await new Promise((e,t)=>{window.FB.api("/me",{fields:"id,name,email",access_token:k},function(s){var n;s&&!s.error?e(s):t(new Error((null===s||void 0===s||null===(n=s.error)||void 0===n?void 0:n.message)||"Failed to fetch user info"))})});v=e,y=e.id,console.log("\u2705 Retrieved user info for token storage:",{userId:y,name:v.name,hasUserToken:!!k,userTokenLength:k.length})}catch(b){console.warn("Failed to fetch user info for token storage:",b)}const j={customerId:x,platform:"instagram",platformUserId:e.id,facebookUserId:y,facebookPageId:e.pageId,name:(null===(t=v)||void 0===t?void 0:t.name)||(null===(s=e.profile)||void 0===s?void 0:s.username)||e.pageName,email:(null===(n=v)||void 0===n?void 0:n.email)||"",profilePicture:null===(r=e.profile)||void 0===r?void 0:r.profile_picture_url,username:null===(a=e.profile)||void 0===a?void 0:a.username,accessToken:e.userAccessToken||k,userId:y,pages:[{id:e.pageId,name:e.pageName,accessToken:e.pageAccessToken,category:"Instagram Business",fanCount:(null===(i=e.profile)||void 0===i?void 0:i.followers_count)||0,instagramBusinessAccount:{id:e.id,username:null===(o=e.profile)||void 0===o?void 0:o.username},tokenType:e.tokenType||"long_lived_page",tokenExpiresIn:e.tokenExpiresIn||5183999,tokenExpiresAt:e.tokenExpiresAt||new Date(Date.now()+5183999e3).toISOString(),tokenValidatedAt:e.tokenValidatedAt||(new Date).toISOString(),permissions:["pages_read_engagement","pages_manage_posts","instagram_basic","instagram_content_publish"]}],instagramData:{businessAccountId:e.id,username:null===(l=e.profile)||void 0===l?void 0:l.username,mediaCount:null===(c=e.profile)||void 0===c?void 0:c.media_count,followersCount:null===(d=e.profile)||void 0===d?void 0:d.followers_count,biography:null===(u=e.profile)||void 0===u?void 0:u.biography,website:null===(m=e.profile)||void 0===m?void 0:m.website},connectedAt:e.connectedAt,needsReconnection:!1,lastTokenValidation:(new Date).toISOString(),refreshError:null,lastRefreshAttempt:null,lastSuccessfulValidation:(new Date).toISOString(),tokenStatus:"active",type:"customer_social_link"},w=!!j.accessToken,N=!!j.pages[0].accessToken,S=!!j.userId,_=j.accessToken!==j.pages[0].accessToken;if(w&&N&&!_&&(console.warn("\u26a0\ufe0f WARNING: User and page tokens are identical - this will cause refresh issues"),j.tokenWarning="User and page tokens are identical - refresh may not work properly"),w||(console.warn("\u26a0\ufe0f Missing user access token - refresh will not work"),j.needsReconnection=!0,j.refreshError="User access token not available during connection",j.tokenStatus="invalid_user_token"),!N)throw console.warn("\u26a0\ufe0f Missing page access token - posting will not work"),j.needsReconnection=!0,j.refreshError="Page access token not available during connection",j.tokenStatus="invalid_page_token",new Error("Page access token is required for Instagram posting. Please ensure you have admin access to the Facebook page connected to this Instagram account.");S||(console.warn("\u26a0\ufe0f Missing user ID - token refresh will not work"),j.needsReconnection=!0,j.refreshError="User ID not available - required for token refresh",j.tokenStatus="missing_user_id"),console.log("\ud83d\udd11 Instagram Token Validation Summary:",{customerId:x,hasUserToken:w,hasPageToken:N,hasUserId:S,tokensAreDifferent:_,userTokenLength:(null===(h=j.accessToken)||void 0===h?void 0:h.length)||0,pageTokenLength:(null===(p=j.pages[0].accessToken)||void 0===p?void 0:p.length)||0,userTokenPrefix:(null===(g=j.accessToken)||void 0===g?void 0:g.substring(0,20))+"...",pageTokenPrefix:(null===(f=j.pages[0].accessToken)||void 0===f?void 0:f.substring(0,20))+"...",userId:j.userId,needsReconnection:j.needsReconnection,tokenStatus:j.tokenStatus});const C=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),A=await C.json();A.success?console.log("\u2705 Stored Instagram account for scheduling with customer ID:",x):(console.warn("Failed to store Instagram account:",A.error),alert(`Warning: Failed to store account data - ${A.error}. You may need to reconnect later.`))}catch(x){console.warn("Failed to store Instagram account:",x),alert(`Warning: ${x.message}. You may need to reconnect your Instagram account later.`)}},se=()=>{const e=d;e&&(N(!0),ne(e))},ne=e=>{if(!e.media||0===e.media.length)return N(!1),void p("No media data available for analytics. Upload some posts to Instagram first!");const t=new Date,s={followers:[],impressions:[],reach:[],posts:[]};for(let n=29;n>=0;n--){const r=LE(t,n),a=bs(r,"yyyy-MM-dd"),i=e.media.filter(e=>new Date(e.timestamp)<=r).length,o=e.profile.followers_count||Math.max(100,10*i),l=Math.floor(i*Math.random()*50+10),c=Math.floor(1.5*l);s.followers.push({date:a,value:o}),s.impressions.push({date:a,value:c}),s.reach.push({date:a,value:l}),s.posts.push({date:a,value:i})}j(s),N(!1)};(0,r.useEffect)(()=>{const e=localStorage.getItem("ig_analytics_last_fetch"),t=Date.now();(!e||t-parseInt(e,10)>864e5)&&(i.forEach(e=>{e.media&&e.media.length>0&&ne(e)}),localStorage.setItem("ig_analytics_last_fetch",t.toString()))},[i]);const re=()=>{var e,t,s,n,r,a;return I&&M?(0,Me.jsxs)("div",{className:"mt-6 bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-5 w-5 mr-2 text-pink-600"}),"Post Analytics"]}),(0,Me.jsx)("button",{onClick:()=>{T(null),D(null)},className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"bg-pink-50 border border-pink-200 rounded-xl p-4",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(M.thumbnail_url||M.media_url)&&(0,Me.jsx)("img",{src:M.thumbnail_url||M.media_url,alt:"Post media",className:"w-20 h-20 object-cover rounded-lg"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("span",{className:"text-xs text-pink-600 bg-pink-100 px-2 py-1 rounded font-medium",children:M.media_type}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:new Date(M.timestamp).toLocaleDateString()})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-800 mb-2",children:(null===(e=M.caption)||void 0===e?void 0:e.length)>150?`${M.caption.substring(0,150)}...`:M.caption}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Me.jsx)("span",{children:"Instagram Post"}),M.permalink&&(0,Me.jsx)("a",{href:M.permalink,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"View Post \u2192"})]})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-pink-50 border border-pink-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:(null===(t=M.likes_count)||void 0===t?void 0:t.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-sm text-pink-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)("span",{className:"mr-1",children:"\u2764\ufe0f"}),"Likes"]})]}),(0,Me.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===(s=M.comments_count)||void 0===s?void 0:s.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-sm text-purple-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)("span",{className:"mr-1",children:"\ud83d\udcac"}),"Comments"]})]}),(0,Me.jsxs)("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4 text-center col-span-2 lg:col-span-1",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:(null===(n=M.total_engagement)||void 0===n?void 0:n.toLocaleString())||0}),(0,Me.jsxs)("div",{className:"text-sm text-indigo-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)(ut,{className:"h-3 w-3 mr-1"}),"Total Engagement"]})]})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-4 w-4 mr-2"}),"Engagement Breakdown"]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-700",children:"\u2764\ufe0f Likes"}),(0,Me.jsxs)("span",{className:"text-pink-600 font-semibold",children:[(null===(r=M.likes_count)||void 0===r?void 0:r.toLocaleString())||0,M.total_engagement>0&&(0,Me.jsxs)("span",{className:"text-gray-500 ml-1",children:["(",(M.likes_count/M.total_engagement*100).toFixed(1),"%)"]})]})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-pink-500 h-2 rounded-full",style:{width:M.total_engagement>0?M.likes_count/M.total_engagement*100+"%":"0%"}})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,Me.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83d\udcac Comments"}),(0,Me.jsxs)("span",{className:"text-purple-600 font-semibold",children:[(null===(a=M.comments_count)||void 0===a?void 0:a.toLocaleString())||0,M.total_engagement>0&&(0,Me.jsxs)("span",{className:"text-gray-500 ml-1",children:["(",(M.comments_count/M.total_engagement*100).toFixed(1),"%)"]})]})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:M.total_engagement>0?M.comments_count/M.total_engagement*100+"%":"0%"}})})]})]}),(0,Me.jsxs)("div",{className:"mt-6 p-4 bg-pink-50 border border-pink-200 rounded-lg",children:[(0,Me.jsx)("h5",{className:"font-medium text-pink-800 mb-2",children:"\ud83d\udcca Performance Insights"}),(0,Me.jsxs)("div",{className:"text-sm text-pink-700 space-y-1",children:[(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Engagement Rate:"})," ",M.total_engagement>0?"Good engagement":"Low engagement",M.total_engagement>50&&" - High performing post! \ud83d\udd25"]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Most Popular:"})," ",M.likes_count>=M.comments_count?"Likes":"Comments"]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Content Type:"})," ","VIDEO"===M.media_type?"Video content":"IMAGE"===M.media_type?"Image content":"CAROUSEL_ALBUM"===M.media_type?"Carousel content":"Mixed content"," - ","VIDEO"===M.media_type?"Video posts typically get higher engagement!":"CAROUSEL_ALBUM"===M.media_type?"Carousel posts often perform well!":"Great visual content!"]}),(0,Me.jsxs)("p",{children:[(0,Me.jsx)("strong",{children:"Engagement Quality:"})," ",M.total_engagement>0?M.comments_count/M.total_engagement>.3?"High-quality engagement (lots of comments)":"Standard engagement pattern":"Consider using more engaging content"]})]})]})]})]})]}):null},ae=()=>{var e;return i.length<=1?null:(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,Me.jsx)(mt,{className:"h-5 w-5 mr-2"}),"Connected Instagram Accounts (",i.length,")"]}),(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(0,Me.jsxs)("button",{onClick:ee,disabled:g||!d,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2 text-sm",children:[(0,Me.jsx)("span",{children:"\ud83d\udd04"}),(0,Me.jsx)("span",{children:"Refresh Tokens"})]})})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>{var t,s;const n=H(e);return(0,Me.jsx)("div",{className:`border rounded-lg p-4 transition-all cursor-pointer ${l===e.id?"border-pink-500 bg-pink-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"} ${n?"border-orange-300 bg-orange-50":""}`,onClick:()=>Q(e.id),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[null!==(t=e.profile)&&void 0!==t&&t.profile_picture_url?(0,Me.jsx)("img",{src:e.profile.profile_picture_url,alt:"Profile",className:"w-12 h-12 rounded-full"}):(0,Me.jsx)("div",{className:"w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(un,{className:"h-6 w-6 text-pink-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsxs)("h5",{className:"font-medium text-gray-900 truncate",children:["@",(null===(s=e.profile)||void 0===s?void 0:s.username)||"Loading..."]}),l===e.id&&(0,Me.jsx)(ht,{className:"h-4 w-4 text-pink-600"}),n&&(0,Me.jsx)("span",{className:"text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded",children:"Expired"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.pageName}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Connected ",new Date(e.connectedAt).toLocaleDateString()]})]}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),X(e.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Remove account",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})]})},e.id)})}),d&&(0,Me.jsxs)("div",{className:"mt-4 p-3 bg-pink-50 border border-pink-200 rounded-lg",children:[(0,Me.jsx)("h6",{className:"font-medium text-pink-800 mb-2",children:"\ud83d\udd11 Token Management"}),(0,Me.jsxs)("div",{className:"text-sm text-pink-700 space-y-1",children:[(0,Me.jsxs)("p",{children:["\ud83d\udcdd ",(0,Me.jsx)("strong",{children:"Active Account:"})," @",null===(e=d.profile)||void 0===e?void 0:e.username]}),(0,Me.jsxs)("p",{children:["\ud83d\udd04 ",(0,Me.jsx)("strong",{children:"Auto-Refresh:"})," Tokens are automatically refreshed when needed"]}),(0,Me.jsxs)("p",{children:["\u23f0 ",(0,Me.jsx)("strong",{children:"Session Management:"})," Persistent connection across browser sessions"]}),(0,Me.jsxs)("p",{children:["\ud83d\udd17 ",(0,Me.jsx)("strong",{children:"Manual Actions:"}),' Use "Refresh Tokens" if you encounter issues']}),(0,Me.jsxs)("p",{children:["\u2705 ",(0,Me.jsx)("strong",{children:"Permissions:"})," instagram_basic, instagram_content_publish"]}),(0,Me.jsxs)("p",{children:["\ud83d\udcca ",(0,Me.jsx)("strong",{children:"Historical Data:"})," Automatically captured daily"]}),d.tokenExpiresAt&&(0,Me.jsxs)("p",{children:["\u23f3 ",(0,Me.jsx)("strong",{children:"Token Expires:"})," ",new Date(d.tokenExpiresAt).toLocaleString()]})]})]})]})},ie=()=>{if(!x)return null;const e=x.includes("expired")||x.includes("refresh")||x.includes("reconnect");return(0,Me.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)(We,{className:"h-6 w-6 text-red-600"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:e?"Session Expired":"Connection Error"})]}),(0,Me.jsx)("p",{className:"text-red-700 mb-4",children:x}),e&&(0,Me.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-3",children:[(0,Me.jsx)("h5",{className:"font-medium text-yellow-800 text-sm mb-1",children:"Why does this happen?"}),(0,Me.jsxs)("ul",{className:"text-xs text-yellow-700 space-y-1",children:[(0,Me.jsx)("li",{children:"\u2022 Facebook tokens expire after 1-2 hours by default"}),(0,Me.jsx)("li",{children:"\u2022 Long-lived tokens last 60 days but need proper exchange"}),(0,Me.jsx)("li",{children:"\u2022 App permissions may have been revoked"}),(0,Me.jsx)("li",{children:"\u2022 Network issues during token refresh"})]})]}),(0,Me.jsx)("div",{className:"space-y-2",children:e&&(0,Me.jsxs)("div",{className:"flex space-x-2",children:[(0,Me.jsx)("button",{onClick:ee,disabled:g,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:"\ud83d\udd04 Refresh Tokens"}),(0,Me.jsxs)("button",{onClick:()=>{p(null),G()},disabled:g,className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 disabled:opacity-50 flex items-center space-x-2",children:[(0,Me.jsx)(un,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Reconnect Instagram"})]})]})}),(0,Me.jsxs)("div",{className:"flex space-x-3 mt-4",children:[(0,Me.jsx)("button",{onClick:()=>p(null),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Dismiss"}),!e&&(0,Me.jsx)("button",{onClick:G,disabled:g,className:"bg-pink-600 text-white px-4 py-2 rounded-lg hover:bg-pink-700 transition-colors text-sm font-medium disabled:opacity-50",children:"Try Again"})]})]})},oe=()=>m&&0!==m.length?(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center mb-2",children:[(0,Me.jsx)(Is,{className:"h-5 w-5 mr-2"}),"Available Instagram Accounts (",m.length,")"]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(e=>(0,Me.jsx)("div",{className:"border rounded-lg p-4 bg-white hover:border-pink-400 transition-all cursor-pointer",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-pink-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(un,{className:"h-6 w-6 text-pink-600"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-900 truncate",children:e.pageName}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Page ID: ",e.pageId]}),e.tokenWarning&&(0,Me.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:e.tokenWarning})]}),(0,Me.jsx)("button",{onClick:()=>(async e=>{f(!0);try{if(!e.pageAccessToken)return p("This Instagram account cannot be connected because the Facebook page does not have a proper page access token. Please ensure you have admin access to the Facebook page and try reconnecting your Facebook account."),void f(!1);console.log("\u2705 Valid page access token found, proceeding with Instagram connection...");const t=`https://graph.facebook.com/v18.0/${e.id}?fields=id,username,media_count,profile_picture_url,biography,website,followers_count&access_token=${e.pageAccessToken}`,s=await fetch(t),n=await s.json();if(n.error)return q(n.error),void f(!1);const r=`https://graph.facebook.com/v18.0/${e.id}/media?fields=id,caption,media_type,media_url,thumbnail_url,permalink,timestamp,like_count,comments_count&limit=12&access_token=${e.pageAccessToken}`,a=await fetch(r),d=await a.json(),m={...e,connected:!0,profile:n,media:d.data||[],connectedAt:(new Date).toISOString(),userAccessToken:k,pageAccessToken:e.pageAccessToken,tokenType:e.tokenType||"long_lived_page",tokenExpiresIn:e.tokenExpiresIn||5183999,tokenExpiresAt:e.tokenExpiresAt||new Date(Date.now()+5183999e3).toISOString(),tokenValidatedAt:e.tokenValidatedAt||(new Date).toISOString(),lastTokenValidation:(new Date).toISOString()},x=[...i,m];o(x),l||(c(m.id),O(m.id),u(m),F_("instagram_active_account_id",m.id),F_("selected_instagram_account",m.id)),V(x),await te(m);const g=d.data||[],b=g.reduce((e,t)=>e+(t.like_count||0),0),v=g.reduce((e,t)=>e+(t.comments_count||0),0),y=g.filter(e=>"IMAGE"===e.media_type).length,j=g.filter(e=>"VIDEO"===e.media_type).length;await B(m.id,n.username,{followersCount:n.followers_count,mediaCount:n.media_count,totalLikes:b,totalComments:v,postsCount:g.length,photosCount:y,videosCount:j}),h(t=>t.filter(t=>t.id!==e.id)),f(!1),p(null),console.log("\u2705 Instagram account connected successfully:",n.username)}catch(t){console.error("\u274c Failed to connect Instagram account:",t),p(`Failed to connect Instagram account: ${t.message}`),f(!1)}})(e),className:"bg-pink-600 text-white px-3 py-1 rounded-lg hover:bg-pink-700 text-sm font-medium",disabled:g,children:"Connect"})]})},e.id))})]}):null;(0,r.useEffect)(()=>{if(i&&i.length>0){const e={};i.forEach(t=>{e[t.id]=R_(`ig_followers_timeline_${t.id}`)||[]}),R(e),(async()=>{if(!i||0===i.length)return;const e=bs(new Date,"yyyy-MM-dd"),t={...L};for(const s of i){const n=t[s.id]||[],r=n.length>0?n[n.length-1]:null,a=r?r.date:null;(a?(new Date(e)-new Date(a))/864e5:999)>=1&&s.pageAccessToken&&window.FB.api(`/${s.id}`,{fields:"followers_count",access_token:s.pageAccessToken},function(r){if(r&&void 0!==r.followers_count){const a=[...n,{date:e,value:r.followers_count}];t[s.id]=a,R({...t}),F_(`ig_followers_timeline_${s.id}`,a)}})}})()}},[i]);const le=e=>{const t=L[e]||[];return 0===t.length?null:(0,Me.jsx)("div",{style:{minWidth:300,minHeight:200},children:(0,Me.jsx)(I_,{data:t,title:"Followers Timeline",color:"#E4405F",metric:"value",style:{minHeight:200}})})};return(0,r.useEffect)(()=>{t&&d&&t(d)},[d,t]),(0,r.useEffect)(()=>{if(s){const e=i.length>0&&!i.some(H);s(e)}},[i,d,n]),n?(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center h-16",children:[(0,Me.jsx)(un,{className:"h-8 w-8 text-pink-600"}),(0,Me.jsx)("span",{className:"ml-2 text-xl font-bold text-[#1a1f2e]",children:"Instagram Integration"})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-8",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-4 md:p-6",children:[g&&(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(cn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-pink-600"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Connecting to Instagram..."})]})}),x&&(0,Me.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)(We,{className:"h-6 w-6 text-red-600"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-red-800",children:"Connection Error"})]}),(0,Me.jsx)("p",{className:"text-red-700 mb-4",children:x}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 max-w-md mx-auto",children:[(0,Me.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udcf1 Multi-Account Setup Guide"}),(0,Me.jsxs)("div",{className:"text-sm text-blue-700 text-left space-y-1",children:[(0,Me.jsx)("p",{children:"1. Convert Instagram accounts to Business/Creator accounts"}),(0,Me.jsx)("p",{children:"2. Connect each account to a Facebook page you manage"}),(0,Me.jsx)("p",{children:'3. Click "Connect" below and log in to Facebook'}),(0,Me.jsx)("p",{children:"4. Grant permissions to access all your connected accounts"}),(0,Me.jsx)("p",{children:"5. Select which accounts to connect and manage"}),(0,Me.jsx)("p",{children:"6. Historical data will be captured automatically"})]})]}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[(0,Me.jsx)("button",{onClick:()=>p(null),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Dismiss"}),(0,Me.jsx)("button",{onClick:G,className:"bg-pink-600 text-white px-4 py-2 rounded-lg hover:bg-pink-700 transition-colors text-sm font-medium",children:"Try Again"})]})]}),A?0!==i.length||0!==m.length||b?(()=>{var e,t,s,r,a,c,m,h,b,v,j,N;return(0,Me.jsxs)("div",{className:"space-y-6",children:[i.length>1&&ae(),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-1 bg-green-100 px-3 py-1 rounded-full",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600"}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-green-700",children:[i.length," Account",1!==i.length?"s":""," Connected"]})]})}),d&&(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[null!==(e=d.profile)&&void 0!==e&&e.profile_picture_url?(0,Me.jsx)("img",{src:d.profile.profile_picture_url,alt:"Profile",className:"w-6 h-6 rounded-full"}):(0,Me.jsx)(un,{className:"h-4 w-4 text-pink-600"}),(0,Me.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["@",(null===(t=d.profile)||void 0===t?void 0:t.username)||"Loading..."]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsxs)("button",{onClick:G,disabled:g||!n,className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors disabled:opacity-50",children:[(0,Me.jsx)(Is,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:g?"Connecting...":"Add Account"})]}),(0,Me.jsxs)("button",{onClick:Z,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,Me.jsx)(Dn,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Disconnect All"})]})]})]}),ie(),oe(),d&&(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 border border-pink-200 rounded-2xl p-2 sm:p-6",children:[(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[null!==(s=d.profile)&&void 0!==s&&s.profile_picture_url?(0,Me.jsx)("img",{src:d.profile.profile_picture_url,alt:"Instagram profile",className:"w-20 h-20 rounded-full border-4 border-pink-200"}):(0,Me.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-pink-400 to-purple-600 rounded-full flex items-center justify-center",children:(0,Me.jsx)(un,{className:"h-10 w-10 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["@",null===(r=d.profile)||void 0===r?void 0:r.username]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:d.pageName}),(null===(a=d.profile)||void 0===a?void 0:a.biography)&&(0,Me.jsx)("p",{className:"text-gray-700 text-sm mt-1",children:d.profile.biography})]})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap space-x-2",children:[(0,Me.jsxs)("button",{onClick:()=>(async e=>{const t=i.find(t=>t.id===e);if(t){f(!0);try{const s=`https://graph.facebook.com/v18.0/${e}?fields=id,username,media_count,profile_picture_url,biography,website,followers_count&access_token=${t.pageAccessToken}`,n=await fetch(s),r=await n.json();if(r.error)return q(r.error),void f(!1);const a=`https://graph.facebook.com/v18.0/${e}/media?fields=id,caption,media_type,media_url,thumbnail_url,permalink,timestamp,like_count,comments_count&limit=12&access_token=${t.pageAccessToken}`,c=await fetch(a),d=await c.json(),m=i.map(t=>t.id===e?{...t,profile:r,media:d.data||[],lastRefreshed:(new Date).toISOString(),lastTokenValidation:(new Date).toISOString()}:t);if(o(m),V(m),l===e){const t=m.find(t=>t.id===e);u(t)}const h=d.data||[],x=h.reduce((e,t)=>e+(t.like_count||0),0),p=h.reduce((e,t)=>e+(t.comments_count||0),0),g=h.filter(e=>"IMAGE"===e.media_type).length,b=h.filter(e=>"VIDEO"===e.media_type).length;await B(e,r.username,{followersCount:r.followers_count,mediaCount:r.media_count,totalLikes:x,totalComments:p,postsCount:h.length,photosCount:g,videosCount:b}),f(!1),console.log("\u2705 Instagram account refreshed:",r.username)}catch(x){console.error("\u274c Failed to refresh account:",x),p(`Failed to refresh account: ${x.message}`),f(!1)}}})(d.id),disabled:g,className:"flex items-center space-x-2 px-3 py-2 bg-white border border-pink-200 text-pink-700 rounded-lg hover:bg-pink-50 transition-colors disabled:opacity-50 text-sm",children:[(0,Me.jsx)(rt,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Refresh"})]}),(0,Me.jsxs)("button",{onClick:()=>X(d.id),className:"flex items-center space-x-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-sm",children:[(0,Me.jsx)(Dn,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Disconnect"})]}),(0,Me.jsxs)("button",{onClick:()=>{var e,t,s,n,r,a;return B(d.id,(null===(e=d.profile)||void 0===e?void 0:e.username)||"Unknown",{followersCount:null===(t=d.profile)||void 0===t?void 0:t.followers_count,mediaCount:null===(s=d.profile)||void 0===s?void 0:s.media_count,totalLikes:(null===(n=d.media)||void 0===n?void 0:n.reduce((e,t)=>e+(t.like_count||0),0))||0,totalComments:(null===(r=d.media)||void 0===r?void 0:r.reduce((e,t)=>e+(t.comments_count||0),0))||0,postsCount:(null===(a=d.media)||void 0===a?void 0:a.length)||0})},className:"flex items-center space-x-2 px-3 py-2 bg-cyan-100 text-cyan-700 rounded-lg hover:bg-cyan-200 transition-colors text-sm",children:[(0,Me.jsx)(_n,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Capture"})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 sm:gap-6 text-center mb-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:(null===(c=d.profile)||void 0===c||null===(m=c.media_count)||void 0===m?void 0:m.toLocaleString())||(null===(h=d.media)||void 0===h?void 0:h.length)||0}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Posts"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:(null===(b=d.profile)||void 0===b||null===(v=b.followers_count)||void 0===v?void 0:v.toLocaleString())||"N/A"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Followers"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:null===(j=d.media)||void 0===j?void 0:j.reduce((e,t)=>e+(t.like_count||0),0).toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Total Likes"})]})]}),(0,Me.jsx)("div",{className:"mb-6",children:(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between bg-white rounded-lg border border-gray-200 p-4 gap-2",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(xt,{className:"h-5 w-5 text-pink-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-medium text-gray-900",children:"Historical Analytics"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"View long-term trends and growth patterns"})]})]}),(0,Me.jsxs)("button",{onClick:()=>z(e=>({...e,[d.id]:!e[d.id]})),className:"flex items-center space-x-2 bg-pink-600 text-white px-4 py-2 rounded-lg hover:bg-pink-700 transition-colors text-sm",children:[(0,Me.jsx)(xt,{className:"h-4 w-4"}),(0,Me.jsxs)("span",{children:[F[d.id]?"Hide":"Show"," Historical Data"]})]})]})}),F[d.id]&&(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsx)(IE,{platform:"instagram",accountId:d.id,title:"Instagram Historical Analytics",defaultMetric:"followers"})}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:le(d.id)})]}),(0,Me.jsx)("div",{className:"flex space-x-3",children:(0,Me.jsxs)("button",{onClick:se,disabled:w||!d,className:"flex items-center space-x-2 bg-gradient-to-r from-pink-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-pink-700 hover:to-purple-700 disabled:opacity-50 transition-all duration-200 font-medium",children:[w?(0,Me.jsx)(cn,{className:"h-4 w-4 animate-spin"}):(0,Me.jsx)(ut,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"View Analytics"})]})}),y?(0,Me.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl p-6",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"bg-pink-600 p-2 rounded-lg",children:(0,Me.jsx)(ut,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Instagram Analytics"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Last 30 days performance for selected account"})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",style:{minWidth:300,minHeight:250},children:[y.followers.length>0&&(0,Me.jsx)(I_,{data:y.followers,title:"Follower Growth",color:"#E4405F",metric:"value",style:{minHeight:250}}),y.impressions.length>0&&(0,Me.jsx)(I_,{data:y.impressions,title:"Daily Impressions",color:"#C13584",metric:"value",style:{minHeight:250}}),y.reach.length>0&&(0,Me.jsx)(I_,{data:y.reach,title:"Daily Reach",color:"#F56040",metric:"value",style:{minHeight:250}}),y.posts.length>0&&(0,Me.jsx)(I_,{data:y.posts,title:"Posts per Day",color:"#FF6B9D",metric:"value",style:{minHeight:250}})]})]}):null,d&&(0,Me.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-2 sm:p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Recent Posts (",(null===(N=d.media)||void 0===N?void 0:N.length)||0,")"]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:d.media&&d.media.length>0?d.media.map(e=>(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[(0,Me.jsxs)("div",{className:"aspect-square relative",children:[(0,Me.jsx)("img",{src:e.thumbnail_url||e.media_url,alt:e.caption?e.caption.substring(0,50)+"...":"Instagram post",className:"w-full h-full object-cover"}),(0,Me.jsx)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs font-medium",children:e.media_type})]}),(0,Me.jsxs)("div",{className:"p-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-800 mb-3 line-clamp-2",children:e.caption?e.caption.length>100?e.caption.substring(0,100)+"...":e.caption:"No caption"}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,Me.jsx)("span",{children:new Date(e.timestamp).toLocaleDateString()}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(ME,{className:"h-3 w-3 text-red-500"}),(0,Me.jsx)("span",{children:e.like_count||0})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Me.jsx)(DE,{className:"h-3 w-3 text-blue-500"}),(0,Me.jsx)("span",{children:e.comments_count||0})]})]})]}),e.permalink&&(0,Me.jsxs)("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700 text-xs font-medium inline-flex items-center space-x-1",children:[(0,Me.jsx)("span",{children:"View on Instagram"}),(0,Me.jsx)(Dn,{className:"h-3 w-3"})]}),(0,Me.jsx)("button",{className:"text-xs text-purple-600 mt-2",onClick:()=>{T(e.id),(e=>{if(!e)return;T(e.id);const t={id:e.id,caption:e.caption||"No caption",timestamp:e.timestamp,permalink:e.permalink,media_url:e.media_url,thumbnail_url:e.thumbnail_url,media_type:e.media_type,likes_count:e.like_count||0,comments_count:e.comments_count||0,total_engagement:(e.like_count||0)+(e.comments_count||0),engagement_rate:0};D(t)})(e)},children:"Show Analytics"})]})]},e.id)):(0,Me.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,Me.jsx)(un,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No posts found"})]})})]}),re()]})})():(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(un,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Instagram Business Accounts Found"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"We couldn't find any Instagram Business accounts connected to your Facebook pages."}),(0,Me.jsx)("button",{onClick:()=>k&&J(k),disabled:b,className:"bg-pink-600 text-white px-6 py-3 rounded-lg hover:bg-pink-700 transition-colors disabled:opacity-50",children:b?"Searching...":"Search Again"})]}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-pink-100 to-purple-100 rounded-2xl mb-4",children:(0,Me.jsx)(un,{className:"h-8 w-8 text-pink-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect Instagram Business Accounts"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mxauto",children:"Connect multiple Instagram Business accounts through Facebook. Manage all your accounts from one dashboard with historical data tracking!"}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6 max-w-md mx-auto",children:[(0,Me.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\ud83d\udcf1 Multi-Account Setup Guide"}),(0,Me.jsxs)("div",{className:"text-sm text-blue-700 text-left space-y-1",children:[(0,Me.jsx)("p",{children:"1. Convert Instagram accounts to Business/Creator accounts"}),(0,Me.jsx)("p",{children:"2. Connect each account to a Facebook page you manage"}),(0,Me.jsx)("p",{children:'3. Click "Connect" below and log in to Facebook'}),(0,Me.jsx)("p",{children:"4. Grant permissions to access all your connected accounts"}),(0,Me.jsx)("p",{children:"5. Select which accounts to connect and manage"}),(0,Me.jsx)("p",{children:"6. Historical data will be captured automatically"})]})]}),(0,Me.jsxs)("button",{onClick:G,className:"bg-gradient-to-r from-pink-600 to-purple-600 text-white px-8 py-3 rounded-xl hover:from-pink-700 hover:to-purple-700 transition-all duration-200 flex items-center space-x-3 mx-auto font-medium",disabled:g,children:[(0,Me.jsx)(un,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:g?"Connecting...":"Connect Instagram Accounts"})]})]})]})})]}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center h-16",children:[(0,Me.jsx)(un,{className:"h-8 w-8 text-pink-600"}),(0,Me.jsx)("span",{className:"ml-2 text-xl font-bold text-[#1a1f2e]",children:"Instagram Integration"})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-8",children:(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-4 md:p-6",children:(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(cn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-pink-600"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading Facebook SDK..."})]})})})})]})},zE=Ve("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),UE=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),$E=Ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),BE=e=>{var t,s,n,r,a,i,o,l,c,d,u,m,h,x,p,g,f,b,v,y,j,w,N,k,S,_,C,A;let{selectedPost:P,onClose:E}=e;if(!P)return null;const O=e=>e?e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toLocaleString():"0";return(0,Me.jsxs)("div",{className:"mt-6 bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-5 w-5 mr-2 text-red-600"}),"YouTube Video Analytics"]}),(0,Me.jsx)("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(null===(t=P.snippet)||void 0===t||null===(s=t.thumbnails)||void 0===s||null===(n=s.medium)||void 0===n?void 0:n.url)&&(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:P.snippet.thumbnails.medium.url,alt:"Video thumbnail",className:"w-32 h-24 object-cover rounded-lg"}),(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Me.jsx)("div",{className:"bg-red-600 text-white rounded-full p-2",children:(0,Me.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{d:"M8 5v14l11-7z"})})})})]}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("span",{className:"text-xs text-red-600 bg-red-100 px-2 py-1 rounded font-medium",children:"YouTube Video"}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:(I=null===(r=P.snippet)||void 0===r?void 0:r.publishedAt,new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2 line-clamp-2",children:null===(a=P.snippet)||void 0===a?void 0:a.title}),(null===(i=P.snippet)||void 0===i?void 0:i.description)&&(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-3",children:P.snippet.description.length>150?`${P.snippet.description.substring(0,150)}...`:P.snippet.description}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,Me.jsxs)("span",{children:["Duration: ",(null===(o=P.contentDetails)||void 0===o?void 0:o.duration)||"N/A"]}),(0,Me.jsxs)("a",{href:`https://www.youtube.com/watch?v=${P.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-700 flex items-center space-x-1",children:[(0,Me.jsx)("span",{children:"Watch on YouTube"}),(0,Me.jsx)(Dn,{className:"h-3 w-3"})]})]})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:O(null===(l=P.statistics)||void 0===l?void 0:l.viewCount)}),(0,Me.jsxs)("div",{className:"text-sm text-blue-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)(Ke,{className:"h-3 w-3 mr-1"}),"Views"]})]}),(0,Me.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-green-600",children:O(null===(c=P.statistics)||void 0===c?void 0:c.likeCount)}),(0,Me.jsxs)("div",{className:"text-sm text-green-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)(zE,{className:"h-3 w-3 mr-1"}),"Likes"]})]}),(0,Me.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:O(null===(d=P.statistics)||void 0===d?void 0:d.commentCount)}),(0,Me.jsxs)("div",{className:"text-sm text-purple-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)(DE,{className:"h-3 w-3 mr-1"}),"Comments"]})]}),(0,Me.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:O((null===(u=P.statistics)||void 0===u?void 0:u.favoriteCount)||0)}),(0,Me.jsxs)("div",{className:"text-sm text-orange-700 font-medium flex items-center justify-center mt-1",children:[(0,Me.jsx)($E,{className:"h-3 w-3 mr-1"}),"Favorites"]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 border border-red-200 rounded-xl p-6 text-center",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-red-600 mb-2",children:O(parseInt((null===(m=P.statistics)||void 0===m?void 0:m.likeCount)||0)+parseInt((null===(h=P.statistics)||void 0===h?void 0:h.commentCount)||0)+parseInt((null===(x=P.statistics)||void 0===x?void 0:x.favoriteCount)||0))}),(0,Me.jsxs)("div",{className:"text-lg text-red-700 font-medium flex items-center justify-center",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 mr-2"}),"Total Engagement"]}),(0,Me.jsx)("div",{className:"text-sm text-red-600 mt-2",children:"Likes + Comments + Favorites"})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-4 w-4 mr-2"}),"Performance Breakdown"]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Engagement Rate"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null!==(p=P.statistics)&&void 0!==p&&p.viewCount?((parseInt((null===(g=P.statistics)||void 0===g?void 0:g.likeCount)||0)+parseInt((null===(f=P.statistics)||void 0===f?void 0:f.commentCount)||0))/parseInt(null===(b=P.statistics)||void 0===b?void 0:b.viewCount)*100).toFixed(2)+"%":"N/A"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Like Rate"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null!==(v=P.statistics)&&void 0!==v&&v.viewCount?(parseInt((null===(y=P.statistics)||void 0===y?void 0:y.likeCount)||0)/parseInt(null===(j=P.statistics)||void 0===j?void 0:j.viewCount)*100).toFixed(2)+"%":"N/A"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Comment Rate"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null!==(w=P.statistics)&&void 0!==w&&w.viewCount?(parseInt((null===(N=P.statistics)||void 0===N?void 0:N.commentCount)||0)/parseInt(null===(k=P.statistics)||void 0===k?void 0:k.viewCount)*100).toFixed(2)+"%":"N/A"})]})]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Video Category"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null===(S=P.snippet)||void 0===S?void 0:S.categoryId)||"General"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Privacy Status"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null===(_=P.status)||void 0===_?void 0:_.privacyStatus)||"Public"})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Upload Status"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null===(C=P.status)||void 0===C?void 0:C.uploadStatus)||"Processed"})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(ft,{className:"h-4 w-4 mr-2"}),"Engagement Distribution"]}),(0,Me.jsx)("div",{className:"space-y-3",children:["Views","Likes","Comments"].map((e,t)=>{var s,n,r;const a=["bg-blue-500","bg-green-500","bg-purple-500"],i=[(null===(s=P.statistics)||void 0===s?void 0:s.viewCount)||0,(null===(n=P.statistics)||void 0===n?void 0:n.likeCount)||0,(null===(r=P.statistics)||void 0===r?void 0:r.commentCount)||0],o=Math.max(...i),l=o>0?i[t]/o*100:0;return(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-600 flex items-center min-w-[80px]",children:[(0,Me.jsx)("span",{className:`w-3 h-3 ${a[t]} rounded-full mr-2`}),e]}),(0,Me.jsx)("div",{className:"flex items-center space-x-2 flex-1 mx-4",children:(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:`${a[t]} h-2 rounded-full transition-all duration-300`,style:{width:`${l}%`}})})}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-900 min-w-[60px] text-right",children:O(i[t])})]},e)})})]}),(null===(A=P.snippet)||void 0===A?void 0:A.tags)&&P.snippet.tags.length>0&&(0,Me.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[(0,Me.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Video Tags"}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-2",children:[P.snippet.tags.slice(0,10).map((e,t)=>(0,Me.jsxs)("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:["#",e]},t)),P.snippet.tags.length>10&&(0,Me.jsxs)("span",{className:"text-xs text-gray-500 px-2 py-1",children:["+",P.snippet.tags.length-10," more"]})]})]})]})]});var I},VE="593529385135-snp35l6s9dtje8g8f1l1b3ajtp375cjr.apps.googleusercontent.com",WE=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"];function HE(e){let t=0;const s=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);return s?(s[1]&&(t+=3600*parseInt(s[1],10)),s[2]&&(t+=60*parseInt(s[2],10)),s[3]&&(t+=parseInt(s[3],10)),t):0}function qE(e){if(!e)return"Unknown error occurred";if("string"===typeof e)return e;if(e.result&&e.result.error){if(e.result.error.message)return e.result.error.message;if(e.result.error.code)return`API Error ${e.result.error.code}`}if(e.message)return e.message;if(e.error){if("string"===typeof e.error)return e.error;if(e.error.message)return e.error.message}if(401===e.code||401===e.status)return"YouTube access token expired. Please reconnect your account.";if(403===e.code||403===e.status)return"YouTube API access denied. Please check your permissions.";if(400===e.code||400===e.status)return"Invalid request to YouTube API. Please try again.";try{const t=JSON.stringify(e);if("{}"!==t)return`Error: ${t}`}catch(GB){}return"An unexpected error occurred. Please try again."}const YE=function(e){const[t,s]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(null),[x,p]=(0,r.useState)(null),[g,f]=(0,r.useState)([]),[b,v]=(0,r.useState)(0),[y,j]=(0,r.useState)(0),[w,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[_,C]=(0,r.useState)({}),[A,P]=(0,r.useState)({}),[E,O]=(0,r.useState)({}),[I,T]=(0,r.useState)(null),[M,D]=(0,r.useState)(null),L=e=>function(e,t){const s=qE(t);console.error("YouTube Integration Error:",t),e(s)}(N,e),R=async(e,t,s)=>{try{const n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/historical-data/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:"youtube",accountId:e,pageId:e,accountName:t,metrics:{subscriberCount:s.subscriberCount||0,videoCount:s.videoCount||0,viewCount:s.viewCount||0,totalViews:s.totalViews||s.viewCount||0,totalSubscribers:s.totalSubscribers||s.subscriberCount||0,shortsCount:s.shortsCount||0,videosCount:s.videosCount||0,estimatedWatchTime:s.estimatedWatchTime||0},dataSource:"api"})});(await n.json()).success&&console.log(`\u2705 Stored historical snapshot for YouTube channel: ${t}`)}catch(w){console.warn("Failed to store historical snapshot:",w)}};(0,r.useEffect)(()=>{try{U_(["yt_connected_accounts","yt_active_account_id"]);const e=R_("yt_connected_accounts"),t=R_("yt_active_account_id");if(e)if(c(e),t&&e.some(e=>e.id===t)){u(t);const s=e.find(e=>e.id===t);h(s)}else e.length>0&&(u(e[0].id),h(e[0]),F_("yt_active_account_id",e[0].id))}catch(w){console.warn("Failed to load saved accounts:",w)}},[]),(0,r.useEffect)(()=>{const e=(e,t,s)=>{const n=document.createElement("script");return n.src=e,n.onload=t,n.onerror=s,document.body.appendChild(n),n},t=e("https://apis.google.com/js/api.js",()=>s(!0),e=>{console.error("Failed to load Google API script:",e),L("Failed to load Google API script. Please check your internet connection.")}),n=e("https://accounts.google.com/gsi/client",()=>a(!0),e=>{console.error("Failed to load Google Identity Services script:",e),L("Failed to load Google Identity Services script. Please check your internet connection.")});return()=>{document.body.contains(t)&&t.remove(),document.body.contains(n)&&n.remove()}},[]),(0,r.useEffect)(()=>{if(t)try{window.gapi.load("client",async()=>{try{await window.gapi.client.init({apiKey:"AIzaSyD2fYMvhlDJwk6cMEJSBRQmJnsidFjCFtc",discoveryDocs:WE}),o(!0)}catch(e){console.error("GAPI client initialization error:",e),L("Failed to initialize Google API client. Please refresh the page and try again.")}})}catch(e){console.error("GAPI load error:",e),L("Failed to load Google API client. Please refresh the page and try again.")}},[t]);const F=e=>{try{F_("yt_connected_accounts",e)}catch(w){console.warn("Failed to save accounts to storage:",w)}},z=async e=>{if(!m)throw new Error("No active YouTube account");try{if(!await G(m.id))throw new Error("YouTube token expired. Please reconnect your account.");const{caption:t,mediaFiles:s}=e;if(!s||0===s.length)throw new Error("No media files provided");const n=s[0];let r=n,a=n.type;n.type.startsWith("image/")&&(r=await X(n),a="video/webm");const i={snippet:{title:t||"Untitled Video",description:t||""},status:{privacyStatus:"public"}};return new Promise((e,t)=>{const s="-------314159265358979323846",n="\r\n--"+s+"\r\n",o="\r\n--"+s+"--",c=new FileReader;c.onload=async r=>{try{const d=r.target.result.split(",")[1],u=n+"Content-Type: application/json; charset=UTF-8\r\n\r\n"+JSON.stringify(i)+n+"Content-Type: "+a+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+d+o;let h=await fetch("https://www.googleapis.com/upload/youtube/v3/videos?part=snippet,status&uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${m.accessToken}`,"Content-Type":`multipart/related; boundary="${s}"`},body:u});if(401===h.status&&m.refreshToken){if(await H(m.id)){const e=l.find(e=>e.id===m.id);h=await fetch("https://www.googleapis.com/upload/youtube/v3/videos?part=snippet,status&uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":`multipart/related; boundary="${s}"`},body:u})}}if(!h.ok){var c;const e=await h.json();return void t(new Error((null===(c=e.error)||void 0===c?void 0:c.message)||`YouTube upload failed with status ${h.status}`))}const x=await h.json();e({success:!0,videoId:x.id,url:`https://www.youtube.com/watch?v=${x.id}`})}catch(w){t(new Error(`YouTube upload failed: ${qE(w)}`))}},c.onerror=()=>t(new Error("Failed to read file")),c.readAsDataURL(r)})}catch(w){throw new Error(`YouTube publish error: ${qE(w)}`)}};r.useEffect(()=>{try{return window.publishToYouTube=z,console.log("\u2705 YouTube publish function exported successfully"),()=>{delete window.publishToYouTube}}catch(w){console.warn("Error exporting YouTube publish function:",w)}},[z,m]);const U=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var s,n,r,a,i,o,l,c,d;const p=t||m;if(!p)return void console.warn("No account available for storing customer social account");let g=null;try{const e=JSON.parse(localStorage.getItem("currentUser")||"{}");if(g=e.userId||e.id||e._id||e.customer_id,!g){const e=JSON.parse(localStorage.getItem("user")||"{}");g=e.userId||e.id||e._id||e.customer_id}}catch(h){console.warn("Error parsing user data from localStorage:",h)}if(!g)return void console.warn("No customer ID found, cannot store social account");if(!p.accessToken||p.accessToken.length<50){var u;const t="YouTube access token is invalid or missing. Please try reconnecting your YouTube account.";return console.error("\ud83d\udea8 Invalid YouTube access token:",{channelId:e.id,channelName:e.snippet.title,hasToken:!!p.accessToken,tokenLength:(null===(u=p.accessToken)||void 0===u?void 0:u.length)||0}),void L(t)}console.log("\u2705 Valid YouTube access token found:",{channelId:e.id,channelName:e.snippet.title,tokenLength:p.accessToken.length,tokenPrefix:p.accessToken.substring(0,15)+"..."});const f=Date.now()+36e5,b=R_(`yt_token_expiry_${p.id}`),v=b?parseInt(b,10):f,y={customerId:g,platform:"youtube",platformUserId:p.id,name:p.name,email:p.email,profilePicture:null===(s=p.picture)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.url,accessToken:p.accessToken,refreshToken:p.refreshToken,tokenExpiresAt:new Date(v).toISOString(),tokenCreatedAt:(new Date).toISOString(),channels:[{id:e.id,name:e.snippet.title,description:e.snippet.description,thumbnail:null===(r=e.snippet.thumbnails)||void 0===r||null===(a=r.default)||void 0===a?void 0:a.url,subscriberCount:null===(i=e.statistics)||void 0===i?void 0:i.subscriberCount,videoCount:null===(o=e.statistics)||void 0===o?void 0:o.videoCount,viewCount:null===(l=e.statistics)||void 0===l?void 0:l.viewCount,customUrl:null===(c=e.snippet)||void 0===c?void 0:c.customUrl,country:null===(d=e.snippet)||void 0===d?void 0:d.country}],connectedAt:(new Date).toISOString(),lastTokenRefresh:(new Date).toISOString()};if(!y.accessToken)throw new Error("YouTube access token validation failed before storage");console.log("\ud83d\udce4 Sending YouTube account data with validated tokens:",{customerId:g,platform:"youtube",platformUserId:p.id,tokenLength:y.accessToken.length,channelsCount:y.channels.length,tokenExpiresAt:y.tokenExpiresAt});const j=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),w=await j.json();if(w.success){console.log("\u2705 Stored customer YouTube account for admin access");try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${g}`),s=await t.json();if(s.success&&s.accounts.length>0){const t=s.accounts.find(e=>"youtube"===e.platform);if(t&&t.channels&&t.channels.length>0){const s=t.channels.find(t=>t.id===e.id);s?console.log("\u2705 Verified YouTube channel was stored correctly:",{channelId:s.id,channelName:s.name,hasToken:!!t.accessToken,tokenExpiresAt:t.tokenExpiresAt}):console.error("\u274c YouTube channel was not stored correctly")}}}catch(x){console.warn("Could not verify stored YouTube data:",x.message)}}else console.warn("Failed to store customer YouTube account:",w.error)}catch(w){console.warn("Failed to store customer YouTube account:",w),L(`Warning: ${qE(w)}. You may need to reconnect your YouTube account.`)}},$=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const o=e.contentDetails.relatedPlaylists.uploads;await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const s=t||m;if(!s)return void console.warn("No account available for storing connected channel");const n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/connected-pages/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pageId:e.id,pageName:e.snippet.title,accessToken:s.accessToken,instagramId:null,instagramUsername:null,userId:(null===s||void 0===s?void 0:s.id)||"unknown",accountName:(null===s||void 0===s?void 0:s.name)||"unknown",platform:"youtube"})});(await n.json()).success&&console.log("\u2705 Stored connected YouTube channel:",e.snippet.title),await U(e,s)}catch(w){console.warn("Failed to store connected YouTube channel:",w)}}(e,t);const l=(await window.gapi.client.youtube.playlistItems.list({part:"snippet,contentDetails",playlistId:o,maxResults:50})).result.items||[];f(l);const c=l.map(e=>e.snippet.resourceId.videoId).join(",");if(c){var s,n,r,a,i;const t=(await window.gapi.client.youtube.videos.list({part:"contentDetails,snippet",id:c})).result.items||[];let o=0,l=0;t.forEach(e=>{const t=HE(e.contentDetails.duration),s=e.snippet.thumbnails&&e.snippet.thumbnails.default&&e.snippet.thumbnails.default.height>e.snippet.thumbnails.default.width;t<=60&&s?o++:l++}),v(o),j(l),R(e.id,e.snippet.title,{subscriberCount:null===(s=e.statistics)||void 0===s?void 0:s.subscriberCount,videoCount:null===(n=e.statistics)||void 0===n?void 0:n.videoCount,viewCount:null===(r=e.statistics)||void 0===r?void 0:r.viewCount,totalViews:null===(a=e.statistics)||void 0===a?void 0:a.viewCount,totalSubscribers:null===(i=e.statistics)||void 0===i?void 0:i.subscriberCount,shortsCount:o,videosCount:l})}else v(0),j(0)}catch(o){console.error("Error fetching channel data:",o),console.warn("Failed to fetch some channel data, continuing with available information")}},B=()=>{try{k?k.requestAccessToken({prompt:"consent"}):L("Authentication service not ready. Please refresh the page and try again.")}catch(w){console.error("Error during sign in:",w),L("Failed to start authentication process. Please refresh the page and try again.")}},V=e=>{try{const t=l.find(t=>t.id===e);if(t){u(e),h(t),F_("yt_active_account_id",e),p(null),f([]),v(0),j(0);const s=R_(`yt_token_expiry_${e}`);t.accessToken&&s&&Date.now()<parseInt(s,10)&&(window.gapi.client.setToken({access_token:t.accessToken}),p(t.channelInfo),$(t.channelInfo))}}catch(w){console.error("Error switching account:",w),L("Failed to switch YouTube account. Please try again.")}},W=()=>{try{l.forEach(e=>{if(e.accessToken)try{fetch(`https://oauth2.googleapis.com/revoke?token=${e.accessToken}`,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"}}).catch(e=>console.warn("Failed to revoke token:",e))}catch(t){console.warn("Error revoking token:",t)}z_(`yt_access_token_${e.id}`),z_(`yt_token_expiry_${e.id}`)}),c([]),u(null),h(null),p(null),f([]),v(0),j(0),window.gapi.client.setToken(""),z_("yt_connected_accounts"),z_("yt_active_account_id")}catch(w){console.error("Error signing out:",w),L("Failed to sign out completely. Some data may remain cached.")}},H=async e=>{const t=l.find(t=>t.id===e);if(!t||!t.refreshToken)return console.warn("\u26a0\ufe0f No refresh token available for account:",e),console.warn("\ud83d\udca1 To enable auto-refresh: Disconnect and reconnect your YouTube account with consent prompt"),!1;try{console.log("\ud83d\udd04 Refreshing YouTube access token...");const s=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:VE,refresh_token:t.refreshToken,grant_type:"refresh_token"})}),n=await s.json();if(s.ok&&n.access_token){console.log("\u2705 Successfully refreshed YouTube token");const s={...t,accessToken:n.access_token,connectedAt:(new Date).toISOString()},r=l.map(t=>t.id===e?s:t);c(r),F(r),d===e&&(h(s),window.gapi.client.setToken({access_token:n.access_token}));const a=n.expires_in||3600,i=Date.now()+1e3*a;return F_(`yt_access_token_${e}`,n.access_token),F_(`yt_token_expiry_${e}`,i.toString()),await Y(e,n.access_token,a),q(e,i),console.log(`\u23f0 Next auto-refresh scheduled at: ${new Date(i-6e5).toLocaleString()}`),!0}return console.error("\u274c Failed to refresh YouTube token:",n),"invalid_grant"===n.error&&(console.error("\ud83d\udd34 Refresh token is invalid or revoked. User needs to reconnect YouTube account."),L("YouTube access has been revoked. Please reconnect your account.")),!1}catch(w){return console.error("\u274c Error refreshing YouTube token:",w),!1}},q=(e,t)=>{M&&clearTimeout(M);const s=t-Date.now()-6e5;if(s<=0)return console.log("\u26a0\ufe0f Token expires too soon, refreshing immediately..."),void H(e);console.log(`\u23f0 Scheduled token refresh in ${Math.round(s/1e3/60)} minutes (at ${new Date(Date.now()+s).toLocaleTimeString()})`);const n=setTimeout(()=>{console.log("\u23f0 Auto-refreshing YouTube token..."),H(e)},s);D(n)},Y=async(e,t,s)=>{try{const n=JSON.parse(localStorage.getItem("currentUser")||"{}"),r=n.userId||n.id||n._id||n.customer_id;if(!r)return void console.warn("No customer ID found for token update");const a=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${r}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({platform:"youtube",platformUserId:e,accessToken:t,tokenExpiresAt:new Date(Date.now()+1e3*s).toISOString(),lastTokenRefresh:(new Date).toISOString()})}),i=await a.json();i.success?console.log("\u2705 Updated stored YouTube token in database"):console.warn("Failed to update stored token:",i.error)}catch(w){console.warn("Error updating stored token:",w)}},G=async e=>{try{const t=l.find(t=>t.id===e);if(!t)return!1;const s=R_(`yt_token_expiry_${e}`);if(!s||Date.now()>=parseInt(s,10)-6e5){if(!t.refreshToken)return console.warn("\u26a0\ufe0f Token expired but no refresh token available"),L("YouTube session expired. Please reconnect your account to continue."),!1;console.log("\ud83d\udd04 Token expired or expiring soon, attempting refresh...");if(!await H(e))return L("Failed to refresh YouTube token. Please reconnect your YouTube account."),!1}return!0}catch(w){return console.error("Error checking token validity:",w),!1}},K=async()=>{if(m)try{if(!await G(m.id))return;const r=await window.gapi.client.youtube.channels.list({part:"snippet,contentDetails,statistics",mine:!0});if(r.result.items&&r.result.items.length>0){const a=r.result.items[0];if(p(a),"function"===typeof(null===e||void 0===e?void 0:e.onData))try{var t,s,n;e.onData({channelInfo:{statistics:{subscriberCount:null===(t=a.statistics)||void 0===t?void 0:t.subscriberCount,viewCount:null===(s=a.statistics)||void 0===s?void 0:s.viewCount,videoCount:null===(n=a.statistics)||void 0===n?void 0:n.videoCount}}})}catch(i){console.warn("Error calling onData callback:",i)}await $(a)}else L("No YouTube channel found for this account")}catch(o){var r,a;if(console.error("YouTube API error:",o),401===o.status||401===(null===(r=o.result)||void 0===r||null===(a=r.error)||void 0===a?void 0:a.code)){console.log("\ud83d\udd04 Authentication error, attempting token refresh...");if(await H(m.id))try{const e=await window.gapi.client.youtube.channels.list({part:"snippet,contentDetails,statistics",mine:!0});if(e.result.items&&e.result.items.length>0){const t=e.result.items[0];return p(t),void await $(t)}}catch(l){console.error("Retry failed:",l)}L("YouTube access token expired. Please reconnect your YouTube account.")}else L(o)}},J=()=>{if(!m)return null;const e=R_(`yt_token_expiry_${m.id}`),t=!e||Date.now()>=parseInt(e,10),s=e&&Date.now()>=parseInt(e,10)-6e5,n=!!m.refreshToken;return(0,Me.jsxs)("div",{className:"mt-4 p-3 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[(0,Me.jsx)("h6",{className:"font-medium text-green-800 mb-2",children:"\ud83d\udd11 Token Status"}),(0,Me.jsxs)("div",{className:"text-sm text-green-700 space-y-1",children:[(0,Me.jsxs)("p",{children:["\ud83d\udcc5 ",(0,Me.jsx)("strong",{children:"Token Status:"})," ",t?"\u274c Expired":s?"\u26a0\ufe0f Expiring Soon":"\u2705 Valid"]}),e&&(0,Me.jsxs)("p",{children:["\u23f0 ",(0,Me.jsx)("strong",{children:"Expires:"})," ",new Date(parseInt(e,10)).toLocaleString()]}),n&&(0,Me.jsx)("div",{className:"mt-2 p-2 bg-green-100 border border-green-300 rounded text-xs",children:(0,Me.jsxs)("p",{className:"flex items-center",children:[(0,Me.jsx)(_n,{className:"h-3 w-3 mr-1 text-green-600"}),(0,Me.jsx)("strong",{className:"text-green-800",children:"\u2705 Auto-Refresh Enabled:"}),(0,Me.jsx)("span",{className:"ml-1 text-green-700",children:"Token will refresh automatically before expiry"})]})}),(0,Me.jsxs)("div",{className:"mt-2 space-x-2",children:[(t||s)&&(0,Me.jsx)("button",{onClick:()=>H(m.id),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"\ud83d\udd04 Refresh Now"}),!n&&(0,Me.jsx)("button",{onClick:()=>{k&&k.requestAccessToken({prompt:"consent"})},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"\ud83d\udd11 Enable Auto-Refresh"})]}),!n&&(0,Me.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:[(0,Me.jsx)("strong",{children:"\u26a0\ufe0f Auto-refresh disabled:"}),' Click "Enable Auto-Refresh" to allow automatic token renewal. This will keep your session active indefinitely.']})]})]})},Q=()=>(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,Me.jsx)(mt,{className:"h-5 w-5 mr-2"}),"Connected YouTube Accounts (",l.length,")"]}),(0,Me.jsxs)("button",{onClick:B,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Is,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Add Account"})]})]}),l.length>0&&(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>(0,Me.jsx)("div",{className:"border rounded-lg p-4 transition-all cursor-pointer "+(d===e.id?"border-red-500 bg-red-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"),onClick:()=>V(e.id),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[e.picture&&(0,Me.jsx)("img",{src:e.picture.url,alt:e.name,className:"w-12 h-12 rounded-full"}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-900 truncate",children:e.name}),d===e.id&&(0,Me.jsx)(ht,{className:"h-4 w-4 text-red-600"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.email}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Connected ",new Date(e.connectedAt).toLocaleDateString()]})]}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{try{const t=l.filter(t=>t.id!==e);c(t),F(t),z_(`yt_access_token_${e}`),z_(`yt_token_expiry_${e}`),d===e&&(t.length>0?V(t[0].id):(u(null),h(null),p(null),f([]),v(0),j(0),z_("yt_active_account_id")))}catch(w){console.error("Error removing account:",w),L("Failed to remove YouTube account. Please try again.")}})(e.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Remove account",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})]})},e.id))})]}),X=async e=>new Promise((t,s)=>{const n=new window.Image;n.onload=()=>{const e=document.createElement("canvas");e.width=n.width,e.height=n.height;e.getContext("2d").drawImage(n,0,0);const s=e.captureStream(30),r=[],a=new MediaRecorder(s,{mimeType:"video/webm"});a.ondataavailable=e=>{e.data.size>0&&r.push(e.data)},a.onstop=()=>{const e=new Blob(r,{type:"video/webm"});t(e)},a.start(),setTimeout(()=>{a.stop()},2e3)},n.onerror=s,n.src=URL.createObjectURL(e)});(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{if(i&&n&&m)try{const e=R_(`yt_token_expiry_${m.id}`);if(m.accessToken&&e&&Date.now()<parseInt(e,10)){window.gapi.client.setToken({access_token:m.accessToken}),x||K();const t=parseInt(e,10);q(m.id,t)}else m.refreshToken&&(console.log("\ud83d\udd04 Token expired, attempting automatic refresh..."),H(m.id))}catch(w){console.warn("Error restoring active account token:",w)}const e=setInterval(()=>{if(m&&m.refreshToken){const e=R_(`yt_token_expiry_${m.id}`);(e?parseInt(e,10)-Date.now():0)<9e5&&(console.log("\u23f0 Periodic check: Token expiring soon, refreshing..."),H(m.id))}},6e5);return()=>{M&&clearTimeout(M),clearInterval(e)}},[i,n,m]),(0,r.useEffect)(()=>{if(n)try{const t=window.google.accounts.oauth2.initTokenClient({client_id:VE,scope:"https://www.googleapis.com/auth/youtube.readonly https://www.googleapis.com/auth/yt-analytics.readonly https://www.googleapis.com/auth/youtube.upload",callback:t=>{try{t&&t.access_token&&(async t=>{console.log("\ud83d\udd0d Token response:",{hasAccessToken:!!t.access_token,hasRefreshToken:!!t.refresh_token,expiresIn:t.expires_in});try{window.gapi.client.setToken({access_token:t.access_token});const x=await window.gapi.client.youtube.channels.list({part:"snippet,contentDetails,statistics",mine:!0});if(x.result.items&&x.result.items.length>0){var s,n,r,a,i;const g=x.result.items[0],f=g.id,b={id:f,name:g.snippet.title,email:g.snippet.customUrl||`${g.snippet.title}@youtube`,picture:g.snippet.thumbnails.default,accessToken:t.access_token,connectedAt:(new Date).toISOString(),channelInfo:g};t.refresh_token?(b.refreshToken=t.refresh_token,console.log("\u2705 Refresh token captured and stored")):console.warn("\u26a0\ufe0f No refresh token received - auto-refresh will not work");const v=l.findIndex(e=>e.id===f);let y;v>=0?(y=[...l],y[v]={...y[v],...b}):y=[...l,b],c(y),F(y),u(f),h(b),p(g),F_("yt_active_account_id",f);const j=Date.now()+1e3*(t.expires_in||3600);if(F_(`yt_access_token_${f}`,t.access_token),F_(`yt_token_expiry_${f}`,j.toString()),q(f,j),console.log("\u2705 Automatic token refresh scheduled"),await $(g,b),R(g.id,g.snippet.title,{subscriberCount:null===(s=g.statistics)||void 0===s?void 0:s.subscriberCount,videoCount:null===(n=g.statistics)||void 0===n?void 0:n.videoCount,viewCount:null===(r=g.statistics)||void 0===r?void 0:r.viewCount,totalViews:null===(a=g.statistics)||void 0===a?void 0:a.viewCount,totalSubscribers:null===(i=g.statistics)||void 0===i?void 0:i.subscriberCount}),"function"===typeof(null===e||void 0===e?void 0:e.onData))try{var o,d,m;e.onData({channelInfo:{statistics:{subscriberCount:null===(o=g.statistics)||void 0===o?void 0:o.subscriberCount,viewCount:null===(d=g.statistics)||void 0===d?void 0:d.viewCount,videoCount:null===(m=g.statistics)||void 0===m?void 0:m.videoCount}}})}catch(w){console.warn("Error calling onData callback:",w)}N(null)}else L("No YouTube channel found for this account")}catch(x){console.error("Error handling new token:",x),L(x)}})(t)}catch(s){console.error("Error in token callback:",s),L("Failed to process authentication response. Please try again.")}}});S(t)}catch(w){console.error("Error initializing token client:",w),L("Failed to initialize authentication. Please refresh the page and try again.")}},[n]);const Z=()=>(0,Me.jsxs)("div",{className:"space-y-6",children:[Q(),m&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[m.picture&&(0,Me.jsx)("img",{src:m.picture.url,alt:"Profile",className:"w-10 h-10 rounded-full"}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"font-medium",children:["Active Account: ",m.name]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:m.email})]})]}),(0,Me.jsx)("button",{onClick:W,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition-colors text-sm",children:"Disconnect All"})]}),J(),x&&(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 border border-red-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,Me.jsx)("img",{src:x.snippet.thumbnails.default.url,alt:"Channel thumbnail",className:"w-20 h-20 rounded-full border-4 border-red-200"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:x.snippet.title}),(0,Me.jsx)("p",{className:"text-gray-700 text-sm",children:x.snippet.description})]}),(0,Me.jsx)("div",{className:"ml-auto",children:(0,Me.jsxs)("button",{onClick:()=>{var e,t,s,n,r;return R(x.id,x.snippet.title,{subscriberCount:null===(e=x.statistics)||void 0===e?void 0:e.subscriberCount,videoCount:null===(t=x.statistics)||void 0===t?void 0:t.videoCount,viewCount:null===(s=x.statistics)||void 0===s?void 0:s.viewCount,totalViews:null===(n=x.statistics)||void 0===n?void 0:n.viewCount,totalSubscribers:null===(r=x.statistics)||void 0===r?void 0:r.subscriberCount,shortsCount:b,videosCount:y})},className:"flex items-center space-x-2 px-3 py-2 bg-cyan-100 text-cyan-700 rounded-lg hover:bg-cyan-200 transition-colors text-sm",children:[(0,Me.jsx)(_n,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Capture Snapshot"})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,Me.jsx)(mt,{className:"h-5 w-5 text-red-600"})}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Subscribers"})]})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:x.statistics.subscriberCount&&"0"!==x.statistics.subscriberCount?parseInt(x.statistics.subscriberCount).toLocaleString():"Hidden"}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Growing"})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Me.jsx)(Ke,{className:"h-5 w-5 text-blue-600"})}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Total Views"})]})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:x.statistics.viewCount?parseInt(x.statistics.viewCount).toLocaleString():"0"}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"All time"})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Me.jsx)(pn,{className:"h-5 w-5 text-purple-600"})}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Videos"})]})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:y.toLocaleString()}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-purple-600",children:[(0,Me.jsx)(on,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Long form"})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,Me.jsx)(vn,{className:"h-5 w-5 text-orange-600"})}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Shorts"})]})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:b.toLocaleString()}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-orange-600",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Short form"})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[(0,Me.jsx)(vn,{className:"h-6 w-6 text-red-600"}),(0,Me.jsx)("span",{children:"Latest Videos"}),(0,Me.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-lg text-sm font-medium",children:x&&x.statistics.videoCount?parseInt(x.statistics.videoCount).toLocaleString():g.length})]})}),(0,Me.jsx)("div",{className:"grid gap-6",children:g.length>0?g.map(e=>{var t;const s=e.snippet.resourceId.videoId,n=A[s],r=E[s],a=I===s;return(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200",children:[(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:(null===(t=e.snippet.thumbnails.medium)||void 0===t?void 0:t.url)||e.snippet.thumbnails.default.url,alt:e.snippet.title,className:"w-40 h-28 object-cover rounded-lg shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/160x90?text=No+Image"}}),(0,Me.jsxs)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-75 text-white px-2 py-1 rounded text-xs",children:[(0,Me.jsx)(vn,{className:"h-3 w-3 inline mr-1"}),"Video"]})]}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 text-lg mb-2 line-clamp-2 leading-tight",children:e.snippet.title}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["Published ",new Date(e.snippet.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),n&&(0,Me.jsxs)("div",{className:"flex items-center space-x-6 mb-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4"}),(0,Me.jsx)("span",{className:"font-medium",children:n.views.toLocaleString()})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,Me.jsx)(zE,{className:"h-4 w-4"}),(0,Me.jsx)("span",{className:"font-medium",children:n.likes.toLocaleString()})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,Me.jsx)(fn,{className:"h-4 w-4"}),(0,Me.jsx)("span",{className:"font-medium",children:n.comments.toLocaleString()})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 text-green-600"}),(0,Me.jsxs)("span",{className:"font-medium text-green-600",children:[n.engagementRate,"%"]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("button",{onClick:()=>{n||(async e=>{if(!E[e]){O(t=>({...t,[e]:!0}));try{if(m&&!await G(m.id))return void O(t=>({...t,[e]:!1}));const a=await window.gapi.client.youtube.videos.list({part:"statistics,snippet,contentDetails",id:e});if(a.result.items&&a.result.items.length>0){var t,s,n,r;const i=a.result.items[0],o=i.statistics||{},l=i.snippet||{},c=i.contentDetails||{},d=parseInt(o.viewCount)||0,u=parseInt(o.likeCount)||0,m=parseInt(o.commentCount)||0,h=d>0?((u+m)/d*100).toFixed(2):"0.00",x=HE(c.duration),p=x<=60,g=d>0?(.003*d).toFixed(2):"0.00",f={videoId:e,title:l.title||"Untitled Video",publishedAt:l.publishedAt,duration:c.duration,durationSeconds:x,isShort:p,views:d,likes:u,comments:m,engagementRate:parseFloat(h),estimatedRevenue:parseFloat(g),thumbnailUrl:(null===(t=l.thumbnails)||void 0===t||null===(s=t.medium)||void 0===s?void 0:s.url)||(null===(n=l.thumbnails)||void 0===n||null===(r=n.default)||void 0===r?void 0:r.url),description:l.description||"",tags:l.tags||[],categoryId:l.categoryId,rawStats:o,performance:{excellent:h>=3,good:h>=1.5&&h<3,average:h>=.5&&h<1.5,poor:h<.5}};return P(t=>({...t,[e]:f})),f}}catch(w){console.error("Error fetching video analytics:",w),L(`Failed to fetch analytics for video: ${qE(w)}`)}finally{O(t=>({...t,[e]:!1}))}}})(s),T(a?null:s)},disabled:r,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 transition-colors",children:r?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cn,{className:"animate-spin h-4 w-4 mr-2"}),"Loading..."]}):a?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(UE,{className:"h-4 w-4 mr-2"}),"Hide Analytics"]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(ft,{className:"h-4 w-4 mr-2"}),"View Analytics"]})}),(0,Me.jsxs)("button",{onClick:()=>window.open(`https://www.youtube.com/watch?v=${s}`,"_blank"),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:[(0,Me.jsx)(Dn,{className:"h-4 w-4 mr-2"}),"View on YouTube"]})]})]})]})}),a&&n&&(0,Me.jsx)("div",{className:"border-t border-gray-200 bg-gray-50",children:(0,Me.jsx)(BE,{analytics:n})})]},e.id)}):(0,Me.jsxs)("div",{className:"text-center py-16",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(vn,{className:"h-10 w-10 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No videos found"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Upload your first video to YouTube to see it here."})]})})]})]})]});(0,r.useEffect)(()=>{if(e.onConnectionStatusChange)try{const t=l.length>0&&l.some(e=>{const t=R_(`yt_token_expiry_${e.id}`);return e.accessToken&&t&&Date.now()<parseInt(t,10)});e.onConnectionStatusChange(t)}catch(w){console.warn("Error notifying parent about connection status:",w)}},[l,m]);const ee=()=>{if(!w)return null;const e=(e=>{if(!e)return!1;const t=qE(e).toLowerCase();return!!(t.includes("invalid_grant")||t.includes("invalid_token")||t.includes("token_expired")||t.includes("token")||t.includes("expired")||t.includes("invalid")||t.includes("unauthorized")||t.includes("401"))})(w);return(0,Me.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)(We,{className:"h-6 w-6 text-red-600"}),(0,Me.jsx)("span",{className:"text-lg font-semibold text-red-800",children:e?"YouTube Session Expired":"YouTube Integration Error"})]}),(0,Me.jsx)("p",{className:"text-red-700 mb-4",children:e?"Your YouTube session has expired. Please refresh your token or reconnect your account to continue.":w}),(0,Me.jsxs)("div",{className:"flex space-x-3",children:[e&&(0,Me.jsx)("button",{onClick:()=>{N(null),B()},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Reconnect YouTube Account"}),(0,Me.jsx)("button",{onClick:()=>N(null),className:"text-red-600 hover:text-red-700 text-sm font-medium border border-red-200 px-4 py-2 rounded-lg hover:bg-red-50 transition-colors",children:"Dismiss Error"})]})]})};return(e=>{try{return e()}catch(ee){return console.error("YouTube Integration render error:",ee),L("Component rendering failed. Please refresh the page and try again."),(0,Me.jsx)("div",{className:"border rounded-lg p-6 mb-6 bg-gradient-to-r from-red-50 to-pink-50",children:(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(We,{className:"h-16 w-16 mx-auto mb-4 text-red-600"}),(0,Me.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"YouTube Integration Error"}),(0,Me.jsx)("p",{className:"text-red-700 mb-4",children:"Something went wrong with the YouTube integration."}),(0,Me.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Refresh Page"})]})})}})(()=>w?(0,Me.jsxs)("div",{className:"border rounded-lg p-6 mb-6 bg-gradient-to-r from-red-50 to-pink-50",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)(vn,{className:"h-6 w-6 text-red-600"}),(0,Me.jsx)("h3",{className:"font-medium text-lg",children:"YouTube Integration"})]}),ee()]}):t&&n?(0,Me.jsxs)("div",{className:"border rounded-lg p-6 mb-6 bg-gradient-to-r from-red-50 to-pink-50",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)(vn,{className:"h-6 w-6 text-red-600"}),(0,Me.jsx)("h3",{className:"font-medium text-lg",children:"YouTube Integration"})]}),(0,Me.jsx)("div",{className:"space-y-6",children:0===l.length?(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-red-100 to-pink-100 rounded-2xl mb-4",children:(0,Me.jsx)(vn,{className:"h-8 w-8 text-red-600"})}),(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect YouTube Account"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Connect your YouTube accounts to manage your channels and access video analytics with historical data tracking."}),(0,Me.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-6 max-w-md mx-auto",children:(0,Me.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Me.jsx)("strong",{children:"Note:"})," For detailed analytics, you may need to enable YouTube Analytics API in your Google Cloud Console. Historical data will be captured automatically."]})}),(0,Me.jsxs)("button",{onClick:B,className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-8 py-3 rounded-xl hover:from-red-700 hover:to-red-800 transition-all duration-200 flex items-center space-x-3 mx-auto font-medium",children:[(0,Me.jsx)(vn,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"Connect YouTube Account"})]})]}):Z()})]}):(0,Me.jsx)("div",{className:"border rounded-lg p-6 mb-6 bg-gradient-to-r from-red-50 to-pink-50",children:(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(cn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-red-600"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading YouTube integration..."}),(0,Me.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"If this takes too long, please refresh the page"})]})})}))},GE="https://my-backend-593529385135.asia-south1.run.app";const KE=function(){var e,t,s,n,a,i;const[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(null),[p,g]=(0,r.useState)([]),[f,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(!1),[j,w]=(0,r.useState)(""),[N,k]=(0,r.useState)(""),[S,_]=(0,r.useState)(!1),[C,A]=(0,r.useState)("");(0,r.useEffect)(()=>{U_(["tw_connected_accounts","tw_active_account_id"]);const e=R_("tw_connected_accounts"),t=R_("tw_active_account_id");e&&(l(e),t&&e.some(e=>e.id===t)?(d(t),m(e.find(e=>e.id===t))):e.length>0&&(d(e[0].id),m(e[0]),F_("tw_active_account_id",e[0].id)))},[]);const P=e=>{F_("tw_connected_accounts",e)};(0,r.useEffect)(()=>{if(!u||!u.sessionId)return;let e,t=!1,s=0,n=!1;return e=setInterval(async()=>{s++;try{const r=await fetch(`${GE}/api/twitter/session?session_id=${u.sessionId}`);if(!r.ok)return void(s>=80&&(clearInterval(e),w("Twitter login timed out. Please try again."),t=!0));const a=await r.json();if(a.token&&!n){n=!0,clearInterval(e);const s={...u,token:a.token,profile:a.profile,connectedAt:(new Date).toISOString()},r=o.map(e=>e.id===u.id?s:e);l(r),P(r),m(s),x(a.profile),w(""),y(!1),E(a.token),O(a.token),t=!0}else s>=80&&(clearInterval(e),w("Twitter login timed out. Please try again."),t=!0)}catch(GB){s>=80&&(clearInterval(e),w("Twitter login failed. Please check your connection and try again."),t=!0)}},1500),()=>{t||clearInterval(e)}},[u]);const E=(0,r.useCallback)(async e=>{try{const t=null!==u&&void 0!==u&&u.sessionId?`${GE}/api/twitter/user/tweets?session_id=${u.sessionId}`:`${GE}/api/twitter/user/tweets`,s=e?{Authorization:`Bearer ${e}`}:{},n=await fetch(t,{headers:s}),r=await n.json();g(r.data||[])}catch(GB){}},[u]),O=(0,r.useCallback)(async e=>{try{const t=await fetch(`${GE}/api/twitter/analytics`,{headers:{Authorization:`Bearer ${e}`}}),s=await t.json();b(s.data||s)}catch(GB){}},[]),I=async()=>{w(""),y(!0);const e=crypto.randomUUID(),t=window.screenX+(window.outerWidth-600)/2,s=window.screenY+(window.outerHeight-700)/2,n=window.open("https://twitter.com/logout","twitter-logout",`width=600,height=700,left=${t},top=${s}`),r=()=>{if(!n||n.closed){window.open(`${GE}/api/twitter/login?session_id=${e}`,"twitter-login",`width=600,height=700,left=${t},top=${s}`);const n={id:e,sessionId:e,token:"",profile:null,connectedAt:null};return l(e=>{const t=[...e,n];return P(t),t}),d(e),m(n),localStorage.setItem("tw_active_account_id",e),x(null),g([]),b(null),void y(!0)}setTimeout(r,400)};r()},T=e=>{const t=o.find(t=>t.id===e);t&&(d(e),m(t),F_("tw_active_account_id",e),x(t.profile||null),g([]),b(null),t.token&&(E(t.token),O(t.token)))};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center h-16",children:[(0,Me.jsx)(Sn,{className:"h-8 w-8 text-blue-400"}),(0,Me.jsx)("span",{className:"ml-2 text-xl font-bold text-[#1a1f2e]",children:"Twitter Integration"})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:0===o.length?(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(Sn,{className:"h-16 w-16 text-blue-400 mx-auto mb-4"}),(0,Me.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Connect Twitter Account"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-4",children:"Connect your Twitter profile to access analytics and manage your tweets."}),(0,Me.jsx)("button",{onClick:I,disabled:v,className:"bg-blue-400 text-white px-6 py-3 rounded-lg hover:bg-blue-500 transition-colors disabled:opacity-50",children:v?"Connecting...":"Connect Twitter Account"}),j&&(0,Me.jsx)("div",{className:"mt-4 text-red-600",children:j})]}):(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,Me.jsx)(mt,{className:"h-5 w-5 mr-2"}),"Connected Twitter Accounts (",o.length,")"]}),(0,Me.jsxs)("button",{onClick:I,className:"bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 flex items-center space-x-2 text-sm",children:[(0,Me.jsx)(Is,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Add Account"})]})]}),o.length>0&&(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(e=>{var t,s,n;return(0,Me.jsx)("div",{className:"border rounded-lg p-4 transition-all cursor-pointer "+(c===e.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"),onClick:()=>T(e.id),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(null===(t=e.profile)||void 0===t?void 0:t.profile_image_url)&&(0,Me.jsx)("img",{src:e.profile.profile_image_url,alt:e.profile.username,className:"w-12 h-12 rounded-full"}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsxs)("h5",{className:"font-medium text-gray-900 truncate",children:["@",(null===(s=e.profile)||void 0===s?void 0:s.username)||e.id.slice(0,8)]}),c===e.id&&(0,Me.jsx)(ht,{className:"h-4 w-4 text-blue-600"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:(null===(n=e.profile)||void 0===n?void 0:n.name)||"Not connected"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Connected ",e.connectedAt?new Date(e.connectedAt).toLocaleDateString():""]})]}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=o.filter(t=>t.id!==e);l(t),P(t),c===e&&(t.length>0?T(t[0].id):(d(null),m(null),x(null),g([]),b(null),z_("tw_active_account_id")))})(e.id)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Remove account",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})]})},e.id)})})]}),u&&u.profile&&(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[u.profile.profile_image_url?(0,Me.jsx)("img",{src:u.profile.profile_image_url,alt:"Twitter profile",className:"w-20 h-20 rounded-full border-4 border-blue-200"}):(0,Me.jsx)("div",{className:"w-20 h-20 bg-blue-400 rounded-full flex items-center justify-center",children:(0,Me.jsx)(Sn,{className:"h-10 w-10 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["@",u.profile.username]}),(0,Me.jsx)("p",{className:"text-gray-700 text-sm mt-1",children:u.profile.name}),(0,Me.jsx)("p",{className:"text-gray-500 text-xs",children:u.profile.description})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-3 gap-6 text-center",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:(null===(e=u.profile.public_metrics)||void 0===e||null===(t=e.followers_count)||void 0===t?void 0:t.toLocaleString())||"N/A"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Followers"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:(null===(s=u.profile.public_metrics)||void 0===s||null===(n=s.following_count)||void 0===n?void 0:n.toLocaleString())||"N/A"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Following"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:(null===(a=u.profile.public_metrics)||void 0===a||null===(i=a.tweet_count)||void 0===i?void 0:i.toLocaleString())||"N/A"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Tweets"})]})]})]}),f&&(0,Me.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-2xl p-6",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"bg-blue-400 p-2 rounded-lg",children:(0,Me.jsx)(ut,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Twitter Analytics"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Last 30 days performance"})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.followers&&(0,Me.jsx)(I_,{data:f.followers,title:"Follower Growth",color:"#1DA1F2",metric:"value"}),f.tweets&&(0,Me.jsx)(I_,{data:f.tweets,title:"Tweets per Day",color:"#0a85d9",metric:"value"}),f.likes&&(0,Me.jsx)(I_,{data:f.likes,title:"Likes per Day",color:"#17bf63",metric:"value"})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Recent Tweets (",p.length,")"]}),(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsx)("textarea",{className:"w-full border rounded-lg p-2 text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-200",rows:3,maxLength:280,placeholder:"What's happening?",value:N,onChange:e=>k(e.target.value),disabled:S}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:[N.length,"/280"]}),(0,Me.jsx)("button",{onClick:async()=>{if(N.trim()&&null!==u&&void 0!==u&&u.token){_(!0),A("");try{const e=u.sessionId?`${GE}/api/twitter/tweet?session_id=${u.sessionId}`:`${GE}/api/twitter/tweet`,t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.token}`},body:JSON.stringify({text:N})}),s=await t.json();t.ok&&s.data?(A("Tweet posted successfully!"),k(""),E(u.token)):A(s.error||"Failed to post tweet")}catch(GB){A("Failed to post tweet")}_(!1)}},disabled:S||!N.trim()||N.length>280||!(null!==u&&void 0!==u&&u.token),className:"bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-500 transition-colors disabled:opacity-50",children:S?"Posting...":"Post Tweet"})]}),C&&(0,Me.jsx)("div",{className:"mt-2 text-sm "+(C.includes("success")?"text-green-600":"text-red-600"),children:C})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.length>0?p.map(e=>{var t,s,n;return(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-xl overflow-hidden hover:shadow-md transition-shadow p-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-800 mb-3",children:e.text}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[(0,Me.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsxs)("span",{children:["\u2764\ufe0f ",(null===(t=e.public_metrics)||void 0===t?void 0:t.like_count)||0]}),(0,Me.jsxs)("span",{children:["\ud83d\udd01 ",(null===(s=e.public_metrics)||void 0===s?void 0:s.retweet_count)||0]}),(0,Me.jsxs)("span",{children:["\ud83d\udcac ",(null===(n=e.public_metrics)||void 0===n?void 0:n.reply_count)||0]})]})]}),(0,Me.jsxs)("a",{href:`https://twitter.com/${u.profile.username}/status/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-600 text-xs font-medium inline-flex items-center space-x-1",children:[(0,Me.jsx)("span",{children:"View on Twitter"}),(0,Me.jsx)(Dn,{className:"h-3 w-3"})]})]},e.id)}):(0,Me.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,Me.jsx)(Sn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No tweets found"})]})})]}),(0,Me.jsx)("div",{className:"flex justify-end mt-6",children:(0,Me.jsx)("button",{onClick:()=>{l([]),d(null),m(null),x(null),g([]),b(null),z_("tw_connected_accounts"),z_("tw_active_account_id")},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition-colors text-sm",children:"Disconnect All"})})]})})})]})};function JE(e,t){return function(){return e.apply(t,arguments)}}const{toString:QE}=Object.prototype,{getPrototypeOf:XE}=Object,{iterator:ZE,toStringTag:eO}=Symbol,tO=(sO=Object.create(null),e=>{const t=QE.call(e);return sO[t]||(sO[t]=t.slice(8,-1).toLowerCase())});var sO;const nO=e=>(e=e.toLowerCase(),t=>tO(t)===e),rO=e=>t=>typeof t===e,{isArray:aO}=Array,iO=rO("undefined");function oO(e){return null!==e&&!iO(e)&&null!==e.constructor&&!iO(e.constructor)&&dO(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const lO=nO("ArrayBuffer");const cO=rO("string"),dO=rO("function"),uO=rO("number"),mO=e=>null!==e&&"object"===typeof e,hO=e=>{if("object"!==tO(e))return!1;const t=XE(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(eO in e)&&!(ZE in e)},xO=nO("Date"),pO=nO("File"),gO=nO("Blob"),fO=nO("FileList"),bO=nO("URLSearchParams"),[vO,yO,jO,wO]=["ReadableStream","Request","Response","Headers"].map(nO);function NO(e,t){let s,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),aO(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(oO(e))return;const n=r?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let i;for(s=0;s<a;s++)i=n[s],t.call(null,e[i],i,e)}}function kO(e,t){if(oO(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n,r=s.length;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const SO="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,_O=e=>!iO(e)&&e!==SO;const CO=(AO="undefined"!==typeof Uint8Array&&XE(Uint8Array),e=>AO&&e instanceof AO);var AO;const PO=nO("HTMLFormElement"),EO=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),OO=nO("RegExp"),IO=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};NO(s,(s,r)=>{let a;!1!==(a=t(s,r,e))&&(n[r]=a||s)}),Object.defineProperties(e,n)};const TO=nO("AsyncFunction"),MO=((e,t)=>{return e?setImmediate:t?(s=`axios@${Math.random()}`,n=[],SO.addEventListener("message",e=>{let{source:t,data:r}=e;t===SO&&r===s&&n.length&&n.shift()()},!1),e=>{n.push(e),SO.postMessage(s,"*")}):e=>setTimeout(e);var s,n})("function"===typeof setImmediate,dO(SO.postMessage)),DO="undefined"!==typeof queueMicrotask?queueMicrotask.bind(SO):"undefined"!==typeof process&&process.nextTick||MO,LO={isArray:aO,isArrayBuffer:lO,isBuffer:oO,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||dO(e.append)&&("formdata"===(t=tO(e))||"object"===t&&dO(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&lO(e.buffer),t},isString:cO,isNumber:uO,isBoolean:e=>!0===e||!1===e,isObject:mO,isPlainObject:hO,isEmptyObject:e=>{if(!mO(e)||oO(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(GB){return!1}},isReadableStream:vO,isRequest:yO,isResponse:jO,isHeaders:wO,isUndefined:iO,isDate:xO,isFile:pO,isBlob:gO,isRegExp:OO,isFunction:dO,isStream:e=>mO(e)&&dO(e.pipe),isURLSearchParams:bO,isTypedArray:CO,isFileList:fO,forEach:NO,merge:function e(){const{caseless:t}=_O(this)&&this||{},s={},n=(n,r)=>{const a=t&&kO(s,r)||r;hO(s[a])&&hO(n)?s[a]=e(s[a],n):hO(n)?s[a]=e({},n):aO(n)?s[a]=n.slice():s[a]=n};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&NO(arguments[r],n);return s},extend:function(e,t,s){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return NO(t,(t,n)=>{s&&dO(t)?e[n]=JE(t,s):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,n)=>{let r,a,i;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==s&&XE(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:tO,kindOfTest:nO,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return-1!==n&&n===s},toArray:e=>{if(!e)return null;if(aO(e))return e;let t=e.length;if(!uO(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[ZE]).call(e);let n;for(;(n=s.next())&&!n.done;){const s=n.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const n=[];for(;null!==(s=e.exec(t));)n.push(s);return n},isHTMLForm:PO,hasOwnProperty:EO,hasOwnProp:EO,reduceDescriptors:IO,freezeMethods:e=>{IO(e,(t,s)=>{if(dO(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const n=e[s];dO(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},n=e=>{e.forEach(e=>{s[e]=!0})};return aO(e)?n(e):n(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:kO,global:SO,isContextDefined:_O,isSpecCompliantForm:function(e){return!!(e&&dO(e.append)&&"FormData"===e[eO]&&e[ZE])},toJSONObject:e=>{const t=new Array(10),s=(e,n)=>{if(mO(e)){if(t.indexOf(e)>=0)return;if(oO(e))return e;if(!("toJSON"in e)){t[n]=e;const r=aO(e)?[]:{};return NO(e,(e,t)=>{const a=s(e,n+1);!iO(a)&&(r[t]=a)}),t[n]=void 0,r}}return e};return s(e,0)},isAsyncFn:TO,isThenable:e=>e&&(mO(e)||dO(e))&&dO(e.then)&&dO(e.catch),setImmediate:MO,asap:DO,isIterable:e=>null!=e&&dO(e[ZE])};function RO(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}LO.inherits(RO,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:LO.toJSONObject(this.config),code:this.code,status:this.status}}});const FO=RO.prototype,zO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zO[e]={value:e}}),Object.defineProperties(RO,zO),Object.defineProperty(FO,"isAxiosError",{value:!0}),RO.from=(e,t,s,n,r,a)=>{const i=Object.create(FO);return LO.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),RO.call(i,e.message,t,s,n,r),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const UO=RO;function $O(e){return LO.isPlainObject(e)||LO.isArray(e)}function BO(e){return LO.endsWith(e,"[]")?e.slice(0,-2):e}function VO(e,t,s){return e?e.concat(t).map(function(e,t){return e=BO(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const WO=LO.toFlatObject(LO,{},null,function(e){return/^is[A-Z]/.test(e)});const HO=function(e,t,s){if(!LO.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(s=LO.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!LO.isUndefined(t[e])})).metaTokens,r=s.visitor||c,a=s.dots,i=s.indexes,o=(s.Blob||"undefined"!==typeof Blob&&Blob)&&LO.isSpecCompliantForm(t);if(!LO.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(LO.isDate(e))return e.toISOString();if(LO.isBoolean(e))return e.toString();if(!o&&LO.isBlob(e))throw new UO("Blob is not supported. Use a Buffer instead.");return LO.isArrayBuffer(e)||LO.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,r){let o=e;if(e&&!r&&"object"===typeof e)if(LO.endsWith(s,"{}"))s=n?s:s.slice(0,-2),e=JSON.stringify(e);else if(LO.isArray(e)&&function(e){return LO.isArray(e)&&!e.some($O)}(e)||(LO.isFileList(e)||LO.endsWith(s,"[]"))&&(o=LO.toArray(e)))return s=BO(s),o.forEach(function(e,n){!LO.isUndefined(e)&&null!==e&&t.append(!0===i?VO([s],n,a):null===i?s:s+"[]",l(e))}),!1;return!!$O(e)||(t.append(VO(r,s,a),l(e)),!1)}const d=[],u=Object.assign(WO,{defaultVisitor:c,convertValue:l,isVisitable:$O});if(!LO.isObject(e))throw new TypeError("data must be an object");return function e(s,n){if(!LO.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+n.join("."));d.push(s),LO.forEach(s,function(s,a){!0===(!(LO.isUndefined(s)||null===s)&&r.call(t,s,LO.isString(a)?a.trim():a,n,u))&&e(s,n?n.concat(a):[a])}),d.pop()}}(e),t};function qO(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function YO(e,t){this._pairs=[],e&&HO(e,this,t)}const GO=YO.prototype;GO.append=function(e,t){this._pairs.push([e,t])},GO.toString=function(e){const t=e?function(t){return e.call(this,t,qO)}:qO;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const KO=YO;function JO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QO(e,t,s){if(!t)return e;const n=s&&s.encode||JO;LO.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(a=r?r(t,s):LO.isURLSearchParams(t)?t.toString():new KO(t,s).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const XO=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){LO.forEach(this.handlers,function(t){null!==t&&e(t)})}},ZO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eI={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:KO,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},tI="undefined"!==typeof window&&"undefined"!==typeof document,sI="object"===typeof navigator&&navigator||void 0,nI=tI&&(!sI||["ReactNative","NativeScript","NS"].indexOf(sI.product)<0),rI="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,aI=tI&&window.location.href||"http://localhost",iI={...t,...eI};const oI=function(e){function t(e,s,n,r){let a=e[r++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=r>=e.length;if(a=!a&&LO.isArray(n)?n.length:a,o)return LO.hasOwnProp(n,a)?n[a]=[n[a],s]:n[a]=s,!i;n[a]&&LO.isObject(n[a])||(n[a]=[]);return t(e,s,n[a],r)&&LO.isArray(n[a])&&(n[a]=function(e){const t={},s=Object.keys(e);let n;const r=s.length;let a;for(n=0;n<r;n++)a=s[n],t[a]=e[a];return t}(n[a])),!i}if(LO.isFormData(e)&&LO.isFunction(e.entries)){const s={};return LO.forEachEntry(e,(e,n)=>{t(function(e){return LO.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,s,0)}),s}return null};const lI={transitional:ZO,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,r=LO.isObject(e);r&&LO.isHTMLForm(e)&&(e=new FormData(e));if(LO.isFormData(e))return n?JSON.stringify(oI(e)):e;if(LO.isArrayBuffer(e)||LO.isBuffer(e)||LO.isStream(e)||LO.isFile(e)||LO.isBlob(e)||LO.isReadableStream(e))return e;if(LO.isArrayBufferView(e))return e.buffer;if(LO.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return HO(e,new iI.classes.URLSearchParams,{visitor:function(e,t,s,n){return iI.isNode&&LO.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=LO.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return HO(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,s){if(LO.isString(e))try{return(t||JSON.parse)(e),LO.trim(e)}catch(GB){if("SyntaxError"!==GB.name)throw GB}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||lI.transitional,s=t&&t.forcedJSONParsing,n="json"===this.responseType;if(LO.isResponse(e)||LO.isReadableStream(e))return e;if(e&&LO.isString(e)&&(s&&!this.responseType||n)){const s=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(GB){if(s){if("SyntaxError"===GB.name)throw UO.from(GB,UO.ERR_BAD_RESPONSE,this,null,this.response);throw GB}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:iI.classes.FormData,Blob:iI.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};LO.forEach(["delete","get","head","post","put","patch"],e=>{lI.headers[e]={}});const cI=lI,dI=LO.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uI=Symbol("internals");function mI(e){return e&&String(e).trim().toLowerCase()}function hI(e){return!1===e||null==e?e:LO.isArray(e)?e.map(hI):String(e)}function xI(e,t,s,n,r){return LO.isFunction(n)?n.call(this,t,s):(r&&(t=s),LO.isString(t)?LO.isString(n)?-1!==t.indexOf(n):LO.isRegExp(n)?n.test(t):void 0:void 0)}class pI{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function r(e,t,s){const r=mI(t);if(!r)throw new Error("header name must be a non-empty string");const a=LO.findKey(n,r);(!a||void 0===n[a]||!0===s||void 0===s&&!1!==n[a])&&(n[a||t]=hI(e))}const a=(e,t)=>LO.forEach(e,(e,s)=>r(e,s,t));if(LO.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(LO.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,n,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),s=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!s||t[s]&&dI[s]||("set-cookie"===s?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t})(e),t);else if(LO.isObject(e)&&LO.isIterable(e)){let s,n,r={};for(const t of e){if(!LO.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[n=t[0]]=(s=r[n])?LO.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,s);return this}get(e,t){if(e=mI(e)){const s=LO.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}(e);if(LO.isFunction(t))return t.call(this,e,s);if(LO.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=mI(e)){const s=LO.findKey(this,e);return!(!s||void 0===this[s]||t&&!xI(0,this[s],s,t))}return!1}delete(e,t){const s=this;let n=!1;function r(e){if(e=mI(e)){const r=LO.findKey(s,e);!r||t&&!xI(0,s[r],r,t)||(delete s[r],n=!0)}}return LO.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const r=t[s];e&&!xI(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,s={};return LO.forEach(this,(n,r)=>{const a=LO.findKey(s,r);if(a)return t[a]=hI(n),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(r):String(r).trim();i!==r&&delete t[r],t[i]=hI(n),s[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return LO.forEach(this,(s,n)=>{null!=s&&!1!==s&&(t[n]=e&&LO.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[uI]=this[uI]={accessors:{}}).accessors,s=this.prototype;function n(e){const n=mI(e);t[n]||(!function(e,t){const s=LO.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(e,s,r){return this[n].call(this,t,e,s,r)},configurable:!0})})}(s,e),t[n]=!0)}return LO.isArray(e)?e.forEach(n):n(e),this}}pI.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),LO.reduceDescriptors(pI.prototype,(e,t)=>{let{value:s}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[n]=e}}}),LO.freezeMethods(pI);const gI=pI;function fI(e,t){const s=this||cI,n=t||s,r=gI.from(n.headers);let a=n.data;return LO.forEach(e,function(e){a=e.call(s,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function bI(e){return!(!e||!e.__CANCEL__)}function vI(e,t,s){UO.call(this,null==e?"canceled":e,UO.ERR_CANCELED,t,s),this.name="CanceledError"}LO.inherits(vI,UO,{__CANCEL__:!0});const yI=vI;function jI(e,t,s){const n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(new UO("Request failed with status code "+s.status,[UO.ERR_BAD_REQUEST,UO.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const wI=function(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[i];r||(r=l),s[a]=o,n[a]=l;let d=i,u=0;for(;d!==a;)u+=s[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-r<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const NI=function(e,t){let s,n,r=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,s=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(s=l,n||(n=setTimeout(()=>{n=null,i(s)},a-t)))},()=>s&&i(s)]},kI=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=wI(50,250);return NI(s=>{const a=s.loaded,i=s.lengthComputable?s.total:void 0,o=a-n,l=r(o);n=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})},s)},SI=(e,t)=>{const s=null!=e;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},_I=e=>function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return LO.asap(()=>e(...s))},CI=iI.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,iI.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(iI.origin),iI.navigator&&/(msie|trident)/i.test(iI.navigator.userAgent)):()=>!0,AI=iI.hasStandardBrowserEnv?{write(e,t,s,n,r,a){const i=[e+"="+encodeURIComponent(t)];LO.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),LO.isString(n)&&i.push("path="+n),LO.isString(r)&&i.push("domain="+r),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function PI(e,t,s){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const EI=e=>e instanceof gI?{...e}:e;function OI(e,t){t=t||{};const s={};function n(e,t,s,n){return LO.isPlainObject(e)&&LO.isPlainObject(t)?LO.merge.call({caseless:n},e,t):LO.isPlainObject(t)?LO.merge({},t):LO.isArray(t)?t.slice():t}function r(e,t,s,r){return LO.isUndefined(t)?LO.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function a(e,t){if(!LO.isUndefined(t))return n(void 0,t)}function i(e,t){return LO.isUndefined(t)?LO.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(s,r,a){return a in t?n(s,r):a in e?n(void 0,s):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,s)=>r(EI(e),EI(t),0,!0)};return LO.forEach(Object.keys({...e,...t}),function(n){const a=l[n]||r,i=a(e[n],t[n],n);LO.isUndefined(i)&&a!==o||(s[n]=i)}),s}const II=e=>{const t=OI({},e);let s,{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=gI.from(o),t.url=QO(PI(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),LO.isFormData(n))if(iI.hasStandardBrowserEnv||iI.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(iI.hasStandardBrowserEnv&&(r&&LO.isFunction(r)&&(r=r(t)),r||!1!==r&&CI(t.url))){const e=a&&i&&AI.read(i);e&&o.set(a,e)}return t},TI="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const n=II(e);let r=n.data;const a=gI.from(n.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=n;function x(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let p=new XMLHttpRequest;function g(){if(!p)return;const n=gI.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());jI(function(e){t(e),x()},function(e){s(e),x()},{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p}),p=null}p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(s(new UO("Request aborted",UO.ECONNABORTED,e,p)),p=null)},p.onerror=function(){s(new UO("Network Error",UO.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||ZO;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),s(new UO(t,r.clarifyTimeoutError?UO.ETIMEDOUT:UO.ECONNABORTED,e,p)),p=null},void 0===r&&a.setContentType(null),"setRequestHeader"in p&&LO.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),LO.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),u&&"json"!==u&&(p.responseType=n.responseType),h&&([l,d]=kI(h,!0),p.addEventListener("progress",l)),m&&p.upload&&([o,c]=kI(m),p.upload.addEventListener("progress",o),p.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{p&&(s(!t||t.type?new yI(null,e,p):t),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);f&&-1===iI.protocols.indexOf(f)?s(new UO("Unsupported protocol "+f+":",UO.ERR_BAD_REQUEST,e)):p.send(r||null)})},MI=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,n=new AbortController;const r=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof UO?t:new yI(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new UO(`timeout ${t} of ms exceeded`,UO.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=n;return o.unsubscribe=()=>LO.asap(i),o}},DI=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let n,r=0;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},LI=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},RI=(e,t,s,n)=>{const r=async function*(e,t){for await(const s of LI(e))yield*DI(s,t)}(e,t);let a,i=0,o=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return o(),void e.close();let a=n.byteLength;if(s){let e=i+=a;s(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},FI="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,zI=FI&&"function"===typeof ReadableStream,UI=FI&&("function"===typeof TextEncoder?($I=new TextEncoder,e=>$I.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var $I;const BI=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return!!e(...s)}catch(GB){return!1}},VI=zI&&BI(()=>{let e=!1;const t=new Request(iI.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),WI=zI&&BI(()=>LO.isReadableStream(new Response("").body)),HI={stream:WI&&(e=>e.body)};var qI;FI&&(qI=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!HI[e]&&(HI[e]=LO.isFunction(qI[e])?t=>t[e]():(t,s)=>{throw new UO(`Response type '${e}' is not supported`,UO.ERR_NOT_SUPPORT,s)})}));const YI=async(e,t)=>{const s=LO.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(LO.isBlob(e))return e.size;if(LO.isSpecCompliantForm(e)){const t=new Request(iI.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return LO.isArrayBufferView(e)||LO.isArrayBuffer(e)?e.byteLength:(LO.isURLSearchParams(e)&&(e+=""),LO.isString(e)?(await UI(e)).byteLength:void 0)})(t):s},GI=FI&&(async e=>{let{url:t,method:s,data:n,signal:r,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=II(e);c=c?(c+"").toLowerCase():"text";let h,x=MI([r,a&&a.toAbortSignal()],i);const p=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let g;try{if(l&&VI&&"get"!==s&&"head"!==s&&0!==(g=await YI(d,n))){let e,s=new Request(t,{method:"POST",body:n,duplex:"half"});if(LO.isFormData(n)&&(e=s.headers.get("content-type"))&&d.setContentType(e),s.body){const[e,t]=SI(g,kI(_I(l)));n=RI(s.body,65536,e,t)}}LO.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;h=new Request(t,{...m,signal:x,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:r?u:void 0});let a=await fetch(h,m);const i=WI&&("stream"===c||"response"===c);if(WI&&(o||i&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=LO.toFiniteNumber(a.headers.get("content-length")),[s,n]=o&&SI(t,kI(_I(o),!0))||[];a=new Response(RI(a.body,65536,s,()=>{n&&n(),p&&p()}),e)}c=c||"text";let f=await HI[LO.findKey(HI,c)||"text"](a,e);return!i&&p&&p(),await new Promise((t,s)=>{jI(t,s,{data:f,headers:gI.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})})}catch(f){if(p&&p(),f&&"TypeError"===f.name&&/Load failed|fetch/i.test(f.message))throw Object.assign(new UO("Network Error",UO.ERR_NETWORK,e,h),{cause:f.cause||f});throw UO.from(f,f&&f.code,e,h)}}),KI={http:null,xhr:TI,fetch:GI};LO.forEach(KI,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(GB){}Object.defineProperty(e,"adapterName",{value:t})}});const JI=e=>`- ${e}`,QI=e=>LO.isFunction(e)||null===e||!1===e,XI=e=>{e=LO.isArray(e)?e:[e];const{length:t}=e;let s,n;const r={};for(let a=0;a<t;a++){let t;if(s=e[a],n=s,!QI(s)&&(n=KI[(t=String(s)).toLowerCase()],void 0===n))throw new UO(`Unknown adapter '${t}'`);if(n)break;r[t||"#"+a]=n}if(!n){const e=Object.entries(r).map(e=>{let[t,s]=e;return`adapter ${t} `+(!1===s?"is not supported by the environment":"is not available in the build")});let s=t?e.length>1?"since :\n"+e.map(JI).join("\n"):" "+JI(e[0]):"as no adapter specified";throw new UO("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n};function ZI(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yI(null,e)}function eT(e){ZI(e),e.headers=gI.from(e.headers),e.data=fI.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return XI(e.adapter||cI.adapter)(e).then(function(t){return ZI(e),t.data=fI.call(e,e.transformResponse,t),t.headers=gI.from(t.headers),t},function(t){return bI(t)||(ZI(e),t&&t.response&&(t.response.data=fI.call(e,e.transformResponse,t.response),t.response.headers=gI.from(t.response.headers))),Promise.reject(t)})}const tT="1.11.0",sT={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sT[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const nT={};sT.transitional=function(e,t,s){function n(e,t){return"[Axios v"+tT+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,r,a)=>{if(!1===e)throw new UO(n(r," has been removed"+(t?" in "+t:"")),UO.ERR_DEPRECATED);return t&&!nT[r]&&(nT[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,r,a)}},sT.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};const rT={assertOptions:function(e,t,s){if("object"!==typeof e)throw new UO("options must be an object",UO.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const a=n[r],i=t[a];if(i){const t=e[a],s=void 0===t||i(t,a,e);if(!0!==s)throw new UO("option "+a+" must be "+s,UO.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new UO("Unknown option "+a,UO.ERR_BAD_OPTION)}},validators:sT},aT=rT.validators;class iT{constructor(e){this.defaults=e||{},this.interceptors={request:new XO,response:new XO}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(GB){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=OI(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:r}=t;void 0!==s&&rT.assertOptions(s,{silentJSONParsing:aT.transitional(aT.boolean),forcedJSONParsing:aT.transitional(aT.boolean),clarifyTimeoutError:aT.transitional(aT.boolean)},!1),null!=n&&(LO.isFunction(n)?t.paramsSerializer={serialize:n}:rT.assertOptions(n,{encode:aT.function,serialize:aT.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rT.assertOptions(t,{baseUrl:aT.spelling("baseURL"),withXsrfToken:aT.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&LO.merge(r.common,r[t.method]);r&&LO.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=gI.concat(a,r);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[eT.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=eT.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return QO(PI((e=OI(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}LO.forEach(["delete","get","head","options"],function(e){iT.prototype[e]=function(t,s){return this.request(OI(s||{},{method:e,url:t,data:(s||{}).data}))}}),LO.forEach(["post","put","patch"],function(e){function t(t){return function(s,n,r){return this.request(OI(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:n}))}}iT.prototype[e]=t(),iT.prototype[e+"Form"]=t(!0)});const oT=iT;class lT{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{s.subscribe(e),t=e}).then(e);return n.cancel=function(){s.unsubscribe(t)},n},e(function(e,n,r){s.reason||(s.reason=new yI(e,n,r),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new lT(function(t){e=t});return{token:t,cancel:e}}}const cT=lT;const dT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dT).forEach(e=>{let[t,s]=e;dT[s]=t});const uT=dT;const mT=function e(t){const s=new oT(t),n=JE(oT.prototype.request,s);return LO.extend(n,oT.prototype,s,{allOwnKeys:!0}),LO.extend(n,s,null,{allOwnKeys:!0}),n.create=function(s){return e(OI(t,s))},n}(cI);mT.Axios=oT,mT.CanceledError=yI,mT.CancelToken=cT,mT.isCancel=bI,mT.VERSION=tT,mT.toFormData=HO,mT.AxiosError=UO,mT.Cancel=mT.CanceledError,mT.all=function(e){return Promise.all(e)},mT.spread=function(e){return function(t){return e.apply(null,t)}},mT.isAxiosError=function(e){return LO.isObject(e)&&!0===e.isAxiosError},mT.mergeConfig=OI,mT.AxiosHeaders=gI,mT.formToJSON=e=>oI(LO.isHTMLForm(e)?new FormData(e):e),mT.getAdapter=XI,mT.HttpStatusCode=uT,mT.default=mT;const hT=mT;const xT=function(e){var t,s,n,a;let{onConnectionStatusChange:i}=e;te();const{currentUser:o}=Le(),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)([]),[g,f]=(0,r.useState)(null),[b,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(""),[w,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[_,C]=(0,r.useState)(!1),[A,P]=(0,r.useState)(""),[E,O]=(0,r.useState)(""),I=()=>{let e=null;const t=new URLSearchParams(window.location.search),s=new URLSearchParams(window.location.hash.split("?")[1]||"");if(e=t.get("customerId")||s.get("customerId"),e)return console.log("\u2705 Found customer ID in URL for LinkedIn:",e),e;const n=JSON.parse(localStorage.getItem("currentUser")||"{}");if(e=n.userId||n.id||n._id||n.customer_id,!e){const t=JSON.parse(localStorage.getItem("user")||"{}");e=t.userId||t.id||t._id||t.customer_id}return e?console.log("\u2705 Found customer ID in localStorage for LinkedIn:",e):console.warn("\u274c No customer ID found in URL or localStorage for LinkedIn"),e},T=e=>e.map(e=>({...e,id:e.id||e._id,profile:e.profile?e.profile:{name:e.name||"",headline:e.headline||e.preferred_username||"",email:e.email||"",picture:e.picture||""}}));(0,r.useEffect)(()=>{const e=I();if(console.log("\ud83c\udd94 Detected Customer ID for LinkedIn:",{customerId:e,urlParams:new URLSearchParams(window.location.search).get("customerId"),hashParams:new URLSearchParams(window.location.hash.split("?")[1]||"").get("customerId"),localStorage:JSON.parse(localStorage.getItem("currentUser")||"{}"),fullUrl:window.location.href}),!e)return void console.warn("\u274c No customer ID available for LinkedIn backend fetch");(async()=>{try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${e}`),s=await t.json();if(s.success&&Array.isArray(s.accounts)){const t=s.accounts.filter(t=>"linkedin"===t.platform&&t.customerId===e),n=T(t);p(n),F_("connected_linkedin_accounts",n),F_("linkedin_connected_accounts",n);const r=R_("selected_linkedin_account");r&&n.find(e=>e.id===r)?f(r):n.length>0&&(f(n[0].id),F_("selected_linkedin_account",n[0].id))}}catch(t){const s=R_("connected_linkedin_accounts"),n=R_("selected_linkedin_account");if(s){const t=s.filter(t=>"linkedin"===t.platform&&t.customerId===e),r=T(t);p(r),F_("linkedin_connected_accounts",r),n&&r.find(e=>e.id===n)?f(n):r.length>0&&f(r[0].id)}}})()},[]);const M=()=>{u(""),c(!0);const e=Math.random().toString(36).substring(2);localStorage.setItem("linkedin_oauth_state",e);const t=`https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=77nnr874zyioln&redirect_uri=${encodeURIComponent("https://my-backend-593529385135.asia-south1.run.app/auth/linkedin/callback")}&scope=${encodeURIComponent("openid profile email w_member_social")}&state=${e}`,s=window.screenX+(window.outerWidth-600)/2,n=window.screenY+(window.outerHeight-700)/2,r=window.open(t,"linkedin-login",`width=600,height=700,left=${s},top=${n}`),a=e=>{var t;"linkedin-callback"===(null===(t=e.data)||void 0===t?void 0:t.source)&&(window.removeEventListener("message",a),e.data.success?D(e.data.access_token,e.data.userinfo):(u(e.data.error||"LinkedIn authentication failed"),c(!1)))};window.addEventListener("message",a);const i=setInterval(()=>{r.closed&&(clearInterval(i),window.removeEventListener("message",a),c(!1),m||u("Popup closed before authentication completed"))},1e3)},D=async(e,t)=>{try{if(t&&t.sub){if(x.find(e=>e.id===t.sub))return u("This LinkedIn account is already connected."),void c(!1);const s={id:t.sub,name:t.name||"",headline:t.preferred_username||"",email:t.email||"",picture:t.picture||""},n={id:t.sub,token:e,profile:s,connectedAt:(new Date).toISOString(),lastRefreshed:(new Date).toISOString()},r=[...x,n];p(r),g||(f(n.id),F_("selected_linkedin_account",n.id)),F_("connected_linkedin_accounts",r),F_("linkedin_connected_accounts",r),await L(n),u(""),h("LinkedIn account connected successfully!"),c(!1),i&&i(!0),W()}else u("Failed to get user information from LinkedIn"),c(!1)}catch(s){u("Failed to process LinkedIn authentication"),c(!1)}},L=async e=>{try{const t=I();if(console.log("\ud83d\udd0d LinkedIn Customer ID search for social account storage:",{customerId:t,found:!!t,urlCustomerId:new URLSearchParams(window.location.search).get("customerId")||new URLSearchParams(window.location.hash.split("?")[1]||"").get("customerId"),localStorageUser:JSON.parse(localStorage.getItem("currentUser")||"{}")}),!t)return console.error("\u274c No customer ID found for LinkedIn, cannot store social account"),void alert("Error: No customer ID found. Please make sure you accessed this page through the proper configuration link.");const s={customerId:t,platform:"linkedin",platformUserId:e.id,name:e.profile.name,email:e.profile.email,profilePicture:e.profile.picture,accessToken:e.token,pages:[],connectedAt:e.connectedAt};console.log("\ud83d\udce4 Sending LinkedIn account data with customer ID:",{customerId:t,platform:"linkedin",platformUserId:e.id});const n=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await n.json();r.success?console.log("\u2705 Stored LinkedIn customer social account for admin access with customer ID:",t):console.warn("Failed to store LinkedIn customer social account:",r.error)}catch(d){console.warn("Failed to store LinkedIn customer social account:",d)}},R=x.find(e=>e.id===g),[F,z]=(0,r.useState)(null),[U,$]=(0,r.useState)([]),[B,V]=(0,r.useState)(!0),W=async()=>{V(!0);try{const e=await hT.get("https://my-backend-593529385135.asia-south1.run.app/linkedin");$(e.data)}catch(d){}finally{V(!1)}},[H,q]=(0,r.useState)({profileViews:"--",connections:"--",postEngagement:"--"});(0,r.useEffect)(()=>{W()},[]),(0,r.useEffect)(()=>{W()},[x.length]),(0,r.useEffect)(()=>{R&&(async()=>{try{var e,t,s;const n=await hT.get("https://my-backend-593529385135.asia-south1.run.app/linkedin/analytics");q({profileViews:null!==(e=n.data.profileViews)&&void 0!==e?e:"--",connections:null!==(t=n.data.connections)&&void 0!==t?t:"--",postEngagement:null!==(s=n.data.postEngagement)&&void 0!==s?s:"--"})}catch(d){q({profileViews:"--",connections:"--",postEngagement:"--"})}})()},[R]),(0,r.useEffect)(()=>{if(i){const e=x.length>0&&x.some(e=>!!e.token&&!(e=>{if(!e.tokenExpiresAt)return!1;const t=new Date(e.tokenExpiresAt),s=new Date;return t.getTime()-s.getTime()<3e5})(e));i(e)}},[x,i]);const Y=e=>{f(e),F_("selected_linkedin_account",e),v(!1)},G=e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void O("Image size should be less than 5MB");N(t);const e=new FileReader;e.onload=e=>{S(e.target.result)},e.readAsDataURL(t),O("")}},[K,J]=(0,r.useState)(!1),[Q,X]=(0,r.useState)([]),[Z,ee]=(0,r.useState)(!1),se=()=>{N(null),S(null)},ne=async()=>{if(!y.trim()&&!k)return void O("Please enter some text or choose an image");const e=x.find(e=>e.id===g);if(e){C(!0),P(""),O("");try{let s=null,n=!1;if(w){console.log("\ud83d\uddbc\ufe0f Attempting to upload direct image file...");const t=new FormData;t.append("image",w),t.append("linkedin_token",e.token);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/linkedin/upload-image",{method:"POST",body:t});if(e.ok){s=(await e.json()).asset,console.log("\u2705 Image uploaded successfully:",s)}else{const t=await e.json();console.error("\u274c Image upload failed:",t),n=!0}}catch(r){console.warn("\u274c Image upload failed:",r),n=!0}}else if(k){console.log("\ud83d\uddbc\ufe0f Attempting to upload image from URL...");try{const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/linkedin/upload-image-from-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:k,linkedin_token:e.token})});if(t.ok){s=(await t.json()).asset,console.log("\u2705 Image from URL uploaded successfully:",s)}else{const e=await t.json();console.error("\u274c Image upload from URL failed:",e),n=!0}}catch(r){console.warn("\u274c Image upload from URL failed:",r),n=!0}}console.log("\ud83d\udcdd Creating LinkedIn post...");const a={text:y,linkedin_token:e.token,...s&&{imageAsset:s}},i=await hT.post("https://my-backend-593529385135.asia-south1.run.app/linkedin/post",a,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`}});if(i.data&&i.data.success){let e="Post created successfully on LinkedIn!";n&&(w||k)&&(e+=" (Note: Image upload failed, posted as text-only)"),P(e),j(""),N(null),S(null);const t=document.getElementById("post-image-input");t&&(t.value=""),W()}else{var t;O((null===(t=i.data)||void 0===t?void 0:t.error)||"Failed to create post on LinkedIn.")}}catch(a){var s,n;console.error("\u274c Error creating post:",a);let e="Failed to create post. Please try again.";null!==(s=a.response)&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.error?(e=`Failed to create post: ${a.response.data.error}`,a.response.data.details&&(e+=` (${JSON.stringify(a.response.data.details)})`)):a.message&&(e=a.message),O(e)}finally{C(!1)}}else O("No account selected")};return(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Me.jsx)(yn,{className:"h-6 w-6 text-blue-700"}),(0,Me.jsx)("h3",{className:"font-medium text-lg",children:"LinkedIn Professional Integration"})]}),0===x.length?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl mb-4",children:(0,Me.jsx)(yn,{className:"h-8 w-8 text-blue-700"})}),(0,Me.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Connect LinkedIn Accounts"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4 max-w-md mx-auto",children:"Connect multiple LinkedIn profiles to manage all your professional accounts from one dashboard."}),(0,Me.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Works with any LinkedIn account - no business account required!"}),(0,Me.jsx)("button",{onClick:M,disabled:l,className:"bg-blue-700 text-white px-8 py-3 rounded-xl hover:bg-blue-800 transition-colors disabled:opacity-50 flex items-center space-x-3 mx-auto font-medium",children:l?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cn,{className:"h-5 w-5 animate-spin"}),(0,Me.jsx)("span",{children:"Connecting..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(yn,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"Connect LinkedIn Account"})]})})]}),(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,Me.jsx)("h4",{className:"font-medium text-blue-800 mb-3",children:"How It Works"}),(0,Me.jsxs)("div",{className:"space-y-2 text-sm text-blue-700",children:[(0,Me.jsx)("p",{children:'1. Click "Connect LinkedIn Account" above'}),(0,Me.jsx)("p",{children:"2. Sign in with your LinkedIn credentials"}),(0,Me.jsx)("p",{children:"3. Grant permission to access your basic profile"}),(0,Me.jsx)("p",{children:"4. Start creating posts and managing your LinkedIn presence"})]}),(0,Me.jsx)("div",{className:"mt-4 bg-white rounded-lg p-3 border border-blue-200",children:(0,Me.jsxs)("p",{className:"text-xs text-blue-600",children:[(0,Me.jsx)("strong",{children:"Note:"})," This integration works with any LinkedIn account. Advanced features like detailed analytics require LinkedIn Marketing Developer Platform access."]})})]})]}):(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("h4",{className:"font-medium text-gray-700 flex items-center",children:[(0,Me.jsx)(mt,{className:"h-5 w-5 mr-2"}),"Connected LinkedIn Accounts (",x.length,")"]}),(0,Me.jsxs)("button",{onClick:M,disabled:l,className:"bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-800 flex items-center space-x-2 text-sm disabled:opacity-50",children:[(0,Me.jsx)(Is,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:l?"Connecting...":"Add Account"})]})]}),x.length>0&&(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>{var t,s,n,r;return(0,Me.jsx)("div",{className:"border rounded-lg p-4 transition-all cursor-pointer "+(g===e.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-gray-300"),onClick:()=>Y(e.id),children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[null!==(t=e.profile)&&void 0!==t&&t.picture?(0,Me.jsx)("img",{src:e.profile.picture,alt:e.profile.name,className:"w-12 h-12 rounded-full"}):(0,Me.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(yn,{className:"h-6 w-6 text-blue-700"})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("h5",{className:"font-medium text-gray-900 truncate",children:null===(s=e.profile)||void 0===s?void 0:s.name}),g===e.id&&(0,Me.jsx)(ht,{className:"h-4 w-4 text-blue-600"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 truncate",children:(null===(n=e.profile)||void 0===n?void 0:n.headline)||(null===(r=e.profile)||void 0===r?void 0:r.email)}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Connected ",(()=>{let t=e.connectedAt;if(t){const e=new Date(t);if(!isNaN(e.getTime()))return e.toLocaleDateString()}return"Unknown"})()]})]}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{const t=x.filter(t=>t.id!==e);p(t);try{await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${e}`,{method:"DELETE"})}catch(s){}if(g===e){const e=t.length>0?t[0].id:null;f(e),F_("selected_linkedin_account",e||"")}F_("connected_linkedin_accounts",t),F_("linkedin_connected_accounts",t),W()})(e.id)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Remove account",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})})]})},e.id)})})]}),R&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[null!==(t=R.profile)&&void 0!==t&&t.picture?(0,Me.jsx)("img",{src:R.profile.picture,alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-blue-200"}):(0,Me.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(yn,{className:"h-6 w-6 text-blue-700"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"font-medium text-gray-900",children:["Active Account: ",null===(s=R.profile)||void 0===s?void 0:s.name]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:(null===(n=R.profile)||void 0===n?void 0:n.headline)||(null===(a=R.profile)||void 0===a?void 0:a.email)})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsxs)("button",{onClick:()=>(async e=>{const t=x.find(t=>t.id===e);if(t){c(!0);try{const s=await fetch("https://my-backend-593529385135.asia-south1.run.app/linkedin/profile",{headers:{Authorization:`Bearer ${t.token}`},credentials:"include"}),n=await s.json();if(n&&n.name){const t=x.map(t=>t.id===e?{...t,profile:n,lastRefreshed:(new Date).toISOString()}:t);p(t),F_("connected_linkedin_accounts",t)}}catch(s){u("Failed to refresh account data.")}c(!1)}})(R.id),disabled:l,className:"flex items-center space-x-2 px-3 py-2 bg-white border border-blue-200 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors disabled:opacity-50 text-sm",children:[(0,Me.jsx)(rt,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Refresh"})]}),(0,Me.jsxs)("button",{onClick:async()=>{for(const t of x)try{await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/customer-social-links/${t.id||t._id}`,{method:"DELETE"})}catch(e){}p([]),f(null),u(""),h(""),z_("connected_linkedin_accounts"),z_("linkedin_connected_accounts"),z_("selected_linkedin_account"),W(),i&&i(!1)},className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[(0,Me.jsx)(Dn,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Disconnect All"})]})]})]}),(()=>{var e;return R?(0,Me.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mb-8",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"bg-blue-700 p-2 rounded-lg",children:(0,Me.jsx)(gt,{className:"h-5 w-5 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Create LinkedIn Post"}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Share your thoughts with your professional network"})]})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("textarea",{value:y,onChange:e=>j(e.target.value),placeholder:"What's on your mind? Share your professional insights...",className:"w-full p-4 border border-gray-200 rounded-xl resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,maxLength:3e3,disabled:_}),(0,Me.jsx)("div",{className:"flex justify-between items-center mt-2",children:(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[y.length,"/3000 characters"]})})]}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("label",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 cursor-pointer transition-colors",children:[(0,Me.jsx)(gn,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Upload Image"}),(0,Me.jsx)("input",{id:"post-image-input",type:"file",accept:"image/*",onChange:G,className:"hidden",disabled:_})]}),(0,Me.jsx)("button",{type:"button",onClick:()=>{J(!0),(async()=>{ee(!0);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/gcs/list-images?limit=100"),t=await e.json();t.success&&X(t.images)}catch(d){X([])}finally{ee(!1)}})()},className:"px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 text-sm",disabled:_,children:"Browse Library"}),k&&(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:k,alt:"Post preview",className:"w-20 h-20 object-cover rounded-lg"}),(0,Me.jsx)("button",{onClick:se,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",disabled:_,children:"\xd7"})]})]}),(w||k)&&(0,Me.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Me.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Me.jsx)("strong",{children:"Note:"})," Image upload is currently being debugged. If image upload fails, your post will be created as text-only. Check the browser console for detailed error logs."]})})]}),K&&(0,Me.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-lg max-w-4xl w-full max-h-[80vh] overflow-hidden",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Select Image from Library"}),(0,Me.jsx)("button",{onClick:()=>J(!1),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),Z?(0,Me.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Me.jsx)(cn,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,Me.jsx)("span",{className:"ml-2",children:"Loading images..."})]}):(0,Me.jsx)("div",{className:"space-y-4",children:0===Q.length?(0,Me.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,Me.jsx)(gn,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),(0,Me.jsx)("p",{children:"No images found in your library"}),(0,Me.jsx)("p",{className:"text-sm",children:"Upload some images first to see them here"})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Found ",Q.length," images in your library"]}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:Q.map((e,t)=>(0,Me.jsxs)("div",{className:"border rounded-lg overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>{return t=e.publicUrl,S(t),N(null),J(!1),void O("");var t},children:[(0,Me.jsx)("img",{src:e.publicUrl,alt:e.name,className:"w-full h-32 object-cover"}),(0,Me.jsxs)("div",{className:"p-2 bg-gray-50",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-600 truncate",title:e.name,children:e.name.split("/").pop()}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.updated).toLocaleDateString()})]})]},t))})]})})]})})}),(0,Me.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,Me.jsx)(yn,{className:"h-4 w-4"}),(0,Me.jsxs)("span",{children:["Posting as ",null===(e=R.profile)||void 0===e?void 0:e.name]})]}),(0,Me.jsx)("button",{onClick:ne,disabled:_||!y.trim()&&!w,className:"bg-blue-700 text-white px-6 py-2 rounded-lg hover:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:_?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(cn,{className:"h-4 w-4 animate-spin"}),(0,Me.jsx)("span",{children:"Posting..."})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gt,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Post"})]})})]}),E&&(0,Me.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Me.jsx)("p",{className:"text-red-600 text-sm",children:E})}),A&&(0,Me.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,Me.jsx)("p",{className:"text-green-600 text-sm",children:A})})]})]}):null})()]})]}),d&&(0,Me.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded",children:(0,Me.jsxs)("p",{className:"text-red-600 text-sm",children:[(0,Me.jsx)("strong",{children:"Error:"})," ",d]})}),m&&(0,Me.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded",children:(0,Me.jsxs)("p",{className:"text-green-600 text-sm",children:[(0,Me.jsx)("strong",{children:"Success:"})," ",m]})})]})})})},pT=Ve("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const gT=function(e){var t;let{contentDetails:s={},onNotificationSent:n}=e;const[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(null);if(!s||0===Object.keys(s).length)return(0,Me.jsx)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 p-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,Me.jsx)(pT,{className:"h-6 w-6 animate-spin text-gray-400"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Loading content details..."})]})});const p={name:"new_content_notification",language:{code:"en"},components:[{type:"header",parameters:[{type:"text",text:s.creatorName||"Your Creator"}]},{type:"body",parameters:[{type:"text",text:s.title||"New Content"},{type:"text",text:s.contentType||"Content"}]},{type:"button",sub_type:"url",index:0,parameters:[{type:"text",text:`content/${s.id||s._id}`}]}]},g=`\ud83c\udf89 New content from ${(null===s||void 0===s?void 0:s.creatorName)||"your creator"}!\n\n\ud83d\udcf1 ${(null===s||void 0===s?void 0:s.contentType)||"Content"}: "${(null===s||void 0===s?void 0:s.title)||"New Content"}"\n\nCheck it out now in your dashboard!\n${(null===(t="https://my-backend-593529385135.asia-south1.run.app")?void 0:t.replace(":3001",":3000"))||"http://localhost:3000"}/customer/content-review`,f=()=>{const e=[];if(null!==s&&void 0!==s&&s.id||null!==s&&void 0!==s&&s._id||e.push("Content ID is missing"),null!==s&&void 0!==s&&s.creatorId||e.push("Creator ID is missing"),null!==s&&void 0!==s&&s.customerPhone&&""!==s.customerPhone.trim()){/^\+?[\d\s\-\(\)]{10,15}$/.test(s.customerPhone.trim())||e.push(`Invalid phone number format: "${s.customerPhone}"`)}else e.push("Customer phone number is missing or empty");if(o)p.name||e.push("Template name is missing"),p.components&&0!==p.components.length||e.push("Template components are missing");else{(c||g).trim()||e.push("Message content is empty")}return e},b=(null===s||void 0===s?void 0:s.customerPhone)&&""!==s.customerPhone.trim();return(0,Me.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,Me.jsxs)("div",{className:"relative bg-gradient-to-br from-emerald-600 via-green-600 to-teal-600 px-8 py-6",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black/5"}),(0,Me.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:(0,Me.jsx)(DE,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-xl font-bold text-white",children:"WhatsApp Business"}),(0,Me.jsx)("p",{className:"text-emerald-100 text-sm",children:"Send instant notification to customer"})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"text-xs text-emerald-200 uppercase tracking-wider font-medium",children:"Status"}),(0,Me.jsx)("div",{className:"text-sm font-semibold "+(b?"text-white":"text-red-200"),children:b?"Ready to Send":"Phone Required"})]})]})]}),(0,Me.jsxs)("div",{className:"px-8 py-6 bg-gradient-to-r from-slate-50 to-gray-50 border-b border-gray-100",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Me.jsx)(Ps,{className:"h-5 w-5 mr-2 text-gray-600"}),"Content Summary"]}),(0,Me.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:(null===s||void 0===s?void 0:s.contentType)||"Content"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(He,{className:"h-4 w-4 text-gray-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Creator"}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.creatorName)||"Not specified"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(Ps,{className:"h-4 w-4 text-gray-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Title"}),(0,Me.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.title)||"Untitled"})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(qs,{className:"h-4 w-4 text-gray-500"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Customer Phone"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.customerPhone)||"Not provided"}),b?(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-500"}):(0,Me.jsx)(We,{className:"h-4 w-4 text-red-500"})]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)(rt,{className:"h-4 w-4 text-gray-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Content ID"}),(0,Me.jsx)("p",{className:"text-sm font-mono text-gray-700 truncate max-w-32",children:(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s._id)||"Missing"})]})]})]})]}),!b&&(0,Me.jsx)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)(We,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-sm font-semibold text-red-800",children:"Phone Number Required"}),(0,Me.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"A valid customer phone number is required for WhatsApp notifications. Please ensure the customer profile includes a verified mobile number."})]})]})})]}),(0,Me.jsxs)("div",{className:"px-8 py-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Notification Method"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("div",{className:"relative p-5 rounded-2xl border-2 cursor-pointer transition-all duration-200 hover:shadow-md "+(o?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50 hover:border-gray-300"),onClick:()=>l(!0),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Me.jsx)("input",{type:"radio",id:"templateMessage",name:"messageType",checked:o,onChange:()=>l(!0),className:"mt-1 h-4 w-4 text-emerald-600 focus:ring-emerald-500 focus:ring-2 border-gray-300"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("label",{htmlFor:"templateMessage",className:"text-base font-semibold text-gray-900 cursor-pointer",children:"Business Template"}),(0,Me.jsx)("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-700 text-xs font-medium rounded-full",children:"Recommended"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Pre-approved template ensures reliable delivery and professional branding"}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(DE,{className:"h-4 w-4 text-emerald-600"})}),(0,Me.jsx)("span",{className:"font-medium text-gray-900 text-sm",children:"WhatsApp Business"})]}),(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Template Preview"})]}),(0,Me.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Me.jsxs)("div",{className:"font-semibold text-gray-900",children:["New content from ",(null===s||void 0===s?void 0:s.creatorName)||"Your Creator"]}),(0,Me.jsxs)("div",{className:"text-gray-700",children:[(0,Me.jsxs)("span",{className:"font-medium",children:[(null===s||void 0===s?void 0:s.contentType)||"Content",":"]})," ",(null===s||void 0===s?void 0:s.title)||"New Content"]}),(0,Me.jsx)("div",{className:"pt-2",children:(0,Me.jsx)("div",{className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-xs font-medium rounded-lg",children:"Visit Website \u2192"})})]})]})]})]})}),(0,Me.jsx)("div",{className:"relative p-5 rounded-2xl border-2 cursor-pointer transition-all duration-200 hover:shadow-md "+(o?"border-gray-200 bg-gray-50 hover:border-gray-300":"border-blue-500 bg-blue-50"),onClick:()=>l(!1),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Me.jsx)("input",{type:"radio",id:"regularMessage",name:"messageType",checked:!o,onChange:()=>l(!1),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 focus:ring-2 border-gray-300"}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Me.jsx)("label",{htmlFor:"regularMessage",className:"text-base font-semibold text-gray-900 cursor-pointer",children:"Custom Message"}),(0,Me.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full",children:"Limited Delivery"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Send a custom message (may have delivery limitations for marketing content)"}),!o&&(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Custom Message Content"}),(0,Me.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:g,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm resize-none transition-all duration-200"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:[c.length>0?c.length:g.length," characters"]})]})]})]})})]})]}),u&&(0,Me.jsx)("div",{className:"mx-8 mb-6",children:(0,Me.jsx)("div",{className:"p-5 rounded-2xl border-2 "+("success"===u.type?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"p-2 rounded-xl "+("success"===u.type?"bg-green-100":"bg-red-100"),children:"success"===u.type?(0,Me.jsx)(Je,{className:"h-5 w-5 text-green-600"}):(0,Me.jsx)(We,{className:"h-5 w-5 text-red-600"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("h4",{className:"text-sm font-semibold "+("success"===u.type?"text-green-800":"text-red-800"),children:"success"===u.type?"Notification Sent":"Notification Failed"}),(0,Me.jsx)("div",{className:"text-sm mt-1 whitespace-pre-line "+("success"===u.type?"text-green-700":"text-red-700"),children:u.message}),"error"===u.type&&(u.message.includes("401")||u.message.includes("190"))&&(0,Me.jsx)("div",{className:"mt-4 p-4 bg-amber-50 border border-amber-200 rounded-xl",children:(0,Me.jsxs)("div",{className:"text-sm text-amber-800",children:[(0,Me.jsxs)("div",{className:"font-semibold mb-2 flex items-center",children:[(0,Me.jsx)(rt,{className:"h-4 w-4 mr-2"}),"Configuration Required"]}),u.message.includes("190")||u.message.includes("expired")?(0,Me.jsx)("p",{children:"The WhatsApp Business API access token has expired and must be renewed. Contact your system administrator to generate a fresh token from Meta Business Manager."}):(0,Me.jsx)("p",{children:"WhatsApp Business API needs to be set up with valid credentials. Contact your system administrator to configure the API keys and tokens."})]})})]})]})})}),(0,Me.jsxs)("div",{className:"px-8 pb-8",children:[(0,Me.jsx)("button",{onClick:async()=>{i(!0),m(null),x(null);try{const a=f();if(a.length>0)return m({type:"error",message:"Validation failed: "+a.join(", ")}),void i(!1);const l={contentId:(null===s||void 0===s?void 0:s.id)||(null===s||void 0===s?void 0:s._id),creatorId:null===s||void 0===s?void 0:s.creatorId,useTemplate:o,template:o?p:null,message:o?null:c||g,contentDetails:{title:(null===s||void 0===s?void 0:s.title)||"Untitled Content",creatorName:(null===s||void 0===s?void 0:s.creatorName)||"Unknown Creator",contentType:(null===s||void 0===s?void 0:s.contentType)||"Content",customerId:null===s||void 0===s?void 0:s.customerId,customerEmail:null===s||void 0===s?void 0:s.customerEmail,customerPhone:null===s||void 0===s?void 0:s.customerPhone}};x({requestUrl:"https://my-backend-593529385135.asia-south1.run.app/api/whatsapp/send-content-notification",requestBody:JSON.stringify(l,null,2),timestamp:(new Date).toISOString()}),console.log("Sending WhatsApp notification request:",l);const d=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/whatsapp/send-content-notification",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)});let u;try{u=await d.json()}catch(r){console.error("Failed to parse response JSON:",r);const e=await d.text();return console.error("Response text:",e),void m({type:"error",message:`Server error (${d.status}): Invalid response format. Check if WhatsApp Business API is configured properly.`})}if(console.log("WhatsApp notification response:",u),d.ok&&u.success)m({type:"success",message:`${o?"Template":"Message"} notification sent to ${u.notificationsSent||0} customer(s)`}),n&&n(u);else{let s=u.error||u.message||`Server error (${d.status})`;if(u.error&&190===u.error.code){var e,t;const n=u.error.error_subcode;s=`WhatsApp Business API Token Expired (${u.error.code}): ${u.error.message}\n\n\ud83d\udd11 TOKEN RENEWAL REQUIRED:\n\nThe WhatsApp Business API access token has expired and needs to be renewed. Please contact your system administrator to:\n\n1. Generate a new access token from Meta Business Manager\n2. Update the WHATSAPP_ACCESS_TOKEN in server environment variables\n3. Restart the server application\n\nTechnical Details:\n\u2022 Error Code: ${u.error.code}\n\u2022 Subcode: ${n||"N/A"}\n\u2022 Session expired on: ${(null===(e=u.error.message.match(/expired on (.*?)\./))||void 0===e?void 0:e[1])||"Unknown date"}\n\u2022 Current time: ${(null===(t=u.error.message.match(/current time is (.*?)\./))||void 0===t?void 0:t[1])||"Unknown"}\n\nFor immediate assistance, check the Meta Business Manager \u2192 WhatsApp API Setup \u2192 Access Tokens section.`}else 400===d.status?s=`Bad Request (400): ${s}. Check template configuration and parameters.`:401===d.status?s=`Authentication Failed (401): ${s}. WhatsApp Business API credentials are invalid or missing. Please check:\n          \n\u2022 WhatsApp Business API Access Token (may be expired)\n\u2022 Phone Number ID configuration  \n\u2022 Business Account verification status\n\u2022 API permissions and scopes\n\nContact your administrator to configure WhatsApp Business API credentials.`:403===d.status?s=`Access Forbidden (403): ${s}. Check WhatsApp Business API permissions and phone number verification.`:429===d.status?s=`Rate Limited (429): ${s}. Too many requests. Please wait before retrying.`:500===d.status&&(s=`Server Error (500): ${s}. WhatsApp Business API service is experiencing issues.`);s.includes("template")||s.includes("Template")?s+="\n\nTemplate issues: Verify the template is approved and active in WhatsApp Business Manager.":(s.includes("phone")||s.includes("number"))&&(s+="\n\nPhone number issues: Verify customer phone numbers are valid and opted-in for WhatsApp messages."),m({type:"error",message:s})}}catch(a){console.error("Error sending WhatsApp notification:",a),m({type:"error",message:`Network error: ${a.message||"Please check your connection and try again. Verify WhatsApp Business API service is running."}`})}finally{i(!1)}},disabled:a||!b,className:"w-full flex items-center justify-center px-6 py-4 font-semibold rounded-2xl transition-all duration-300 transform "+(a||!b?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-emerald-600 to-green-600 text-white hover:from-emerald-700 hover:to-green-700 hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"),children:a?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(pT,{className:"h-5 w-5 mr-3 animate-spin"}),(0,Me.jsxs)("span",{children:["Sending ",o?"Template":"Message","..."]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gt,{className:"h-5 w-5 mr-3"}),(0,Me.jsxs)("span",{children:["Send WhatsApp ",o?"Template":"Message",!b&&" (Phone Required)"]})]})}),(0,Me.jsxs)("div",{className:"mt-4 text-center space-y-1",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:o?"\u2713 Using approved WhatsApp Business template for optimal delivery":"\u26a0 Regular messages may have delivery limitations for promotional content"}),(0,Me.jsx)("p",{className:"text-xs text-red-500",children:"Requires active WhatsApp Business API configuration"})]})]}),h&&(0,Me.jsx)("div",{className:"mx-8 mb-8",children:(0,Me.jsxs)("details",{className:"group",children:[(0,Me.jsx)("summary",{className:"cursor-pointer p-4 bg-gray-50 rounded-xl border border-gray-200 text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:(0,Me.jsx)("span",{className:"select-none",children:"\ud83d\udd27 Debug Information"})}),(0,Me.jsx)("div",{className:"mt-3 p-4 bg-gray-900 rounded-xl border border-gray-700 overflow-hidden",children:(0,Me.jsx)("pre",{className:"text-xs text-green-400 font-mono overflow-x-auto whitespace-pre-wrap",children:JSON.stringify(h,null,2)})})]})})]})};const fT={instagram:(0,Me.jsx)(un,{className:"h-6 w-6"}),facebook:(0,Me.jsx)(dn,{className:"h-6 w-6"}),linkedin:(0,Me.jsx)(yn,{className:"h-6 w-6"}),youtube:(0,Me.jsx)(vn,{className:"h-6 w-6"}),"instagram-ads":(0,Me.jsx)(Qn,{className:"h-6 w-6"})},bT=[{key:"facebook",label:"Facebook/Meta",description:"Connect Facebook pages and Instagram business accounts",route:"/customer/integration/facebook",icon:fT.facebook,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-600",features:["Page Management","Post Analytics","Audience Insights","Instagram Integration"]},{key:"instagram",label:"Instagram",description:"Manage Instagram accounts and analytics",route:"/customer/integration/instagram",icon:fT.instagram,color:"from-pink-500 to-purple-600",bgColor:"bg-pink-50",textColor:"text-pink-600",features:["Media Management","Story Analytics","Hashtag Tracking","Engagement Metrics"]},{key:"instagram-ads",label:"Instagram Advertising",description:"Create and manage Instagram ad campaigns",route:"/customer/integration/instagram-ads",icon:fT["instagram-ads"],color:"from-purple-500 to-pink-600",bgColor:"bg-purple-50",textColor:"text-purple-600",features:["Campaign Management","Ad Analytics","Audience Targeting","Budget Optimization"]},{key:"youtube",label:"YouTube",description:"Connect YouTube channels for video analytics",route:"/customer/integration/youtube",icon:fT.youtube,color:"from-red-500 to-red-600",bgColor:"bg-red-50",textColor:"text-red-600",features:["Video Analytics","Channel Growth","Revenue Tracking","Audience Demographics"]},{key:"linkedin",label:"LinkedIn",description:"Connect LinkedIn profiles and company pages",route:"/customer/integration/linkedin",icon:fT.linkedin,color:"from-blue-700 to-blue-800",bgColor:"bg-blue-50",textColor:"text-blue-700",features:["Professional Networks","Company Updates","Lead Generation","Industry Analytics"]}];const vT=function(){const[e,t]=(0,r.useState)("customer"),[s,n]=(0,r.useState)(null),{currentUser:a}=Le(),i=(te(),Z()),[o,l]=(0,r.useState)({name:"",email:"",mobile:"",address:"",gstNumber:""}),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)({facebook:!1,instagram:!1,youtube:!1,linkedin:!1});(0,r.useEffect)(()=>{const e=i.pathname;if(e.includes("/integration/")){const s=e.split("/").pop();t("integrations"),n(s)}},[i]),(0,r.useEffect)(()=>{if(!a||!a._id)return console.warn("No currentUser._id found!"),void d(!1);x(),h()},[a]);const h=async()=>{try{let e={};if(a&&a._id){const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/customer/${a._id}/integration-status`);t.ok?e=await t.json():404===t.status?console.warn("Integration status endpoint not found (404). Using local/session storage only."):console.warn("Error fetching integration status:",t.status,t.statusText)}const t=Array.isArray(R_("fb_connected_accounts"))&&R_("fb_connected_accounts").length>0,s=Array.isArray(R_("instagram_connected_accounts"))&&R_("instagram_connected_accounts").length>0,n=Array.isArray(R_("yt_connected_accounts"))&&R_("yt_connected_accounts").length>0,r=Array.isArray(R_("tw_connected_accounts"))&&R_("tw_connected_accounts").length>0,i=Array.isArray(R_("linkedin_connected_accounts"))&&R_("linkedin_connected_accounts").length>0;m(a=>({...a,facebook:void 0===e.facebook?t:e.facebook,instagram:void 0===e.instagram?s:e.instagram,youtube:void 0===e.youtube?n:e.youtube,twitter:void 0===e.twitter?r:e.twitter,linkedin:void 0===e.linkedin?i:e.linkedin,whatsapp:void 0!==e.whatsapp&&e.whatsapp}))}catch(e){console.error("Error fetching integration status:",e)}},x=async()=>{try{console.log("Fetching customer data for ID:",a._id);const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/customer/${a._id}`),t=await e.json();if(console.log("Fetched customer data:",t),!e.ok||!t.email)throw new Error("Failed to fetch customer data");l(t)}catch(e){console.error("Error fetching customer data:",e);const t={name:a.name||"",email:a.email||"",mobile:a.mobile||"",address:a.address||"",gstNumber:a.gstNumber||""};console.log("Using fallback customer data:",t),l(t)}finally{d(!1)}},p=e=>{t(e),n(null)},g=e=>{n(e)},f=()=>{n(null)},b=(e,t)=>{m(s=>({...s,[e]:t}))},v=e=>{const t=u[e];return(0,Me.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium "+(t?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:[t?(0,Me.jsx)(Je,{className:"h-4 w-4"}):(0,Me.jsx)(We,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:t?"Connected":"Not Connected"})]})};return(0,r.useEffect)(()=>{null===s&&h()},[s]),c?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-indigo-200 border-t-indigo-600 mx-auto"}),(0,Me.jsx)("div",{className:"absolute inset-0 rounded-full h-16 w-16 border-4 border-transparent border-r-blue-400 animate-ping mx-auto opacity-20"})]}),(0,Me.jsx)("p",{className:"mt-6 text-slate-600 font-medium",children:"Loading your settings..."})]})}):(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24 py-8",children:s?(()=>{var e;const t=bT.find(e=>e.key===s);return t?(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"flex items-center space-x-4",children:(0,Me.jsxs)("button",{onClick:f,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,Me.jsx)(Ws,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"Back to Integrations"})]})}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Me.jsx)("div",{className:`bg-gradient-to-r ${t.color} px-6 py-4`,children:(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("div",{className:"text-white",children:t.icon}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold text-white",children:[t.label," Integration"]}),(0,Me.jsx)("p",{className:"text-white/90 text-sm",children:t.description})]})]})}),(0,Me.jsxs)("div",{className:"p-6",children:["facebook"===s&&(0,Me.jsx)(TE,{onConnectionStatusChange:e=>b("facebook",e)}),"instagram"===s&&(0,Me.jsx)(FE,{onConnectionStatusChange:e=>b("instagram",e)}),"instagram-ads"===s&&(0,Me.jsx)(B_,{onConnectionStatusChange:e=>b("instagram-ads",e)}),"youtube"===s&&(0,Me.jsx)(YE,{onConnectionStatusChange:e=>b("youtube",e)}),"linkedin"===s&&(0,Me.jsx)(xT,{onConnectionStatusChange:e=>b("linkedin",e)}),"twitter"===s&&(0,Me.jsx)(KE,{onConnectionStatusChange:e=>b("twitter",e)}),"whatsapp"===s&&(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Customer Data Debug"}),(0,Me.jsxs)("div",{className:"text-xs text-blue-800 space-y-1",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Name:"})," ",(null===o||void 0===o?void 0:o.name)||"Not loaded"]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Email:"})," ",(null===o||void 0===o?void 0:o.email)||"Not loaded"]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Mobile:"})," ",(null===o||void 0===o?void 0:o.mobile)||"Not loaded"]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Customer ID:"})," ",(null===a||void 0===a?void 0:a._id)||"Not loaded"]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Mobile Type:"})," ",typeof(null===o||void 0===o?void 0:o.mobile)]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Mobile Length:"})," ",(null===o||void 0===o||null===(e=o.mobile)||void 0===e?void 0:e.length)||0]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("strong",{children:"Raw Customer Data:"})," ",JSON.stringify(o,null,2)]})]})]}),(0,Me.jsx)(gT,{contentDetails:{id:"test-content-id",creatorId:(null===a||void 0===a?void 0:a._id)||"",creatorName:(null===o||void 0===o?void 0:o.name)||(null===a||void 0===a?void 0:a.name)||"Test Creator",title:"Test Content Notification",contentType:"Instagram Post",customerId:(null===a||void 0===a?void 0:a._id)||"",customerEmail:(null===o||void 0===o?void 0:o.email)||(null===a||void 0===a?void 0:a.email)||"",customerPhone:(null===o||void 0===o?void 0:o.mobile)||(null===a||void 0===a?void 0:a.mobile)||null},onNotificationSent:e=>{console.log("WhatsApp notification sent:",e),e.success&&m(e=>({...e,whatsapp:!0}))}})]})]})]})]}):null})():(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-500 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Me.jsxs)("div",{className:"relative text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold mb-3",children:"Account Settings"}),(0,Me.jsx)("p",{className:"text-blue-50 text-lg",children:"Manage your account information and social media integrations"})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"border-b border-slate-200",children:(0,Me.jsxs)("nav",{className:"flex",children:[(0,Me.jsxs)("button",{type:"button",onClick:()=>p("customer"),className:"flex-1 py-5 px-6 text-sm font-semibold transition-all duration-200 relative "+("customer"===e?"text-indigo-600 bg-gradient-to-r from-indigo-50 to-blue-50":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"),children:["customer"===e&&(0,Me.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-600 to-blue-600"}),(0,Me.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Me.jsx)(He,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"Customer Information"})]})]}),(0,Me.jsxs)("button",{type:"button",onClick:()=>p("integrations"),className:"flex-1 py-5 px-6 text-sm font-semibold transition-all duration-200 relative "+("integrations"===e?"text-indigo-600 bg-gradient-to-r from-indigo-50 to-blue-50":"text-slate-600 hover:text-slate-800 hover:bg-slate-50"),children:["integrations"===e&&(0,Me.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-600 to-blue-600"}),(0,Me.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Me.jsx)(rt,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"Social Media Integrations"})]})]})]})}),(0,Me.jsxs)("div",{className:"p-8",children:["customer"===e&&(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4",children:(0,Me.jsx)(He,{className:"h-8 w-8 text-white"})}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Customer Information"}),(0,Me.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Your account details are securely stored and managed. For any changes, please contact our support team."})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b border-gray-100",children:(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Details"})}),(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Me.jsx)(He,{className:"h-4 w-4 inline mr-2"}),"Full Name"]}),(0,Me.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 transition-colors hover:bg-gray-100",children:(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:o.name})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Me.jsx)(Hs,{className:"h-4 w-4 inline mr-2"}),"Email Address"]}),(0,Me.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 transition-colors hover:bg-gray-100",children:(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:o.email})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Me.jsx)(J_,{className:"h-4 w-4 inline mr-2"}),"Mobile Number"]}),(0,Me.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 transition-colors hover:bg-gray-100",children:(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:o.mobile})})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Me.jsx)(Ps,{className:"h-4 w-4 inline mr-2"}),"GST Number"]}),(0,Me.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 transition-colors hover:bg-gray-100",children:(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:o.gstNumber})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Me.jsx)(Ks,{className:"h-4 w-4 inline mr-2"}),"Address"]}),(0,Me.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 transition-colors hover:bg-gray-100",children:(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:o.address})})]}),(0,Me.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)(nn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Secure Account"}),(0,Me.jsx)("p",{className:"text-xs text-blue-700",children:"Your information is encrypted and protected. Contact support@auremsolutions.com for updates."})]})]})})]})]})})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Me.jsx)(st,{className:"h-6 w-6 text-green-600"}),(0,Me.jsx)("h4",{className:"font-semibold text-green-900",children:"Need to Update Information?"})]}),(0,Me.jsx)("p",{className:"text-sm text-green-800 mb-4",children:"For security reasons, account information changes must be processed by our support team."}),(0,Me.jsx)("button",{onClick:()=>window.open("mailto:support@auremsolutions.com","_blank"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Contact Support"})]})]}),"integrations"===e&&(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl mb-4",children:(0,Me.jsx)(nr,{className:"h-8 w-8 text-white"})}),(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Social Media Integrations"}),(0,Me.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Connect your social media accounts to streamline content management and gain valuable insights."})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:bT.map(e=>(0,Me.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:-translate-y-1",onClick:()=>g(e.key),children:[(0,Me.jsx)("div",{className:`h-2 bg-gradient-to-r ${e.color}`}),(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:`${e.bgColor} p-3 rounded-xl ${e.textColor}`,children:e.icon}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 group-hover:text-gray-700 transition-colors",children:e.label}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]}),(0,Me.jsx)(Dn,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-600 transition-colors"})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Key Features:"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:e.features.map((e,t)=>(0,Me.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md text-xs font-medium",children:e},t))})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[v(e.key),(0,Me.jsxs)("button",{onClick:t=>{t.stopPropagation(),g(e.key)},className:`bg-gradient-to-r ${e.color} text-white px-4 py-2 rounded-lg text-sm font-medium hover:shadow-md transition-all duration-200 flex items-center space-x-2`,children:[(0,Me.jsx)(rt,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Configure"})]})]})]})]},e.key))})]})]})]})]})})})};function yT(e){return null!==e&&void 0!==e&&e.displayName?e.displayName:null!==e&&void 0!==e&&e.email?e.email.split("@")[0]:"Customer User"}const jT=function(e){let{children:t}=e;const[s,n]=(0,r.useState)(!1),a=te(),i=Z(),{logout:o,currentUser:l}=Le(),c=e=>{n(!1),a(e)},d="/customer"!==i.pathname;return(0,Me.jsxs)("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-[#e6f2fb] via-blue-50 to-indigo-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-lg border-b border-[#0a2342]/10 sticky top-0 z-50",children:(0,Me.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex flex-wrap items-center justify-between h-auto min-h-[4rem]",children:[(0,Me.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[d&&(0,Me.jsx)("button",{onClick:()=>{window.history.length>2?a(-1):a("/customer")},className:"p-2 mr-2 rounded-md text-[#38bdf8] hover:text-[#0a2342] hover:bg-[#bae6fd]","aria-label":"Back",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsx)("button",{onClick:()=>a("/customer"),className:"focus:outline-none flex-shrink-0","aria-label":"Go to Dashboard",style:{background:"none",border:"none",padding:0,margin:0},children:(0,Me.jsx)(Xe,{size:"medium"})}),(0,Me.jsxs)("div",{className:"ml-3 sm:ml-6 min-w-0",children:[(0,Me.jsx)("h1",{className:"text-base sm:text-xl font-bold text-[#0a2342] truncate max-w-[120px] sm:max-w-none",children:"Customer Portal"}),(0,Me.jsx)("p",{className:"text-xs sm:text-sm text-[#38bdf8] truncate max-w-[120px] sm:max-w-none",children:"Manage your subscription and settings"})]})]}),(0,Me.jsxs)("div",{className:"relative z-50 mt-2 sm:mt-0 flex-shrink-0",children:[(0,Me.jsxs)("button",{onClick:()=>n(e=>!e),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-[#bae6fd] transition-all duration-200",children:[(0,Me.jsx)("div",{className:"h-8 w-8 bg-gradient-to-r from-[#0a2342] to-[#38bdf8] rounded-full flex items-center justify-center",children:(0,Me.jsx)("span",{className:"text-white text-sm font-semibold",children:null!==l&&void 0!==l&&l.email?l.email[0].toUpperCase():"C"})}),(0,Me.jsxs)("div",{className:"hidden sm:block text-left min-w-0",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-[#0a2342] truncate",children:yT(l)}),(0,Me.jsx)("p",{className:"text-xs text-[#38bdf8] truncate",children:(null===l||void 0===l?void 0:l.email)||"customer@email.com"})]}),(0,Me.jsx)(nt,{className:"h-4 w-4 text-[#38bdf8]"})]}),s&&(0,Me.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-[#0a2342]/10 py-2 z-50",children:[(0,Me.jsxs)("div",{className:"px-4 py-3 border-b border-[#bae6fd]",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-[#0a2342]",children:yT(l)}),(0,Me.jsx)("p",{className:"text-xs text-[#38bdf8]",children:(null===l||void 0===l?void 0:l.email)||"customer@email.com"})]}),(0,Me.jsxs)("button",{onClick:()=>{c("/customer/settings"),n(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-[#0a2342] hover:bg-[#bae6fd] transition-colors",children:[(0,Me.jsx)(rt,{className:"h-4 w-4 mr-3"}),"Settings"]}),(0,Me.jsxs)("button",{onClick:()=>{c("/customer/subscription"),n(!1)},className:"flex items-center w-full px-4 py-3 text-sm text-[#0a2342] hover:bg-[#bae6fd] transition-colors",children:[(0,Me.jsx)(He,{className:"h-4 w-4 mr-3"}),"My Subscription"]}),(0,Me.jsxs)("button",{onClick:async()=>{n(!1),await(null===o||void 0===o?void 0:o()),a("/customer/welcome")},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,Me.jsx)(at,{className:"h-4 w-4 mr-3"}),"Logout"]})]})]})]})})}),(0,Me.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 bg-transparent",children:t}),(0,Me.jsx)(it,{})]})};const wT=function(){const[e,t]=(0,r.useState)({name:"",email:"",mobile:"",address:"",gstNumber:"",password:"",confirmPassword:""}),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)(0),[j,w]=(0,r.useState)(!1),{customerSignup:N,sendOtp:k,verifyOtp:S}=Le(),_=te();(0,r.useEffect)(()=>{let e=null;return v>0?e=setInterval(()=>{y(v-1)},1e3):0===v&&u&&w(!0),()=>clearInterval(e)},[v,u]);const C=e=>{const{name:s,value:n}=e.target;t(e=>({...e,[s]:n}))},A=0===(P=e.password).length?{strength:0,text:"",color:""}:P.length<8?{strength:1,text:"Weak",color:"text-red-500"}:P.length<10||!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(P)?{strength:2,text:"Fair",color:"text-yellow-500"}:/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/.test(P)?{strength:4,text:"Strong",color:"text-green-500"}:{strength:3,text:"Good",color:"text-blue-500"};var P;return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 relative overflow-hidden",children:[(0,Me.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-indigo-400/20 rounded-full animate-float"}),(0,Me.jsx)("div",{className:"absolute top-40 right-20 w-48 h-48 bg-blue-300/30 rounded-full animate-float-delayed"}),(0,Me.jsx)("div",{className:"absolute bottom-32 left-1/4 w-40 h-40 bg-cyan-400/20 transform rotate-45 animate-spin-slow"}),(0,Me.jsx)("div",{className:"absolute top-1/3 right-1/3 w-24 h-24 bg-indigo-400/20 rounded-lg animate-pulse-slow"}),(0,Me.jsx)("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-indigo-300/30 to-transparent rounded-tr-full"}),(0,Me.jsx)("div",{className:"absolute top-0 right-0 w-80 h-80 bg-gradient-to-bl from-blue-300/30 to-transparent rounded-bl-full"})]}),(0,Me.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8 animate-fade-in",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-6",children:(0,Me.jsx)(Xe,{size:"large"})}),(0,Me.jsx)("h2",{className:"text-4xl font-bold text-slate-800 mb-2 animate-fade-in-up",children:u?"Verify Your Email":"Create Account"}),(0,Me.jsx)("p",{className:"text-slate-600 animate-fade-in-up animation-delay-100",children:u?`Enter the OTP sent to ${e.email}`:"Join AirSpark and ignite your social presence"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl hover:shadow-2xl p-8 border border-slate-200 transition-all duration-300",children:[o&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start animate-shake",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm font-medium",children:o})]}),u?(0,Me.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),h&&6===h.length)try{l(""),g(!0),await S(e.email.trim().toLowerCase(),h);const t={...e,email:e.email.trim().toLowerCase()};await N(t),_("/customer")}catch(r){var s,n;null!==(s=r.message)&&void 0!==s&&s.includes("Invalid OTP")||null!==(n=r.message)&&void 0!==n&&n.includes("expired")?l("Invalid or expired OTP. Please try again."):l(r.message||"OTP verification failed. Please try again."),console.error(r)}finally{g(!1)}else l("Please enter a valid 6-digit OTP")},children:[(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"otp",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Enter OTP"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Hs,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"otp",name:"otp",type:"text",maxLength:"6",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md text-center text-lg font-mono tracking-widest",placeholder:"000000",value:h,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);x(t)}})]}),(0,Me.jsx)("div",{className:"mt-2 text-xs text-slate-500 text-center",children:"Enter the 6-digit code sent to your email"})]}),v>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-center text-sm text-slate-600 bg-indigo-50 py-2 rounded-lg",children:[(0,Me.jsx)(on,{className:"h-4 w-4 mr-2 text-indigo-600"}),(0,Me.jsxs)("span",{children:["Resend OTP in ",(0,Me.jsx)("span",{className:"font-bold text-indigo-600",children:(e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`)(v)})]})]}),(0,Me.jsx)("div",{children:(0,Me.jsxs)("button",{type:"submit",disabled:p||!h||6!==h.length,className:"group relative w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 group-hover:animate-shine"}),p?(0,Me.jsxs)("div",{className:"flex items-center relative z-10",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Verifying..."]}):(0,Me.jsxs)("div",{className:"flex items-center relative z-10",children:["Verify & Create Account",(0,Me.jsx)(Je,{className:"h-5 w-5 ml-2 group-hover:scale-110 transition-transform"})]})]})}),j&&(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("button",{type:"button",onClick:async()=>{try{b(!0),l(""),await k(e.email.trim().toLowerCase(),"signup"),y(300),w(!1),x("")}catch(t){l(t.message||"Failed to resend OTP. Please try again."),console.error(t)}finally{b(!1)}},disabled:f,className:"inline-flex items-center px-4 py-2 text-sm font-semibold text-indigo-600 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-lg transition-colors disabled:opacity-50",children:f?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600 mr-2"}),"Sending..."]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(_n,{className:"h-4 w-4 mr-1"}),"Resend OTP"]})})}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsxs)("button",{type:"button",onClick:()=>{m(!1),x(""),y(0),w(!1),l("")},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 rounded-lg transition-colors",children:[(0,Me.jsx)(Qe,{className:"h-4 w-4 mr-1 rotate-180"}),"Back to form"]})})]}):(0,Me.jsxs)("form",{className:"space-y-5",onSubmit:async t=>{t.preventDefault();const s=e.name?e.email?/\S+@\S+\.\S+/.test(e.email)?e.mobile?/^[+]?[0-9]{10,15}$/.test(e.mobile.replace(/\s/g,""))?e.address?e.gstNumber&&""!==e.gstNumber.trim()&&!/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(e.gstNumber)?"Please enter a valid GST number format":e.password?e.password.length<8?"Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.password)?e.password!==e.confirmPassword?"Passwords do not match":"":"Password must contain at least one uppercase letter, one lowercase letter, and one number":"Password is required":"Address is required":"Please enter a valid mobile number":"Mobile number is required":"Please enter a valid email address":"Email is required":"Full name is required";if(s)l(s);else try{l(""),d(!0),await k(e.email.trim().toLowerCase(),"signup"),m(!0),y(300),w(!1)}catch(a){var n,r;null!==(n=a.message)&&void 0!==n&&n.includes("already exists")||null!==(r=a.message)&&void 0!==r&&r.includes("409")?l("An account with this email already exists. Please sign in instead."):l(a.message||"Failed to send OTP. Please try again."),console.error(a)}finally{d(!1)}},children:[(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Name"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(He,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"Enter your full name",value:e.name,onChange:C})]})]}),(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qe,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"Enter your email address",value:e.email,onChange:C})]})]}),(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"mobile",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Mobile Number"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qs,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"mobile",name:"mobile",type:"tel",required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"+91 9876543210",value:e.mobile,onChange:C})]})]}),(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"address",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute top-3 left-3 pointer-events-none",children:(0,Me.jsx)(Ks,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("textarea",{id:"address",name:"address",rows:2,required:!0,className:"w-full pl-10 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md resize-none",placeholder:"Enter your complete address",value:e.address,onChange:C})]})]}),(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"gstNumber",className:"block text-sm font-semibold text-slate-700 mb-2",children:"GST Number"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ps,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"gstNumber",name:"gstNumber",type:"text",className:"w-full pl-10 pr-4 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"27ABCDE1234F1Z5 (optional)",value:e.gstNumber,onChange:C})]})]}),(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"Create a strong password",value:e.password,onChange:C}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{n(!s)},children:s?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-slate-400 hover:text-indigo-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-slate-400 hover:text-indigo-600 transition-colors"})})]}),e.password&&(0,Me.jsxs)("div",{className:"mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsx)("span",{className:"text-xs text-slate-500",children:"Password strength:"}),(0,Me.jsx)("span",{className:`text-xs font-semibold ${A.color}`,children:A.text})]}),(0,Me.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:(0,Me.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-300 "+(1===A.strength?"bg-red-500 w-1/4":2===A.strength?"bg-yellow-500 w-2/4":3===A.strength?"bg-blue-500 w-3/4":4===A.strength?"bg-green-500 w-full":"w-0")})})]})]}),(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Confirm Password"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-2.5 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"Confirm your password",value:e.confirmPassword,onChange:C}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{i(!a)},children:a?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-slate-400 hover:text-indigo-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-slate-400 hover:text-indigo-600 transition-colors"})})]}),e.confirmPassword&&(0,Me.jsx)("div",{className:"mt-2 flex items-center",children:e.password===e.confirmPassword?(0,Me.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs font-medium",children:"Passwords match"})]}):(0,Me.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Me.jsx)(We,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs font-medium",children:"Passwords do not match"})]})})]}),(0,Me.jsx)("div",{className:"pt-2",children:(0,Me.jsxs)("button",{type:"submit",disabled:c,className:"group relative w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 group-hover:animate-shine"}),c?(0,Me.jsxs)("div",{className:"flex items-center relative z-10",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending OTP..."]}):(0,Me.jsxs)("div",{className:"flex items-center relative z-10",children:["Send OTP",(0,Me.jsx)(Hs,{className:"h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]}),!u&&(0,Me.jsxs)("div",{className:"mt-6 text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t-2 border-slate-200"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-4 bg-white text-slate-500 font-medium",children:"Already have an account?"})})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsx)(Oe,{to:"/customer/login",className:"inline-flex items-center px-6 py-2.5 border-2 border-indigo-500 rounded-xl text-sm font-semibold text-indigo-600 bg-white hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:"Sign in instead"})})]})]}),(0,Me.jsx)("div",{className:"text-center animate-fade-in-up animation-delay-200",children:(0,Me.jsxs)("p",{className:"text-xs text-slate-600",children:["By creating an account, you agree to our"," ",(0,Me.jsx)("span",{className:"text-indigo-600 hover:underline cursor-pointer font-medium",children:"Terms"})," ","and"," ",(0,Me.jsx)("span",{className:"text-indigo-600 hover:underline cursor-pointer font-medium",children:"Privacy Policy"})]})})]})}),(0,Me.jsx)("style",{children:"\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-20px); }\n        }\n\n        @keyframes float-delayed {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-30px); }\n        }\n\n        @keyframes spin-slow {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n\n        @keyframes pulse-slow {\n          0%, 100% { opacity: 0.3; }\n          50% { opacity: 0.6; }\n        }\n\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes fade-in-up {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-10px); }\n          75% { transform: translateX(10px); }\n        }\n\n        @keyframes shine {\n          0% { left: -100%; }\n          100% { left: 200%; }\n        }\n\n        .animate-float {\n          animation: float 6s ease-in-out infinite;\n        }\n\n        .animate-float-delayed {\n          animation: float-delayed 8s ease-in-out infinite;\n        }\n\n        .animate-spin-slow {\n          animation: spin-slow 20s linear infinite;\n        }\n\n        .animate-pulse-slow {\n          animation: pulse-slow 3s ease-in-out infinite;\n        }\n\n        .animate-fade-in {\n          animation: fade-in 1s ease-out;\n        }\n\n        .animate-fade-in-up {\n          animation: fade-in-up 0.6s ease-out;\n        }\n\n        .animate-shake {\n          animation: shake 0.5s ease-in-out;\n        }\n\n        .animation-delay-100 {\n          animation-delay: 0.1s;\n        }\n\n        .animation-delay-200 {\n          animation-delay: 0.2s;\n        }\n\n        .animate-shine {\n          animation: shine 1.5s ease-in-out;\n          position: absolute;\n          inset: 0;\n          left: -100%;\n        }\n      "})]})};hello;const NT=function(){const[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{customerLogin:u}=Le(),m=te();return"function"!==typeof u?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,Me.jsxs)("div",{className:"text-red-600 font-bold text-center",children:["AuthContext is missing ",(0,Me.jsx)("code",{children:"customerLogin"})," function.",(0,Me.jsx)("br",{}),"Please check your AuthContext implementation."]})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 relative overflow-hidden",children:[(0,Me.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-indigo-400/20 rounded-full animate-float"}),(0,Me.jsx)("div",{className:"absolute top-40 right-20 w-48 h-48 bg-blue-300/30 rounded-full animate-float-delayed"}),(0,Me.jsx)("div",{className:"absolute bottom-32 left-1/4 w-40 h-40 bg-cyan-400/20 transform rotate-45 animate-spin-slow"}),(0,Me.jsx)("div",{className:"absolute top-1/3 right-1/3 w-24 h-24 bg-indigo-400/20 rounded-lg animate-pulse-slow"}),(0,Me.jsx)("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-indigo-300/30 to-transparent rounded-tr-full"}),(0,Me.jsx)("div",{className:"absolute top-0 right-0 w-80 h-80 bg-gradient-to-bl from-blue-300/30 to-transparent rounded-bl-full"})]}),(0,Me.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8 animate-fade-in",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-6",children:(0,Me.jsx)(Xe,{size:"large"})}),(0,Me.jsx)("h2",{className:"text-4xl font-bold text-slate-800 mb-2 animate-fade-in-up",children:"Welcome Back"}),(0,Me.jsx)("p",{className:"text-slate-600 animate-fade-in-up animation-delay-100",children:"Sign in to continue your journey"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl hover:shadow-2xl p-8 border border-slate-200 transition-all duration-300",children:[o&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start animate-shake",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm font-medium",children:o})]}),(0,Me.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),e&&s)try{l(""),d(!0),await u(e,s),m("/customer")}catch(i){var n,r,a;null!==(n=i.message)&&void 0!==n&&n.includes("Invalid credentials")||null!==(r=i.message)&&void 0!==r&&r.includes("401")?l("Invalid email or password. Please check your credentials or sign up to create an account."):null!==(a=i.message)&&void 0!==a&&a.includes("User not found")?l("No account found with this email. Please sign up to create an account."):l("Failed to log in. Please try again."),console.error(i)}finally{d(!1)}else l("Please enter both email and password")},children:[(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qe,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"Enter your email address",value:e,onChange:e=>t(e.target.value)})]})]}),(0,Me.jsxs)("div",{className:"transform transition-all duration-200 hover:translate-x-1",children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Password"}),(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"})}),(0,Me.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border-2 border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-indigo-300 hover:shadow-md",placeholder:"Enter your password",value:s,onChange:e=>n(e.target.value)}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{i(!a)},children:a?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-slate-400 hover:text-indigo-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-slate-400 hover:text-indigo-600 transition-colors"})})]})]}),(0,Me.jsx)("div",{children:(0,Me.jsxs)("button",{type:"submit",disabled:c,className:"group relative w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold rounded-xl hover:from-cyan-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 group-hover:animate-shine"}),c?(0,Me.jsxs)("div",{className:"flex items-center relative z-10",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):(0,Me.jsxs)("div",{className:"flex items-center relative z-10",children:["Sign In",(0,Me.jsx)(Qe,{className:"h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform"})]})]})})]}),(0,Me.jsxs)("div",{className:"mt-8 text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t-2 border-slate-200"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-4 bg-white text-slate-500 font-medium",children:"New to AirSpark?"})})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsx)(Oe,{to:"/customer/signup",className:"inline-flex items-center px-6 py-2.5 border-2 border-indigo-500 rounded-xl text-sm font-semibold text-indigo-600 bg-white hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200 hover:scale-105 hover:shadow-lg",children:"Create an account"})})]})]}),(0,Me.jsx)("div",{className:"text-center animate-fade-in-up animation-delay-200",children:(0,Me.jsxs)("p",{className:"text-xs text-slate-600",children:["By signing in, you agree to our"," ",(0,Me.jsx)("span",{className:"text-indigo-600 hover:underline cursor-pointer font-medium",children:"Terms"})," ","and"," ",(0,Me.jsx)("span",{className:"text-indigo-600 hover:underline cursor-pointer font-medium",children:"Privacy Policy"})]})})]})}),(0,Me.jsx)("style",{children:"\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-20px); }\n        }\n\n        @keyframes float-delayed {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-30px); }\n        }\n\n        @keyframes spin-slow {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n\n        @keyframes pulse-slow {\n          0%, 100% { opacity: 0.3; }\n          50% { opacity: 0.6; }\n        }\n\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes fade-in-up {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-10px); }\n          75% { transform: translateX(10px); }\n        }\n\n        @keyframes shine {\n          0% { left: -100%; }\n          100% { left: 200%; }\n        }\n\n        .animate-float {\n          animation: float 6s ease-in-out infinite;\n        }\n\n        .animate-float-delayed {\n          animation: float-delayed 8s ease-in-out infinite;\n        }\n\n        .animate-spin-slow {\n          animation: spin-slow 20s linear infinite;\n        }\n\n        .animate-pulse-slow {\n          animation: pulse-slow 3s ease-in-out infinite;\n        }\n\n        .animate-fade-in {\n          animation: fade-in 1s ease-out;\n        }\n\n        .animate-fade-in-up {\n          animation: fade-in-up 0.6s ease-out;\n        }\n\n        .animate-shake {\n          animation: shake 0.5s ease-in-out;\n        }\n\n        .animation-delay-100 {\n          animation-delay: 0.1s;\n        }\n\n        .animation-delay-200 {\n          animation-delay: 0.2s;\n        }\n\n        .animate-shine {\n          animation: shine 1.5s ease-in-out;\n          position: absolute;\n          inset: 0;\n          left: -100%;\n        }\n      "})]})},kT=Ve("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ST=Ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),_T=[{planName:"Basic Plan",price:"\u20b910,000",billingCycle:"Monthly",status:"Active",features:["Increase in Followers (Organic Growth)","Content Creation (with Keywords) \u2013 2 Platforms (Instagram & LinkedIn)","8-10 professional posts (images) incl. 1 reel/month","Captions with trending keywords & hashtags","Client feedback mentions on stories/highlights","End-to-end handling: Post scheduling for 2 platforms","Monthly performance summaries & analysis","Account Management (Basic)","Steady growth via hashtags, eco-communities, industry pages","Hassle-free digital presence \u2013 focus on business, we manage growth"],nextBillingDate:"2024-04-15",autoRenewal:!0,startDate:"2024-01-15",endDate:"2024-12-15"},{planName:"Growth Plan",price:"\u20b916,000",billingCycle:"Monthly",status:"Inactive",features:["Account Management (3 Platforms: Instagram, LinkedIn, Facebook)","Curate, schedule & automate posting","Handle queries & customer engagement","Detailed insights & recommendations, monthly strategic call","Content Creation & Posting (12-15 posts/month)","Premium creative mix: reels, explainers, testimonials, campaigns","Platform-specific formats & SEO-focused keywords","Targeted Followers Growth: engagement campaigns, follow-back, networking","Community growth via campaigns & interactive posts","Feedback & Review Integration: client feedbacks, story highlights"],nextBillingDate:"2024-04-15",autoRenewal:!0,startDate:"2024-01-15",endDate:"2024-12-15"},{planName:"Premium Plan",price:"\u20b924,000",billingCycle:"Monthly",status:"Inactive",features:["Account Management (4 Platforms: Instagram, LinkedIn, Facebook, YouTube/Shorts)","360\xb0 digital presence, ad monitoring, lead response, engagement","Deep-dive monthly reports, 2 strategic calls","Premium Content Creation: creative + video, professional shoots, animated explainers, 3D flows","Client feedbacks, case studies & testimonials","Followers Growth (Organic + Paid): paid campaigns, influencer tie-ups","Basic SEO: keyword research, website & meta-data upgrade","Paid Promotion: 2 free Instagram Reel boosts/month, Google Ads, influencer collaborations","Analytics & Reporting: ROI insights, growth trends, strategy upgrades","Track engagement, followers, leads generated"],nextBillingDate:"2024-04-15",autoRenewal:!0,startDate:"2024-01-15",endDate:"2024-12-15"}];const CT=function(){return te(),(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,Me.jsx)("div",{className:"px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24 py-8",children:(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-500 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,Me.jsx)(kT,{className:"h-6 w-6"})}),(0,Me.jsx)("h1",{className:"text-4xl font-bold",children:"Subscription Plans"})]}),(0,Me.jsx)("p",{className:"text-blue-50 text-lg mt-2",children:"Compare and manage your Aureum Solutions subscription"})]})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:_T.map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 border-2 transition-all hover:shadow-2xl "+(0===t?"border-indigo-600 ring-4 ring-indigo-100":"border-slate-200"),children:[(0,Me.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Me.jsx)("div",{className:"p-3 rounded-xl "+(0===t?"bg-gradient-to-br from-indigo-500 to-blue-500":"bg-gradient-to-br from-slate-400 to-slate-500"),children:(0,Me.jsx)(kT,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:e.planName}),(0,Me.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold "+(0===t?"bg-gradient-to-r from-emerald-500 to-green-500 text-white":"bg-slate-100 text-slate-700"),children:0===t?"\u2713 Current Plan":"Available"})]})]}),(0,Me.jsxs)("div",{className:"text-left mb-6",children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-slate-800",children:e.price}),(0,Me.jsxs)("p",{className:"text-sm text-slate-500",children:["per ",e.billingCycle.toLowerCase()]})]}),(0,Me.jsx)("div",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Me.jsx)(bn,{className:"h-5 w-5 text-emerald-600 flex-shrink-0 mt-0.5"}),(0,Me.jsx)("span",{className:"text-slate-700 text-sm",children:e})]},t))}),(0,Me.jsxs)("div",{className:"space-y-2 text-xs text-slate-600 mb-6 p-4 bg-slate-50 rounded-xl",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 text-indigo-600"}),(0,Me.jsx)("span",{className:"font-medium",children:"Start:"})," ",new Date(e.startDate).toLocaleDateString()]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 text-indigo-600"}),(0,Me.jsx)("span",{className:"font-medium",children:"End:"})," ",new Date(e.endDate).toLocaleDateString()]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)(ST,{className:"h-4 w-4 text-indigo-600"}),(0,Me.jsx)("span",{className:"font-medium",children:"Next Billing:"})," ",new Date(e.nextBillingDate).toLocaleDateString()]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("span",{className:"font-medium",children:"Auto-renewal:"}),(0,Me.jsx)("span",{className:"px-2 py-0.5 rounded-full "+(e.autoRenewal?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"),children:e.autoRenewal?"Enabled":"Disabled"})]})]}),(0,Me.jsx)("div",{children:0===t?(0,Me.jsx)("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl shadow-md cursor-not-allowed opacity-75",children:"Your Current Plan"}):(0,Me.jsxs)("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-slate-100 to-blue-100 text-slate-700 font-semibold rounded-xl hover:from-indigo-100 hover:to-blue-200 transition-all shadow-md hover:shadow-lg border border-slate-200",onClick:()=>{},children:["Switch to ",e.planName]})})]},e.planName))}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-slate-200",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-xl flex items-center justify-center",children:(0,Me.jsx)(ST,{className:"h-6 w-6 text-white"})}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-slate-800",children:"Billing Information"})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl",children:[(0,Me.jsx)("span",{className:"text-slate-700 font-medium",children:"Auto-renewal"}),(0,Me.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-semibold "+(_T[0].autoRenewal?"bg-gradient-to-r from-emerald-500 to-green-500 text-white":"bg-gradient-to-r from-red-500 to-rose-500 text-white"),children:_T[0].autoRenewal?"Enabled":"Disabled"})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl",children:[(0,Me.jsx)("span",{className:"text-slate-700 font-medium",children:"Payment Method"}),(0,Me.jsx)("span",{className:"text-slate-800 font-semibold",children:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 1234"})]})]})]}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Me.jsxs)("button",{className:"group px-6 py-3 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[(0,Me.jsx)(kT,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),"Upgrade Plan"]}),(0,Me.jsxs)("button",{className:"group px-6 py-3 bg-gradient-to-r from-slate-100 to-blue-100 text-slate-700 font-semibold rounded-xl hover:from-slate-200 hover:to-blue-200 transition-all shadow-md hover:shadow-lg border border-slate-200 flex items-center justify-center gap-2",children:[(0,Me.jsx)(ST,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),"Download Invoice"]}),(0,Me.jsxs)("button",{className:"group px-6 py-3 bg-gradient-to-r from-slate-100 to-blue-100 text-slate-700 font-semibold rounded-xl hover:from-slate-200 hover:to-blue-200 transition-all shadow-md hover:shadow-lg border border-slate-200 flex items-center justify-center gap-2",children:[(0,Me.jsx)(ST,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),"Manage Payment Method"]})]})]})})})},AT=Ve("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),PT=Ve("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]);const ET=function(){var e,t,s,n;const a=te(),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(0),[m,h]=(0,r.useState)(0),[x,p]=(0,r.useState)([]),[g,f]=(0,r.useState)(null),[b,v]=(0,r.useState)([]),[y,j]=(0,r.useState)([]),[w,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[_,C]=(0,r.useState)(!0),[A,P]=(0,r.useState)(null);let E=null;try{E=JSON.parse(localStorage.getItem("user"))}catch{E=null}const O=(null===(e=E)||void 0===e?void 0:e.id)||(null===(t=E)||void 0===t?void 0:t._id),I=null===(s=E)||void 0===s?void 0:s.email;console.log("Current user:",E),console.log("Customer ID:",O),console.log("Customer Email:",I),(0,r.useEffect)(()=>{O||I?T():(P("User not authenticated"),C(!1))},[O,I]),(0,r.useEffect)(()=>{if(g&&g.versions&&g.versions[d]){const e=g.versions[d];v(e.comments||[])}else v([]);N(null),h(0)},[g,d]),(0,r.useEffect)(()=>{const e=b.filter(e=>(void 0!==e.mediaIndex?e.mediaIndex:0)===m);j(e)},[b,m]);const T=async()=>{C(!0),P(null);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/content-submissions");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);let t=await e.json();if(!Array.isArray(t))throw new Error("Invalid data received");console.log("All submissions:",t);const s=t.filter(e=>{let t=!1;return E&&(E._id||E.id)&&e.customer_id&&(e.customer_id===E._id||e.customer_id===E.id)?(t=!0,console.log("\u2705 Match by customer_id")):E&&E.email&&e.customer_email&&e.customer_email===E.email?(t=!0,console.log("\u2705 Match by customer_email")):E&&E.email&&e.created_by&&e.created_by===E.email&&!e.customer_id&&!e.customer_email?(t=!0,console.log("\u2705 Match by created_by (fallback)")):console.log("\u274c No match found",{subId:e._id,sub:e}),t});if(console.log("Filtered submissions:",s),0===s.length)return p([]),f(null),void C(!1);const n={};s.forEach(e=>{const t=e.assignment_id||e.assignmentId||"unknown";n[t]||(n[t]=[]),n[t].push(e)});const r=[];Object.keys(n).forEach(e=>{const t=n[e].sort((e,t)=>new Date(e.created_at)-new Date(t.created_at)),s=t[0];r.push({id:e,title:s.caption||"Untitled Post",description:s.notes||"",createdBy:s.created_by||"Unknown",createdAt:s.created_at||"",status:s.status||"under_review",platform:s.platform||"Instagram",type:s.type||"Post",customer_id:s.customer_id,customer_name:s.customer_name,customer_email:s.customer_email,versions:t.map((e,t)=>({id:e._id,versionNumber:t+1,media:M(e.media||e.images||[]),caption:e.caption||"",notes:e.notes||"",createdAt:e.created_at,comments:e.comments||[]})),totalVersions:t.length})}),console.log("Final content data:",r),p(r),r.length>0&&(f(r[0]),u(r[0].versions.length-1))}catch(e){console.error("Failed to fetch content submissions:",e),P(e.message),p([]),f(null)}finally{C(!1)}},M=e=>e&&Array.isArray(e)?e.map(e=>{if("string"===typeof e)return{url:e,type:D(e)};if(e&&"object"===typeof e){const t=e.url||e.src||e.href||String(e);if("string"===typeof t&&t.trim())return{url:t,type:e.type||D(t)}}return null}).filter(Boolean):[],D=e=>{if(!e||"string"!==typeof e)return"image";const t=e.toLowerCase().split(".").pop();return["mp4","webm","ogg","mov","avi"].includes(t)?"video":"image"},L=e=>{let{onClick:t,children:s,style:n,variant:r="primary",size:a="md"}=e;return(0,Me.jsx)("button",{onClick:t,className:`${{primary:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",success:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",warning:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white",danger:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white",info:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white"}[r]} ${{sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[a]} rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2`,style:n,children:s})},R=e=>{v(b.filter(t=>t.id!==e)),j(y.filter(t=>t.id!==e)),N(null)},F=e=>{const t=y.find(e=>e.repositioning);if(t){const s=e.target.getBoundingClientRect(),n=e.clientX-s.left,r=e.clientY-s.top;return v(b.map(e=>e.id===t.id?{...e,x:n,y:r,repositioning:!1}:e)),j(y.map(e=>e.id===t.id?{...e,x:n,y:r,repositioning:!1}:e)),void N(null)}(e=>{var t,s;const n=e.target.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top;if(y.some(e=>e.editing))return;const i={id:_s(),x:r,y:a,comment:"",editing:!0,done:!1,repositioning:!1,versionId:null===(t=g.versions[d])||void 0===t?void 0:t.id,versionNumber:(null===(s=g.versions[d])||void 0===s?void 0:s.versionNumber)||1,mediaIndex:m,timestamp:(new Date).toISOString()};v([...b,i]),j([...y,i]),N(i.id)})(e)},z=e=>{N(w===e?null:e)},U=e=>{let t=d;"prev"===e&&d>0?t=d-1:"next"===e&&d<g.versions.length-1&&(t=d+1),u(t),h(0),v(g.versions[t].comments||[]),N(null)},$=e=>{const t=g.versions[d].media.length;"prev"===e&&m>0?h(m-1):"next"===e&&m<t-1&&h(m+1)},B=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(A){return"Invalid Date"}};function V(e){return!("published"!==e.status&&!0!==e.published&&!e.publishedAt)||!!Array.isArray(e.versions)&&e.versions.some(e=>"published"===e.status||!0===e.published||!!e.publishedAt)}const W=e=>{switch(e){case"under_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"published":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};if(_)return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#e6f2fb] via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#38bdf8] mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-[#0a2342] font-medium",children:"Loading content submissions..."})]})});if(A)return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#e6f2fb] via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"bg-red-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(We,{className:"h-8 w-8 text-red-600"})}),(0,Me.jsx)("p",{className:"text-red-600 font-medium mb-2",children:"Error loading content"}),(0,Me.jsx)("p",{className:"text-[#0a2342] text-sm mb-4",children:A}),(0,Me.jsx)(L,{onClick:T,variant:"primary",children:"Retry"})]})});if(0===x.length)return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#e6f2fb] via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(fn,{className:"h-8 w-8 text-[#38bdf8]"})}),(0,Me.jsx)("p",{className:"text-[#0a2342] font-medium mb-2",children:"No content submissions found"}),(0,Me.jsx)("p",{className:"text-[#38bdf8] text-sm mb-4",children:E?`No content found for ${E.name||E.email}`:"Please log in to view content"}),!E&&(0,Me.jsx)(L,{onClick:()=>a("/customer/login"),variant:"primary",children:"Go to Login"})]})});const H=g.versions[d],q=null===H||void 0===H||null===(n=H.media)||void 0===n?void 0:n[m];return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("div",{className:"px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24 py-8",children:(0,Me.jsxs)("div",{className:"flex flex-col xl:flex-row gap-8",children:[(0,Me.jsxs)("div",{className:"w-full xl:w-96 flex-shrink-0",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[(0,Me.jsxs)("div",{className:"px-6 py-5 border-b border-slate-200 bg-gradient-to-r from-indigo-50 to-blue-50",children:[(0,Me.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(fn,{className:"h-5 w-5 text-white"})}),"Content Items",(0,Me.jsx)("span",{className:"ml-auto px-3 py-1 bg-indigo-600 text-white rounded-full text-sm font-semibold",children:x.length})]}),E&&(0,Me.jsxs)("p",{className:"text-sm text-slate-600 mt-2",children:["Showing content for ",E.name||E.email]})]}),(0,Me.jsx)("div",{className:"max-h-96 overflow-y-auto",children:x.map((e,t)=>(0,Me.jsx)("div",{className:"p-4 cursor-pointer transition-all duration-200 border-b border-slate-100 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-blue-50 "+(l===t?"bg-gradient-to-r from-indigo-50 to-blue-50 border-l-4 border-l-indigo-600":""),onClick:()=>((e,t)=>{f(e),c(t),u(e.versions.length-1),h(0),v(e.versions[e.versions.length-1].comments||[]),N(null)})(e,t),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(0,Me.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md",children:t+1})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsx)("h4",{className:"font-semibold text-sm text-slate-900 truncate",children:e.title}),(0,Me.jsx)("p",{className:"text-xs text-slate-600 mt-1 line-clamp-2",children:e.description}),(0,Me.jsx)("div",{className:"flex items-center justify-between mt-2",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold border ${W(V(e)?"published":e.status)}`,children:V(e)?"PUBLISHED":e.status.replace("_"," ").toUpperCase()}),(0,Me.jsx)("span",{className:"text-xs text-slate-500 font-medium",children:e.platform})]})}),(0,Me.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Me.jsxs)("span",{className:"text-xs text-slate-500",children:["By ",e.createdBy]}),(0,Me.jsxs)("span",{className:"text-xs text-indigo-600 font-semibold bg-indigo-50 px-2 py-0.5 rounded-full",children:[e.totalVersions," version",1!==e.totalVersions?"s":""]})]}),(0,Me.jsx)("div",{className:"text-xs text-slate-400 mt-1",children:B(e.createdAt)}),(0,Me.jsxs)("div",{className:"text-xs text-emerald-600 mt-1 font-medium",children:["Customer: ",e.customer_name||e.customer_email]})]})]})},e.id))})]}),(0,Me.jsxs)("div",{className:"mt-6 bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-5 border-b border-slate-200 bg-gradient-to-r from-indigo-50 to-blue-50",children:(0,Me.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(fn,{className:"h-5 w-5 text-white"})}),"Comments",(0,Me.jsxs)("span",{className:"text-sm font-medium text-slate-600 ml-auto",children:["Media ",m+1]}),(0,Me.jsx)("span",{className:"px-3 py-1 bg-indigo-600 text-white rounded-full text-sm font-semibold",children:y.length})]})}),(0,Me.jsx)("div",{className:"max-h-80 overflow-y-auto p-4",children:0===y.length?(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-slate-100 to-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(fn,{className:"h-8 w-8 text-slate-400"})}),(0,Me.jsx)("p",{className:"text-slate-600 font-medium",children:"No comments for this media item"}),(0,Me.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Click on the media to add comments"})]}):(0,Me.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>{var s,n;return(0,Me.jsx)("div",{className:"p-3 rounded-lg cursor-pointer transition-all duration-200 border "+(w===e.id?"bg-blue-50 border-blue-200 shadow-md":"bg-gray-50/50 hover:bg-gray-100/50 border-gray-200/50 hover:border-gray-300/50"),onClick:()=>z(e.id),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("span",{className:"font-bold text-blue-600 bg-blue-100 rounded-full w-6 h-6 flex items-center justify-center text-xs flex-shrink-0",children:t+1}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900 break-words",children:[e.comment,e.done&&(0,Me.jsx)("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:"\u2713 Done"})]}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Position: (",Math.round(e.x||(null===(s=e.position)||void 0===s?void 0:s.x)||0),", ",Math.round(e.y||(null===(n=e.position)||void 0===n?void 0:n.y)||0),")"]})]})]})},e.id)})})})]})]}),(0,Me.jsx)("div",{className:"flex-1 min-w-0",children:(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-[#0a2342]/10 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-8 py-6 border-b border-[#bae6fd] bg-gradient-to-r from-[#e6f2fb] to-[#bae6fd]",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-[#0a2342] mb-2",children:g.title}),(0,Me.jsx)("p",{className:"text-[#38bdf8]",children:g.description}),(0,Me.jsxs)("div",{className:"flex items-center mt-2 space-x-4",children:[(0,Me.jsxs)("span",{className:"text-sm text-[#0a2342]",children:["By ",g.createdBy]}),(0,Me.jsx)("span",{className:"text-sm text-[#0a2342]",children:"\u2022"}),(0,Me.jsx)("span",{className:"text-sm text-[#0a2342]",children:g.platform})]})]}),(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Me.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${W(V(g)?"published":g.status)}`,children:V(g)?"PUBLISHED":g.status.replace("_"," ").toUpperCase()}),(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-[#bae6fd] text-[#0a2342] border border-[#38bdf8]",children:[(0,Me.jsx)(gn,{className:"h-4 w-4 mr-1"}),g.totalVersions," Version",1!==g.totalVersions?"s":""]})]})]})}),g.totalVersions>1&&(0,Me.jsxs)("div",{className:"px-8 py-4 border-b border-[#bae6fd] bg-gradient-to-r from-[#bae6fd] to-[#e6f2fb]",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-[#0a2342]",children:["Version ",null===H||void 0===H?void 0:H.versionNumber," of ",g.totalVersions]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>U("prev"),disabled:0===d,className:"p-2 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 border",children:(0,Me.jsx)(Os,{className:"h-4 w-4"})}),(0,Me.jsxs)("span",{className:"px-3 py-1 bg-white rounded-lg border text-sm font-medium",children:[d+1," / ",g.totalVersions]}),(0,Me.jsx)("button",{onClick:()=>U("next"),disabled:d===g.totalVersions-1,className:"p-2 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 border",children:(0,Me.jsx)(Ds,{className:"h-4 w-4"})})]})]}),(0,Me.jsxs)("div",{className:"mt-2 text-sm text-[#38bdf8]",children:["Created: ",B(null===H||void 0===H?void 0:H.createdAt)]})]}),(0,Me.jsxs)("div",{className:"p-8",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-8",children:(0,Me.jsxs)("div",{className:"relative inline-block max-w-full",children:[(null===H||void 0===H?void 0:H.media)&&H.media.length>1&&(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[m+1," of ",H.media.length]}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)("button",{onClick:()=>$("prev"),disabled:0===m,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Os,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>$("next"),disabled:m===H.media.length-1,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Ds,{className:"h-4 w-4"})})]})]}),q&&q.url&&"string"===typeof q.url?"image"===q.type?(0,Me.jsx)("img",{src:q.url,alt:`${g.title} - Version ${null===H||void 0===H?void 0:H.versionNumber} - Media ${m+1}`,className:"max-w-full h-auto max-h-[70vh] rounded-2xl shadow-2xl border-2 border-gray-200/50 object-contain cursor-crosshair",onClick:F,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Me.jsx)("video",{src:q.url,controls:!0,className:"max-w-full h-auto max-h-[70vh] rounded-2xl shadow-2xl border-2 border-gray-200/50 object-contain cursor-crosshair",onClick:F,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Me.jsx)("div",{className:"max-w-full h-96 bg-gray-200 rounded-2xl flex items-center justify-center border-2 border-gray-200/50",style:{display:null!==q&&void 0!==q&&q.url&&"string"===typeof q.url?"none":"flex"},children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No media available"})]})}),(null===H||void 0===H?void 0:H.media)&&H.media.length>1&&(0,Me.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:H.media.map((e,t)=>(0,Me.jsxs)("button",{onClick:()=>h(t),className:"w-16 h-16 rounded-lg overflow-hidden border-2 transition-all "+(m===t?"border-purple-500 ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"),children:["image"===e.type&&e.url&&"string"===typeof e.url?(0,Me.jsx)("img",{src:e.url,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,Me.jsx)(hn,{className:"h-6 w-6 text-gray-400"})}),(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",style:{display:"none"},children:(0,Me.jsx)(hn,{className:"h-6 w-6 text-gray-400"})})]},t))}),q&&y.map((e,t)=>{var s,n;let r=40,a="auto";const i=e.x||(null===(s=e.position)||void 0===s?void 0:s.x)||0,o=e.y||(null===(n=e.position)||void 0===n?void 0:n.y)||0;return i>400&&(r="auto",a=40),(0,Me.jsxs)("div",{style:{position:"absolute",top:o-16,left:i-16,width:32,height:32,background:e.done?"#10b981":e.editing?"#3b82f6":"#ef4444",color:"#fff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px",boxShadow:"0 4px 12px rgba(0,0,0,0.25)",cursor:"pointer",zIndex:2,border:"3px solid #fff",transition:"all 0.3s"},onMouseEnter:()=>S(e.id),onMouseLeave:()=>S(null),onClick:t=>{t.stopPropagation(),z(e.id)},children:[t+1,(e.editing||w===e.id||k===e.id)&&(0,Me.jsx)("div",{style:{position:"absolute",left:r,right:a,top:"50%",transform:"translateY(-50%)",background:"#fff",border:"2px solid #3b82f6",borderRadius:"12px",padding:"16px",minWidth:"280px",maxWidth:"320px",zIndex:10,boxShadow:"0 8px 32px rgba(59,130,246,0.2)"},onClick:e=>e.stopPropagation(),children:e.editing?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("textarea",{value:e.comment,onChange:t=>{return s=e.id,n=t.target.value,v(b.map(e=>e.id===s?{...e,comment:n}:e)),void j(y.map(e=>e.id===s?{...e,comment:n}:e));var s,n},placeholder:"Add a comment...",className:"w-full p-3 border-2 border-gray-200 rounded-lg resize-none text-sm text-gray-900 bg-white focus:border-blue-500 focus:outline-none transition-colors",rows:3,autoFocus:!0}),(0,Me.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,Me.jsx)(L,{onClick:()=>(async e=>{const t=y.find(t=>t.id===e);if(t&&t.comment.trim())try{var s;const n={id:t.id,comment:t.comment,position:{x:t.x,y:t.y},mediaIndex:m,timestamp:t.timestamp,status:"active"},r=g.id,a=null===(s=g.versions[d])||void 0===s?void 0:s.id;console.log("Submitting comment:",{assignmentId:r,versionId:a,comment:n});const i=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/content-submissions/${encodeURIComponent(r)}/comment`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({versionId:a,comment:n})});if(i.ok){const t=await i.json();console.log("Comment saved successfully:",t),v(b.map(t=>t.id===e?{...t,editing:!1}:t)),j(y.map(t=>t.id===e?{...t,editing:!1}:t)),N(null),await T()}else{const t=await i.json();console.error("Failed to save comment:",t),v(b.map(t=>t.id===e?{...t,editing:!1}:t)),j(y.map(t=>t.id===e?{...t,editing:!1}:t)),N(null)}}catch(A){console.error("Error saving comment:",A),v(b.map(t=>t.id===e?{...t,editing:!1}:t)),j(y.map(t=>t.id===e?{...t,editing:!1}:t)),N(null)}})(e.id),variant:"success",size:"sm",children:"Submit"}),(0,Me.jsx)(L,{onClick:()=>R(e.id),variant:"danger",size:"sm",children:"Cancel"})]})]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"mb-3",children:(0,Me.jsxs)("p",{className:"font-semibold text-gray-900 text-sm leading-relaxed break-words",children:[e.comment,e.done&&(0,Me.jsx)("span",{className:"text-green-600 ml-2",children:"\u2713 Done"}),e.repositioning&&(0,Me.jsx)("span",{className:"text-blue-600 italic ml-2",children:"(Repositioning...)"})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[!e.done&&(0,Me.jsxs)(L,{onClick:()=>(async e=>{const t=y.find(t=>t.id===e);if(t)try{(await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/content-submissions/${encodeURIComponent(g.id)}/comments/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({done:!0,status:"completed"})})).ok?(v(b.map(t=>t.id===e?{...t,done:!0}:t)),j(y.map(t=>t.id===e?{...t,done:!0}:t)),N(null)):(console.error("Failed to update comment status"),v(b.map(t=>t.id===e?{...t,done:!0}:t)),j(y.map(t=>t.id===e?{...t,done:!0}:t)),N(null))}catch(A){console.error("Error updating comment:",A),v(b.map(t=>t.id===e?{...t,done:!0}:t)),j(y.map(t=>t.id===e?{...t,done:!0}:t)),N(null)}})(e.id),variant:"success",size:"sm",children:[(0,Me.jsx)(Je,{className:"h-3 w-3 mr-1"}),"Done"]}),(0,Me.jsxs)(L,{onClick:()=>{return t=e.id,v(b.map(e=>e.id===t?{...e,editing:!0,done:!1}:e)),j(y.map(e=>e.id===t?{...e,editing:!0,done:!1}:e)),void N(t);var t},variant:"warning",size:"sm",children:[(0,Me.jsx)(AT,{className:"h-3 w-3 mr-1"}),"Edit"]}),(0,Me.jsxs)(L,{onClick:()=>R(e.id),variant:"danger",size:"sm",children:[(0,Me.jsx)(Ms,{className:"h-3 w-3 mr-1"}),"Delete"]}),(0,Me.jsxs)(L,{onClick:()=>{return t=e.id,v(b.map(e=>e.id===t?{...e,repositioning:!0}:e)),j(y.map(e=>e.id===t?{...e,repositioning:!0}:e)),void N(t);var t},variant:"info",size:"sm",children:[(0,Me.jsx)(PT,{className:"h-3 w-3 mr-1"}),"Move"]})]})]})})]},e.id)})]})}),H&&(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-gray-900",children:H.caption||"No caption provided"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-gray-900",children:H.notes||"No notes provided"})})]})]})]})]})})]})}),i&&(0,Me.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})};const OT=function(){const e=te(),{id:t}=se(),[s,n]=(0,r.useState)(!0),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)("");(0,r.useEffect)(()=>{f()},[t]);const f=async()=>{try{n(!0),d(null);const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/content-submissions");if(!e.ok)throw new Error("Failed to fetch content data");const s=(await e.json()).filter(e=>(e.assignment_id||e.assignmentId)===t);if(0===s.length)throw new Error("Content not found");const r=s.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)),a=r[0],i=e=>e&&Array.isArray(e)?e.map(e=>{if("string"===typeof e)return{url:e,type:o(e)};if(e&&"object"===typeof e){const t=e.url||e.src||e.href||String(e);if("string"===typeof t&&t.trim())return{url:t,type:e.type||o(t)}}return null}).filter(Boolean):[],o=e=>{if(!e||"string"!==typeof e)return"image";const t=e.toLowerCase().split(".").pop();return["mp4","webm","ogg","mov","avi"].includes(t)?"video":"image"},c=e=>{if(!e)return[];return e.match(/#[\w]+/g)||[]},u={id:a.assignment_id||a.assignmentId,title:a.caption?a.caption.substring(0,50)+"...":"Untitled Post",description:a.notes||"No description provided",createdBy:a.created_by||"Content Creator",createdDate:a.created_at,platform:a.platform||"Instagram",type:a.type||"Post",media:i(a.media||a.images||[]),caption:a.caption||"",notes:a.notes||"",hashtags:c(a.caption),status:a.status||"under_review",customerId:a.customer_id||a.customerId,versionId:a._id,versions:r.map((e,t)=>({id:e._id,versionNumber:r.length-t,createdAt:e.created_at,status:e.status||"under_review"}))};l(u)}catch(e){console.error("Error fetching content:",e),d(e.message)}finally{n(!1)}};return s?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(cn,{className:"h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4 animate-spin"}),(0,Me.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading content for approval..."})]})}):c||!o?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(ln,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600 font-medium",children:c||"Content not found"}),(0,Me.jsx)("button",{onClick:()=>e("/customer/content-review"),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Back to Content Review"})]})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("header",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200/50 sticky top-0 z-10",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center h-16",children:[(0,Me.jsx)("button",{onClick:()=>e("/customer/content-review"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl shadow-lg",children:(0,Me.jsx)(Je,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"ml-3",children:[(0,Me.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"Content Approval"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"Review and approve content for publishing"})]})]})]})})}),(0,Me.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(gn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Content Preview"]}),(0,Me.jsxs)("div",{className:"mb-6",children:[o.media&&o.media.length>0?"image"===o.media[0].type?(0,Me.jsx)("img",{src:o.media[0].url,alt:o.title,className:"w-full h-80 object-cover rounded-xl shadow-lg",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Me.jsx)("video",{src:o.media[0].url,controls:!0,className:"w-full h-80 object-cover rounded-xl shadow-lg",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Me.jsx)("div",{className:"w-full h-80 bg-gray-200 rounded-xl flex items-center justify-center",style:{display:o.media&&o.media.length>0?"none":"flex"},children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No media available"})]})})]}),(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Caption"}),(0,Me.jsx)("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg whitespace-pre-wrap",children:o.caption||"No caption provided"})]}),o.hashtags&&o.hashtags.length>0&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Hashtags"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:o.hashtags.map((e,t)=>(0,Me.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-lg text-sm",children:e},t))})]}),(0,Me.jsxs)("div",{className:"space-y-3 text-sm bg-gray-50 p-4 rounded-lg",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(He,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Created by:"}),(0,Me.jsx)("span",{className:"ml-2 font-medium",children:o.createdBy})]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Created:"}),(0,Me.jsx)("span",{className:"ml-2 font-medium",children:(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}})(o.createdDate)})]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(En,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Platform:"}),(0,Me.jsx)("span",{className:"ml-2 font-medium",children:o.platform})]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(on,{className:"h-4 w-4 text-gray-500 mr-2"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Versions:"}),(0,Me.jsx)("span",{className:"ml-2 font-medium",children:o.versions.length})]})]}),o.notes&&(0,Me.jsxs)("div",{className:"mt-4",children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Notes"}),(0,Me.jsx)("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:o.notes})]})]})}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 p-6",children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(xt,{className:"h-5 w-5 mr-2 text-green-600"}),"Publishing Schedule"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"publishDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Publish Date *"}),(0,Me.jsx)("input",{type:"date",id:"publishDate",value:h,onChange:e=>x(e.target.value),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"publishTime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Publish Time *"}),(0,Me.jsx)("input",{type:"time",id:"publishTime",value:p,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 p-6",children:[(0,Me.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(fn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Approval Notes"]}),(0,Me.jsx)("textarea",{placeholder:"Add any notes or feedback for the content creator...",value:u,onChange:e=>m(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,Me.jsxs)("div",{className:"flex space-x-4",children:[(0,Me.jsxs)("button",{onClick:async()=>{if(h&&p)try{i(!0);if(!(await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/content-submissions/${encodeURIComponent(o.id)}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"approved",approvalNotes:u,approvedAt:(new Date).toISOString(),versionId:o.versionId})})).ok)throw new Error("Failed to update content status");const t=new Date(`${h}T${p}`),s=o.media&&o.media.length>0?o.media[0]:null,n={caption:o.caption||"Content post",imageUrl:(null===s||void 0===s?void 0:s.url)||"",platform:(o.platform||"instagram").toLowerCase(),scheduledAt:t.toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,status:"approved_pending_setup",contentId:o.id,customerId:o.customerId,approvalNotes:u,media:o.media,assignmentId:o.id,versionId:o.versionId};console.log("\ud83d\udcc5 Scheduling data:",n);const r=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/scheduled-posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const e=await r.json();throw console.error("\u274c Schedule error:",e),new Error(e.error||"Failed to schedule post")}alert("Content approved and scheduled successfully!"),e("/customer/content-review")}catch(c){console.error("Error approving content:",c),alert(`Failed to approve content: ${c.message}`)}finally{i(!1)}else alert("Please select both publish date and time.")},disabled:a||!h||!p,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-6 rounded-xl hover:from-green-700 hover:to-emerald-700 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[a?(0,Me.jsx)(cn,{className:"h-5 w-5 mr-2 animate-spin"}):(0,Me.jsx)(Je,{className:"h-5 w-5 mr-2"}),a?"Processing...":"Approve & Schedule"]}),(0,Me.jsxs)("button",{onClick:async()=>{if(u.trim())try{i(!0);if(!(await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/content-submissions/${encodeURIComponent(o.id)}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"rejected",rejectionReason:u,rejectedAt:(new Date).toISOString(),versionId:o.versionId})})).ok)throw new Error("Failed to reject content");alert("Content rejected. Creator will be notified."),e("/customer/content-review")}catch(c){console.error("Error rejecting content:",c),alert(`Failed to reject content: ${c.message}`)}finally{i(!1)}else alert("Please provide feedback for rejection.")},disabled:a,className:"flex-1 bg-gradient-to-r from-red-600 to-pink-600 text-white py-3 px-6 rounded-xl hover:from-red-700 hover:to-pink-700 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[a?(0,Me.jsx)(cn,{className:"h-5 w-5 mr-2 animate-spin"}):(0,Me.jsx)(ln,{className:"h-5 w-5 mr-2"}),a?"Processing...":"Reject"]})]})]})]})})]})},IT=Ve("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),TT=Ve("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const MT=function(){const e=te(),t=(0,r.useRef)(null),s="customer123",[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("grid"),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)("all"),[g,f]=(0,r.useState)(null),[b,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(""),[_,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o(!0),fetch(`https://my-backend-593529385135.asia-south1.run.app/api/media-library?customer_id=${encodeURIComponent(s)}`).then(e=>e.json()).then(e=>{a(Array.isArray(e)?e:[]),o(!1)}).catch(e=>{c("Failed to load media"),o(!1)})},[s]);const A=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?C(!0):"dragleave"===e.type&&C(!1)},P=e=>{Array.from(e).forEach(e=>{const t=new FileReader;t.onload=async t=>{const n=t.target.result.split(",")[1],r={filename:e.name,contentType:e.type,base64Data:n,tags:[],customer_id:s,customer_name:"John Doe",customer_email:"john@example.com"};try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/media-library/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!e.ok)throw new Error("Upload failed");const t=await e.json();a(e=>[t,...e])}catch(i){c("Upload failed")}},t.readAsDataURL(e)}),v(!1)},E=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},O=e=>{switch(e){case"image":return(0,Me.jsx)(gn,{className:"h-5 w-5 text-blue-600"});case"video":return(0,Me.jsx)(hn,{className:"h-5 w-5 text-purple-600"});case"icon":return(0,Me.jsx)(En,{className:"h-5 w-5 text-green-600"});default:return(0,Me.jsx)(Ps,{className:"h-5 w-5 text-gray-600"})}},I=n.filter(e=>{var t;const s=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(e.tags||[]).some(e=>e.toLowerCase().includes(m.toLowerCase())),n="all"===x||e.type===x;return s&&n});return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200/50 sticky top-0 z-40",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center h-16",children:[(0,Me.jsx)("button",{onClick:()=>e("/customer"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(Xe,{size:"medium"}),(0,Me.jsx)("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:"Media Library"})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Rs,{className:"h-4 w-4 mr-2"}),"Upload Media"]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(mn,{className:"h-5 w-5 text-gray-600"}),(0,Me.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:"border border-gray-300 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm",children:[(0,Me.jsx)("option",{value:"all",children:"All Types"}),(0,Me.jsx)("option",{value:"image",children:"Images"}),(0,Me.jsx)("option",{value:"video",children:"Videos"}),(0,Me.jsx)("option",{value:"icon",children:"Icons"}),(0,Me.jsx)("option",{value:"document",children:"Documents"})]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(tt,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Search by name or tags...",value:m,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white shadow-sm"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>u("grid"),className:"p-2 rounded-lg transition-all duration-200 "+("grid"===d?"bg-gradient-to-r from-indigo-600 to-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,Me.jsx)(IT,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>u("list"),className:"p-2 rounded-lg transition-all duration-200 "+("list"===d?"bg-gradient-to-r from-indigo-600 to-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:(0,Me.jsx)(TT,{className:"h-4 w-4"})})]})]})]})}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsxs)("h3",{className:"text-xl font-bold mb-6 text-gray-900",children:["Media Files (",I.length,")"]}),i&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-indigo-200 border-t-indigo-600 mx-auto"}),(0,Me.jsx)("div",{className:"absolute inset-0 rounded-full h-12 w-12 border-4 border-transparent border-r-blue-400 animate-ping mx-auto opacity-20"})]}),(0,Me.jsx)("p",{className:"mt-4 text-slate-600 font-medium",children:"Loading media..."})]}),l&&(0,Me.jsx)("div",{className:"text-center py-2 text-red-500",children:l}),!i&&!l&&(0,Me.jsxs)(Me.Fragment,{children:["grid"===d?(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:I.map(e=>(0,Me.jsxs)("div",{className:"group relative bg-white rounded-xl p-3 hover:shadow-xl transition-all duration-200 cursor-pointer border border-gray-200/50 hover:border-indigo-200",onClick:()=>f(e),children:[(0,Me.jsx)("div",{className:"aspect-square bg-gradient-to-br from-slate-100 to-blue-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden",children:"image"===e.type&&e.url?(0,Me.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.opacity=.3,e.target.src=""}}):(0,Me.jsx)("div",{className:"text-gray-400",children:O(e.type)})}),(0,Me.jsxs)("div",{className:"space-y-1",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:e.size?E(e.size):""}),e.tags&&e.tags.length>0&&(0,Me.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,2).map(e=>(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:e},e)),e.tags.length>2&&(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.tags.length-2]})]})]}),(0,Me.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),N(e),j(!0)},className:"p-1 bg-white rounded-full shadow-md hover:bg-indigo-50 border border-gray-200",children:(0,Me.jsx)(En,{className:"h-3 w-3 text-indigo-600"})})})]},e._id))}):(0,Me.jsx)("div",{className:"space-y-2",children:I.map(e=>(0,Me.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl hover:shadow-lg transition-all duration-200 cursor-pointer border border-gray-200/50 hover:border-indigo-200",onClick:()=>f(e),children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:O(e.type)}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Me.jsxs)("p",{className:"text-sm text-gray-500",children:[e.size?E(e.size):""," \u2022 ",e.uploadDate]})]}),e.tags&&e.tags.length>0&&(0,Me.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.map(e=>(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:e},e))})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),N(e),j(!0)},className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:(0,Me.jsx)(AT,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,Me.jsx)(Ke,{className:"h-4 w-4"})})]})]},e._id))}),0===I.length&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Rs,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("p",{className:"text-gray-600 font-medium",children:"No media files found"}),(0,Me.jsx)("button",{onClick:()=>v(!0),className:"mt-4 inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 transition-all duration-200 shadow-lg",children:"Upload your first file"})]})]})]})]})}),b&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Me.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg border border-gray-200",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Upload Media Files"}),(0,Me.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-1 transition-colors",children:(0,Me.jsx)(vs,{className:"h-5 w-5"})})]}),(0,Me.jsxs)("div",{className:"border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 "+(_?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-400"),onDragEnter:A,onDragLeave:A,onDragOver:A,onDrop:e=>{e.preventDefault(),e.stopPropagation(),C(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&P(e.dataTransfer.files)},children:[(0,Me.jsx)("input",{ref:t,type:"file",multiple:!0,accept:"image/*,video/*,.svg,.pdf,.doc,.docx,.zip",onChange:e=>{e.target.files&&e.target.files[0]&&P(e.target.files)},className:"hidden"}),(0,Me.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Rs,{className:"h-8 w-8 text-indigo-600"})}),(0,Me.jsx)("p",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Drag and drop files here"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-4",children:"or"}),(0,Me.jsx)("button",{onClick:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.click()},className:"inline-flex items-center px-6 py-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 transition-all duration-200 shadow-lg",children:"Browse Files"}),(0,Me.jsx)("p",{className:"text-sm text-gray-400 mt-4",children:"Supports: Images, Videos, SVG, PDF, Documents (Max 50MB per file)"})]})]})})}),y&&w&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Me.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md border border-gray-200",children:(0,Me.jsxs)("div",{className:"p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Tags"}),(0,Me.jsx)("button",{onClick:()=>{j(!1),N(null),S("")},className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-1 transition-colors",children:(0,Me.jsx)(vs,{className:"h-5 w-5"})})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["File: ",w.name]}),w.tags.length>0&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Current Tags:"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:w.tags.map(e=>(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-700 border border-indigo-200",children:[e,(0,Me.jsx)("button",{onClick:()=>(async(e,t)=>{const s=n.find(t=>t._id===e);if(!s)return;const r=(s.tags||[]).filter(e=>e!==t);try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/media-library/${e}/tags`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:r})});if(!t.ok)throw new Error;const s=await t.json();a(e=>e.map(e=>e._id===s._id?s:e))}catch{c("Failed to remove tag")}})(w._id,e),className:"ml-2 text-indigo-600 hover:text-indigo-800 transition-colors",children:(0,Me.jsx)(vs,{className:"h-3 w-3"})})]},e))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Add Tags (comma-separated)"}),(0,Me.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"e.g., summer, campaign, hero",className:"w-full border border-gray-300 rounded-xl px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm"})]})]}),(0,Me.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Me.jsx)("button",{onClick:()=>{j(!1),N(null),S("")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),(0,Me.jsx)("button",{onClick:async()=>{if(w&&k.trim()){const e=k.split(",").map(e=>e.trim()).filter(e=>e);try{const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/media-library/${w._id}/tags`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:[...new Set([...w.tags||[],...e])]})});if(!t.ok)throw new Error;const s=await t.json();a(e=>e.map(e=>e._id===s._id?s:e))}catch{c("Failed to update tags")}S(""),N(null),j(!1)}},className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 transition-all duration-200 shadow-lg",children:"Save Tags"})]})]})]})})}),g&&(0,Me.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-gray-200",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:g.name}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:[g.size," \u2022 ",g.uploadDate]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{N(g),j(!0)},className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:(0,Me.jsx)(AT,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this media file?"))try{if(!(await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/media-library/${e}`,{method:"DELETE"})).ok)throw new Error;a(t=>t.filter(t=>t._id!==e)),f(null)}catch{c("Failed to delete")}})(g._id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,Me.jsx)(Ms,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>f(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Me.jsx)(vs,{className:"h-5 w-5"})})]})]}),(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,Me.jsxs)("div",{className:"flex-1",children:["image"===g.type&&(0,Me.jsx)("img",{src:g.url,alt:g.name,className:"w-full h-auto max-h-96 object-contain rounded-lg"}),"video"===g.type&&(0,Me.jsx)("video",{src:g.url,controls:!0,className:"w-full h-auto max-h-96 rounded-lg",children:"Your browser does not support the video tag."}),"icon"===g.type&&(0,Me.jsx)("div",{className:"flex items-center justify-center h-96 bg-gradient-to-br from-slate-100 to-blue-100 rounded-xl",children:(0,Me.jsx)("img",{src:g.url,alt:g.name,className:"max-w-full max-h-full object-contain"})}),"document"===g.type&&(0,Me.jsx)("div",{className:"flex items-center justify-center h-96 bg-gradient-to-br from-slate-100 to-blue-100 rounded-xl",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(Ps,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("p",{className:"text-gray-600 font-medium",children:"Document preview not available"}),(0,Me.jsxs)("button",{className:"mt-4 inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 transition-all duration-200 shadow-lg",children:[(0,Me.jsx)(Ln,{className:"h-4 w-4 mr-2"}),"Download"]})]})})]}),(0,Me.jsx)("div",{className:"lg:w-80",children:(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"File Details"}),(0,Me.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Me.jsx)("span",{className:"capitalize text-gray-900 font-medium",children:g.type})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Size:"}),(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:g.size})]}),(0,Me.jsxs)("div",{className:"flex justify-between",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Uploaded:"}),(0,Me.jsx)("span",{className:"text-gray-900 font-medium",children:g.uploadDate})]})]})]}),g.tags.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Tags"}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:g.tags.map(e=>(0,Me.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-700 border border-indigo-200",children:e},e))})]}),(0,Me.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Me.jsxs)("button",{onClick:()=>{const e=document.createElement("a");e.href=g.url,e.download=g.name,e.click()},className:"w-full inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-blue-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-blue-700 transition-all duration-200 shadow-lg",children:[(0,Me.jsx)(Ln,{className:"h-4 w-4 mr-2"}),"Download"]})})]})})]})})]})})]})};const DT=function(e){var t;let{selectedCustomerId:s=null}=e;const n=te(),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(s),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{h()},[]),(0,r.useEffect)(()=>{o&&x(o)},[o]),(0,r.useEffect)(()=>{s&&l(s)},[s]);const h=async()=>{try{m(!0),console.log("\ud83d\udce5 Fetching customers with social accounts...");const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/admin/customer-social-links");console.log("\ud83d\udce1 Response status:",t.status);const s=await t.json();var e;if(console.log("\ud83d\udcca Response data:",s),s.success)console.log("\u2705 Found customers:",(null===(e=s.data)||void 0===e?void 0:e.length)||0),i(s.data||[]),s.debug&&console.log("\ud83d\udd0d Debug info:",s.debug),s.data&&s.data.length>0?console.log("\ud83c\udf89 Customers with social accounts:",s.data):(console.log("\u26a0\ufe0f No customers found in response"),s.debug&&s.debug.totalSocialLinks>0&&console.warn("\ud83d\udea8 ISSUE: Social links exist but no customers found!",{socialLinks:s.debug.totalSocialLinks,customers:s.debug.totalCustomers,docTypes:s.debug.docTypes}));else console.error("\u274c API returned error:",s.error),i([])}catch(t){console.error("\u274c Error fetching customers:",t),i([])}finally{m(!1)}},x=async e=>{try{m(!0);const t=await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/admin/customer-posting-accounts/${e}`),s=await t.json();s.success&&d(s.accounts)}catch(t){console.error("Error fetching customer accounts:",t)}finally{m(!1)}},p=e=>{switch(e){case"facebook":return(0,Me.jsx)(dn,{className:"h-5 w-5 text-blue-600"});case"instagram":return(0,Me.jsx)(un,{className:"h-5 w-5 text-pink-600"});default:return(0,Me.jsx)(rt,{className:"h-5 w-5 text-gray-600"})}};return u&&!o?(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Loading customers..."})]})}):(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,Me.jsxs)("button",{onClick:()=>n("/admin"),className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors group",children:[(0,Me.jsx)(Ws,{className:"h-5 w-5 mr-2 group-hover:-translate-x-1 transition-transform"}),(0,Me.jsx)("span",{className:"font-medium",children:"Back to Dashboard"})]})}),!s&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(mt,{className:"h-6 w-6 mr-2 text-blue-600"}),"Select Customer"]}),0===a.length?(0,Me.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Me.jsx)(mt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,Me.jsx)("p",{children:"No customers with connected social accounts found."}),(0,Me.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Customers can connect their social media accounts through the customer portal."}),(0,Me.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,Me.jsx)("button",{onClick:()=>{console.log("\ud83d\udd04 Manually refreshing customers..."),h()},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors mr-2",children:"Refresh"}),(0,Me.jsx)("button",{onClick:()=>{console.log("\ud83d\udd0d Opening browser developer tools for debugging..."),alert("Check the browser console (F12) for detailed debug information about the database queries.")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Debug Info"})]})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>(0,Me.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all "+(o===e.customerId?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),onClick:()=>l(e.customerId),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900",children:e.customerName}),o===e.customerId&&(0,Me.jsx)(Je,{className:"h-5 w-5 text-blue-600"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.customerEmail}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[e.socialAccounts.map(e=>(0,Me.jsx)("div",{className:"flex items-center",children:p(e.platform)},e._id)),(0,Me.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:[e.socialAccounts.length," account",1!==e.socialAccounts.length?"s":""]})]})]},e.customerId))})]}),o&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[(0,Me.jsx)(rt,{className:"h-6 w-6 mr-2 text-blue-600"}),null===(t=a.find(e=>e.customerId===o))||void 0===t?void 0:t.customerName,"'s Social Accounts"]}),!s&&(0,Me.jsx)("button",{onClick:()=>l(null),className:"text-sm text-gray-600 hover:text-gray-800",children:"\u2190 Back to customers"})]}),u?(0,Me.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-600",children:"Loading accounts..."})]}):0===c.length?(0,Me.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Me.jsx)(rt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,Me.jsx)("p",{children:"No active social media accounts found for this customer."}),(0,Me.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Customer can connect accounts through their portal."})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(e=>{return(0,Me.jsxs)("div",{className:"border rounded-lg p-6 bg-gray-50",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[p(e.platform),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:e.platform})]})]}),e.profilePicture&&(0,Me.jsx)("img",{src:e.profilePicture,alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-gray-200"})]}),(0,Me.jsxs)("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium",children:"Connected:"}),(0,Me.jsx)("span",{className:"ml-2",children:(t=e.connectedAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium",children:"Platform ID:"}),(0,Me.jsx)("span",{className:"ml-2 font-mono text-xs",children:e.platformUserId})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium",children:"Status:"}),(0,Me.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Me.jsx)(Je,{className:"h-3 w-3 mr-1"}),"Active"]})]})]}),e.pages&&e.pages.length>0&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Connected Pages:"}),(0,Me.jsx)("div",{className:"space-y-2",children:e.pages.map(e=>{var t;return(0,Me.jsxs)("div",{className:"bg-white rounded p-3 text-sm border",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium",children:e.name}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.category})]}),(0,Me.jsxs)("span",{className:"text-xs text-gray-500",children:[null===(t=e.fanCount)||void 0===t?void 0:t.toLocaleString()," followers"]})]}),e.instagramBusinessAccount&&(0,Me.jsxs)("div",{className:"mt-2 flex items-center text-xs text-pink-600",children:[(0,Me.jsx)(un,{className:"h-3 w-3 mr-1"}),"Instagram Connected"]})]},e.id)})})]}),e.channels&&e.channels.length>0&&(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsx)("h4",{className:"font-medium text-gray-700 mb-2 text-sm",children:"Connected Channels:"}),(0,Me.jsx)("div",{className:"space-y-2",children:e.channels.map(e=>(0,Me.jsx)("div",{className:"bg-white rounded p-3 text-sm border",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"font-medium",children:e.name}),e.customUrl&&(0,Me.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["@",e.customUrl]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"text-xs text-gray-500",children:[parseInt(e.subscriberCount||0).toLocaleString()," subscribers"]}),(0,Me.jsxs)("div",{className:"text-xs text-gray-400",children:[parseInt(e.videoCount||0).toLocaleString()," videos"]})]})]})},e.id))})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Account Management"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{console.log("Account details for:",e.name)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-all",title:"View details",children:(0,Me.jsx)(rt,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>{x(o)},className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-full transition-all",title:"Refresh account",children:(0,Me.jsx)(_n,{className:"h-4 w-4"})})]})]})]},e._id);var t})})]})]})},LT=Ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),RT=Ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),FT=Ve("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),zT=Ve("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);function UT(e){yt(1,arguments);var t=jt(e);return t.setHours(0,0,0,0),t}function $T(e,t){var s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function BT(e,t){yt(2,arguments);var s=jt(e),n=jt(t),r=$T(s,n),a=Math.abs(function(e,t){yt(2,arguments);var s=UT(e),n=UT(t),r=s.getTime()-Qt(s),a=n.getTime()-Qt(n);return Math.round((r-a)/864e5)}(s,n));s.setDate(s.getDate()-r*a);var i=r*(a-Number($T(s,n)===-r));return 0===i?0:i}const VT=e=>{let{posts:t=[],platform:s,accountInfo:n,timeRange:a=30}=e;const[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)("timestamp"),[d,u]=(0,r.useState)("desc"),[m,h]=(0,r.useState)("all"),[x,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)([]),[b,v]=(0,r.useState)(null),[y,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&t.length>0&&w()},[t,a]);const w=()=>{j(!0);const e=t.map(e=>{var t,s,r,a,i;const o=e.like_count||(null===(t=e.likes)||void 0===t||null===(s=t.summary)||void 0===s?void 0:s.total_count)||0,l=e.comments_count||(null===(r=e.comments)||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.total_count)||0,c=(null===(i=e.shares)||void 0===i?void 0:i.count)||0,d=e.views_count||0,u=o+l+c,m=null!==n&&void 0!==n&&n.followers_count?(u/n.followers_count*100).toFixed(2):0;return{...e,processed:{likes:o,comments:l,shares:c,views:d,totalEngagement:u,engagementRate:parseFloat(m),postDate:new Date(e.timestamp||e.created_time),performance:N(o,l,c,d)}}}),s=k(e),r=S(e);v({posts:e,growthMetrics:s,trendData:r,summary:_(e)}),j(!1)},N=(e,t,s,n)=>{const r=1*e+3*t+5*s+.1*n;return Math.round(r)},k=e=>{const t=e.sort((e,t)=>e.processed.postDate-t.processed.postDate),s=Math.floor(t.length/2),n=t.slice(0,s),r=t.slice(s),a=n.reduce((e,t)=>e+t.processed.totalEngagement,0)/n.length,i=r.reduce((e,t)=>e+t.processed.totalEngagement,0)/r.length;return{engagementGrowth:a>0?(i-a)/a*100:0,avgEngagementFirst:a,avgEngagementSecond:i,improvement:i>a}},S=e=>{const t=new Date,s={daily:[],weekly:[],engagement:[],performance:[]};for(let n=a-1;n>=0;n--){const r=bs(LE(t,n),"yyyy-MM-dd"),a=e.filter(e=>bs(e.processed.postDate,"yyyy-MM-dd")===r),i={date:r,posts:a.length,totalLikes:a.reduce((e,t)=>e+t.processed.likes,0),totalComments:a.reduce((e,t)=>e+t.processed.comments,0),totalShares:a.reduce((e,t)=>e+t.processed.shares,0),avgEngagement:a.length>0?a.reduce((e,t)=>e+t.processed.totalEngagement,0)/a.length:0,avgPerformance:a.length>0?a.reduce((e,t)=>e+t.processed.performance,0)/a.length:0};s.daily.push(i),s.engagement.push({date:r,value:i.avgEngagement}),s.performance.push({date:r,value:i.avgPerformance})}return s},_=e=>{const t=e.length,s=e.reduce((e,t)=>e+t.processed.likes,0),n=e.reduce((e,t)=>e+t.processed.comments,0),r=e.reduce((e,t)=>e+t.processed.shares,0),a=s+n+r,i=t>0?Math.round(s/t):0,o=t>0?Math.round(n/t):0,l=t>0?Math.round(r/t):0,c=t>0?Math.round(a/t):0,d=e.reduce((e,t)=>t.processed.performance>((null===e||void 0===e?void 0:e.processed.performance)||0)?t:e,null),u=e.length>0?e.reduce((e,t)=>e+t.processed.engagementRate,0)/e.length:0;return{totalPosts:t,totalLikes:s,totalComments:n,totalShares:r,totalEngagement:a,avgLikes:i,avgComments:o,avgShares:l,avgEngagement:c,avgEngagementRate:parseFloat(u.toFixed(2)),bestPost:d}},C=()=>{if(!b)return;const e={summary:b.summary,growthMetrics:b.growthMetrics,posts:b.posts.map(e=>{var t;return{id:e.id,caption:(null===(t=e.caption)||void 0===t?void 0:t.substring(0,100))+"..."||0,date:bs(e.processed.postDate,"yyyy-MM-dd"),likes:e.processed.likes,comments:e.processed.comments,shares:e.processed.shares,engagement:e.processed.totalEngagement,engagementRate:e.processed.engagementRate,performance:e.processed.performance}}),platform:s,accountInfo:n,generatedAt:(new Date).toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`${s}-analytics-${bs(new Date,"yyyy-MM-dd")}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)};return y?(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(_n,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Analyzing your content performance..."})]})}):t&&0!==t.length?(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Content Performance Analytics"}),(0,Me.jsxs)("p",{className:"text-gray-600 mt-1",children:["Detailed insights into your ",s," content performance and growth metrics"]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[(0,Me.jsx)(on,{className:"h-4 w-4"}),(0,Me.jsxs)("span",{children:["Last ",a," days"]})]})]}),(()=>{if(!b)return null;const{summary:e,growthMetrics:t}=b;return(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-blue-600 p-3 rounded-xl",children:(0,Me.jsx)(ME,{className:"h-6 w-6 text-white"})}),t.improvement&&(0,Me.jsxs)("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[(0,Me.jsx)(LT,{className:"h-4 w-4 mr-1"}),(0,Me.jsxs)("span",{children:[Math.abs(t.engagementGrowth).toFixed(1),"%"]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:e.totalEngagement.toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Total Engagement"}),(0,Me.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Avg: ",e.avgEngagement,"/post"]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-green-600 p-3 rounded-xl",children:(0,Me.jsx)(Qn,{className:"h-6 w-6 text-white"})}),(0,Me.jsx)("div",{className:"text-green-600 text-sm font-medium",children:(0,Me.jsx)(Jn,{className:"h-4 w-4"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-3xl font-bold text-green-900",children:[e.avgEngagementRate,"%"]}),(0,Me.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Avg Engagement Rate"}),(0,Me.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Industry avg: 1-3%"})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-purple-600 p-3 rounded-xl",children:(0,Me.jsx)(ut,{className:"h-6 w-6 text-white"})}),(0,Me.jsx)("div",{className:"text-purple-600 text-sm font-medium",children:(0,Me.jsx)(dt,{className:"h-4 w-4"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:e.totalPosts}),(0,Me.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"Content Pieces"}),(0,Me.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:e.bestPost?`Best: ${e.bestPost.processed.performance} score`:"No data"})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-orange-600 p-3 rounded-xl",children:(0,Me.jsx)(ct,{className:"h-6 w-6 text-white"})}),t.improvement?(0,Me.jsxs)("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Growing"})]}):(0,Me.jsxs)("div",{className:"flex items-center text-orange-600 text-sm font-medium",children:[(0,Me.jsx)(RT,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Stable"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-3xl font-bold text-orange-900",children:[Math.abs(t.engagementGrowth).toFixed(1),"%"]}),(0,Me.jsx)("p",{className:"text-sm text-orange-700 font-medium",children:t.improvement?"Growth":"Change"}),(0,Me.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"Content impact"})]})]})]})})(),(()=>{if(!b)return null;const{summary:e,growthMetrics:t}=b;return(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 rounded-2xl p-8 mb-8",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,Me.jsx)("div",{className:"bg-indigo-600 p-3 rounded-xl",children:(0,Me.jsx)(lt,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-indigo-900",children:"Content Value Report"}),(0,Me.jsx)("p",{className:"text-indigo-700",children:"Demonstrating the impact of our content strategy"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-indigo-800",children:"\ud83d\udcc8 Growth Metrics"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-indigo-700",children:"Engagement Growth:"}),(0,Me.jsxs)("span",{className:"font-bold "+(t.improvement?"text-green-600":"text-orange-600"),children:[t.improvement?"+":"",t.engagementGrowth.toFixed(1),"%"]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-indigo-700",children:"Average Engagement Rate:"}),(0,Me.jsxs)("span",{className:"font-bold text-indigo-900",children:[e.avgEngagementRate,"%"]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-indigo-700",children:"Content Pieces Delivered:"}),(0,Me.jsx)("span",{className:"font-bold text-indigo-900",children:e.totalPosts})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-indigo-700",children:"Total Reach Generated:"}),(0,Me.jsx)("span",{className:"font-bold text-indigo-900",children:e.totalEngagement.toLocaleString()})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-indigo-800",children:"\ud83c\udfaf Performance Insights"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-3",children:[(0,Me.jsx)("p",{className:"text-sm text-indigo-700 mb-1",children:"Engagement Performance"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"flex-1 bg-indigo-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${Math.min(20*e.avgEngagementRate,100)}%`}})}),(0,Me.jsx)("span",{className:"text-xs text-indigo-600 font-medium",children:e.avgEngagementRate>3?"Excellent":e.avgEngagementRate>1?"Good":"Growing"})]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-3",children:[(0,Me.jsx)("p",{className:"text-sm text-indigo-700 mb-1",children:"Content Consistency"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"flex-1 bg-indigo-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"bg-green-500 h-2 rounded-full w-full"})}),(0,Me.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Consistent"})]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-lg p-3",children:[(0,Me.jsx)("p",{className:"text-sm text-indigo-700 mb-1",children:"Growth Trajectory"}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"flex-1 bg-indigo-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"h-2 rounded-full "+(t.improvement?"bg-green-500":"bg-yellow-500"),style:{width:"85%"}})}),(0,Me.jsx)("span",{className:"text-xs font-medium "+(t.improvement?"text-green-600":"text-yellow-600"),children:t.improvement?"Improving":"Stable"})]})]})]})]})]}),(0,Me.jsx)("div",{className:"mt-6 pt-6 border-t border-indigo-200",children:(0,Me.jsxs)("p",{className:"text-sm text-indigo-700 italic text-center",children:["\ud83d\udca1 Our content strategy has generated ",(0,Me.jsx)("strong",{children:e.totalEngagement.toLocaleString()})," total engagements with an average engagement rate of ",(0,Me.jsxs)("strong",{children:[e.avgEngagementRate,"%"]}),t.improvement&&(0,Me.jsxs)("span",{children:[", showing ",(0,Me.jsxs)("strong",{children:[t.engagementGrowth.toFixed(1),"%"]})," growth in performance!"]})]})})]})})(),null!==b&&void 0!==b&&b.trendData?(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Performance Trends"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Me.jsx)(I_,{data:b.trendData.engagement,title:"Daily Average Engagement",color:"#3B82F6",metric:"value"}),(0,Me.jsx)(I_,{data:b.trendData.performance,title:"Content Performance Score",color:"#8B5CF6",metric:"value"})]})]}):null,(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Individual Post Performance"}),(()=>{const e=(()=>{if(!b)return[];let e=b.posts;return"all"!==m&&(e=e.filter(e=>{switch(m){case"high-engagement":return e.processed.engagementRate>b.summary.avgEngagementRate;case"low-engagement":return e.processed.engagementRate<b.summary.avgEngagementRate;case"recent":return BT(new Date,e.processed.postDate)<=7;case"images":return"IMAGE"===e.media_type||"PHOTO"===e.media_type;case"videos":return"VIDEO"===e.media_type;default:return!0}})),e.sort((e,t)=>{let s,n;switch(l){case"engagement":s=e.processed.totalEngagement,n=t.processed.totalEngagement;break;case"likes":s=e.processed.likes,n=t.processed.likes;break;case"comments":s=e.processed.comments,n=t.processed.comments;break;case"shares":s=e.processed.shares,n=t.processed.shares;break;case"performance":s=e.processed.performance,n=t.processed.performance;break;default:s=e.processed.postDate,n=t.processed.postDate}return"desc"===d?n-s:s-n}),e})();return(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(mn,{className:"h-4 w-4 text-gray-600"}),(0,Me.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Me.jsx)("option",{value:"all",children:"All Posts"}),(0,Me.jsx)("option",{value:"high-engagement",children:"High Engagement"}),(0,Me.jsx)("option",{value:"low-engagement",children:"Low Engagement"}),(0,Me.jsx)("option",{value:"recent",children:"Recent (7 days)"}),(0,Me.jsx)("option",{value:"images",children:"Images Only"}),(0,Me.jsx)("option",{value:"videos",children:"Videos Only"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Sort by:"}),(0,Me.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Me.jsx)("option",{value:"timestamp",children:"Date"}),(0,Me.jsx)("option",{value:"engagement",children:"Total Engagement"}),(0,Me.jsx)("option",{value:"likes",children:"Likes"}),(0,Me.jsx)("option",{value:"comments",children:"Comments"}),(0,Me.jsx)("option",{value:"shares",children:"Shares"}),(0,Me.jsx)("option",{value:"performance",children:"Performance Score"})]}),(0,Me.jsx)("button",{onClick:()=>u("desc"===d?"asc":"desc"),className:"p-1 text-gray-600 hover:text-gray-800",children:"desc"===d?(0,Me.jsx)(FT,{className:"h-4 w-4"}):(0,Me.jsx)(LT,{className:"h-4 w-4"})})]})]}),(0,Me.jsx)("div",{className:"flex items-center space-x-2",children:(0,Me.jsxs)("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,Me.jsx)(Ln,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Export Report"})]})})]}),(0,Me.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,Me.jsx)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 hover:shadow-md transition-shadow",children:(0,Me.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Me.jsx)("div",{className:"flex-shrink-0",children:(e.media_url||e.thumbnail_url||e.full_picture)&&(0,Me.jsxs)("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100",children:[(0,Me.jsx)("img",{src:e.thumbnail_url||e.media_url||e.full_picture,alt:"Post media",className:"w-full h-full object-cover"}),(0,Me.jsx)("div",{className:"absolute top-1 right-1",children:(0,Me.jsx)("span",{className:"px-1 py-0.5 text-xs rounded text-white "+("VIDEO"===e.media_type?"bg-red-500":"CAROUSEL_ALBUM"===e.media_type?"bg-purple-500":"bg-blue-500"),children:"VIDEO"===e.media_type?"\ud83d\udcf9":"CAROUSEL_ALBUM"===e.media_type?"\ud83c\udfa0":"\ud83d\udcf7"})})]})}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-500",children:bs(e.processed.postDate,"MMM dd, yyyy")}),(0,Me.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full "+(e.processed.engagementRate>b.summary.avgEngagementRate?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:[e.processed.engagementRate,"% engagement"]}),(0,Me.jsxs)("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded-full",children:[e.processed.performance," score"]})]}),e.caption&&(0,Me.jsx)("p",{className:"text-gray-800 text-sm leading-relaxed line-clamp-2 mb-3",children:e.caption.length>150?e.caption.substring(0,150)+"...":e.caption})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,Me.jsx)("button",{onClick:()=>o((null===i||void 0===i?void 0:i.id)===e.id?null:e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View detailed analytics",children:(0,Me.jsx)(ft,{className:"h-4 w-4"})}),(e.permalink||e.permalink_url)&&(0,Me.jsx)("a",{href:e.permalink||e.permalink_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"View original post",children:(0,Me.jsx)(Dn,{className:"h-4 w-4"})})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(ME,{className:"h-4 w-4 text-red-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-semibold text-gray-900",children:e.processed.likes.toLocaleString()}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Likes"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(DE,{className:"h-4 w-4 text-blue-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-semibold text-gray-900",children:e.processed.comments.toLocaleString()}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Comments"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(zT,{className:"h-4 w-4 text-green-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-semibold text-gray-900",children:e.processed.shares.toLocaleString()}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Shares"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 text-purple-500"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-semibold text-gray-900",children:e.processed.totalEngagement.toLocaleString()}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Total Engagement"})]})]})]}),(null===i||void 0===i?void 0:i.id)===e.id&&(0,Me.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Breakdown"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Engagement Rate:"}),(0,Me.jsxs)("span",{className:"font-medium",children:[e.processed.engagementRate,"%"]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Performance Score:"}),(0,Me.jsx)("span",{className:"font-medium",children:e.processed.performance})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-600",children:"Days Since Posted:"}),(0,Me.jsxs)("span",{className:"font-medium",children:[BT(new Date,e.processed.postDate)," days"]})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Content Impact"}),(0,Me.jsxs)("div",{className:"space-y-2",children:[(0,Me.jsxs)("div",{className:"text-sm text-gray-600",children:["This post performed",(0,Me.jsxs)("span",{className:"font-medium "+(e.processed.engagementRate>b.summary.avgEngagementRate?"text-green-600":"text-orange-600"),children:[" ",e.processed.engagementRate>b.summary.avgEngagementRate?"above":"below"," average"]})," ","with ",e.processed.totalEngagement," total engagements."]}),e.processed.engagementRate>b.summary.avgEngagementRate&&(0,Me.jsx)("div",{className:"text-sm text-green-700 bg-green-50 rounded-lg p-3",children:"\ud83c\udf89 High-performing content! This type of post resonates well with your audience."})]})]})]})})]})]})},e.id))}),0===e.length&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(ft,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No posts match your current filters."})]})]})})()]})]}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(ft,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No posts available for analytics."}),(0,Me.jsxs)("p",{className:"text-gray-400 text-sm mt-2",children:["You have connected your account, but no posts were found.",(0,Me.jsx)("br",{}),"This may be due to privacy settings, lack of recent posts, or data sync delays.",(0,Me.jsx)("br",{}),"Please check your account permissions or try refreshing."]})]})},WT=e=>{let{platformData:t=[],customerInfo:s={},serviceMetrics:n={},timeRange:a=30}=e;const[i,o]=(0,r.useState)(a),[l,c]=(0,r.useState)("growth"),d=()=>{const e={totalFollowers:0,totalEngagement:0,totalPosts:0,averageEngagementRate:0,growthMetrics:{},platformBreakdown:{}};return t.forEach(t=>{t.accountInfo&&(e.totalFollowers+=t.accountInfo.followers_count||0),t.posts&&(e.totalPosts+=t.posts.length,t.posts.forEach(t=>{var s,n,r,a,i;const o=t.like_count||(null===(s=t.likes)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0,l=t.comments_count||(null===(r=t.comments)||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.total_count)||0,c=(null===(i=t.shares)||void 0===i?void 0:i.count)||0;e.totalEngagement+=o+l+c}),e.platformBreakdown[t.platform]={posts:t.posts.length,avgEngagement:t.posts.length>0?t.posts.reduce((e,t)=>{var s,n,r,a,i;return e+(t.like_count||(null===(s=t.likes)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)+(t.comments_count||(null===(r=t.comments)||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.total_count)||0)+((null===(i=t.shares)||void 0===i?void 0:i.count)||0)},0)/t.posts.length:0})}),e.averageEngagementRate=e.totalFollowers>0?(e.totalEngagement/e.totalFollowers*100).toFixed(2):0,e},u=d(),m=(()=>{const e=d(),t=n.monthlyFee||1e3,s=.1*e.totalEngagement,r=.05*e.totalFollowers,a=25*e.totalPosts,i=s+r+a,o=((i-t)/t*100).toFixed(1);return{monthlyInvestment:t,valueGenerated:i,roi:parseFloat(o),breakdown:{reachValue:s,brandValue:r,contentValue:a}}})();return(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl p-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"bg-indigo-600 p-3 rounded-2xl",children:(0,Me.jsx)(dt,{className:"h-8 w-8 text-white"})}),(0,Me.jsx)("h1",{className:"text-4xl font-bold text-indigo-900",children:"Customer Value Report"})]}),(0,Me.jsx)("p",{className:"text-indigo-700 text-lg",children:"Demonstrating the measurable impact of our social media content strategy"}),(0,Me.jsxs)("p",{className:"text-indigo-600 text-sm mt-2",children:["Report Period: Last ",i," days | Generated on ",(new Date).toLocaleDateString()]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-green-600 p-4 rounded-2xl",children:(0,Me.jsx)(Qn,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-green-900",children:"Return on Investment"}),(0,Me.jsx)("p",{className:"text-green-700",children:"Your social media investment performance"})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("p",{className:"text-4xl font-bold text-green-900",children:[m.roi>0?"+":"",m.roi,"%"]}),(0,Me.jsx)("p",{className:"text-green-700 font-medium",children:"ROI This Period"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Monthly Investment"}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["$",m.monthlyInvestment.toLocaleString()]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Value Generated"}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["$",Math.round(m.valueGenerated).toLocaleString()]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Reach Value"}),(0,Me.jsxs)("p",{className:"text-xl font-bold text-green-900",children:["$",Math.round(m.breakdown.reachValue).toLocaleString()]}),(0,Me.jsxs)("p",{className:"text-sm text-green-700",children:[u.totalEngagement.toLocaleString()," engagements"]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Content Value"}),(0,Me.jsxs)("p",{className:"text-xl font-bold text-green-900",children:["$",Math.round(m.breakdown.contentValue).toLocaleString()]}),(0,Me.jsxs)("p",{className:"text-sm text-green-700",children:[u.totalPosts," posts created"]})]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-blue-600 p-3 rounded-xl",children:(0,Me.jsx)(mt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-blue-600 text-sm font-medium",children:[(0,Me.jsx)(LT,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Growing"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:u.totalFollowers.toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Total Reach"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Across all platforms"})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-red-500 p-3 rounded-xl",children:(0,Me.jsx)(ME,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 mr-1"}),(0,Me.jsxs)("span",{children:[u.averageEngagementRate,"%"]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:u.totalEngagement.toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Total Engagements"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Likes, comments, shares"})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-purple-600 p-3 rounded-xl",children:(0,Me.jsx)(Ps,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-purple-600 text-sm font-medium",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Consistent"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:u.totalPosts}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Content Pieces"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Created & published"})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-orange-600 p-3 rounded-xl",children:(0,Me.jsx)(ct,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-orange-600 text-sm font-medium",children:[(0,Me.jsx)(dt,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Optimized"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[u.averageEngagementRate,"%"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:"Engagement Rate"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Above industry average"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Platform Performance Breakdown"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(u.platformBreakdown).map(e=>{let[t,s]=e;return(0,Me.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 capitalize",children:t}),(0,Me.jsx)("div",{className:"w-4 h-4 rounded-full "+("facebook"===t?"bg-blue-600":"instagram"===t?"bg-pink-600":"youtube"===t?"bg-red-600":"bg-gray-600")})]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Posts Created:"}),(0,Me.jsx)("span",{className:"font-semibold",children:s.posts})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Avg. Engagement:"}),(0,Me.jsx)("span",{className:"font-semibold",children:Math.round(s.avgEngagement)})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Performance:"}),(0,Me.jsx)("span",{className:"font-semibold text-green-600",children:"Strong"})]})]})]},t)})})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 rounded-2xl p-8",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-indigo-900 mb-6",children:"Our Service Impact"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-indigo-800 mb-4",children:"\ud83d\udcc8 What We've Achieved"}),(0,Me.jsxs)("ul",{className:"space-y-3",children:[(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-indigo-700",children:["Generated ",(0,Me.jsx)("strong",{children:u.totalEngagement.toLocaleString()})," total engagements across all your social media platforms"]})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-indigo-700",children:["Maintained a ",(0,Me.jsxs)("strong",{children:[u.averageEngagementRate,"%"]})," average engagement rate, exceeding industry standards"]})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-indigo-700",children:["Created and published ",(0,Me.jsx)("strong",{children:u.totalPosts})," high-quality, engaging content pieces"]})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-indigo-700",children:["Delivered an estimated ",(0,Me.jsxs)("strong",{children:["$",Math.round(m.valueGenerated).toLocaleString()]})," in marketing value"]})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-indigo-800 mb-4",children:"\ud83c\udfaf Ongoing Benefits"}),(0,Me.jsxs)("ul",{className:"space-y-3",children:[(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsx)("span",{className:"text-indigo-700",children:"Consistent brand presence across all major social platforms"})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsx)("span",{className:"text-indigo-700",children:"Professional content creation saving you 20+ hours weekly"})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsx)("span",{className:"text-indigo-700",children:"Data-driven optimization improving performance over time"})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsx)("span",{className:"text-indigo-700",children:"Enhanced audience engagement and brand loyalty"})]})]})]})]}),(0,Me.jsx)("div",{className:"mt-8 pt-6 border-t border-indigo-200 text-center",children:(0,Me.jsxs)("p",{className:"text-indigo-700 font-medium",children:["\ud83d\udca1 ",(0,Me.jsx)("strong",{children:"Bottom Line:"})," Our content strategy has generated a ",(0,Me.jsxs)("strong",{children:[m.roi,"% ROI"]}),"while building your brand and engaging your audience consistently across all platforms."]})})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Me.jsxs)("button",{onClick:()=>{const e={customerInfo:s,reportDate:(new Date).toISOString(),timeRange:i,aggregatedMetrics:u,roiAnalysis:m,platformData:t.map(e=>{var t,s,n;return{platform:e.platform,followers:(null===(t=e.accountInfo)||void 0===t?void 0:t.followers_count)||0,posts:(null===(s=e.posts)||void 0===s?void 0:s.length)||0,totalEngagement:(null===(n=e.posts)||void 0===n?void 0:n.reduce((e,t)=>{var s,n,r,a,i;return e+(t.like_count||(null===(s=t.likes)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)+(t.comments_count||(null===(r=t.comments)||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.total_count)||0)+((null===(i=t.shares)||void 0===i?void 0:i.count)||0)},0))||0}}),keyInsights:[`Generated ${u.totalEngagement.toLocaleString()} total engagements across all platforms`,`Maintained ${u.averageEngagementRate}% average engagement rate`,`Created and published ${u.totalPosts} pieces of content`,`Achieved ${m.roi}% ROI on social media investment`]},n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`customer-value-report-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},className:"flex items-center space-x-2 bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 transition-colors font-medium",children:[(0,Me.jsx)(Ln,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"Export Full Report"})]}),(0,Me.jsxs)("button",{className:"flex items-center space-x-2 bg-gray-100 text-gray-700 px-8 py-3 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:[(0,Me.jsx)(ft,{className:"h-5 w-5"}),(0,Me.jsx)("span",{children:"View Detailed Analytics"})]})]})]})},HT=e=>{let{instagramAccount:t,facebookPages:s,youtubeChannels:n,customerInfo:a}=e;const[i,o]=(0,r.useState)("overview"),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[m,h]=(0,r.useState)(30);(0,r.useEffect)(()=>{x()},[t,s,n,m]);const x=async()=>{u(!0);const e=[];try{var r;if(t&&t.media)e.push({platform:"instagram",accountInfo:t.profile,posts:t.media,accountName:(null===(r=t.profile)||void 0===r?void 0:r.username)||"Instagram Account"});s&&s.length>0&&s.forEach(t=>{t.posts&&t.posts.length>0&&e.push({platform:"facebook",accountInfo:{followers_count:t.fan_count||0,name:t.name},posts:t.posts,accountName:t.name})}),n&&n.length>0&&n.forEach(t=>{var s,n,r,a,i,o;t.videos&&t.videos.length>0&&e.push({platform:"youtube",accountInfo:{followers_count:parseInt((null===(s=t.channelInfo)||void 0===s||null===(n=s.statistics)||void 0===n?void 0:n.subscriberCount)||0),name:null===(r=t.channelInfo)||void 0===r||null===(a=r.snippet)||void 0===a?void 0:a.title},posts:t.videos.map(e=>{var t,s,n,r,a,i,o,l,c,d;return{id:e.id,timestamp:null===(t=e.snippet)||void 0===t?void 0:t.publishedAt,caption:null===(s=e.snippet)||void 0===s?void 0:s.title,like_count:parseInt((null===(n=e.statistics)||void 0===n?void 0:n.likeCount)||0),comments_count:parseInt((null===(r=e.statistics)||void 0===r?void 0:r.commentCount)||0),views_count:parseInt((null===(a=e.statistics)||void 0===a?void 0:a.viewCount)||0),thumbnail_url:null===(i=e.snippet)||void 0===i||null===(o=i.thumbnails)||void 0===o||null===(l=o.default)||void 0===l?void 0:l.url,media_type:"VIDEO",permalink:`https://youtube.com/watch?v=${(null===(c=e.snippet)||void 0===c||null===(d=c.resourceId)||void 0===d?void 0:d.videoId)||e.id}`}}),accountName:(null===(i=t.channelInfo)||void 0===i||null===(o=i.snippet)||void 0===o?void 0:o.title)||"YouTube Channel"})}),c(e)}catch(a){console.error("Error aggregating platform data:",a)}finally{u(!1)}},p=e=>{const t=l.find(t=>t.platform===e);return t?(0,Me.jsx)(VT,{posts:t.posts,platform:e,accountInfo:t.accountInfo,timeRange:m}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(ft,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsxs)("p",{className:"text-gray-500",children:["No ",e," data available."]})]})};return d?(0,Me.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(_n,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading comprehensive analytics..."})]})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("pre",{className:"bg-green-50 border border-green-200 rounded p-2 text-xs mb-4",children:JSON.stringify({instagramAccount:t,facebookPages:s,youtubeChannels:n},null,2)}),(0,Me.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsx)("div",{className:"py-6",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Social Media Analytics Dashboard"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1",children:"Comprehensive per-post analytics and customer value insights"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 text-gray-600"}),(0,Me.jsxs)("select",{value:m,onChange:e=>h(parseInt(e.target.value)),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Me.jsx)("option",{value:7,children:"Last 7 days"}),(0,Me.jsx)("option",{value:30,children:"Last 30 days"}),(0,Me.jsx)("option",{value:60,children:"Last 60 days"}),(0,Me.jsx)("option",{value:90,children:"Last 90 days"})]})]}),(0,Me.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Me.jsx)(_n,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:"Refresh"})]})]})]})})})}),(0,Me.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsx)("div",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:ft},{id:"customer-value",label:"Customer Value",icon:dt},{id:"instagram",label:"Instagram",icon:ME},{id:"facebook",label:"Facebook",icon:mt},{id:"youtube",label:"YouTube",icon:Ke}].map(e=>(0,Me.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors "+(i===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Me.jsx)(e.icon,{className:"h-4 w-4"}),(0,Me.jsx)("span",{children:e.label})]},e.id))})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.length>0&&(0,Me.jsx)("pre",{className:"bg-yellow-50 border border-yellow-200 rounded p-2 text-xs mb-4",children:JSON.stringify(l,null,2)}),"overview"===i&&(()=>{const e=l.some(e=>Array.isArray(e.posts)&&e.posts.length>0),t=(()=>{if(!l.length)return null;let e=0,t=0,s=0,n=0;const r={};l.forEach(a=>{var i,o,l;const c=(null===(i=a.accountInfo)||void 0===i?void 0:i.followers_count)||0,d=(null===(o=a.posts)||void 0===o?void 0:o.length)||0;e+=c,t+=d;let u=0,m=0;null===(l=a.posts)||void 0===l||l.forEach(e=>{var t,s,n,r,a;const i=e.like_count||(null===(t=e.likes)||void 0===t||null===(s=t.summary)||void 0===s?void 0:s.total_count)||0,o=e.comments_count||(null===(n=e.comments)||void 0===n||null===(r=n.summary)||void 0===r?void 0:r.total_count)||0,l=(null===(a=e.shares)||void 0===a?void 0:a.count)||0,c=e.views_count||0;u+=i+o+l,m+=c}),s+=u,n+=m;let h=c>0?u/c*100:0,x=c<=10?Math.min(h,100).toFixed(2):h.toFixed(2);r[a.platform]={followers:c,posts:d,engagement:u,views:m,avgEngagementPerPost:d>0?Math.round(u/d):0,engagementRate:x,engagementRateRaw:h}});let a=e>0?s/e*100:0,i=e<=10?Math.min(a,100).toFixed(2):a.toFixed(2);return{totalFollowers:e,totalPosts:t,totalEngagement:s,totalViews:n,avgEngagementRate:i,avgEngagementRateRaw:a,avgEngagementPerPost:t>0?Math.round(s/t):0,platformBreakdown:r}})();return e&&t?(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-blue-600 p-3 rounded-xl",children:(0,Me.jsx)(mt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Growing"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-blue-900",children:t.totalFollowers.toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Total Reach"}),(0,Me.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Across all platforms"})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-purple-600 p-3 rounded-xl",children:(0,Me.jsx)(ME,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-purple-600 text-sm font-medium",children:[(0,Me.jsx)(Jn,{className:"h-4 w-4 mr-1"}),(0,Me.jsxs)("span",{children:[t.avgEngagementRate,"%"]}),t.totalFollowers<=10&&(0,Me.jsx)("span",{className:"ml-2 text-xs text-yellow-600",title:"Engagement rate capped for low follower count",children:"(Capped)"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-purple-900",children:t.totalEngagement.toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"Total Engagement"}),(0,Me.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"All interactions"})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-green-600 p-3 rounded-xl",children:(0,Me.jsx)(ft,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-green-600 text-sm font-medium",children:[(0,Me.jsx)(dt,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Quality"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-green-900",children:t.totalPosts}),(0,Me.jsx)("p",{className:"text-sm text-green-700 font-medium",children:"Content Created"}),(0,Me.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Avg: ",t.avgEngagementPerPost,"/post"]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-2xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-orange-600 p-3 rounded-xl",children:(0,Me.jsx)(Ke,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"flex items-center text-orange-600 text-sm font-medium",children:[(0,Me.jsx)(ct,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{children:"Views"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-orange-900",children:t.totalViews.toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-orange-700 font-medium",children:"Total Views"}),(0,Me.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:"Video content"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Platform Performance Breakdown"}),(0,Me.jsx)("div",{className:"space-y-6",children:Object.entries(t.platformBreakdown).map(e=>{let[t,s]=e;return(0,Me.jsxs)("div",{className:"border border-gray-100 rounded-xl p-6 bg-gray-50",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsxs)("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center "+("facebook"===t?"bg-blue-600":"instagram"===t?"bg-pink-600":"youtube"===t?"bg-red-600":"bg-gray-600"),children:["facebook"===t&&(0,Me.jsx)(mt,{className:"h-6 w-6 text-white"}),"instagram"===t&&(0,Me.jsx)(ME,{className:"h-6 w-6 text-white"}),"youtube"===t&&(0,Me.jsx)(Ke,{className:"h-6 w-6 text-white"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 capitalize",children:t}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:[s.followers.toLocaleString()," followers \u2022 ",s.posts," posts"]})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[s.engagementRate,"%",s.followers<=10&&(0,Me.jsx)("span",{className:"ml-2 text-xs text-yellow-600",title:"Engagement rate capped for low follower count",children:"(Capped)"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Engagement Rate"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("p",{className:"text-lg font-bold text-gray-900",children:s.engagement.toLocaleString()}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Total Engagement"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("p",{className:"text-lg font-bold text-gray-900",children:s.avgEngagementPerPost}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Avg per Post"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("p",{className:"text-lg font-bold text-gray-900",children:s.posts}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Posts Created"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("p",{className:"text-lg font-bold text-gray-900",children:s.views?s.views.toLocaleString():"-"}),(0,Me.jsx)("p",{className:"text-xs text-gray-600",children:"Views"})]})]}),(0,Me.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-3 h-3 rounded-full "+(parseFloat(s.engagementRate)>2?"bg-green-500":parseFloat(s.engagementRate)>1?"bg-yellow-500":"bg-red-500")}),(0,Me.jsx)("span",{className:"text-sm font-medium "+(parseFloat(s.engagementRate)>2?"text-green-600":parseFloat(s.engagementRate)>1?"text-yellow-600":"text-red-600"),children:parseFloat(s.engagementRate)>2?"Excellent Performance":parseFloat(s.engagementRate)>1?"Good Performance":"Room for Improvement"})]}),(0,Me.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View Details \u2192"})]})]},t)})})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 border border-indigo-200 rounded-2xl p-8",children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-indigo-900 mb-6",children:"Content Success Highlights"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"bg-green-600 p-2 rounded-lg",children:(0,Me.jsx)(ut,{className:"h-5 w-5 text-white"})}),(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Engagement Growth"})]}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-green-600 mb-2",children:[t.avgEngagementRate,"%"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Average engagement rate across all platforms, significantly above industry average"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"bg-blue-600 p-2 rounded-lg",children:(0,Me.jsx)(mt,{className:"h-5 w-5 text-white"})}),(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Audience Reach"})]}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-blue-600 mb-2",children:t.totalFollowers.toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Total potential reach across all connected social media platforms"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Me.jsx)("div",{className:"bg-purple-600 p-2 rounded-lg",children:(0,Me.jsx)(dt,{className:"h-5 w-5 text-white"})}),(0,Me.jsx)("h4",{className:"font-semibold text-gray-900",children:"Content Quality"})]}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-purple-600 mb-2",children:t.avgEngagementPerPost}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Average engagement per post, showing consistent content quality"})]})]})]})]}):(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)(ft,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No data available across platforms."}),(0,Me.jsxs)("p",{className:"text-gray-400 text-sm mt-2",children:["You are logged in and your accounts are connected.",(0,Me.jsx)("br",{}),"No analytics data is available yet. This may be due to privacy settings, lack of recent posts, or data sync delays.",(0,Me.jsx)("br",{}),"Please check your account permissions or try refreshing."]})]})})(),"customer-value"===i&&(0,Me.jsx)(WT,{platformData:l,customerInfo:a,serviceMetrics:{monthlyFee:1500},timeRange:m}),"instagram"===i&&p("instagram"),"facebook"===i&&p("facebook"),"youtube"===i&&p("youtube")]})]})},qT=Ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var YT=["axis","item"],GT={layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},KT=(0,r.forwardRef)((e,t)=>{var s=jj(e,GT);return r.createElement(UP,{chartName:"RadialBarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:YT,tooltipPayloadSearcher:Ai,categoricalChartProps:s,ref:t})});function JT(){return JT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},JT.apply(null,arguments)}function QT(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function XT(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?QT(Object(s),!0).forEach(function(t){ZT(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):QT(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function ZT(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function eM(e){return"string"===typeof e?parseInt(e,10):e}function tM(e,t){var s="".concat(t.cx||e.cx),n=Number(s),r="".concat(t.cy||e.cy),a=Number(r);return XT(XT(XT({},t),e),{},{cx:n,cy:a})}function sM(e){return r.createElement(UA,JT({shapeType:"sector",propTransformer:tM},e))}var nM=e=>r.createElement(ES,e),rM=(e,t,s)=>{switch(t){case"angleAxis":return zp(e,s);case"radiusAxis":return Up(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},aM=(e,t,s)=>{switch(t){case"angleAxis":return qp(e,s);case"radiusAxis":return Gp(e,s);default:throw new Error("Unexpected axis type: ".concat(t))}},iM=dl([rM,nf,tE,aM],rf),oM=dl([Oc,KP,cg,Jp],If),lM=dl([Oc,rM,nf,iM,eE,aM,Of,oM,Jp],Df),cM=dl([Oc,rM,iM,aM,Of,oM,Jp],Rf);function dM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function uM(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?dM(Object(s),!0).forEach(function(t){mM(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):dM(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function mM(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var hM=dl([(e,t)=>Up(e,t),(e,t)=>iM(e,"radiusAxis",t)],(e,t)=>{if(null!=e&&null!=t)return uM(uM({},e),{},{scale:t})}),xM=(e,t,s,n)=>cM(e,"radiusAxis",t,n),pM=dl([(e,t,s)=>zp(e,s),(e,t,s)=>iM(e,"angleAxis",s)],(e,t)=>{if(null!=e&&null!=t)return uM(uM({},e),{},{scale:t})}),gM=(e,t,s,n)=>lM(e,"angleAxis",s,n),fM=dl([WP,(e,t,s,n)=>n],(e,t)=>{if(e.some(e=>"radialBar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId))return t}),bM=dl([Oc,hM,xM,pM,gM],(e,t,s,n,r)=>Wl(e,"radiusAxis")?rc(t,s,!1):rc(n,r,!1)),vM=dl([pM,hM,Oc],(e,t,s)=>{var n="radial"===s?e:t;if(null!=n&&null!=n.scale)return ec({numericAxis:n})}),yM=(e,t,s,n,r)=>n.maxBarSize,jM=dl([Oc,WP,(e,t,s,n,r)=>s,(e,t,s,n,r)=>t],(e,t,s,n)=>t.filter(t=>"centric"===e?t.angleAxisId===s:t.radiusAxisId===n).filter(e=>!1===e.hide).filter(e=>"radialBar"===e.type)),wM=dl([jM,vp,()=>{}],iP),NM=dl([Oc,gp,pM,gM,hM,xM,yM],(e,t,s,n,r,a,i)=>{var o,l,c,d,u=Nr(i)?t:i;return"centric"===e?null!==(c=null!==(d=rc(s,n,!0))&&void 0!==d?d:u)&&void 0!==c?c:0:null!==(o=null!==(l=rc(r,a,!0))&&void 0!==l?l:u)&&void 0!==o?o:0}),kM=dl([wM,gp,fp,bp,NM,bM,yM],cP),SM=dl([kM,fM],(e,t)=>{if(null!=e&&null!=t){var s=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=s)return s.position}}),_M=dl([GP,qP,yp],Cg),CM=dl([(e,t,s)=>"centric"===Oc(e)?_M(e,"radiusAxis",t):_M(e,"angleAxis",s),fM],mP),AM=dl([pM,gM,hM,xM,Vx,fM,bM,Oc,vM,Kp,(e,t,s,n,r)=>r,SM,CM],(e,t,s,n,r,a,i,o,l,c,d,u,m)=>{var{chartData:h,dataStartIndex:x,dataEndIndex:p}=r;if(null==a||null==s||null==e||null==h||null==i||null==u||"centric"!==o&&"radial"!==o||null==n)return[];var{dataKey:g,minPointSize:f}=a,{cx:b,cy:v,startAngle:y,endAngle:j}=c;return function(e){var{displayedData:t,stackedData:s,dataStartIndex:n,stackedDomain:r,dataKey:a,baseValue:i,layout:o,radiusAxis:l,radiusAxisTicks:c,bandSize:d,pos:u,angleAxis:m,minPointSize:h,cx:x,cy:p,angleAxisTicks:g,cells:f,startAngle:b,endAngle:v}=e;return(null!==t&&void 0!==t?t:[]).map((e,t)=>{var y,j,w,N,k,S;if(s?y=Gl(s[n+t],r):(y=Vl(e,a),Array.isArray(y)||(y=[i,y])),"radial"===o){j=Zl({axis:l,ticks:c,bandSize:d,offset:u.offset,entry:e,index:t}),k=m.scale(y[1]),N=m.scale(y[0]),w=(null!==j&&void 0!==j?j:0)+u.size;var _=k-N;if(Math.abs(h)>0&&Math.abs(_)<Math.abs(h))k+=ur(_||h)*(Math.abs(h)-Math.abs(_));S={background:{cx:x,cy:p,innerRadius:j,outerRadius:w,startAngle:b,endAngle:v}}}else{j=l.scale(y[0]),w=l.scale(y[1]),k=(null!==(N=Zl({axis:m,ticks:g,bandSize:d,offset:u.offset,entry:e,index:t}))&&void 0!==N?N:0)+u.size;var C=w-j;if(Math.abs(h)>0&&Math.abs(C)<Math.abs(h))w+=ur(C||h)*(Math.abs(h)-Math.abs(C))}return DM(DM(DM({},e),S),{},{payload:e,value:s?y:y[1],cx:x,cy:p,innerRadius:j,outerRadius:w,startAngle:N,endAngle:k},f&&f[t]&&f[t].props)})}({angleAxis:e,angleAxisTicks:t,bandSize:i,baseValue:l,cells:d,cx:b,cy:v,dataKey:g,dataStartIndex:x,displayedData:h.slice(x,p+1),endAngle:j,layout:o,minPointSize:f,pos:u,radiusAxis:s,radiusAxisTicks:n,stackedData:m,stackedDomain:m?("centric"===o?s:e).scale.domain():null,startAngle:y})}),PM=dl([Wx,(e,t)=>t],(e,t)=>{var{chartData:s,dataStartIndex:n,dataEndIndex:r}=e;if(null==s)return[];var a=s.slice(n,r+1);return 0===a.length?[]:a.map(e=>({type:t,value:e.name,color:e.fill,payload:e}))}),EM=["shape","activeShape","cornerRadius"],OM=["onMouseEnter","onClick","onMouseLeave"],IM=["value","background"];function TM(){return TM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},TM.apply(null,arguments)}function MM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function DM(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?MM(Object(s),!0).forEach(function(t){LM(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):MM(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function LM(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function RM(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var FM=[];function zM(e){var{sectors:t,allOtherRadialBarProps:s,showLabels:n}=e,{shape:a,activeShape:i,cornerRadius:o}=s,l=RM(s,EM),c=By(l,!1),d=vl(Bb),{onMouseEnter:u,onClick:m,onMouseLeave:h}=s,x=RM(s,OM),p=KA(u,s.dataKey),g=JA(h),f=QA(m,s.dataKey);return null==t?null:r.createElement(r.Fragment,null,t.map((e,t)=>{var s=i&&d===String(t),n=p(e,t),u=g(e,t),m=f(e,t),h=DM(DM(DM(DM({},c),{},{cornerRadius:eM(o)},e),Dy(x,e,t)),{},{onMouseEnter:n,onMouseLeave:u,onClick:m,key:"sector-".concat(t),className:"recharts-radial-bar-sector ".concat(e.className),forceCornerRadius:l.forceCornerRadius,cornerIsExternal:l.cornerIsExternal,isActive:s,option:s?i:a});return r.createElement(sM,h)}),n&&SS.renderCallByParent(s,t))}function UM(e){var{props:t,previousSectorsRef:s}=e,{data:n,isAnimationActive:a,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,u=u_(t,"recharts-radialbar-"),m=s.current,[h,x]=(0,r.useState)(!0),p=(0,r.useCallback)(()=>{"function"===typeof c&&c(),x(!1)},[c]),g=(0,r.useCallback)(()=>{"function"===typeof d&&d(),x(!0)},[d]);return r.createElement(Fk,{begin:i,duration:o,isActive:a,easing:l,from:{t:0},to:{t:1},onAnimationStart:g,onAnimationEnd:p,key:u},e=>{var{t:a}=e,i=1===a?n:(null!==n&&void 0!==n?n:FM).map((e,t)=>{var s=m&&m[t];if(s){var n=yr(s.startAngle,e.startAngle),r=yr(s.endAngle,e.endAngle);return DM(DM({},e),{},{startAngle:n(a),endAngle:r(a)})}var{endAngle:i,startAngle:o}=e,l=yr(o,i);return DM(DM({},e),{},{endAngle:l(a)})});return a>0&&(s.current=null!==i&&void 0!==i?i:null),r.createElement(Oj,null,r.createElement(zM,{sectors:null!==i&&void 0!==i?i:FM,allOtherRadialBarProps:t,showLabels:!h}))})}function $M(e){var{data:t=[],isAnimationActive:s}=e,n=(0,r.useRef)(null),a=n.current;return s&&t&&t.length&&(!a||a!==t)?r.createElement(UM,{props:e,previousSectorsRef:n}):r.createElement(zM,{sectors:t,allOtherRadialBarProps:e,showLabels:!0})}function BM(e){var t=vl(t=>PM(t,e.legendType));return r.createElement(d_,{legendPayload:null!==t&&void 0!==t?t:[]})}function VM(e){var{dataKey:t,data:s,stroke:n,strokeWidth:r,name:a,hide:i,fill:o,tooltipType:l}=e;return{dataDefinedOnItem:s,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:o,nameKey:void 0,dataKey:t,name:ic(a,t),hide:i,type:l,color:o,unit:""}}}class WM extends r.PureComponent{renderBackground(e){if(null==e)return null;var{cornerRadius:t}=this.props,s=By(this.props.background,!1);return e.map((e,n)=>{var{value:a,background:i}=e,o=RM(e,IM);if(!i)return null;var l=DM(DM(DM(DM(DM({cornerRadius:eM(t)},o),{},{fill:"#eee"},i),s),Dy(this.props,e,n)),{},{index:n,key:"sector-".concat(n),className:ir("recharts-radial-bar-background-sector",null===s||void 0===s?void 0:s.className),option:i,isActive:!1});return r.createElement(sM,l)})}render(){var{hide:e,data:t,className:s,background:n}=this.props;if(e)return null;var a=ir("recharts-area",s);return r.createElement(Oj,{className:a},n&&r.createElement(Oj,{className:"recharts-radial-bar-background"},this.renderBackground(t)),r.createElement(Oj,{className:"recharts-radial-bar-sectors"},r.createElement($M,this.props)))}}function HM(e){var t,s=Uy(e.children,JC),n={dataKey:e.dataKey,minPointSize:e.minPointSize,stackId:e.stackId,maxBarSize:e.maxBarSize,barSize:e.barSize},a=null!==(t=vl(t=>AM(t,e.radiusAxisId,e.angleAxisId,n,s)))&&void 0!==t?t:FM;return r.createElement(r.Fragment,null,r.createElement(XS,{fn:VM,args:DM(DM({},e),{},{data:a})}),r.createElement(WM,TM({},e,{data:a})))}var qM={angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!Ij,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1};class YM extends r.PureComponent{render(){var e,t,s;return r.createElement(r.Fragment,null,r.createElement(XA,null),r.createElement(nM,{data:void 0,dataKey:this.props.dataKey,hide:null!==(e=this.props.hide)&&void 0!==e?e:qM.hide,angleAxisId:null!==(t=this.props.angleAxisId)&&void 0!==t?t:qM.angleAxisId,radiusAxisId:null!==(s=this.props.radiusAxisId)&&void 0!==s?s:qM.radiusAxisId,stackId:this.props.stackId,barSize:this.props.barSize,type:"radialBar"}),r.createElement(BM,this.props),r.createElement(HM,this.props))}}function GM(){return GM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},GM.apply(null,arguments)}function KM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function JM(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}LM(YM,"displayName","RadialBar"),LM(YM,"defaultProps",qM);var QM=32;class XM extends r.PureComponent{renderIcon(e,t){var{inactiveColor:s}=this.props,n=16,a=QM/6,i=QM/3,o=e.inactive?s:e.color,l=null!==t&&void 0!==t?t:e.type;if("none"===l)return null;if("plainline"===l)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:QM,y2:n,className:"recharts-legend-icon"});if("line"===l)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(QM,"M").concat(2*i,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===l)return r.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(QM,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var c=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?KM(Object(s),!0).forEach(function(t){JM(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):KM(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},e);return delete c.legendIcon,r.cloneElement(e.legendIcon,c)}return r.createElement(TA,{fill:o,cx:n,cy:n,size:QM,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:t,layout:s,formatter:n,inactiveColor:a,iconType:i}=this.props,o={x:0,y:0,width:QM,height:QM},l={display:"horizontal"===s?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,s)=>{var d=e.formatter||n,u=ir({"recharts-legend-item":!0,["legend-item-".concat(s)]:!0,inactive:e.inactive});if("none"===e.type)return null;var m=e.inactive?a:e.color,h=d?d(e.value,e,s):e.value;return r.createElement("li",GM({className:u,style:l,key:"legend-item-".concat(s)},Dy(this.props,e,s)),r.createElement(qy,{width:t,height:t,viewBox:o,style:c,"aria-label":"".concat(h," legend icon")},this.renderIcon(e,i)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},h))})}render(){var{payload:e,layout:t,align:s}=this.props;if(!e||!e.length)return null;var n={padding:0,margin:0,textAlign:"horizontal"===t?s:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}JM(XM,"displayName","Legend"),JM(XM,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ZM=["contextPayload"];function eD(){return eD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},eD.apply(null,arguments)}function tD(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function sD(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(s),!0).forEach(function(t){nD(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tD(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function nD(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function rD(e){return e.value}function aD(e){var{contextPayload:t}=e,s=function(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,ZM),n=pN(t,e.payloadUniqBy,rD),a=sD(sD({},s),{},{payload:n});return r.isValidElement(e.content)?r.cloneElement(e.content,a):"function"===typeof e.content?r.createElement(e.content,a):r.createElement(XM,a)}function iD(e){var t=pl();return(0,r.useEffect)(()=>{t(Xv(e))},[t,e]),null}function oD(e){var t=pl();return(0,r.useEffect)(()=>(t(Qv(e)),()=>{t(Qv({width:0,height:0}))}),[t,e]),null}function lD(e){var t=vl(Nl),s=(0,r.useContext)(oj),n=(()=>{var e;return null!==(e=vl(e=>e.layout.margin))&&void 0!==e?e:Ec})(),{width:a,height:i,wrapperStyle:o,portal:l}=e,[c,d]=gN([t]),u=Ac(),m=Pc(),h=u-(n.left||0)-(n.right||0),x=cD.getWidthOrHeight(e.layout,i,a,h),p=l?o:sD(sD({position:"absolute",width:(null===x||void 0===x?void 0:x.width)||a||"auto",height:(null===x||void 0===x?void 0:x.height)||i||"auto"},function(e,t,s,n,r,a){var i,o,{layout:l,align:c,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===c&&"vertical"===l?{left:((n||0)-a.width)/2}:"right"===c?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((r||0)-a.height)/2}:"bottom"===d?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),sD(sD({},i),o)}(o,e,n,u,m,c)),o),g=null!==l&&void 0!==l?l:s;if(null==g)return null;var f=r.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:d},r.createElement(iD,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),r.createElement(oD,{width:c.width,height:c.height}),r.createElement(aD,eD({},e,x,{margin:n,chartWidth:u,chartHeight:m,contextPayload:t})));return(0,we.createPortal)(f,g)}class cD extends r.PureComponent{static getWidthOrHeight(e,t,s,n){return"vertical"===e&&xr(t)?{height:t}:"horizontal"===e?{width:s||n}:null}render(){return r.createElement(lD,this.props)}}nD(cD,"displayName","Legend"),nD(cD,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});const dD=e=>{let{title:t,value:s,icon:n,color:r,subtitle:a,trend:i,trendDirection:o}=e;return(0,Me.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all duration-300 group",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:`p-3 rounded-xl bg-gradient-to-br ${r}`,children:(0,Me.jsx)(n,{className:"h-6 w-6 text-white"})}),i&&(0,Me.jsxs)("div",{className:"flex items-center text-sm font-medium "+("up"===o?"text-green-600":"down"===o?"text-red-600":"text-gray-600"),children:[(0,Me.jsx)(LT,{className:"h-4 w-4 mr-1 "+("down"===o?"rotate-180":"")}),(0,Me.jsx)("span",{children:i})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-3xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:"number"===typeof s?s.toLocaleString():s}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:t}),a&&(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a})]})]})},uD=e=>{let{title:t,icon:s,color:n,children:r,isExpanded:a,onToggle:i,stats:o}=e;return(0,Me.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,Me.jsx)("div",{className:`p-6 bg-gradient-to-r ${n} cursor-pointer hover:opacity-95 transition-opacity`,onClick:i,children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-white bg-opacity-20 p-3 rounded-xl",children:(0,Me.jsx)(s,{className:"h-8 w-8 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold text-white",children:t}),(0,Me.jsx)("p",{className:"text-white text-opacity-90",children:"Platform Analytics & Insights"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[o&&(0,Me.jsxs)("div",{className:"text-right text-white",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold",children:o.primary}),(0,Me.jsx)("div",{className:"text-sm opacity-90",children:o.label})]}),a?(0,Me.jsx)(UE,{className:"h-6 w-6 text-white"}):(0,Me.jsx)(nt,{className:"h-6 w-6 text-white"})]})]})}),a&&(0,Me.jsx)("div",{className:"p-6",children:r})]})},mD=e=>{let{data:t,title:s,colors:n=["#3B82F6","#10B981","#8B5CF6","#F59E0B"]}=e;if(!t||0===t.length)return(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s}),(0,Me.jsx)("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No data available"})]});const r=t.reduce((e,t)=>e+t.value,0);return(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:"Distribution breakdown"})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-gray-700",children:r.toLocaleString()}),(0,Me.jsx)("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),(0,Me.jsx)("div",{className:"h-64 relative",children:(0,Me.jsx)(Pr,{width:"100%",height:"100%",children:(0,Me.jsxs)(VP,{children:[(0,Me.jsx)(AE,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:t.map((e,t)=>(0,Me.jsx)(JC,{fill:n[t%n.length]},`cell-${t}`))}),(0,Me.jsx)(mS,{formatter:(e,t)=>[e.toLocaleString(),t],contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}})]})})}),(0,Me.jsx)("div",{className:"grid grid-cols-2 gap-3 mt-4 pt-4 border-t border-gray-100",children:t.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n[t%n.length]}}),(0,Me.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,Me.jsxs)("span",{className:"font-medium",children:[e.name,":"]})," ",e.value.toLocaleString(),(0,Me.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",r>0?Math.round(e.value/r*100):0,"%)"]})]})]},e.name))})]})},hD=e=>{let{fbData:t,igData:s,ytData:n}=e;const r=[{platform:"Facebook",engagement:(null===t||void 0===t?void 0:t.engagement)||0,followers:(null===t||void 0===t?void 0:t.followers)||0,posts:(null===t||void 0===t?void 0:t.posts)||0,color:"#1877F2"},{platform:"Instagram",engagement:(null===s||void 0===s?void 0:s.engagement)||0,followers:(null===s||void 0===s?void 0:s.followers)||0,posts:(null===s||void 0===s?void 0:s.posts)||0,color:"#E4405F"},{platform:"YouTube",engagement:(null===n||void 0===n?void 0:n.views)||0,followers:(null===n||void 0===n?void 0:n.subscribers)||0,posts:(null===n||void 0===n?void 0:n.videos)||0,color:"#FF0000"}];return(0,Me.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Platform Comparison"}),(0,Me.jsx)("div",{className:"h-80",children:(0,Me.jsx)(Pr,{width:"100%",height:"100%",children:(0,Me.jsxs)(KC,{data:r,margin:{top:20,right:30,left:20,bottom:5},children:[(0,Me.jsx)(bC,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,Me.jsx)(Ww,{dataKey:"platform",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"}}),(0,Me.jsx)(Xw,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#6B7280"}}),(0,Me.jsx)(mS,{contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,Me.jsx)(DP,{dataKey:"followers",fill:"#3B82F6",radius:[4,4,0,0],name:"Followers/Subscribers"}),(0,Me.jsx)(DP,{dataKey:"engagement",fill:"#10B981",radius:[4,4,0,0],name:"Engagement/Views"}),(0,Me.jsx)(DP,{dataKey:"posts",fill:"#8B5CF6",radius:[4,4,0,0],name:"Posts/Videos"})]})})})]})};class xD extends r.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){}render(){return this.state.error?(0,Me.jsxs)("div",{className:"max-w-2xl mx-auto mt-12 p-8 bg-red-50 border border-red-200 rounded-xl text-red-800",children:[(0,Me.jsx)("h2",{className:"text-xl font-bold mb-2",children:"An error occurred:"}),(0,Me.jsx)("pre",{className:"text-sm whitespace-pre-wrap",children:this.state.error.message||String(this.state.error)})]}):this.props.children}}const pD=function(){const[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)(null),[o,l]=(0,r.useState)({facebook:!0,instagram:!0,youtube:!0,analytics:!0}),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(new Date),[h,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x(!0)},[]);const p=e=>{l(t=>({...t,[e]:!t[e]}))},g=()=>{console.log("\ud83d\udd0d Computing metrics from data:",{fbData:e?Array.isArray(e)?e.length:"single object":"null",igData:s?Array.isArray(s)?s.length:"single object":"null",ytData:a?"available":"null"});let t=0,n=0,r=0,i=0,o=0,l=0,c=0;e&&Array.isArray(e)&&(i=e.length,e.forEach(e=>{t+=e.fan_count||0;const s=e.posts||[];r+=s.length,e.calculatedMetrics?(o+=e.calculatedMetrics.totalLikes||0,l+=e.calculatedMetrics.totalComments||0,c+=e.calculatedMetrics.totalShares||0):s.forEach(e=>{var t,s,n,r,a;o+=(null===(t=e.likes)||void 0===t||null===(s=t.summary)||void 0===s?void 0:s.total_count)||0,l+=(null===(n=e.comments)||void 0===n||null===(r=n.summary)||void 0===r?void 0:r.total_count)||0,c+=(null===(a=e.shares)||void 0===a?void 0:a.count)||0})}),n=o+l+c,console.log("\ud83d\udcca Facebook metrics calculated:",{pages:i,followers:t,posts:r,likes:o,comments:l,shares:c,totalEngagement:n}));let d=0,u=0,m=0,h=0,x=0,p=0;s&&(s.profile&&(d=s.profile.followers_count||0,p=s.profile.media_count||0),Array.isArray(s.media)?(m=s.media.length,s.media.forEach(e=>{h+=e.like_count||0,x+=e.comments_count||0})):Array.isArray(s)&&s.forEach(e=>{e.profile&&(d+=e.profile.followers_count||0,p+=e.profile.media_count||0),e.media&&(m+=e.media.length,e.media.forEach(e=>{h+=e.like_count||0,x+=e.comments_count||0}))}),u=h+x);let g=0,f=0,b=0,v=0;var y;a&&a.channelInfo&&a.channelInfo.statistics&&(g=parseInt(a.channelInfo.statistics.subscriberCount||0),f=parseInt(a.channelInfo.statistics.viewCount||0),b=parseInt(a.channelInfo.statistics.videoCount||0),a.analytics&&(v=(null===(y=a.analytics.watchTime)||void 0===y?void 0:y.reduce((e,t)=>e+(t.value||0),0))||0));const j=t+d+g,w=n+u+f,N={totalFollowers:j,totalEngagement:w,totalContent:r+m+b,avgEngagementRate:j>0?w/j*100:0,platforms:{facebook:{followers:t,engagement:n,posts:r,pages:i,likes:o,comments:l,shares:c},instagram:{followers:d,engagement:u,posts:m,mediaCount:p,likes:h,comments:x},youtube:{subscribers:g,views:f,videos:b,shorts:0,watchTime:v}}};return console.log("\ud83d\udcc8 Final aggregated metrics:",N),N},f=g(),b=(()=>{const e=g(),t=1500,s=.08*e.totalFollowers,n=.15*e.totalEngagement,r=35*e.totalContent,a=.03*e.totalFollowers,i=.05*e.totalEngagement,o=s+n+r+a+i;return{monthlyInvestment:t,valueGenerated:o,roi:parseFloat((o>0?(o-t)/t*100:-100).toFixed(1)),breakdown:{reachValue:s,engagementValue:n,contentValue:r,brandValue:a,socialProofValue:i},metrics:e}})(),v=()=>e&&Array.isArray(e)?(console.log("\ud83d\udcc4 Processing Facebook insights for",e.length,"pages"),e.map(e=>{var t,s,n;const r=e.posts||[],a=(null===(t=e.calculatedMetrics)||void 0===t?void 0:t.totalLikes)||r.reduce((e,t)=>{var s,n;return e+((null===(s=t.likes)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)},0),i=(null===(s=e.calculatedMetrics)||void 0===s?void 0:s.totalComments)||r.reduce((e,t)=>{var s,n;return e+((null===(s=t.comments)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)},0),o=(null===(n=e.calculatedMetrics)||void 0===n?void 0:n.totalShares)||r.reduce((e,t)=>{var s;return e+((null===(s=t.shares)||void 0===s?void 0:s.count)||0)},0),l={name:e.name,followers:e.fan_count||0,posts:r.length,totalLikes:a,totalComments:i,totalShares:o,recentPosts:r.slice(0,3),engagementRate:e.fan_count>0?((a+i+o)/e.fan_count*100).toFixed(2):0};return console.log("\ud83d\udcc8 Page insights:",e.name,l),l})):(console.log("\u26a0\ufe0f Facebook insights: no data available"),null),y=()=>{if(!s)return null;return(Array.isArray(s)?s:[s]).map(e=>{var t,s,n,r,a,i,o,l,c,d,u;return{username:(null===(t=e.profile)||void 0===t?void 0:t.username)||"Unknown",followers:(null===(s=e.profile)||void 0===s?void 0:s.followers_count)||0,posts:(null===(n=e.media)||void 0===n?void 0:n.length)||(null===(r=e.profile)||void 0===r?void 0:r.media_count)||0,totalLikes:(null===(a=e.media)||void 0===a?void 0:a.reduce((e,t)=>e+(t.like_count||0),0))||0,totalComments:(null===(i=e.media)||void 0===i?void 0:i.reduce((e,t)=>e+(t.comments_count||0),0))||0,biography:(null===(o=e.profile)||void 0===o?void 0:o.biography)||"",website:(null===(l=e.profile)||void 0===l?void 0:l.website)||"",recentMedia:(null===(c=e.media)||void 0===c?void 0:c.slice(0,3))||[],engagementRate:(null===(d=e.profile)||void 0===d?void 0:d.followers_count)>0?(((null===(u=e.media)||void 0===u?void 0:u.reduce((e,t)=>e+(t.like_count||0)+(t.comments_count||0),0))||0)/e.profile.followers_count*100).toFixed(2):0}})},j=()=>{var e,t,s,n,r,i,o,l,c,d,u;return a&&a.channelInfo?{channelName:(null===(e=a.channelInfo.snippet)||void 0===e?void 0:e.title)||"Unknown Channel",subscribers:parseInt((null===(t=a.channelInfo.statistics)||void 0===t?void 0:t.subscriberCount)||0),totalViews:parseInt((null===(s=a.channelInfo.statistics)||void 0===s?void 0:s.viewCount)||0),videoCount:parseInt((null===(n=a.channelInfo.statistics)||void 0===n?void 0:n.videoCount)||0),description:(null===(r=a.channelInfo.snippet)||void 0===r?void 0:r.description)||"",customUrl:(null===(i=a.channelInfo.snippet)||void 0===i?void 0:i.customUrl)||"",thumbnail:null===(o=a.channelInfo.snippet)||void 0===o||null===(l=o.thumbnails)||void 0===l||null===(c=l.default)||void 0===c?void 0:c.url,recentVideos:(null===(d=a.videos)||void 0===d?void 0:d.slice(0,3))||[],avgViewsPerVideo:(null===(u=a.channelInfo.statistics)||void 0===u?void 0:u.videoCount)>0?Math.round(parseInt(a.channelInfo.statistics.viewCount||0)/parseInt(a.channelInfo.statistics.videoCount)):0}:null};return(0,r.useEffect)(()=>{console.log("\ud83d\udd04 Dashboard data updated:",{fbData:e?Array.isArray(e)?`${e.length} pages`:"single object":"null",igData:s?"available":"null",ytData:a?"available":"null",fbDataSample:e?e[0]:null})},[e,s,a]),(0,Me.jsx)(xD,{children:(0,Me.jsxs)("div",{className:"w-full min-h-screen bg-[#e6f2fb] px-2 sm:px-4 lg:px-8 py-4",children:[(0,Me.jsxs)("div",{className:"text-center bg-gradient-to-br from-[#0a2342] via-[#38bdf8] to-[#bae6fd] rounded-3xl p-4 sm:p-8 border border-[#bae6fd] max-w-5xl mx-auto",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-[#0a2342] to-[#38bdf8] p-4 rounded-2xl shadow-lg",children:(0,Me.jsx)(dt,{className:"h-10 w-10 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-[#0a2342] to-[#38bdf8] bg-clip-text text-transparent",children:"Social ROI & Analytics Dashboard"}),(0,Me.jsx)("p",{className:"text-[#0a2342] text-lg font-medium",children:"Comprehensive Multi-Platform Performance Analytics"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-xl p-4 backdrop-blur-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,Me.jsx)(dn,{className:"h-5 w-5 text-blue-600"}),(0,Me.jsx)(un,{className:"h-5 w-5 text-pink-600"}),(0,Me.jsx)(vn,{className:"h-5 w-5 text-red-600"})]}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-[#0a2342]",children:f.totalFollowers.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-[#0a2342]/70",children:"Total Audience Reach"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-xl p-4 backdrop-blur-sm",children:[(0,Me.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Me.jsx)(lt,{className:"h-5 w-5 text-green-600"})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-[#0a2342]",children:f.totalEngagement.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-[#0a2342]/70",children:"Total Engagements"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-60 rounded-xl p-4 backdrop-blur-sm",children:[(0,Me.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Me.jsx)(Ps,{className:"h-5 w-5 text-purple-600"})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-[#0a2342]",children:f.totalContent}),(0,Me.jsx)("div",{className:"text-sm text-[#0a2342]/70",children:"Content Pieces"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"text-[#0a2342] text-sm",children:["Report Period: Last 30 days | Generated ",u.toLocaleDateString()," at ",u.toLocaleTimeString()]}),(0,Me.jsxs)("button",{onClick:async()=>{d(!0),m(new Date),setTimeout(()=>{d(!1)},2e3)},disabled:c,className:"flex items-center space-x-2 bg-white bg-opacity-70 text-[#0a2342] px-4 py-2 rounded-lg hover:bg-[#bae6fd] transition-all disabled:opacity-50",children:[(0,Me.jsx)(_n,{className:"h-4 w-4 "+(c?"animate-spin":"")}),(0,Me.jsx)("span",{children:c?"Refreshing...":"Refresh Data"})]})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border border-green-200 rounded-3xl p-4 sm:p-8 shadow-sm max-w-5xl mx-auto mt-6",children:[(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-4",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-green-600 to-emerald-600 p-4 rounded-2xl shadow-lg",children:(0,Me.jsx)(Qn,{className:"h-10 w-10 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-green-900",children:"Return on Investment Analysis"}),(0,Me.jsx)("p",{className:"text-green-700 text-lg",children:"Comprehensive value measurement across all platforms"})]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("p",{className:"text-5xl font-bold text-green-900",children:[b.roi>0?"+":"",b.roi,"%"]}),(0,Me.jsx)("p",{className:"text-green-700 font-semibold text-lg",children:"ROI This Period"}),(0,Me.jsx)("p",{className:"text-green-600 text-sm",children:b.roi>0?"Profitable Investment":"Building Foundation"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 sm:gap-6 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-white bg-opacity-80 rounded-xl p-4 sm:p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800",children:"Monthly Investment"}),(0,Me.jsx)(Qn,{className:"h-5 w-5 text-green-600"})]}),(0,Me.jsxs)("p",{className:"text-3xl font-bold text-green-900",children:["$",b.monthlyInvestment.toLocaleString()]}),(0,Me.jsx)("p",{className:"text-sm text-green-700",children:"Service cost"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-80 rounded-xl p-4 sm:p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800",children:"Value Generated"}),(0,Me.jsx)(qT,{className:"h-5 w-5 text-green-600"})]}),(0,Me.jsxs)("p",{className:"text-3xl font-bold text-green-900",children:["$",Math.round(b.valueGenerated).toLocaleString()]}),(0,Me.jsx)("p",{className:"text-sm text-green-700",children:"Total marketing value"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-80 rounded-xl p-4 sm:p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800",children:"Audience Value"}),(0,Me.jsx)(mt,{className:"h-5 w-5 text-green-600"})]}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["$",Math.round(b.breakdown.reachValue).toLocaleString()]}),(0,Me.jsxs)("p",{className:"text-sm text-green-700",children:[f.totalFollowers.toLocaleString()," followers"]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-80 rounded-xl p-4 sm:p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800",children:"Engagement Value"}),(0,Me.jsx)(ME,{className:"h-5 w-5 text-green-600"})]}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["$",Math.round(b.breakdown.engagementValue).toLocaleString()]}),(0,Me.jsxs)("p",{className:"text-sm text-green-700",children:[f.totalEngagement.toLocaleString()," engagements"]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-80 rounded-xl p-4 sm:p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsx)("h4",{className:"font-semibold text-green-800",children:"Content Value"}),(0,Me.jsx)(Ps,{className:"h-5 w-5 text-green-600"})]}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:["$",Math.round(b.breakdown.contentValue).toLocaleString()]}),(0,Me.jsxs)("p",{className:"text-sm text-green-700",children:[f.totalContent," pieces created"]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"text-xl font-semibold text-green-800 mb-4 flex items-center",children:[(0,Me.jsx)(ut,{className:"h-5 w-5 mr-2"}),"Performance Highlights"]}),(0,Me.jsxs)("ul",{className:"space-y-3",children:[(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-green-800",children:["Achieved ",(0,Me.jsxs)("strong",{children:[f.avgEngagementRate.toFixed(2),"%"]})," average engagement rate across all platforms"]})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-green-800",children:["Built an audience of ",(0,Me.jsx)("strong",{children:f.totalFollowers.toLocaleString()})," engaged followers"]})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-green-800",children:["Generated ",(0,Me.jsx)("strong",{children:f.totalEngagement.toLocaleString()})," meaningful interactions"]})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-green-800",children:["Created ",(0,Me.jsx)("strong",{children:f.totalContent})," professional content pieces"]})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"text-xl font-semibold text-green-800 mb-4 flex items-center",children:[(0,Me.jsx)(ct,{className:"h-5 w-5 mr-2"}),"Strategic Impact"]}),(0,Me.jsxs)("ul",{className:"space-y-3",children:[(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsxs)("span",{className:"text-green-800",children:["Established consistent brand presence across ",Object.values(f.platforms).filter(e=>e.followers>0).length," major platforms"]})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsx)("span",{className:"text-green-800",children:"Professional content creation saving 25+ hours weekly"})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsx)("span",{className:"text-green-800",children:"Data-driven optimization improving performance continuously"})]}),(0,Me.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,Me.jsx)("span",{className:"text-green-800",children:"Enhanced customer trust and brand credibility"})]})]})]})]}),(0,Me.jsx)("div",{className:"mt-8 pt-6 border-t border-green-200 text-center",children:(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-2xl p-6",children:[(0,Me.jsxs)("p",{className:"text-green-800 text-lg font-medium mb-2",children:[(0,Me.jsx)(qT,{className:"h-5 w-5 inline mr-2"}),(0,Me.jsx)("strong",{children:"Strategic Outcome:"})," Our comprehensive social media strategy has delivered a",(0,Me.jsxs)("span",{className:"text-2xl font-bold text-green-900 mx-2",children:[b.roi,"% ROI"]}),"while establishing your brand as a trusted authority in your industry."]}),(0,Me.jsxs)("p",{className:"text-green-700 text-sm",children:["Every dollar invested has generated ",(0,Me.jsxs)("strong",{children:["$",(b.valueGenerated/b.monthlyInvestment).toFixed(2)]})," in marketing value"]})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 max-w-5xl mx-auto mt-6",children:[(0,Me.jsx)(dD,{title:"Total Audience Reach",value:f.totalFollowers,icon:nr,color:"from-blue-500 to-blue-600",subtitle:"Across all platforms",trend:"+12.3%",trendDirection:"up"}),(0,Me.jsx)(dD,{title:"Total Engagements",value:f.totalEngagement,icon:ME,color:"from-red-500 to-red-600",subtitle:"Likes, comments, shares, views",trend:"+8.7%",trendDirection:"up"}),(0,Me.jsx)(dD,{title:"Content Published",value:f.totalContent,icon:Ps,color:"from-purple-500 to-purple-600",subtitle:"Posts, videos, stories",trend:"+15.2%",trendDirection:"up"}),(0,Me.jsx)(dD,{title:"Engagement Rate",value:`${f.avgEngagementRate.toFixed(2)}%`,icon:ct,color:"from-orange-500 to-orange-600",subtitle:"Above industry average",trend:"+2.1%",trendDirection:"up"})]}),(0,Me.jsx)("div",{className:"max-w-5xl mx-auto mt-6",children:(0,Me.jsxs)(uD,{title:"Analytics Overview",icon:ft,color:"from-indigo-500 to-purple-500",isExpanded:o.analytics,onToggle:()=>p("analytics"),stats:{primary:f.totalEngagement.toLocaleString(),label:"Total Interactions"},children:[(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Me.jsx)("div",{className:"min-w-0 w-full overflow-x-auto",children:(0,Me.jsx)(mD,{data:(()=>{const e=f.platforms.facebook,t=f.platforms.instagram,s=f.platforms.youtube;return[{name:"Facebook Likes",value:e.likes,color:"#1877F2"},{name:"Facebook Comments",value:e.comments,color:"#42A5F5"},{name:"Facebook Shares",value:e.shares,color:"#64B5F6"},{name:"Instagram Likes",value:t.likes,color:"#E4405F"},{name:"Instagram Comments",value:t.comments,color:"#F48FB1"},{name:"YouTube Views",value:Math.round(s.views/1e3),color:"#FF0000"}].filter(e=>e.value>0)})(),title:"Engagement Distribution by Platform",colors:["#1877F2","#42A5F5","#64B5F6","#E4405F","#F48FB1","#FF0000"]})}),(0,Me.jsx)("div",{className:"min-w-0 w-full overflow-x-auto",children:(0,Me.jsx)(hD,{fbData:f.platforms.facebook,igData:f.platforms.instagram,ytData:f.platforms.youtube})})]}),(0,Me.jsxs)("div",{className:"mt-8 bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-4 sm:p-6",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udcca Performance Insights"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[f.platforms.facebook.followers>0?(f.platforms.facebook.engagement/f.platforms.facebook.followers*100).toFixed(1):0,"%"]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Facebook Engagement Rate"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-pink-600 mb-2",children:[f.platforms.instagram.followers>0?(f.platforms.instagram.engagement/f.platforms.instagram.followers*100).toFixed(1):0,"%"]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Instagram Engagement Rate"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-red-600 mb-2",children:f.platforms.youtube.videos>0?Math.round(f.platforms.youtube.views/f.platforms.youtube.videos).toLocaleString():0}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Views per Video"})]})]})]})]})}),(0,Me.jsx)("div",{className:"max-w-5xl mx-auto mt-6",children:(0,Me.jsx)(uD,{title:"Facebook Performance",icon:dn,color:"from-blue-500 to-blue-600",isExpanded:o.facebook,onToggle:()=>p("facebook"),stats:{primary:f.platforms.facebook.followers.toLocaleString(),label:`${f.platforms.facebook.pages} Page${1!==f.platforms.facebook.pages?"s":""}`},children:(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:f.platforms.facebook.pages}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Connected Pages"})]}),(0,Me.jsxs)("div",{className:"bg-green-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f.platforms.facebook.likes.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Total Likes"})]}),(0,Me.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:f.platforms.facebook.comments.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Total Comments"})]}),(0,Me.jsxs)("div",{className:"bg-orange-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:f.platforms.facebook.shares.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Total Shares"})]})]}),v()&&(0,Me.jsxs)("div",{className:"bg-blue-50 rounded-2xl p-4 sm:p-6",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-blue-900 mb-4",children:"\ud83d\udcc4 Page Performance Breakdown"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:v().map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsx)("h5",{className:"font-semibold text-gray-900 mb-3",children:e.name}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Followers:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:e.followers.toLocaleString()})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Posts:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:e.posts})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Engagement Rate:"}),(0,Me.jsxs)("span",{className:"font-bold ml-1",children:[e.engagementRate,"%"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Total Likes:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:e.totalLikes.toLocaleString()})]})]}),e.recentPosts.length>0&&(0,Me.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Recent Posts:"}),e.recentPosts.map((e,t)=>{var s,n,r,a,i;return(0,Me.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:["\u2022 ",e.message?e.message.substring(0,60)+"...":"Media post",(0,Me.jsxs)("span",{className:"text-blue-600 ml-1",children:["(",((null===(s=e.likes)||void 0===s||null===(n=s.summary)||void 0===n?void 0:n.total_count)||0)+((null===(r=e.comments)||void 0===r||null===(a=r.summary)||void 0===a?void 0:a.total_count)||0)+((null===(i=e.shares)||void 0===i?void 0:i.count)||0)," interactions)"]})]},t)})]})]},t))})]})]})})}),(0,Me.jsx)("div",{className:"max-w-5xl mx-auto mt-6",children:(0,Me.jsx)(uD,{title:"Instagram Performance",icon:un,color:"from-pink-500 to-purple-500",isExpanded:o.instagram,onToggle:()=>p("instagram"),stats:{primary:f.platforms.instagram.followers.toLocaleString(),label:"Followers"},children:(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-pink-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:f.platforms.instagram.followers.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Followers"})]}),(0,Me.jsxs)("div",{className:"bg-purple-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:f.platforms.instagram.posts}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Posts"})]}),(0,Me.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-red-600",children:f.platforms.instagram.likes.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Total Likes"})]}),(0,Me.jsxs)("div",{className:"bg-indigo-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:f.platforms.instagram.comments.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Total Comments"})]})]}),y()&&(0,Me.jsxs)("div",{className:"bg-pink-50 rounded-2xl p-4 sm:p-6",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-pink-900 mb-4",children:"\ud83d\udcf8 Account Performance Breakdown"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:y().map((e,t)=>(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,Me.jsxs)("h5",{className:"font-semibold text-gray-900 mb-3",children:["@",e.username]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Followers:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:e.followers.toLocaleString()})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Posts:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:e.posts})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Engagement Rate:"}),(0,Me.jsxs)("span",{className:"font-bold ml-1",children:[e.engagementRate,"%"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Total Likes:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:e.totalLikes.toLocaleString()})]})]}),e.biography&&(0,Me.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Bio:"}),(0,Me.jsxs)("p",{className:"text-xs text-gray-600",children:[e.biography.substring(0,100),"..."]})]}),e.recentMedia.length>0&&(0,Me.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Recent Media:"}),(0,Me.jsx)("div",{className:"flex space-x-2",children:e.recentMedia.map((e,t)=>(0,Me.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded overflow-hidden",children:(0,Me.jsx)("img",{src:e.thumbnail_url||e.media_url,alt:"",className:"w-full h-full object-cover"})},t))})]})]},t))})]})]})})}),(0,Me.jsx)("div",{className:"max-w-5xl mx-auto mt-6",children:(0,Me.jsx)(uD,{title:"YouTube Performance",icon:vn,color:"from-red-500 to-red-600",isExpanded:o.youtube,onToggle:()=>p("youtube"),stats:{primary:f.platforms.youtube.subscribers.toLocaleString(),label:"Subscribers"},children:(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Me.jsxs)("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-red-600",children:f.platforms.youtube.subscribers.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Subscribers"})]}),(0,Me.jsxs)("div",{className:"bg-orange-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:f.platforms.youtube.videos}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Videos"})]}),(0,Me.jsxs)("div",{className:"bg-yellow-50 rounded-xl p-4 text-center",children:[(0,Me.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:[(f.platforms.youtube.views/1e6).toFixed(1),"M"]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Total Views"})]}),(0,Me.jsxs)("div",{className:"bg-pink-50 rounded-xl p-4 text-center",children:[(0,Me.jsx)("div",{className:"text-2xl font-bold text-pink-600",children:Math.round(f.platforms.youtube.watchTime/60).toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Hours Watched"})]})]}),j()&&(0,Me.jsxs)("div",{className:"bg-red-50 rounded-2xl p-4 sm:p-6",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-red-900 mb-4",children:"\ud83c\udfa5 Channel Performance Analysis"}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[j().thumbnail&&(0,Me.jsx)("img",{src:j().thumbnail,alt:"Channel",className:"w-16 h-16 rounded-full border-4 border-red-200"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h5",{className:"font-semibold text-gray-900",children:j().channelName}),j().customUrl&&(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["@",j().customUrl]})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Subscribers:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:j().subscribers.toLocaleString()})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Total Views:"}),(0,Me.jsxs)("span",{className:"font-bold ml-1",children:[(j().totalViews/1e6).toFixed(1),"M"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Videos:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:j().videoCount})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Avg Views/Video:"}),(0,Me.jsx)("span",{className:"font-bold ml-1",children:j().avgViewsPerVideo.toLocaleString()})]})]}),j().recentVideos.length>0&&(0,Me.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,Me.jsx)("p",{className:"text-sm text-gray-500 mb-3",children:"Recent Videos:"}),(0,Me.jsx)("div",{className:"space-y-2",children:j().recentVideos.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center space-x-3 text-xs",children:[(0,Me.jsx)("div",{className:"w-12 h-8 bg-gray-200 rounded overflow-hidden",children:(0,Me.jsx)("img",{src:e.snippet.thumbnails.default.url,alt:"",className:"w-full h-full object-cover"})}),(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsxs)("p",{className:"text-gray-800 font-medium",children:[e.snippet.title.substring(0,40),"..."]}),(0,Me.jsx)("p",{className:"text-gray-500",children:new Date(e.snippet.publishedAt).toLocaleDateString()})]})]},t))})]})]})]})]})})}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-slate-50 border border-gray-200 rounded-3xl p-4 sm:p-8 shadow-sm max-w-5xl mx-auto mt-6",children:[(0,Me.jsx)("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-4",children:(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsx)("div",{className:"bg-gradient-to-br from-slate-600 to-gray-600 p-4 rounded-2xl shadow-lg",children:(0,Me.jsx)(lt,{className:"h-10 w-10 text-white"})}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Content Performance Analysis"}),(0,Me.jsx)("p",{className:"text-gray-700 text-lg",children:"Deep insights into your content strategy effectiveness"})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,Me.jsx)(ft,{className:"h-6 w-6 text-blue-600"})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(f.totalEngagement/f.totalContent||0).toFixed(0)})]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Avg Engagement per Content"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Interactions per post/video"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-green-100 p-3 rounded-lg",children:(0,Me.jsx)(on,{className:"h-6 w-6 text-green-600"})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.round(f.totalContent/30)})]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Content per Day"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Average daily output"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-purple-100 p-3 rounded-lg",children:(0,Me.jsx)(Jn,{className:"h-6 w-6 text-purple-600"})}),(0,Me.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[f.avgEngagementRate.toFixed(1),"%"]})]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Overall Engagement Rate"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Industry benchmark: 1-3%"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsx)("div",{className:"bg-orange-100 p-3 rounded-lg",children:(0,Me.jsx)(Un,{className:"h-6 w-6 text-orange-600"})}),(0,Me.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(f.totalFollowers/(f.totalContent||1))})]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 font-medium",children:"Followers per Content"}),(0,Me.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Audience growth efficiency"})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-gray-100 overflow-x-auto",children:[(0,Me.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-6",children:"\ud83d\udcca Platform Performance Comparison"}),(0,Me.jsx)("div",{className:"h-80 min-w-[320px]",children:(0,Me.jsx)(Pr,{width:"100%",height:"100%",children:(0,Me.jsxs)(KT,{cx:"50%",cy:"50%",innerRadius:"20%",outerRadius:"80%",data:[{name:"Facebook",engagement:Math.min(100,f.platforms.facebook.engagement/1e3),followers:Math.min(100,f.platforms.facebook.followers/1e3),fill:"#1877F2"},{name:"Instagram",engagement:Math.min(100,f.platforms.instagram.engagement/100),followers:Math.min(100,f.platforms.instagram.followers/1e3),fill:"#E4405F"},{name:"YouTube",engagement:Math.min(100,f.platforms.youtube.views/1e4),followers:Math.min(100,f.platforms.youtube.subscribers/1e3),fill:"#FF0000"}],children:[(0,Me.jsx)(YM,{dataKey:"engagement",cornerRadius:10}),(0,Me.jsx)(cD,{}),(0,Me.jsx)(mS,{})]})})})]})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 border border-indigo-200 rounded-3xl p-4 sm:p-8 shadow-lg max-w-5xl mx-auto mt-6",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl mb-4 shadow-lg",children:(0,Me.jsx)(nn,{className:"h-8 w-8 text-white"})}),(0,Me.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-900 to-purple-900 bg-clip-text text-transparent mb-2",children:"Strategic Impact Report"}),(0,Me.jsx)("p",{className:"text-gray-700 text-lg",children:"Comprehensive analysis of your social media investment returns"})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"text-xl font-semibold text-indigo-800 mb-6 flex items-center",children:[(0,Me.jsx)(ut,{className:"h-6 w-6 mr-3"}),"Quantifiable Achievements"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-indigo-800 font-medium",children:"Total Audience Built"}),(0,Me.jsx)("span",{className:"text-2xl font-bold text-indigo-900",children:f.totalFollowers.toLocaleString()})]}),(0,Me.jsx)("p",{className:"text-sm text-indigo-600 mt-1",children:"Engaged followers across all platforms"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-indigo-800 font-medium",children:"Engagement Generation"}),(0,Me.jsx)("span",{className:"text-2xl font-bold text-indigo-900",children:f.totalEngagement.toLocaleString()})]}),(0,Me.jsx)("p",{className:"text-sm text-indigo-600 mt-1",children:"Meaningful interactions created"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-indigo-800 font-medium",children:"Content Production"}),(0,Me.jsx)("span",{className:"text-2xl font-bold text-indigo-900",children:f.totalContent})]}),(0,Me.jsx)("p",{className:"text-sm text-indigo-600 mt-1",children:"Professional pieces created & published"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-indigo-800 font-medium",children:"Marketing Value Delivered"}),(0,Me.jsxs)("span",{className:"text-2xl font-bold text-indigo-900",children:["$",Math.round(b.valueGenerated).toLocaleString()]})]}),(0,Me.jsx)("p",{className:"text-sm text-indigo-600 mt-1",children:"Equivalent advertising value generated"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("h4",{className:"text-xl font-semibold text-indigo-800 mb-6 flex items-center",children:[(0,Me.jsx)(qT,{className:"h-6 w-6 mr-3"}),"Strategic Value Creation"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)(nr,{className:"h-5 w-5 text-blue-600"}),(0,Me.jsx)("span",{className:"font-semibold text-indigo-800",children:"Brand Authority Establishment"})]}),(0,Me.jsxs)("p",{className:"text-sm text-indigo-700",children:["Positioned your brand as a thought leader with consistent, high-quality content across ",Object.values(f.platforms).filter(e=>e.followers>0).length," major platforms"]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)(mt,{className:"h-5 w-5 text-green-600"}),(0,Me.jsx)("span",{className:"font-semibold text-indigo-800",children:"Community Building"})]}),(0,Me.jsxs)("p",{className:"text-sm text-indigo-700",children:["Cultivated an engaged community of ",f.totalFollowers.toLocaleString()," followers who actively interact with your content"]})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)(on,{className:"h-5 w-5 text-purple-600"}),(0,Me.jsx)("span",{className:"font-semibold text-indigo-800",children:"Time & Resource Optimization"})]}),(0,Me.jsx)("p",{className:"text-sm text-indigo-700",children:"Professional content creation and management saving 30+ hours weekly while maintaining consistent quality"})]}),(0,Me.jsxs)("div",{className:"bg-white bg-opacity-70 rounded-xl p-4 border border-white border-opacity-50",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)(ft,{className:"h-5 w-5 text-orange-600"}),(0,Me.jsx)("span",{className:"font-semibold text-indigo-800",children:"Data-Driven Growth"})]}),(0,Me.jsxs)("p",{className:"text-sm text-indigo-700",children:["Continuous optimization based on analytics, resulting in ",f.avgEngagementRate.toFixed(1),"% engagement rate (above industry average)"]})]})]})]})]}),(0,Me.jsx)("div",{className:"mt-12 pt-8 border-t border-indigo-200",children:(0,Me.jsx)("div",{className:"bg-gradient-to-r from-white to-blue-50 rounded-2xl p-4 sm:p-8 shadow-lg border border-white",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[(0,Me.jsx)(dt,{className:"h-8 w-8 text-indigo-600"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-indigo-900",children:"Executive Summary"}),(0,Me.jsx)(dt,{className:"h-8 w-8 text-indigo-600"})]}),(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl p-6 mb-6",children:[(0,Me.jsxs)("p",{className:"text-lg text-green-800 font-semibold mb-2",children:[(0,Me.jsx)("strong",{children:"ROI Achievement:"})," ",b.roi>0?`+${b.roi}%`:`${b.roi}%`," Return on Investment"]}),(0,Me.jsxs)("p",{className:"text-green-700",children:["Your $",b.monthlyInvestment.toLocaleString()," monthly investment has generated",(0,Me.jsxs)("strong",{children:[" $",Math.round(b.valueGenerated).toLocaleString()]})," in marketing value, delivering a ",(0,Me.jsxs)("strong",{children:[(b.valueGenerated/b.monthlyInvestment).toFixed(2),"x"]})," return multiple."]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-indigo-600 mb-2",children:f.totalFollowers.toLocaleString()}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Total Audience Reached"}),(0,Me.jsxs)("div",{className:"text-xs text-indigo-600 mt-1",children:["Equivalent to $",Math.round(b.breakdown.reachValue).toLocaleString()," in advertising value"]})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[f.avgEngagementRate.toFixed(1),"%"]}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Engagement Rate"}),(0,Me.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"Significantly above industry average"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-pink-600 mb-2",children:f.totalContent}),(0,Me.jsx)("div",{className:"text-sm text-gray-600",children:"Content Pieces"}),(0,Me.jsx)("div",{className:"text-xs text-pink-600 mt-1",children:"Professional quality across all platforms"})]})]})]})})})]}),(0,Me.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-4 sm:p-6 shadow-sm max-w-5xl mx-auto mt-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(nn,{className:"h-5 w-5 mr-2"}),"Integration Status & Data Sources"]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Me.jsxs)("div",{className:"p-4 rounded-xl border-2 "+(e?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"),children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)(dn,{className:"h-5 w-5 text-blue-600"}),(0,Me.jsx)("span",{className:"font-medium",children:"Facebook Pages"}),e?(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600"}):(0,Me.jsx)(We,{className:"h-4 w-4 text-gray-400"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:e?`${Array.isArray(e)?e.length:1} pages connected`:"Not connected"}),e&&Array.isArray(e)&&(0,Me.jsxs)("div",{className:"mt-2 text-xs text-green-700",children:["Total posts loaded: ",e.reduce((e,t)=>{var s;return e+((null===(s=t.posts)||void 0===s?void 0:s.length)||0)},0)]})]}),(0,Me.jsxs)("div",{className:"p-4 rounded-xl border-2 "+(s?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"),children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)(un,{className:"h-5 w-5 text-pink-600"}),(0,Me.jsx)("span",{className:"font-medium",children:"Instagram Business"}),s?(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600"}):(0,Me.jsx)(We,{className:"h-4 w-4 text-gray-400"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:s?"Account connected":"Not connected"})]}),(0,Me.jsxs)("div",{className:"p-4 rounded-xl border-2 "+(a?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"),children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Me.jsx)(vn,{className:"h-5 w-5 text-red-600"}),(0,Me.jsx)("span",{className:"font-medium",children:"YouTube Channel"}),a?(0,Me.jsx)(Je,{className:"h-4 w-4 text-green-600"}):(0,Me.jsx)(We,{className:"h-4 w-4 text-gray-400"})]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600",children:a?"Channel connected":"Not connected"})]})]}),(0,Me.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:(0,Me.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Me.jsx)("strong",{children:"\ud83d\udcca Data Accuracy:"})," All metrics are pulled directly from platform APIs in real-time. Analytics calculations are based on the most recent 30-day period with automated daily updates."]})})]}),(0,Me.jsx)("div",{style:{display:"none"},children:h&&"undefined"!==typeof window&&(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(TE,{onData:t}),(0,Me.jsx)(FE,{onData:n}),(0,Me.jsx)(YE,{onData:i})]})})]})})},gD=Ve("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const fD=function(){const e=te(),{logout:t}=Le(),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),c=function(){let e="";try{if(e=(localStorage.getItem("userEmail")||"").toLowerCase(),!e){const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);s.email&&(e=s.email.toLowerCase())}}}catch(GB){e=""}return e}();(0,r.useEffect)(()=>{c||e("/content-creator/login")},[c,e]),(0,r.useEffect)(()=>{if(!c)return;(async()=>{l(!0);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars"),t=await e.json();let s=[];t.forEach(e=>{Array.isArray(e.contentItems)&&e.contentItems.forEach(t=>{var n;s.push({...t,customerName:e.customerName||e.name||e.customer||"",customerId:e.customerId||e.customer_id||(null===(n=e.customer)||void 0===n?void 0:n._id)||"",customer:e.customer||e.customerName||e.name||"",id:t.id||t._id||t.title||Math.random().toString(36).slice(2)})})});const n=s.filter(e=>(e.assignedTo||"").toLowerCase()===c);i(n)}catch(e){i([])}finally{l(!1)}})()},[c]);const d={newContentAssigned:a.filter(e=>"assigned"===(e.status||"assigned")).length,contentWaitingInputs:a.filter(e=>"waiting_input"===(e.status||"assigned")).length,contentApproved:a.filter(e=>"approved"===(e.status||"assigned")).length,contentPublished:a.filter(e=>"published"===(e.status||"assigned")).length},u=[...a].sort((e,t)=>new Date(t.dueDate)-new Date(e.dueDate)).slice(0,3),m=t=>{e(t&&"all"!==t?`/content-creator/assignments?filter=${t}`:"/content-creator/assignments")},h=t=>{n(!1),e(t)};return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,Me.jsxs)("div",{className:"flex items-center min-w-0",children:[(0,Me.jsx)("button",{className:"mr-2 focus:outline-none",onClick:()=>e("/content-creator"),"aria-label":"Go to Dashboard",style:{background:"none",border:"none",padding:0},children:(0,Me.jsx)(Xe,{size:"small"})}),(0,Me.jsx)("span",{className:"ml-2 text-base sm:text-xl font-bold text-purple-900 truncate",children:"Content Creator Portal"})]}),(0,Me.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[(0,Me.jsxs)("button",{className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 relative",children:[(0,Me.jsx)(st,{className:"h-5 w-5"}),(0,Me.jsx)("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsxs)("button",{onClick:()=>{n(!s)},className:"flex items-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:[(0,Me.jsx)(He,{className:"h-4 w-4"}),(0,Me.jsx)(nt,{className:"h-4 w-4 ml-1"})]}),s&&(0,Me.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border",children:[(0,Me.jsx)("button",{onClick:()=>h("/content-creator/profile"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"My Profile"}),(0,Me.jsx)("button",{onClick:()=>h("/content-creator/settings"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Settings"}),(0,Me.jsx)("hr",{className:"my-1"}),(0,Me.jsx)("button",{onClick:()=>{t(),e("/content-creator/login")},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})]})]})]})})}),(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8",children:(0,Me.jsxs)("div",{className:"space-y-3 sm:space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-lg shadow-lg p-3 sm:p-4 md:p-6 text-white",children:[(0,Me.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Welcome, Content Creator!"}),(0,Me.jsx)("p",{className:"text-purple-100 text-sm sm:text-base",children:"Manage your content assignments and track your progress"})]}),(0,Me.jsxs)("div",{className:"flex flex-col gap-3 md:grid md:grid-cols-4 md:gap-6",children:[(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4 md:p-6 cursor-pointer hover:shadow-lg transition-shadow w-full min-w-0",onClick:()=>m("assigned"),children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,Me.jsx)(gD,{className:"h-6 w-6 text-blue-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"New Content Assigned"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:d.newContentAssigned})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4 md:p-6 cursor-pointer hover:shadow-lg transition-shadow w-full min-w-0",onClick:()=>m("waiting_input"),children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-orange-100 rounded-full",children:(0,Me.jsx)(fn,{className:"h-6 w-6 text-orange-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Content Waiting Inputs"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:d.contentWaitingInputs})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4 md:p-6 cursor-pointer hover:shadow-lg transition-shadow w-full min-w-0",onClick:()=>m("approved"),children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,Me.jsx)(Je,{className:"h-6 w-6 text-green-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Content Approved"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:d.contentApproved})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4 md:p-6 cursor-pointer hover:shadow-lg transition-shadow w-full min-w-0",onClick:()=>m("published"),children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,Me.jsx)(nr,{className:"h-6 w-6 text-purple-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Content Published"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:d.contentPublished})]})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4 md:p-6 w-full min-w-0",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Assignments"}),(0,Me.jsx)("div",{className:"space-y-4",children:o?(0,Me.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading..."}):0===u.length?(0,Me.jsx)("div",{className:"text-gray-400 text-sm",children:"No recent assignments."}):u.map(e=>{const t=e.status||"assigned";return(0,Me.jsxs)("div",{className:"flex items-center justify-between border-b pb-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"font-medium",children:e.customerName||e.customer||""}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:e.type}),(0,Me.jsxs)("p",{className:"text-xs text-gray-400",children:["Due: ",bs(new Date(e.dueDate),"MMM dd, yyyy")]})]}),(0,Me.jsx)("span",{className:"px-3 py-1 rounded-full text-sm "+("assigned"===t?"bg-blue-100 text-blue-800":"in_progress"===t?"bg-yellow-100 text-yellow-800":"waiting_input"===t?"bg-orange-100 text-orange-800":"approved"===t?"bg-green-100 text-green-800":"published"===t?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:"string"===typeof t?t.replace("_"," ").charAt(0).toUpperCase()+t.replace("_"," ").slice(1):"Assigned"})]},e.id)})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4 md:p-6 w-full min-w-0",children:[(0,Me.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)("button",{onClick:()=>m("all"),className:"w-full text-left p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(gD,{className:"h-5 w-5 text-gray-600 mr-3"}),(0,Me.jsx)("span",{children:"View All Assignments"})]})}),(0,Me.jsx)("button",{onClick:()=>e("/content-creator/portfolio"),className:"w-full text-left p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-600 mr-3"}),(0,Me.jsx)("span",{children:"View My Portfolio"})]})}),(0,Me.jsx)("button",{onClick:()=>e("/content-creator/profile"),className:"w-full text-left p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(He,{className:"h-5 w-5 text-gray-600 mr-3"}),(0,Me.jsx)("span",{children:"Manage Profile"})]})}),(0,Me.jsx)("button",{onClick:()=>e("/content-creator/settings"),className:"w-full text-left p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(on,{className:"h-5 w-5 text-gray-600 mr-3"}),(0,Me.jsx)("span",{children:"Settings"})]})}),(0,Me.jsx)("button",{onClick:()=>e("/content-creator/ai-image-generator"),className:"w-full text-left p-3 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(gn,{className:"h-5 w-5 text-gray-600 mr-3"}),(0,Me.jsx)("span",{children:"AI Image Generator"})]})})]})]})]})]})})}),(0,Me.jsx)(it,{}),s&&(0,Me.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})};const bD=function(){const[e,t]=(0,r.useState)({name:"",email:"",mobile:"",specialization:"",experience:"",password:"",confirmPassword:""}),[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{contentCreatorSignup:u}=Le(),m=te(),h=e=>{const{name:s,value:n}=e.target;t(e=>({...e,[s]:n}))},x=0===(p=e.password).length?{strength:0,text:"",color:""}:p.length<8?{strength:1,text:"Weak",color:"text-red-500"}:p.length<10||!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(p)?{strength:2,text:"Fair",color:"text-yellow-500"}:/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/.test(p)?{strength:4,text:"Strong",color:"text-green-500"}:{strength:3,text:"Good",color:"text-blue-500"};var p;return(0,Me.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50",children:[(0,Me.jsx)("div",{className:"flex-1 flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-6",children:(0,Me.jsx)("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-lg",children:(0,Me.jsx)(pt,{className:"h-8 w-8 text-white"})})}),(0,Me.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Content Creator Portal"}),(0,Me.jsx)("h2",{className:"mt-3 text-2xl font-bold text-gray-900",children:"Join Our Community"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-600",children:"Create your creator account and start your journey"})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:[o&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm font-medium",children:o})]}),(0,Me.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault();const s=e.name?e.email?/\S+@\S+\.\S+/.test(e.email)?e.mobile?/^[+]?[0-9]{10,15}$/.test(e.mobile.replace(/\s/g,""))?e.specialization?e.experience?e.password?e.password.length<8?"Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.password)?e.password!==e.confirmPassword?"Passwords do not match":"":"Password must contain at least one uppercase letter, one lowercase letter, and one number":"Password is required":"Experience level is required":"Specialization is required":"Please enter a valid mobile number":"Mobile number is required":"Please enter a valid email address":"Email is required":"Full name is required";if(s)l(s);else try{l(""),d(!0),await u(e.email,e.password,e),m("/content-creator")}catch(i){var n,r,a;null!==(n=i.message)&&void 0!==n&&n.includes("already exists")||null!==(r=i.message)&&void 0!==r&&r.includes("409")?l("An account with this email already exists. Please sign in instead."):null!==(a=i.message)&&void 0!==a&&a.includes("Invalid email")?l("Please enter a valid email address."):l(i.message||"Failed to create account. Please try again."),console.error(i)}finally{d(!1)}},children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(He,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your full name",value:e.name,onChange:h})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qe,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your email address",value:e.email,onChange:h})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"mobile",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mobile Number"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qs,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"mobile",name:"mobile",type:"tel",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"+91 9876543210",value:e.mobile,onChange:h})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"specialization",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Specialization"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(pt,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsxs)("select",{id:"specialization",name:"specialization",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400 appearance-none",value:e.specialization,onChange:h,children:[(0,Me.jsx)("option",{value:"",children:"Select your specialization"}),(0,Me.jsx)("option",{value:"social-media",children:"Social Media Management"}),(0,Me.jsx)("option",{value:"graphic-design",children:"Graphic Design"}),(0,Me.jsx)("option",{value:"video-editing",children:"Video Editing"}),(0,Me.jsx)("option",{value:"content-writing",children:"Content Writing"}),(0,Me.jsx)("option",{value:"photography",children:"Photography"}),(0,Me.jsx)("option",{value:"web-design",children:"Web Design"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"experience",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Experience Level"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Zn,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsxs)("select",{id:"experience",name:"experience",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400 appearance-none",value:e.experience,onChange:h,children:[(0,Me.jsx)("option",{value:"",children:"Select experience level"}),(0,Me.jsx)("option",{value:"beginner",children:"Beginner (0-1 years)"}),(0,Me.jsx)("option",{value:"intermediate",children:"Intermediate (2-4 years)"}),(0,Me.jsx)("option",{value:"advanced",children:"Advanced (5-7 years)"}),(0,Me.jsx)("option",{value:"expert",children:"Expert (8+ years)"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Create a strong password",value:e.password,onChange:h}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{n(!s)},children:s?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),e.password&&(0,Me.jsxs)("div",{className:"mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Password strength:"}),(0,Me.jsx)("span",{className:`text-xs font-medium ${x.color}`,children:x.text})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(1===x.strength?"bg-red-500 w-1/4":2===x.strength?"bg-yellow-500 w-2/4":3===x.strength?"bg-blue-500 w-3/4":4===x.strength?"bg-green-500 w-full":"w-0")})}),(0,Me.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Use 8+ characters with uppercase, lowercase, numbers, and symbols"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:a?"text":"password",autoComplete:"new-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Confirm your password",value:e.confirmPassword,onChange:h}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{i(!a)},children:a?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]}),e.confirmPassword&&(0,Me.jsx)("div",{className:"mt-2 flex items-center",children:e.password===e.confirmPassword?(0,Me.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords match"})]}):(0,Me.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Me.jsx)(We,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords do not match"})]})})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating account..."]}):(0,Me.jsxs)("div",{className:"flex items-center",children:["Create Account",(0,Me.jsx)(Qe,{className:"h-5 w-5 ml-2"})]})})})]}),(0,Me.jsxs)("div",{className:"mt-8 text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsx)(Oe,{to:"/content-creator/login",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200",children:"Sign in instead"})})]})]}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})})]})}),(0,Me.jsx)(it,{})]})};const vD=function(){const[e,t]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{contentCreatorLogin:u}=Le(),m=te();return"function"!==typeof u?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,Me.jsxs)("div",{className:"text-red-600 font-bold text-center",children:["AuthContext is missing ",(0,Me.jsx)("code",{children:"contentCreatorLogin"})," function.",(0,Me.jsx)("br",{}),"Please check your AuthContext implementation."]})}):(0,Me.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-purple-50 via-indigo-50 to-blue-50",children:[(0,Me.jsx)("div",{className:"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-6",children:(0,Me.jsx)("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-lg",children:(0,Me.jsx)(pt,{className:"h-8 w-8 text-white"})})}),(0,Me.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Content Creator Portal"}),(0,Me.jsx)("h2",{className:"mt-3 text-2xl font-bold text-gray-900",children:"Welcome Back"}),(0,Me.jsx)("p",{className:"mt-2 text-gray-600",children:"Sign in to your creator account"})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-gray-200/50",children:[o&&(0,Me.jsxs)("div",{className:"mb-6 bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-start",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("span",{className:"text-sm font-medium",children:o})]}),(0,Me.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),e&&s)try{l(""),d(!0),await u(e,s),m("/content-creator")}catch(i){var n,r,a;null!==(n=i.message)&&void 0!==n&&n.includes("Invalid credentials")||null!==(r=i.message)&&void 0!==r&&r.includes("401")?l("Invalid email or password. Please check your credentials or sign up to create an account."):null!==(a=i.message)&&void 0!==a&&a.includes("User not found")?l("No account found with this email. Please sign up to create an account."):l("Failed to log in. Please try again."),console.error(i)}finally{d(!1)}else l("Please enter both email and password")},children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qe,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your email address",value:e,onChange:e=>t(e.target.value)})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ye,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm transition-all duration-200 hover:border-gray-400",placeholder:"Enter your password",value:s,onChange:e=>n(e.target.value)}),(0,Me.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>{i(!a)},children:a?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors"})})]})]}),(0,Me.jsx)("div",{children:(0,Me.jsx)("button",{type:"submit",disabled:c,className:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:c?(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):(0,Me.jsxs)("div",{className:"flex items-center",children:["Sign In",(0,Me.jsx)(Qe,{className:"h-5 w-5 ml-2"})]})})})]}),(0,Me.jsxs)("div",{className:"mt-8 text-center",children:[(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"New to our platform?"})})]}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsx)(Oe,{to:"/content-creator/signup",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-200",children:"Create an account"})})]})]}),(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})}),(0,Me.jsx)(it,{})]})};const yD=function(){const e=te(),[t,s]=(0,r.useState)("all"),[n,a]=(0,r.useState)(""),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)({}),d=function(){let e="";try{if(e=(localStorage.getItem("userEmail")||"").toLowerCase(),!e){const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);s.email&&(e=s.email.toLowerCase())}}}catch(GB){e=""}return e}();(0,r.useEffect)(()=>{d||e("/content-creator/login")},[d,e]),(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customers"),t=await e.json();if(Array.isArray(t.customers)){const e={};t.customers.forEach(t=>{e[t._id||t.id]=t.name||t.customerName||t.email||""}),c(e)}}catch(e){c({})}})()},[]),(0,r.useEffect)(()=>{d&&d.length>0&&Object.keys(l).length>0&&(async()=>{try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars"),t=await e.json();let s=[];t.forEach(e=>{Array.isArray(e.contentItems)&&e.contentItems.forEach(t=>{var n;s.push({...t,calendarName:e.name||e.customerName||e.customer||"",calendarId:e._id||e.id,customerId:e.customerId||e.customer_id||(null===(n=e.customer)||void 0===n?void 0:n._id)||"",customerName:l[e.customerId||e.customer_id||e.customer&&e.customer._id]||"",id:t.id||t._id||t.title||Math.random().toString(36).slice(2)})})});const n=s.filter(e=>(e.assignedTo||"").toLowerCase()===d);o(n)}catch(e){o([])}})()},[d,l]);const u=e=>{switch(e){case"assigned":return"bg-blue-50 text-blue-700 border-blue-200";case"in_progress":return"bg-amber-50 text-amber-700 border-amber-200";case"waiting_input":return"bg-orange-50 text-orange-700 border-orange-200";case"approved":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"published":return"bg-purple-50 text-purple-700 border-purple-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},m=e=>{switch(e){case"assigned":default:return(0,Me.jsx)(We,{className:"h-4 w-4"});case"in_progress":return(0,Me.jsx)(on,{className:"h-4 w-4"});case"waiting_input":return(0,Me.jsx)(fn,{className:"h-4 w-4"});case"approved":case"published":return(0,Me.jsx)(Je,{className:"h-4 w-4"})}},h=e=>{switch((e||"").toLowerCase()){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},x=i.filter(e=>{const s="all"===t||e.status===t,r=(e.customer||"").toLowerCase().includes(n.toLowerCase())||(e.title||"").toLowerCase().includes(n.toLowerCase())||(e.type||"").toLowerCase().includes(n.toLowerCase());return s&&r});return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex flex-col",children:[(0,Me.jsx)("header",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200/50 sticky top-0 z-10",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>e("/content-creator"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-lg",children:(0,Me.jsx)(pt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"ml-3",children:[(0,Me.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Content Creator Portal"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"Assignment Dashboard"})]})]})]})})})}),(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"My Assignments"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-3 text-lg",children:"Manage and track your content creation tasks"})]}),(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,Me.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(mn,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Me.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"bg-white border border-gray-300 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",children:[(0,Me.jsx)("option",{value:"all",children:"All Assignments"}),(0,Me.jsx)("option",{value:"assigned",children:"New Assigned"}),(0,Me.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,Me.jsx)("option",{value:"waiting_input",children:"Waiting Input"}),(0,Me.jsx)("option",{value:"approved",children:"Approved"}),(0,Me.jsx)("option",{value:"published",children:"Published"})]})]})}),(0,Me.jsx)("div",{className:"flex items-center",children:(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)(tt,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Me.jsx)("input",{type:"text",placeholder:"Search assignments...",value:n,onChange:e=>a(e.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm w-64"})]})})]})}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Me.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Assignments (",x.length,")"]})}),(0,Me.jsxs)("div",{className:"space-y-4",children:[x.map((t,s)=>(0,Me.jsx)("div",{className:"bg-white rounded-xl border border-gray-200/50 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden group",children:(0,Me.jsx)("div",{className:"p-6",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Me.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:t.title}),(0,Me.jsx)("span",{className:"px-2 py-1 rounded bg-gray-100 text-xs text-gray-700 font-medium",children:t.calendarName}),(0,Me.jsxs)("span",{className:"text-xs text-gray-400 font-mono",children:["ID: ",t.id]})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2 sm:mt-0",children:[(0,Me.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${u(t.status)}`,children:[m(t.status),(0,Me.jsx)("span",{className:"ml-1 capitalize",children:(t.status||"assigned").replace("_"," ")})]}),(0,Me.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${h(t.priority)}`,children:[(t.priority||"Medium").toUpperCase()," PRIORITY"]})]})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-8 mt-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Customer"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900 font-semibold",children:t.customerName||t.customer||""})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Content Type"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900",children:t.type})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Due Date"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900",children:bs(new Date(t.dueDate),"MMM dd, yyyy")})]})]}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:(0,Me.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:t.description})})]}),(0,Me.jsxs)("div",{className:"flex flex-col gap-3 min-w-[180px]",children:[(0,Me.jsxs)("button",{onClick:()=>(t=>{e(`/content-creator/upload/${t.id||t._id}`)})(t),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(pn,{className:"h-5 w-5 mr-2"}),"Start Work"]}),(0,Me.jsxs)("button",{onClick:()=>(t=>{e("/content-creator/portfolio",{state:{assignmentId:t.id}})})(t),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Ke,{className:"h-5 w-5 mr-2"}),"View Portfolio"]})]})]})})},t.id||t._id||s)),0===x.length&&(0,Me.jsxs)("div",{className:"text-center py-12",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(We,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignments found"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No assignments match your current search criteria."})]})]})]})]})})}),(0,Me.jsx)(it,{})]})};const jD=function(){var e,t,s;const n=te(),[a,i]=(0,r.useState)(null),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(0),[h,x]=(0,r.useState)(0),[p,g]=(0,r.useState)([]),[f,b]=(0,r.useState)([]),[v,y]=(0,r.useState)(null),[j,w]=(0,r.useState)(null),N=function(){let e="";try{if(e=(localStorage.getItem("userEmail")||"").toLowerCase(),!e){const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);s.email&&(e=s.email.toLowerCase())}}}catch(GB){e=""}return e}();(0,r.useEffect)(()=>{N||n("/content-creator/login")},[N,n]),(0,r.useEffect)(()=>{k()},[]),(0,r.useEffect)(()=>{a&&a.versions&&a.versions[u]?g(a.versions[u].comments||[]):g([])},[a,u]),(0,r.useEffect)(()=>{const e=p.filter(e=>(void 0!==e.mediaIndex?e.mediaIndex:0)===h);b(e)},[p,h]);const k=async()=>{try{d(!0);const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/content-submissions"),t=await e.json();if(!Array.isArray(t))throw new Error("Invalid data received");const s={};t.forEach(e=>{const t=e.assignment_id||e.assignmentId||"unknown";s[t]||(s[t]=[]),s[t].push(e)});const n=[];Object.keys(s).forEach(e=>{const t=s[e].sort((e,t)=>new Date(e.created_at)-new Date(t.created_at)),r=t[0];n.push({id:e,title:r.caption||"Untitled Post",customer:r.customer_name||r.customerName||"Customer",customerId:r.customer_id||r.customerId||"",customerEmail:r.customer_email||r.customerEmail||"",hashtags:r.hashtags||"",platform:r.platform||"Instagram",status:C(t),createdDate:r.created_at,lastUpdated:t[t.length-1].created_at,description:r.notes||"",versions:t.map((e,t)=>({id:e._id,assignment_id:e.assignment_id,versionNumber:t+1,media:S(e.media||e.images||[]),caption:e.caption||"",hashtags:e.hashtags||"",notes:e.notes||"",createdAt:e.created_at,status:e.status||"submitted",comments:e.comments||[],customer_name:e.customer_name||e.customerName||"Customer",customer_id:e.customer_id||e.customerId||"",customer_email:e.customer_email||e.customerEmail||""})),totalVersions:t.length,customerFeedback:A(t)})}),l(n)}catch(e){console.error("Error fetching portfolio items:",e),l([])}finally{d(!1)}},S=e=>e&&Array.isArray(e)?e.map(e=>{if("string"===typeof e)return{url:e,type:_(e)};if(e&&"object"===typeof e){const t=e.url||e.src||e.href||String(e);if("string"===typeof t&&t.trim())return{url:t,type:e.type||_(t)}}return null}).filter(Boolean):[],_=e=>{if(!e||"string"!==typeof e)return"image";const t=e.toLowerCase().split(".").pop();return["mp4","webm","ogg","mov","avi"].includes(t)?"video":"image"},C=e=>e[e.length-1].status||"under_review",A=e=>{const t=[];return e.forEach((e,s)=>{e.comments&&Array.isArray(e.comments)&&e.comments.forEach(n=>{t.push({...n,versionNumber:s+1,timestamp:n.timestamp||e.created_at})})}),t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))},P=e=>{switch(e){case"under_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"published":return"bg-blue-100 text-blue-800 border-blue-200";case"revision_requested":return"bg-orange-100 text-orange-800 border-orange-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},E=e=>{switch(e){case"approved":case"published":return(0,Me.jsx)(Je,{className:"h-4 w-4"});case"revision_requested":return(0,Me.jsx)(We,{className:"h-4 w-4"});default:return(0,Me.jsx)(on,{className:"h-4 w-4"})}},O=e=>{i(e),m(e.versions.length-1),x(0)},I=e=>{"prev"===e&&u>0?(m(u-1),x(0)):"next"===e&&u<a.versions.length-1&&(m(u+1),x(0))},T=e=>{const t=a.versions[u].media.length;"prev"===e&&h>0?x(h-1):"next"===e&&h<t-1&&x(h+1)},M=e=>{y(v===e?null:e)},D=e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}};return c?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading your portfolio..."})]})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,Me.jsx)("header",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200/50 sticky top-0 z-10",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center h-16",children:[(0,Me.jsx)("button",{onClick:()=>a?i(null):n("/content-creator"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl shadow-lg",children:(0,Me.jsx)(pt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"ml-3",children:[(0,Me.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Content Creator Portal"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:a?"Content Details":"Portfolio"})]})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a?(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 p-8",children:(0,Me.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[(0,Me.jsxs)("div",{className:"flex-1",children:[(0,Me.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:a.description}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Customer"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900 font-semibold",children:a.customer}),a.customerId&&(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["ID: ",a.customerId]}),a.customerEmail&&(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["Email: ",a.customerEmail]})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Platform"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900",children:a.platform})]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Total Versions"}),(0,Me.jsx)("p",{className:"text-sm text-gray-900",children:a.totalVersions})]})]})]})]}),(0,Me.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,Me.jsxs)("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium border ${P(a.status)}`,children:[E(a.status),(0,Me.jsx)("span",{className:"ml-2",children:a.status.replace("_"," ").toUpperCase()})]}),("revision_requested"===a.status||a.customerFeedback.some(e=>"revision_requested"===e.status))&&(0,Me.jsxs)("button",{onClick:()=>{return e=a.id,void n(`/content-creator/upload/${e}`);var e},className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-orange-500 to-yellow-500 text-white font-semibold rounded-xl hover:from-orange-600 hover:to-yellow-600 transition-all duration-200",children:[(0,Me.jsx)(Rs,{className:"h-5 w-5 mr-2"}),"Upload New Version"]})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,Me.jsx)("div",{className:"xl:col-span-2",children:(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-4 border-b border-gray-200/50 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[(0,Me.jsx)(gn,{className:"h-5 w-5 text-purple-600 mr-2"}),"Version ",null===(e=a.versions[u])||void 0===e?void 0:e.versionNumber,(0,Me.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["of ",a.totalVersions]})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>I("prev"),disabled:0===u,className:"p-2 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Os,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>I("next"),disabled:u===a.versions.length-1,className:"p-2 rounded-lg bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Ds,{className:"h-4 w-4"})})]})]})}),(0,Me.jsx)("div",{className:"p-6",children:a.versions[u]&&(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"text-center",children:a.versions[u].media&&a.versions[u].media.length>0?(0,Me.jsxs)("div",{className:"relative",children:[a.versions[u].media.length>1&&(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[h+1," of ",a.versions[u].media.length]}),(0,Me.jsxs)("div",{className:"flex gap-2",children:[(0,Me.jsx)("button",{onClick:()=>T("prev"),disabled:0===h,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Os,{className:"h-4 w-4"})}),(0,Me.jsx)("button",{onClick:()=>T("next"),disabled:h===a.versions[u].media.length-1,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:(0,Me.jsx)(Ds,{className:"h-4 w-4"})})]})]}),a.versions[u].media[h]&&a.versions[u].media[h].url&&"string"===typeof a.versions[u].media[h].url?"image"===a.versions[u].media[h].type?(0,Me.jsx)("img",{src:a.versions[u].media[h].url,alt:`Version ${a.versions[u].versionNumber} - Media ${h+1}`,className:"max-w-full h-auto max-h-96 mx-auto rounded-xl shadow-lg border border-gray-200",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Me.jsx)("video",{src:a.versions[u].media[h].url,controls:!0,className:"max-w-full h-auto max-h-96 mx-auto rounded-xl shadow-lg border border-gray-200",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Me.jsx)("div",{className:"max-w-full h-96 bg-gray-200 rounded-xl flex items-center justify-center",style:{display:null!==(t=a.versions[u].media[h])&&void 0!==t&&t.url&&"string"===typeof a.versions[u].media[h].url?"none":"flex"},children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Media unavailable"})]})}),a.versions[u].media.length>1&&(0,Me.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:a.versions[u].media.map((e,t)=>(0,Me.jsx)("button",{onClick:()=>x(t),className:"w-16 h-16 rounded-lg overflow-hidden border-2 transition-all "+(h===t?"border-purple-500 ring-2 ring-purple-200":"border-gray-200 hover:border-gray-300"),children:"image"===e.type&&e.url&&"string"===typeof e.url?(0,Me.jsx)("img",{src:e.url,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Me.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,Me.jsx)(hn,{className:"h-6 w-6 text-gray-400"})})},t))}),f.map((e,t)=>{var s,n,r;let i=40,o="auto";const l=document.querySelector(`img[alt*="Version ${a.versions[u].versionNumber}"], video`);l&&l.width&&(e.x||(null===(s=e.position)||void 0===s?void 0:s.x))>l.width/2&&(i="auto",o=40);const c=e.x||(null===(n=e.position)||void 0===n?void 0:n.x)||0,d=e.y||(null===(r=e.position)||void 0===r?void 0:r.y)||0;return(0,Me.jsxs)("div",{style:{position:"absolute",top:d-16,left:c-16,width:32,height:32,background:e.done?"#10b981":"#ef4444",color:"#fff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"14px",boxShadow:"0 4px 12px rgba(0,0,0,0.25)",cursor:"pointer",zIndex:2,border:"3px solid #fff",transition:"all 0.3s"},onMouseEnter:()=>w(e.id),onMouseLeave:()=>w(null),onClick:t=>{t.stopPropagation(),M(e.id)},children:[t+1,(v===e.id||j===e.id)&&(0,Me.jsxs)("div",{style:{position:"absolute",left:i,right:o,top:"50%",transform:"translateY(-50%)",background:"#fff",border:"2px solid #3b82f6",borderRadius:"12px",padding:"16px",minWidth:"280px",maxWidth:"320px",zIndex:10,boxShadow:"0 8px 32px rgba(59,130,246,0.2)"},onClick:e=>e.stopPropagation(),children:[(0,Me.jsxs)("div",{className:"mb-3",children:[(0,Me.jsxs)("p",{className:"font-semibold text-gray-900 text-sm leading-relaxed break-words",children:[e.message||e.comment,e.done&&(0,Me.jsx)("span",{className:"text-green-600 ml-2",children:"\u2713 Done"})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp?new Date(e.timestamp).toLocaleString():""})]}),!e.done&&(0,Me.jsx)("div",{className:"flex gap-2",children:(0,Me.jsxs)("button",{onClick:()=>(async e=>{const t=f.find(t=>t.id===e);if(t)try{(await fetch(`https://my-backend-593529385135.asia-south1.run.app/api/content-submissions/${encodeURIComponent(a.id)}/comments/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({done:!0,status:"completed"})})).ok?(g(p.map(t=>t.id===e?{...t,done:!0}:t)),b(f.map(t=>t.id===e?{...t,done:!0}:t)),y(null),await k()):(console.error("Failed to update comment status"),g(p.map(t=>t.id===e?{...t,done:!0}:t)),b(f.map(t=>t.id===e?{...t,done:!0}:t)),y(null))}catch(s){console.error("Error updating comment:",s),g(p.map(t=>t.id===e?{...t,done:!0}:t)),b(f.map(t=>t.id===e?{...t,done:!0}:t)),y(null)}})(e.id),className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-3 py-1.5 text-xs rounded-lg font-medium transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 flex items-center justify-center",children:[(0,Me.jsx)(Je,{className:"h-3 w-3 mr-1"}),"Mark as Done"]})})]})]},e.id)})]}):(0,Me.jsx)("div",{className:"max-w-full h-96 bg-gray-200 rounded-xl flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-gray-500",children:"No media available"})]})})}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-gray-900",children:a.versions[u].caption||"No caption"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hashtags"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-blue-600 font-medium",children:a.versions[u].hashtags||"No hashtags"})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,Me.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Me.jsx)("p",{className:"text-gray-900",children:a.versions[u].notes||"No notes"})})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[(0,Me.jsxs)("span",{children:["Created: ",D(a.versions[u].createdAt)]}),(0,Me.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P(a.versions[u].status)}`,children:a.versions[u].status.replace("_"," ").toUpperCase()})]})]})]})})]})}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-4 border-b border-gray-200/50 bg-gradient-to-r from-green-50 to-emerald-50",children:(0,Me.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[(0,Me.jsx)(Ps,{className:"h-5 w-5 text-green-600 mr-2"}),"Version History"]})}),(0,Me.jsx)("div",{className:"max-h-96 overflow-y-auto p-0",children:(0,Me.jsx)("div",{className:"divide-y divide-gray-100",children:Object.entries((e=>{const t=new Date,s={};return e.forEach((e,n)=>{const r=new Date(e.createdAt);let a;a=r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()?"Today":r.toLocaleDateString("en-US",{weekday:"long"}),s[a]||(s[a]=[]),s[a].push({...e,idx:n})}),s})(a.versions)).map(e=>{let[t,s]=e;return(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"px-6 pt-4 pb-2 text-xs font-semibold text-gray-500 uppercase tracking-wide bg-gray-50/50",children:t}),s.map(e=>{const{date:t,time:s}=(e=>{try{const t=new Date(e);return{date:t.toLocaleDateString("en-US",{day:"numeric",month:"long"}),time:t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}}catch{return{date:"Invalid Date",time:""}}})(e.createdAt);return(0,Me.jsxs)("button",{onClick:()=>(e=>{m(e),x(0)})(e.idx),className:"w-full text-left px-6 py-4 flex flex-col border-l-4 transition-all duration-200 hover:bg-gray-50 "+(u===e.idx?"bg-purple-50 border-l-purple-600":"bg-white border-l-transparent"),children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("span",{className:"font-semibold text-gray-900 text-base",children:[t,", ",s]}),u===e.idx&&(0,Me.jsx)("span",{className:"ml-2 text-xs font-medium text-purple-700 bg-purple-100 px-2 py-1 rounded-full",children:"Current version"})]}),(0,Me.jsxs)("div",{className:"flex items-center mt-1 text-xs text-gray-500 gap-2",children:[(0,Me.jsxs)("span",{className:"flex items-center",children:[(0,Me.jsx)(He,{className:"h-3 w-3 mr-1"}),e.customer_name||a.customer||"Customer"]}),(0,Me.jsxs)("span",{className:"flex items-center ml-2",children:[(0,Me.jsx)("span",{className:"h-2 w-2 rounded-full mr-1 "+(u===e.idx?"bg-purple-600":"bg-gray-300")}),"Version ",e.versionNumber]}),e.media&&e.media.length>0&&(0,Me.jsxs)("span",{className:"flex items-center ml-2",children:[(0,Me.jsx)(gn,{className:"h-3 w-3 mr-1"}),e.media.length]})]}),(e.customer_id||a.customerId)&&(0,Me.jsxs)("div",{className:"mt-1 text-xs text-gray-400",children:["Customer ID: ",e.customer_id||a.customerId]}),(e.customer_email||a.customerEmail)&&(0,Me.jsxs)("div",{className:"mt-1 text-xs text-gray-400",children:["Email: ",e.customer_email||a.customerEmail]})]},e.id)})]},t)})})})]}),(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden",children:[(0,Me.jsx)("div",{className:"px-6 py-4 border-b border-gray-200/50 bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Me.jsxs)("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[(0,Me.jsx)(fn,{className:"h-5 w-5 text-purple-600 mr-2"}),"Comments for Version ",null===(s=a.versions[u])||void 0===s?void 0:s.versionNumber," - Media ",h+1," (",f.length,")"]})}),(0,Me.jsx)("div",{className:"max-h-80 overflow-y-auto p-4",children:0===f.length?(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3",children:(0,Me.jsx)(fn,{className:"h-6 w-6 text-gray-400"})}),(0,Me.jsx)("p",{className:"text-gray-500 text-sm",children:"No comments for this media item"})]}):(0,Me.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>{var s,n;return(0,Me.jsx)("div",{className:"p-3 rounded-lg border cursor-pointer transition-all duration-200 "+(v===e.id?"bg-blue-50 border-blue-200 shadow-md":"bg-gray-50 hover:bg-gray-100/50 border-gray-200 hover:border-gray-300/50"),onClick:()=>M(e.id),children:(0,Me.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Me.jsx)("span",{className:"font-bold text-purple-600 bg-purple-100 rounded-full w-6 h-6 flex items-center justify-center text-xs flex-shrink-0",children:t+1}),(0,Me.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Me.jsxs)("p",{className:"text-sm font-medium text-gray-900 break-words",children:[e.message||e.comment,e.done&&(0,Me.jsx)("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:"\u2713 Done"})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp?new Date(e.timestamp).toLocaleString():""}),(0,Me.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Position: (",Math.round(e.x||(null===(s=e.position)||void 0===s?void 0:s.x)||0),", ",Math.round(e.y||(null===(n=e.position)||void 0===n?void 0:n.y)||0),")"]})]})]})},e.id||t)})})})]})]})]})]}):(0,Me.jsxs)("div",{className:"space-y-8",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"My Content Portfolio"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-3 text-lg",children:"View your created content, versions, and customer feedback"})]}),0===o.length?(0,Me.jsxs)("div",{className:"text-center py-16",children:[(0,Me.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Me.jsx)(pt,{className:"h-8 w-8 text-gray-400"})}),(0,Me.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No content created yet"}),(0,Me.jsx)("p",{className:"text-gray-500 mb-6",children:"Start working on your first assignment to build your portfolio!"}),(0,Me.jsx)("button",{onClick:()=>n("/content-creator/assignments"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200",children:"View Assignments"})]}):(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:o.map(e=>{var t;const s=e.versions[e.versions.length-1],r=null===s||void 0===s||null===(t=s.media)||void 0===t?void 0:t[0];return(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-200/50 overflow-hidden hover:shadow-xl transition-all duration-300 group w-80 h-[480px] flex flex-col",children:[(0,Me.jsxs)("div",{className:"relative w-80 h-48 flex-shrink-0",children:[r&&r.url&&"string"===typeof r.url?"image"===r.type?(0,Me.jsx)("img",{src:r.url,alt:e.title,className:"w-80 h-48 object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,Me.jsxs)("div",{className:"relative w-80 h-48",children:[(0,Me.jsx)("video",{src:r.url,className:"w-80 h-48 object-cover",muted:!0,onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:(0,Me.jsx)(pn,{className:"h-12 w-12 text-white"})})]}):null,(0,Me.jsx)("div",{className:"w-80 h-48 bg-gray-200 flex items-center justify-center",style:{display:null!==r&&void 0!==r&&r.url?"none":"flex"},children:(0,Me.jsx)(gn,{className:"h-12 w-12 text-gray-400"})}),(0,Me.jsx)("div",{className:"absolute top-4 right-4 flex gap-2",children:(0,Me.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${P(e.status)}`,children:[E(e.status),(0,Me.jsx)("span",{className:"ml-1",children:e.status.replace("_"," ").toUpperCase()})]})}),(0,Me.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200",children:[(0,Me.jsx)(gn,{className:"h-3 w-3 mr-1"}),e.totalVersions," Version",1!==e.totalVersions?"s":""]}),(null===s||void 0===s?void 0:s.media)&&s.media.length>1&&(0,Me.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[s.media.length," Media"]})]}),(0,Me.jsx)("button",{onClick:()=>O(e),className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-all duration-200 shadow-lg",children:(0,Me.jsx)(Ke,{className:"h-4 w-4 text-gray-700"})})]}),(0,Me.jsxs)("div",{className:"p-6 flex flex-col flex-1",children:[(0,Me.jsx)("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-1",children:e.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:e.description}),(0,Me.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Me.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,Me.jsx)(He,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"font-medium",children:e.customer}),e.customerId&&(0,Me.jsxs)("span",{className:"ml-2 text-xs text-gray-400",children:["(ID: ",e.customerId.substring(0,8),"...)"]}),e.customerEmail&&(0,Me.jsxs)("span",{className:"ml-2 text-xs text-gray-400",children:["(",e.customerEmail,")"]})]}),(0,Me.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 mr-1"}),D(e.createdDate)]})]}),e.hashtags&&(0,Me.jsxs)("div",{className:"text-sm",children:[(0,Me.jsx)("span",{className:"text-gray-500",children:"Hashtags: "}),(0,Me.jsx)("span",{className:"text-blue-600 font-medium",children:e.hashtags})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Me.jsxs)("span",{className:"text-gray-500",children:["Platform: ",e.platform]}),(0,Me.jsxs)("span",{className:"text-gray-500",children:["Updated: ",D(e.lastUpdated)]})]}),e.customerFeedback.length>0&&(0,Me.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,Me.jsx)(fn,{className:"h-4 w-4 mr-1"}),e.customerFeedback.length," Comment",1!==e.customerFeedback.length?"s":""]})]}),(0,Me.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,Me.jsxs)("button",{onClick:()=>O(e),className:"flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-2 px-4 rounded-xl hover:from-purple-700 hover:to-indigo-700 text-sm font-medium flex items-center justify-center transition-all duration-200",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4 mr-2"}),"View Details"]}),(0,Me.jsxs)("button",{onClick:()=>n(`/content-creator/schedule/${e.id}`),className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 text-white py-2 px-4 rounded-xl hover:from-green-700 hover:to-emerald-700 text-sm font-medium flex items-center justify-center transition-all duration-200",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 mr-2"}),"Schedule"]})]})]})]},e.id)})})]})})]})};const wD=function(){const e=te(),{assignmentId:t}=se(),s=(0,r.useRef)(null),[n,a]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(""),[g,f]=(0,r.useState)(""),[b,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)({}),w=function(){let e="";try{if(e=(localStorage.getItem("userEmail")||"").toLowerCase(),!e){const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);s.email&&(e=s.email.toLowerCase())}}}catch(GB){e=""}return e}();(0,r.useEffect)(()=>{w||e("/content-creator/login")},[w,e]),(0,r.useEffect)(()=>{t&&(async()=>{o(!0);try{const e=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/customers"),s=await e.json(),n={};Array.isArray(s.customers)&&s.customers.forEach(e=>{n[e._id||e.id]={name:e.name||e.customerName||e.email||"",email:e.email||"",id:e._id||e.id}});const r=await fetch("https://my-backend-593529385135.asia-south1.run.app/calendars"),i=await r.json();let o=null;i.forEach(e=>{var s;const r=e.customerId||e.customer_id||(null===(s=e.customer)||void 0===s?void 0:s._id)||"",a=n[r]||{};Array.isArray(e.contentItems)&&e.contentItems.forEach(s=>{const n=s.id||s._id||s.title;if(n===t){const i=r,l=a.name||e.customerName||e.name||"";o={...s,calendarName:e.name||e.customerName||e.customer||"",calendarId:e._id,customerId:i,customerName:l,customerEmail:a.email||"",id:n,dueDate:s.dueDate||s.due_date||s.date,platform:s.platform||"Instagram",requirements:s.requirements||[]},o.customerId||console.error("\u274c Customer ID is missing for assignment:",t),o.customerName||console.error("\u274c Customer name is missing for assignment:",t)}})}),o||console.error("\u274c Assignment not found:",t),a(o)}catch(e){console.error("\u274c Error fetching assignment:",e),a(null)}finally{o(!1)}})()},[t]);const N=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},k=e=>{Array.from(e).forEach(e=>{if(e.type.startsWith("image/")||e.type.startsWith("video/")){const t=new FileReader;t.onload=t=>{const s={id:Date.now()+Math.random(),file:e,preview:t.target.result,name:e.name,size:e.size,type:e.type.startsWith("image/")?"image":"video",uploaded:!1,uploading:!1,publicUrl:null,error:null};c(e=>[...e,s])},t.readAsDataURL(e)}})},S=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},_=async e=>{try{console.log(`\ud83d\udce4 Starting upload for ${e.name} (${S(e.size)})`),c(t=>t.map(t=>t.id===e.id?{...t,uploading:!0,error:null}:t));const t=await new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{const e=n.result.split(",")[1];t(e)},n.onerror=s,n.readAsDataURL(e.file)}),s=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/gcs/upload-base64",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:e.name,contentType:e.file.type,base64Data:t})});if(!s.ok){const e=await s.json();throw new Error(`Upload failed: ${e.error||s.statusText}`)}const{publicUrl:n}=await s.json();if(!n)throw new Error("No public URL returned from upload");return console.log(`\u2705 Successfully uploaded ${e.name} via base64`),c(t=>t.map(t=>t.id===e.id?{...t,uploading:!1,uploaded:!0,publicUrl:n,error:null}:t)),{url:n,type:e.type,name:e.name,size:e.file.size,originalName:e.name}}catch(t){throw console.error(`\u274c Upload failed for ${e.name}:`,t),c(s=>s.map(s=>s.id===e.id?{...s,uploading:!1,uploaded:!1,error:t.message}:s)),t}};return i?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,Me.jsx)("span",{className:"text-lg text-gray-700",children:"Loading assignment..."})]})}):n?(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>e("/content-creator/assignments"),className:"mr-4 text-gray-600 hover:text-gray-900 transition-colors",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Me.jsx)(pt,{className:"h-5 w-5 text-purple-600"})}),(0,Me.jsx)("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"Content Upload"})]})]}),(0,Me.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:n.title}),(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["for ",n.customerName]})]}),(0,Me.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,Me.jsx)(xt,{className:"h-3 w-3 mr-1"}),n.dueDate?new Date(n.dueDate).toLocaleDateString():"N/A"]}),(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:n.platform})]})]})})}),(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6 md:hidden",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:n.title}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600",children:["for ",n.customerName]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mb-1",children:[(0,Me.jsx)(xt,{className:"h-3 w-3 mr-1"}),n.dueDate?new Date(n.dueDate).toLocaleDateString():"N/A"]}),(0,Me.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:n.platform})]})]}),n.description&&(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:n.description})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Me.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(Rs,{className:"h-5 w-5 mr-2 text-purple-600"}),"Upload Media"]}),(0,Me.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 "+(d?"border-purple-400 bg-purple-50 scale-105":"border-gray-300 hover:border-purple-400 hover:bg-purple-50/50"),onDragEnter:N,onDragLeave:N,onDragOver:N,onDrop:e=>{e.preventDefault(),e.stopPropagation(),u(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&k(e.dataTransfer.files)},children:[(0,Me.jsx)("input",{ref:s,type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&k(e.target.files)},className:"hidden"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,Me.jsx)(Rs,{className:"h-8 w-8 text-gray-400"}),(0,Me.jsx)(hn,{className:"h-8 w-8 text-gray-400"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-base font-medium text-gray-900",children:"Drag and drop your images and videos here"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"or"}),(0,Me.jsxs)("button",{onClick:()=>{var e;null===(e=s.current)||void 0===e||e.click()},className:"mt-2 inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[(0,Me.jsx)(gn,{className:"h-4 w-4 mr-2"}),"Browse Files"]})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-400",children:"Supports: JPG, PNG, GIF, MP4, MOV, AVI (Max 100MB per file)"})]})]})]}),l.length>0&&(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Me.jsxs)("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(gn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Media Files (",l.length,")"]}),(0,Me.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:l.map(e=>(0,Me.jsxs)("div",{className:"relative group",children:[(0,Me.jsxs)("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 ring-2 ring-transparent group-hover:ring-purple-200 transition-all relative",children:["image"===e.type?(0,Me.jsx)("img",{src:e.preview,alt:e.name,className:"w-full h-full object-cover"}):(0,Me.jsxs)("div",{className:"relative w-full h-full",children:[(0,Me.jsx)("video",{src:e.preview,className:"w-full h-full object-cover",muted:!0}),(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:(0,Me.jsx)(pn,{className:"h-8 w-8 text-white"})}),(0,Me.jsx)("div",{className:"absolute top-2 left-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:"VIDEO"})]}),e.uploading&&(0,Me.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-white text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mx-auto mb-2"}),(0,Me.jsx)("p",{className:"text-xs",children:"Uploading..."})]})}),e.uploaded&&(0,Me.jsx)("div",{className:"absolute top-2 right-2 bg-green-500 text-white rounded-full p-1",children:(0,Me.jsx)(bn,{className:"h-3 w-3"})}),e.error&&(0,Me.jsx)("div",{className:"absolute inset-0 bg-red-500 bg-opacity-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-white text-center p-2",children:[(0,Me.jsx)(vs,{className:"h-4 w-4 mx-auto mb-1"}),(0,Me.jsx)("p",{className:"text-xs",children:"Failed"}),(0,Me.jsx)("button",{onClick:()=>(async e=>{try{await _(e)}catch(t){console.error("Retry failed:",t)}})(e),className:"text-xs underline mt-1",children:"Retry"})]})})]}),(0,Me.jsx)("button",{onClick:()=>{return t=e.id,void c(e=>e.filter(e=>e.id!==t));var t},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:(0,Me.jsx)(vs,{className:"h-3 w-3"})}),(0,Me.jsxs)("div",{className:"mt-2",children:[(0,Me.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:S(e.size)}),(0,Me.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("image"===e.type?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.type.toUpperCase()})]}),e.error&&(0,Me.jsx)("p",{className:"text-xs text-red-500 mt-1 truncate",title:e.error,children:e.error})]})]},e.id))})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 hidden md:block",children:[(0,Me.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(Ps,{className:"h-5 w-5 mr-2 text-purple-600"}),"Assignment Details"]}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-medium text-gray-900",children:n.title}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:n.description})]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Me.jsx)(Ks,{className:"h-4 w-4 mr-1"}),n.customerName]}),(0,Me.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Me.jsx)(xt,{className:"h-4 w-4 mr-1"}),"Due: ",n.dueDate?new Date(n.dueDate).toLocaleDateString():"N/A"]}),n.requirements&&n.requirements.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h4",{className:"font-medium text-gray-900 text-sm mb-2",children:"Requirements:"}),(0,Me.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:n.requirements.map((e,t)=>(0,Me.jsxs)("li",{className:"flex items-start",children:[(0,Me.jsx)(bn,{className:"h-3 w-3 mr-2 mt-0.5 text-green-500 flex-shrink-0"}),e]},t))})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Me.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,Me.jsx)(fn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Content Details"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Caption"}),(0,Me.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Write an engaging caption..."})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Me.jsx)(En,{className:"h-4 w-4 inline mr-1"}),"Hashtags"]}),(0,Me.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"#fashion #summer #style"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes for Client"}),(0,Me.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),rows:2,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Additional notes..."})]})]})]}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ready to Submit?"}),(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Your content will be sent to ",n.customerName," for review"]}),(0,Me.jsx)("button",{onClick:async()=>{if(0===l.length)return void alert("Please upload at least one image or video");if(!n)return void alert("Assignment data not found. Please try again.");let t=n.customerId,s=n.customerName,r=n.customerEmail;if(t&&s||(console.error("\u274c Missing customer information in assignment"),t=t||n.calendarId||"",s=s||n.calendarName||"Unknown Customer"),s&&"Unknown Customer"!==s||(s=s||n.customer||n.client||n.calendarName||"Unknown Customer"),!t||!s||"Unknown Customer"===s)return console.error("\u274c CRITICAL: Cannot proceed without valid customer information!"),void alert(`Missing customer information. Please contact support.\n\nDetails:\n- Customer ID: ${t||"Missing"}\n- Customer Name: ${s||"Missing"}\n- Assignment ID: ${n.id}`);v(!0);const a=[];try{const i=l.filter(e=>!e.uploaded),o=l.filter(e=>e.uploaded);console.log(`\ud83d\udce4 Uploading ${i.length} files, ${o.length} already uploaded`);const c=i.map(e=>_(e));(await Promise.allSettled(c)).forEach((e,t)=>{if("fulfilled"!==e.status)throw console.error(`\u274c Failed to upload file ${i[t].name}:`,e.reason),new Error(`Upload failed for ${i[t].name}: ${e.reason.message}`);a.push(e.value)}),o.forEach(e=>{e.publicUrl&&a.push({url:e.publicUrl,type:e.type,name:e.name,size:e.size,originalName:e.name})}),console.log(`\u2705 All files uploaded successfully. Total: ${a.length}`);const d={assignment_id:n.id,caption:m||"",hashtags:x||"",notes:g||"",images:a,media:a,created_by:w,customer_id:t,customer_name:s,customer_email:r||n.customerEmail||"",platform:n.platform||"Instagram",calendar_id:n.calendarId,calendar_name:n.calendarName,assignment_title:n.title,assignment_description:n.description,due_date:n.dueDate,status:"submitted",created_at:(new Date).toISOString(),type:"submission"},u=[];if(d.customer_id||u.push("customer_id"),d.customer_name||u.push("customer_name"),d.assignment_id||u.push("assignment_id"),d.created_by||u.push("created_by"),d.images&&0!==d.images.length||u.push("images"),u.length>0)return console.error("\u274c VALIDATION FAILED: Missing required fields:",u),alert(`Validation failed. Missing required fields: ${u.join(", ")}`),void v(!1);if("Unknown Customer"===d.customer_name||d.customer_name.length<2||!d.customer_id||d.customer_id.length<5)return console.error("\u274c QUALITY CHECK FAILED: Invalid customer information quality"),alert("Invalid customer information detected. Please refresh the page and try again."),void v(!1);console.log("\ud83d\udce4 Submitting content to API...");const h=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/content-submissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!h.ok){const e=await h.json();throw console.error("\u274c Backend submission failed:",e),new Error(`Backend error: ${e.error||"Unknown error"}`)}const p=await h.json();console.log("\u2705 Content submission successful:",p),alert("Content submitted successfully! The customer will review your work."),e("/content-creator/assignments")}catch(i){console.error("\u274c Upload error:",i),alert(`Upload failed: ${i.message}. Please try again.`)}finally{v(!1)}},disabled:b||0===l.length||l.some(e=>e.uploading),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:b?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(gt,{className:"h-4 w-4 mr-2"}),"Submit Content"]})}),l.some(e=>e.uploading)&&(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Please wait for all uploads to complete"})]})})]})]})]})]}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-indigo-100",children:(0,Me.jsxs)("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg",children:[(0,Me.jsx)("span",{className:"text-lg text-red-600",children:"Assignment not found."}),(0,Me.jsx)("button",{onClick:()=>e("/content-creator/assignments"),className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Back to Assignments"})]})})},ND=Ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),kD=Ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);function SD(){let e="";try{if(e=(localStorage.getItem("userEmail")||"").toLowerCase(),!e){const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);s.email&&(e=s.email.toLowerCase())}}}catch(GB){e=""}return e}const _D=function(){const e=te(),[t,s]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)({name:"",email:SD()||"",mobile:"",specialization:"social-media",experience:"intermediate",bio:"",location:"",joinDate:"",portfolio:"",skills:[],languages:[],rating:0,completedProjects:0,clientSatisfaction:0}),[x,p]=(0,r.useState)({...m}),g=SD(),f=function(){try{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);return t.id||t._id}return localStorage.getItem("userId")}catch(GB){return null}}();(0,r.useEffect)(()=>{g||f?b():e("/content-creator/login")},[g,f,e]);const b=async()=>{a(!0),u("");try{const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/customer/${f}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!e.ok)throw new Error("Customer data not found");{const t=await e.json();console.log("Successfully fetched customer data:",t);const s={name:t.name||t.fullName||"",email:t.email||g,mobile:t.mobile||t.phone||"",specialization:t.specialization||"social-media",experience:t.experience||"intermediate",bio:t.bio||t.description||"",location:t.address||t.location||"",joinDate:t.joinDate||t.createdAt||(new Date).toISOString(),portfolio:t.portfolio||t.portfolioUrl||"",skills:t.skills?"string"===typeof t.skills?t.skills.split(",").map(e=>e.trim()):t.skills:["Content Creation","Social Media Management"],languages:t.languages?"string"===typeof t.languages?t.languages.split(",").map(e=>e.trim()):t.languages:["English"],rating:t.rating||0,completedProjects:t.completedProjects||t.projectsCompleted||0,clientSatisfaction:t.clientSatisfaction||t.satisfaction||0};h(s),p(s)}}catch(e){console.warn("Error fetching profile:",e.message);const t={name:localStorage.getItem("userName")||"Content Creator",email:g,mobile:"",specialization:"social-media",experience:"intermediate",bio:"Passionate content creator ready to help brands connect with their audience.",location:"",joinDate:(new Date).toISOString(),portfolio:"",skills:["Content Creation","Social Media Management"],languages:["English"],rating:0,completedProjects:0,clientSatisfaction:0};h(t),p(t),u("Using default profile data. You can still edit and save your information.")}finally{a(!1)}},v=e=>{const{name:t,value:s}=e.target;p(e=>({...e,[t]:s}))},y=e=>({"social-media":"Social Media Management","graphic-design":"Graphic Design","video-editing":"Video Editing","content-writing":"Content Writing",photography:"Photography","web-design":"Web Design"}[e]||e);return n?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Loading your profile..."})]})}):(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 flex flex-col",children:[(0,Me.jsx)("header",{className:"bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-200/50 sticky top-0 z-50",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>e("/content-creator"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl shadow-lg",children:(0,Me.jsx)(He,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"ml-3",children:[(0,Me.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"My Profile"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"Content Creator Portal"})]})]})]}),(0,Me.jsx)("div",{className:"flex items-center space-x-3",children:t?(0,Me.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Me.jsx)("button",{onClick:()=>{p({...m}),s(!1),u("")},disabled:i,className:"px-4 py-2 border border-gray-300 text-gray-700 font-medium rounded-xl hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,Me.jsxs)("button",{onClick:async()=>{o(!0),u(""),c("");const e=(()=>{const e=[];return x.name.trim()||e.push("Name is required"),x.mobile.trim()?/^\+?[\d\s-()]+$/.test(x.mobile)||e.push("Please enter a valid mobile number"):e.push("Mobile number is required"),x.portfolio&&!/^https?:\/\/.+\..+/.test(x.portfolio)&&e.push("Please enter a valid portfolio URL"),0===x.skills.length&&e.push("At least one skill is required"),x.bio.length>500&&e.push("Bio must be less than 500 characters"),e})();if(e.length>0)return u(e.join(". ")),void o(!1);try{const e=await fetch(`https://my-backend-593529385135.asia-south1.run.app/customer/${f}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});let t={};e.ok&&(t=await e.json());const n={...t,name:x.name,mobile:x.mobile,address:x.location,specialization:x.specialization,experience:x.experience,bio:x.bio,portfolio:x.portfolio,skills:Array.isArray(x.skills)?x.skills.join(","):x.skills,languages:Array.isArray(x.languages)?x.languages.join(","):x.languages,joinDate:x.joinDate||t.joinDate||t.createdAt,rating:x.rating||t.rating||0,completedProjects:x.completedProjects||t.completedProjects||0,clientSatisfaction:x.clientSatisfaction||t.clientSatisfaction||0},r=await fetch(`https://my-backend-593529385135.asia-south1.run.app/customer/${f}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.ok){const e=await r.json();console.log("Successfully updated customer profile:",e),h({...x}),s(!1),c("Profile updated successfully!"),x.name&&x.name!==localStorage.getItem("userName")&&localStorage.setItem("userName",x.name),setTimeout(()=>c(""),5e3)}else{(await fetch(`https://my-backend-593529385135.asia-south1.run.app/customer/${f}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?(console.log("Successfully updated customer profile with PATCH"),h({...x}),s(!1),c("Profile updated successfully!"),x.name&&x.name!==localStorage.getItem("userName")&&localStorage.setItem("userName",x.name),setTimeout(()=>c(""),5e3)):(console.warn("Server update failed, saving locally"),h({...x}),s(!1),c("Profile updated locally. Server sync may be limited."),setTimeout(()=>c(""),7e3))}}catch(t){console.error("Error saving profile:",t),h({...x}),s(!1),c("Profile saved locally. Server connection unavailable."),setTimeout(()=>c(""),5e3)}finally{o(!1)}},disabled:i,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-medium rounded-xl hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[i?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Me.jsx)(ND,{className:"h-4 w-4 mr-2"}),i?"Saving...":"Save Changes"]})]}):(0,Me.jsxs)("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg",children:[(0,Me.jsx)(AT,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]})})}),(l||d)&&(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:[l&&(0,Me.jsxs)("div",{className:"bg-green-50/80 backdrop-blur-sm border border-green-200 text-green-700 px-4 py-3 rounded-xl flex items-center mb-4",children:[(0,Me.jsx)(Je,{className:"h-5 w-5 mr-3"}),(0,Me.jsx)("span",{className:"font-medium",children:l})]}),d&&(0,Me.jsxs)("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center mb-4",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3"}),(0,Me.jsx)("span",{className:"font-medium",children:d})]})]}),(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Me.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"relative inline-block",children:[(0,Me.jsx)("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:m.name?m.name.split(" ").map(e=>e[0]).join("").toUpperCase():"CC"}),(0,Me.jsx)("button",{className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:(0,Me.jsx)(kD,{className:"h-4 w-4 text-gray-600"})})]}),(0,Me.jsx)("h2",{className:"mt-4 text-xl font-bold text-gray-900",children:m.name||"Content Creator"}),(0,Me.jsx)("p",{className:"text-gray-600",children:y(m.specialization)}),m.location&&(0,Me.jsxs)("div",{className:"flex items-center justify-center mt-2 text-sm text-gray-500",children:[(0,Me.jsx)(Ks,{className:"h-4 w-4 mr-1"}),m.location]})]}),(0,Me.jsxs)("div",{className:"mt-6 space-y-4",children:[m.rating>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Rating"}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(Jn,{className:"h-4 w-4 text-yellow-400 fill-current"}),(0,Me.jsx)("span",{className:"ml-1 text-sm font-semibold text-gray-900",children:m.rating})]})]}),m.completedProjects>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Projects"}),(0,Me.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:m.completedProjects})]}),m.clientSatisfaction>0&&(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Satisfaction"}),(0,Me.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[m.clientSatisfaction,"%"]})]}),m.joinDate&&(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Member Since"}),(0,Me.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:new Date(m.joinDate).toLocaleDateString("en-US",{month:"short",year:"numeric"})})]})]})]}),m.skills&&m.skills.length>0&&(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Me.jsx)(dt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Skills"]}),(0,Me.jsx)("div",{className:"flex flex-wrap gap-2",children:m.skills.map((e,t)=>(0,Me.jsx)("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-800 rounded-full text-sm font-medium border border-purple-200",children:e},t))})]}),m.languages&&m.languages.length>0&&(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Languages"}),(0,Me.jsx)("div",{className:"space-y-2",children:m.languages.map((e,t)=>(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,Me.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"Fluent"})]},t))})]})]}),(0,Me.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Personal Information"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),t?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(He,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{type:"text",name:"name",value:x.name,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm"})]}):(0,Me.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl",children:[(0,Me.jsx)(He,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-900",children:m.name})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Me.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl",children:[(0,Me.jsx)(qe,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-900",children:m.email})]}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number"}),t?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(qs,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{type:"tel",name:"mobile",value:x.mobile,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm"})]}):(0,Me.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl",children:[(0,Me.jsx)(qs,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-900",children:m.mobile})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),t?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Ks,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsx)("input",{type:"text",name:"location",value:x.location,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm"})]}):(0,Me.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl",children:[(0,Me.jsx)(Ks,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-900",children:m.location})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Professional Information"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialization"}),t?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(pt,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsxs)("select",{name:"specialization",value:x.specialization,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm appearance-none",children:[(0,Me.jsx)("option",{value:"social-media",children:"Social Media Management"}),(0,Me.jsx)("option",{value:"graphic-design",children:"Graphic Design"}),(0,Me.jsx)("option",{value:"video-editing",children:"Video Editing"}),(0,Me.jsx)("option",{value:"content-writing",children:"Content Writing"}),(0,Me.jsx)("option",{value:"photography",children:"Photography"}),(0,Me.jsx)("option",{value:"web-design",children:"Web Design"})]})]}):(0,Me.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl",children:[(0,Me.jsx)(pt,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-900",children:y(m.specialization)})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience Level"}),t?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Me.jsx)(Zn,{className:"h-5 w-5 text-gray-400"})}),(0,Me.jsxs)("select",{name:"experience",value:x.experience,onChange:v,className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm appearance-none",children:[(0,Me.jsx)("option",{value:"beginner",children:"Beginner (0-1 years)"}),(0,Me.jsx)("option",{value:"intermediate",children:"Intermediate (2-4 years)"}),(0,Me.jsx)("option",{value:"advanced",children:"Advanced (5-7 years)"}),(0,Me.jsx)("option",{value:"expert",children:"Expert (8+ years)"})]})]}):(0,Me.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-xl",children:[(0,Me.jsx)(Zn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsx)("span",{className:"text-gray-900",children:(j=m.experience,{beginner:"Beginner (0-1 years)",intermediate:"Intermediate (2-4 years)",advanced:"Advanced (5-7 years)",expert:"Expert (8+ years)"}[j]||j)})]})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio URL"}),t?(0,Me.jsx)("input",{type:"url",name:"portfolio",value:x.portfolio,onChange:v,className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",placeholder:"https://your-portfolio.com"}):(0,Me.jsx)("div",{className:"p-3 bg-gray-50 rounded-xl",children:(0,Me.jsx)("a",{href:m.portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 transition-colors",children:m.portfolio})})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills (comma-separated)"}),t?(0,Me.jsx)("textarea",{name:"skills",value:x.skills.join(", "),onChange:e=>{const t=e.target.value.split(",").map(e=>e.trim()).filter(e=>e);p(e=>({...e,skills:t}))},rows:3,className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",placeholder:"Social Media Management, Graphic Design, Content Writing..."}):(0,Me.jsx)("div",{className:"p-3 bg-gray-50 rounded-xl",children:(0,Me.jsx)("span",{className:"text-gray-900",children:m.skills.join(", ")})})]}),(0,Me.jsxs)("div",{className:"md:col-span-2",children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Languages (comma-separated)"}),t?(0,Me.jsx)("input",{type:"text",name:"languages",value:x.languages.join(", "),onChange:e=>{const t=e.target.value.split(",").map(e=>e.trim()).filter(e=>e);p(e=>({...e,languages:t}))},className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",placeholder:"English, Hindi, Marathi..."}):(0,Me.jsx)("div",{className:"p-3 bg-gray-50 rounded-xl",children:(0,Me.jsx)("span",{className:"text-gray-900",children:m.languages.join(", ")})})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"About Me"}),t?(0,Me.jsx)("textarea",{name:"bio",value:x.bio,onChange:v,rows:4,className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",placeholder:"Tell us about yourself, your experience, and what makes you unique..."}):(0,Me.jsx)("div",{className:"p-4 bg-gray-50 rounded-xl",children:(0,Me.jsx)("p",{className:"text-gray-700 leading-relaxed",children:m.bio})})]})]})]})})}),(0,Me.jsx)(it,{})]});var j},CD=Ve("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),AD=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),PD=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const ED=function(){const e=te(),[t,s]=(0,r.useState)(!1),[n,a]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,assignmentNotifications:!0,deadlineReminders:!0,clientMessages:!0,systemUpdates:!1,marketingEmails:!1,profileVisibility:"public",showEmail:!1,showPhone:!1,allowDirectMessages:!0,showOnlineStatus:!0,theme:"system",language:"en",timezone:"Asia/Kolkata",dateFormat:"DD/MM/YYYY",timeFormat:"12h",twoFactorEnabled:!1,loginAlerts:!0,sessionTimeout:"30"}),[g,f]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),b=function(){let e="";try{if(e=(localStorage.getItem("userEmail")||"").toLowerCase(),!e){const t=localStorage.getItem("user");if(t){const s=JSON.parse(t);s.email&&(e=s.email.toLowerCase())}}}catch(GB){e=""}return e}();(0,r.useEffect)(()=>{b||e("/content-creator/login")},[b,e]);const v=(e,t,s)=>{p(e=>({...e,[t]:s}))},y=e=>{const{name:t,value:s}=e.target;f(e=>({...e,[t]:s}))},j=0===(w=g.newPassword).length?{strength:0,text:"",color:""}:w.length<8?{strength:1,text:"Weak",color:"text-red-500"}:w.length<10||!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(w)?{strength:2,text:"Fair",color:"text-yellow-500"}:/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/.test(w)?{strength:4,text:"Strong",color:"text-green-500"}:{strength:3,text:"Good",color:"text-blue-500"};var w;return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 flex flex-col",children:[(0,Me.jsx)("header",{className:"bg-white/90 backdrop-blur-md shadow-sm border-b border-gray-200/50 sticky top-0 z-50",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("button",{onClick:()=>e("/content-creator"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl shadow-lg",children:(0,Me.jsx)(rt,{className:"h-6 w-6 text-white"})}),(0,Me.jsxs)("div",{className:"ml-3",children:[(0,Me.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Settings"}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"Content Creator Portal"})]})]})]}),(0,Me.jsxs)("button",{onClick:async()=>{s(!0),o(""),a("");try{await new Promise(e=>setTimeout(e,1e3)),a("Settings updated successfully!"),setTimeout(()=>a(""),3e3)}catch(e){o("Failed to update settings. Please try again."),setTimeout(()=>o(""),3e3)}finally{s(!1)}},disabled:t,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium rounded-xl hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[t?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Me.jsx)(ND,{className:"h-4 w-4 mr-2"}),"Save Settings"]})]})})}),(n||i)&&(0,Me.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:[n&&(0,Me.jsxs)("div",{className:"bg-green-50/80 backdrop-blur-sm border border-green-200 text-green-700 px-4 py-3 rounded-xl flex items-center mb-4",children:[(0,Me.jsx)(Je,{className:"h-5 w-5 mr-3"}),(0,Me.jsx)("span",{className:"font-medium",children:n})]}),i&&(0,Me.jsxs)("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center mb-4",children:[(0,Me.jsx)(We,{className:"h-5 w-5 mr-3"}),(0,Me.jsx)("span",{className:"font-medium",children:i})]})]}),(0,Me.jsx)("div",{className:"flex-1",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,Me.jsx)(st,{className:"h-5 w-5 mr-2 text-purple-600"}),"Notification Preferences"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(Hs,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Receive notifications via email"})]})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",checked:x.emailNotifications,onChange:e=>v(0,"emailNotifications",e.target.checked),className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(J_,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Receive push notifications on your device"})]})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",checked:x.pushNotifications,onChange:e=>v(0,"pushNotifications",e.target.checked),className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(fn,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Receive important updates via SMS"})]})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",checked:x.smsNotifications,onChange:e=>v(0,"smsNotifications",e.target.checked),className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,Me.jsx)("hr",{className:"my-4"}),(0,Me.jsxs)("div",{className:"space-y-3",children:[(0,Me.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Notification Types"}),[{key:"assignmentNotifications",label:"New Assignment Alerts",desc:"When you receive new assignments"},{key:"deadlineReminders",label:"Deadline Reminders",desc:"Reminders for upcoming deadlines"},{key:"clientMessages",label:"Client Messages",desc:"When clients send you messages"},{key:"systemUpdates",label:"System Updates",desc:"Platform updates and maintenance"},{key:"marketingEmails",label:"Marketing Emails",desc:"Promotional content and tips"}].map(e=>(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.label}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:e.desc})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",checked:x[e.key],onChange:t=>v(0,e.key,t.target.checked),className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},e.key))]})]})]}),(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,Me.jsx)(nn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Privacy & Visibility"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Visibility"}),(0,Me.jsxs)("select",{value:x.profileVisibility,onChange:e=>v(0,"profileVisibility",e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",children:[(0,Me.jsx)("option",{value:"public",children:"Public - Visible to everyone"}),(0,Me.jsx)("option",{value:"clients",children:"Clients Only - Visible to your clients"}),(0,Me.jsx)("option",{value:"private",children:"Private - Only visible to you"})]})]}),(0,Me.jsx)("div",{className:"space-y-3",children:[{key:"showEmail",label:"Show Email Address",desc:"Display your email on your public profile"},{key:"showPhone",label:"Show Phone Number",desc:"Display your phone number on your profile"},{key:"allowDirectMessages",label:"Allow Direct Messages",desc:"Let clients message you directly"},{key:"showOnlineStatus",label:"Show Online Status",desc:"Display when you are online"}].map(e=>(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.label}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:e.desc})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",checked:x[e.key],onChange:t=>v(0,e.key,t.target.checked),className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},e.key))})]})]})]}),(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,Me.jsx)(CD,{className:"h-5 w-5 mr-2 text-purple-600"}),"Display & Preferences"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,Me.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{value:"light",label:"Light",icon:AD},{value:"dark",label:"Dark",icon:PD},{value:"system",label:"System",icon:CD}].map(e=>{const t=e.icon;return(0,Me.jsxs)("button",{onClick:()=>v(0,"theme",e.value),className:"p-3 rounded-xl border-2 transition-all duration-200 "+(x.theme===e.value?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"),children:[(0,Me.jsx)(t,{className:"h-5 w-5 mx-auto mb-1"}),(0,Me.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.value)})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),(0,Me.jsxs)("select",{value:x.language,onChange:e=>v(0,"language",e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",children:[(0,Me.jsx)("option",{value:"en",children:"English"}),(0,Me.jsx)("option",{value:"hi",children:"Hindi"}),(0,Me.jsx)("option",{value:"mr",children:"Marathi"}),(0,Me.jsx)("option",{value:"gu",children:"Gujarati"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),(0,Me.jsxs)("select",{value:x.timezone,onChange:e=>v(0,"timezone",e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",children:[(0,Me.jsx)("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),(0,Me.jsx)("option",{value:"America/New_York",children:"America/New_York (EST)"}),(0,Me.jsx)("option",{value:"Europe/London",children:"Europe/London (GMT)"}),(0,Me.jsx)("option",{value:"Asia/Dubai",children:"Asia/Dubai (GST)"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),(0,Me.jsxs)("select",{value:x.dateFormat,onChange:e=>v(0,"dateFormat",e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",children:[(0,Me.jsx)("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,Me.jsx)("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,Me.jsx)("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Format"}),(0,Me.jsxs)("select",{value:x.timeFormat,onChange:e=>v(0,"timeFormat",e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",children:[(0,Me.jsx)("option",{value:"12h",children:"12 Hour"}),(0,Me.jsx)("option",{value:"24h",children:"24 Hour"})]})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,Me.jsx)(Ye,{className:"h-5 w-5 mr-2 text-purple-600"}),"Security & Account"]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Add an extra layer of security to your account"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",checked:x.twoFactorEnabled,onChange:e=>v(0,"twoFactorEnabled",e.target.checked),className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Login Alerts"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500",children:"Get notified of new login attempts"})]}),(0,Me.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Me.jsx)("input",{type:"checkbox",checked:x.loginAlerts,onChange:e=>v(0,"loginAlerts",e.target.checked),className:"sr-only peer"}),(0,Me.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout"}),(0,Me.jsxs)("select",{value:x.sessionTimeout,onChange:e=>v(0,"sessionTimeout",e.target.value),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",children:[(0,Me.jsx)("option",{value:"15",children:"15 minutes"}),(0,Me.jsx)("option",{value:"30",children:"30 minutes"}),(0,Me.jsx)("option",{value:"60",children:"1 hour"}),(0,Me.jsx)("option",{value:"240",children:"4 hours"}),(0,Me.jsx)("option",{value:"never",children:"Never"})]})]})]})]}),(0,Me.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-200/50",children:[(0,Me.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Change Password"}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:l?"text":"password",name:"currentPassword",value:g.currentPassword,onChange:y,className:"w-full px-4 py-3 pr-12 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",placeholder:"Enter current password"}),(0,Me.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:d?"text":"password",name:"newPassword",value:g.newPassword,onChange:y,className:"w-full px-4 py-3 pr-12 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",placeholder:"Enter new password"}),(0,Me.jsx)("button",{type:"button",onClick:()=>u(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),g.newPassword&&(0,Me.jsxs)("div",{className:"mt-2",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Me.jsx)("span",{className:"text-xs text-gray-500",children:"Password strength:"}),(0,Me.jsx)("span",{className:`text-xs font-medium ${j.color}`,children:j.text})]}),(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(1===j.strength?"bg-red-500 w-1/4":2===j.strength?"bg-yellow-500 w-2/4":3===j.strength?"bg-blue-500 w-3/4":4===j.strength?"bg-green-500 w-full":"w-0")})})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("input",{type:m?"text":"password",name:"confirmPassword",value:g.confirmPassword,onChange:y,className:"w-full px-4 py-3 pr-12 bg-white border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm",placeholder:"Confirm new password"}),(0,Me.jsx)("button",{type:"button",onClick:()=>h(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m?(0,Me.jsx)(Ge,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,Me.jsx)(Ke,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),g.confirmPassword&&(0,Me.jsx)("div",{className:"mt-2 flex items-center",children:g.newPassword===g.confirmPassword?(0,Me.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,Me.jsx)(Je,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords match"})]}):(0,Me.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,Me.jsx)(We,{className:"h-4 w-4 mr-1"}),(0,Me.jsx)("span",{className:"text-xs",children:"Passwords do not match"})]})})]}),(0,Me.jsxs)("button",{onClick:async()=>{if(!g.currentPassword||!g.newPassword||!g.confirmPassword)return o("Please fill in all password fields."),void setTimeout(()=>o(""),3e3);if(g.newPassword!==g.confirmPassword)return o("New passwords do not match."),void setTimeout(()=>o(""),3e3);if(g.newPassword.length<8)return o("New password must be at least 8 characters long."),void setTimeout(()=>o(""),3e3);s(!0),o(""),a("");try{await new Promise(e=>setTimeout(e,1e3)),f({currentPassword:"",newPassword:"",confirmPassword:""}),a("Password updated successfully!"),setTimeout(()=>a(""),3e3)}catch(e){o("Failed to update password. Please check your current password."),setTimeout(()=>o(""),3e3)}finally{s(!1)}},disabled:t||!g.currentPassword||!g.newPassword||!g.confirmPassword||g.newPassword!==g.confirmPassword,className:"w-full inline-flex items-center justify-center px-4 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white font-medium rounded-xl hover:from-red-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transform hover:scale-105 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[t?(0,Me.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Me.jsx)(Ye,{className:"h-4 w-4 mr-2"}),"Update Password"]})]})]})]})]})})}),(0,Me.jsx)(it,{})]})},OD=Ve("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),ID=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),TD=e=>{let{onImageGenerated:t,contentItemId:s=null,customerId:n="",customerName:a="",customerEmail:i="",initialPrompt:o="",showSaveOptions:l=!0}=e;const[c,d]=(0,r.useState)(o),[u,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[f,b]=(0,r.useState)(!1),[v,y]=(0,r.useState)([]),[j,w]=(0,r.useState)("gemini"),[N,k]=(0,r.useState)(!1),[S,_]=(0,r.useState)(!1),[C,A]=(0,r.useState)(null),[P,E]=(0,r.useState)(""),[O,I]=(0,r.useState)("text-to-image"),[T,M]=(0,r.useState)(""),[D,L]=(0,r.useState)(!1),[R,F]=(0,r.useState)({width:1024,height:1024,guidance:12,steps:40,negativePrompt:"blurry, low quality, distorted, ugly, deformed, pixelated, artifacts, noise, bad anatomy, watermark, signature, text overlay",strength:.7,style:"professional",quality:"premium"}),z={draft:{steps:20,guidance:7,quality:"standard"},standard:{steps:30,guidance:10,quality:"premium"},premium:{steps:50,guidance:15,quality:"ultra"}};(0,r.useEffect)(()=>{(async()=>{try{var e;const t=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/ai/providers"),s=await t.json();if(console.log("Available AI providers:",s.providers),y(s.providers||[]),(null===(e=s.providers)||void 0===e?void 0:e.length)>0){const e=s.providers.includes("gemini")?"gemini":s.providers.includes("stability")?"stability":s.providers.includes("replicate")?"replicate":s.providers[0];w(e)}else g("No AI providers are available. Please check your API keys in the .env file.")}catch(t){console.error("Failed to fetch AI providers:",t),g("Failed to connect to AI services. Please try again later."),y([])}})()},[]);const U=()=>{A(null),E(""),I("text-to-image")};return(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-6",children:(0,Me.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,Me.jsx)("div",{className:"p-3 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 rounded-full shadow-lg",children:(0,Me.jsx)(qT,{className:"w-8 h-8 text-white"})}),(0,Me.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Professional AI Image Generator"})]}),(0,Me.jsx)("p",{className:"text-gray-600 text-lg",children:"Create premium quality visuals with Gemini-level intelligence"})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,Me.jsx)(OD,{className:"w-5 h-5 text-purple-600"}),"Quality Presets"]}),(0,Me.jsx)("div",{className:"grid grid-cols-3 gap-3",children:Object.entries(z).map(e=>{let[t,s]=e;return(0,Me.jsxs)("button",{onClick:()=>{return e=t,void F(t=>({...t,...z[e],quality:e}));var e},className:"p-3 rounded-xl border-2 text-sm font-medium transition-all "+(R.quality===t?"border-purple-500 bg-purple-50 text-purple-700":"border-gray-200 hover:border-purple-300 text-gray-700"),children:[(0,Me.jsx)("div",{className:"font-semibold capitalize",children:t}),(0,Me.jsxs)("div",{className:"text-xs opacity-75 mt-1",children:[s.steps," steps \u2022 ",s.guidance," guidance"]})]},t)})})]}),(0,Me.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsxs)("div",{className:"flex gap-4 p-1 bg-gray-100 rounded-lg",children:[(0,Me.jsxs)("button",{onClick:()=>{I("text-to-image"),U()},className:"flex-1 py-3 px-4 rounded-md font-medium transition-all "+("text-to-image"===O?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:[(0,Me.jsx)(gn,{className:"w-4 h-4 inline mr-2"}),"Text to Image"]}),(0,Me.jsxs)("button",{onClick:()=>I("image-to-image"),className:"flex-1 py-3 px-4 rounded-md font-medium transition-all "+("image-to-image"===O?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:[(0,Me.jsx)(gn,{className:"w-4 h-4 inline mr-2"}),"Image to Image"]})]}),"image-to-image"===O&&(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[(0,Me.jsx)(Rs,{className:"w-4 h-4 inline mr-2"}),"Upload Image to Transform"]}),P?(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("img",{src:P,alt:"Input for transformation",className:"w-full max-h-64 object-contain rounded-xl border shadow-sm"}),(0,Me.jsx)("button",{onClick:U,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:(0,Me.jsx)(vs,{className:"w-4 h-4"})})]}):(0,Me.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-purple-400 transition-colors",children:[(0,Me.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(!t.type.startsWith("image/"))return void g("Please upload an image file");if(t.size>10485760)return void g("Image must be smaller than 10MB");const e=new FileReader;e.onload=e=>{const t=e.target.result;A(t),E(t),I("image-to-image"),g("")},e.readAsDataURL(t)}},className:"hidden",id:"image-upload"}),(0,Me.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,Me.jsx)(Rs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Me.jsx)("p",{className:"text-gray-600 font-medium",children:"Click to upload an image"}),(0,Me.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, WebP up to 10MB"})]})]})]}),v.length>0&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"AI Provider"}),(0,Me.jsx)("select",{value:j,onChange:e=>w(e.target.value),className:"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",children:v.map(e=>(0,Me.jsxs)("option",{value:e,children:["gemini"===e&&"\ud83e\udde0 Gemini 2.5 Flash (Recommended for Best Quality)","stability"===e&&"\ud83c\udfa8 Stability AI (Professional Grade)","replicate"===e&&"\u26a1 Replicate Flux (Fast & High Quality)","huggingface"===e&&"\ud83e\udd17 Hugging Face (Free Option)","openai"===e&&"\ud83d\udd25 OpenAI DALL-E (Creative)",!["gemini","stability","replicate","huggingface","openai"].includes(e)&&e.charAt(0).toUpperCase()+e.slice(1)]},e))}),(0,Me.jsxs)("div",{className:"mt-2 text-xs text-gray-600",children:["gemini"===j&&(0,Me.jsxs)("span",{className:"text-blue-600 flex items-center gap-1",children:[(0,Me.jsx)(qT,{className:"w-3 h-3"}),"Premium quality with intelligent image analysis and prompt enhancement"]}),"stability"===j&&(0,Me.jsx)("span",{className:"text-purple-600",children:"Professional-grade results with Stable Diffusion XL"}),"replicate"===j&&(0,Me.jsx)("span",{className:"text-green-600",children:"High quality with Flux 1.1 Pro model"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Style Preset"}),(0,Me.jsx)("select",{value:R.style,onChange:e=>F(t=>({...t,style:e.target.value})),className:"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all",children:Object.entries({professional:"professional photography, high quality, studio lighting, crisp details, commercial grade",marketing:"marketing material, brand focused, clean design, professional presentation, commercial photography",social:"social media optimized, eye-catching, vibrant, engaging, shareable content",festive:"festive celebration, cultural elements, traditional colors, joyful atmosphere, ceremonial",luxury:"luxury branding, premium quality, elegant design, sophisticated, high-end",modern:"modern design, contemporary, sleek, minimalist, cutting-edge",creative:"creative artwork, artistic expression, unique style, innovative design"}).map(e=>{let[t,s]=e;return(0,Me.jsxs)("option",{value:t,children:[t.charAt(0).toUpperCase()+t.slice(1)," - ",s.split(",")[0]]},t)})})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[(0,Me.jsx)(gn,{className:"w-4 h-4 inline mr-2"}),"image-to-image"===O?"Describe how to transform the image":"Describe your image"]}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"image-to-image"===O?"e.g., Transform this into a premium Diwali promotional poster with elegant golden decorations and festive lighting...":"e.g., Professional Diwali celebration poster for ice cream parlor, elegant design with traditional decorations, premium quality, commercial grade...",className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-200 transition-all duration-200 resize-none",rows:5,maxLength:2e3}),(0,Me.jsxs)("div",{className:"absolute bottom-3 right-3 flex gap-2",children:[(0,Me.jsx)("button",{onClick:async()=>{if(c.trim())try{x(!0);const e={prompt:c.trim(),style:R.style,context:"image-to-image"===O?"transformation":"generation",quality:R.quality},t=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/ai/enhance-prompt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();s.enhancedPrompt&&(M(s.enhancedPrompt),d(s.enhancedPrompt),L(!0))}catch(e){console.error("Failed to enhance prompt:",e)}finally{x(!1)}},disabled:!c.trim()||h,className:"p-2 text-gray-400 hover:text-purple-600 transition-colors disabled:opacity-50",title:"Enhance prompt with AI",children:(0,Me.jsx)(ct,{className:"w-4 h-4"})}),(0,Me.jsx)("button",{onClick:async()=>{const e=T||c;e&&(await navigator.clipboard.writeText(e),b(!0),setTimeout(()=>b(!1),2e3))},disabled:!c,className:"p-2 text-gray-400 hover:text-purple-600 transition-colors disabled:opacity-50",title:"Copy prompt",children:f?(0,Me.jsx)(Je,{className:"w-4 h-4"}):(0,Me.jsx)(ID,{className:"w-4 h-4"})})]})]}),(0,Me.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mt-1",children:[(0,Me.jsx)("span",{children:"Be specific and detailed for premium results"}),(0,Me.jsxs)("span",{children:[c.length,"/2000"]})]})]}),D&&T&&(0,Me.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,Me.jsxs)("h4",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[(0,Me.jsx)(qT,{className:"w-4 h-4"}),"AI Enhanced Prompt"]}),(0,Me.jsx)("p",{className:"text-sm text-blue-700",children:T})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsxs)("button",{onClick:()=>k(!N),className:"flex items-center gap-2 text-sm text-purple-600 hover:text-purple-700 transition-colors",children:[(0,Me.jsx)(rt,{className:"w-4 h-4"}),"Advanced Options",(0,Me.jsxs)("span",{className:"text-xs",children:["(",N?"Hide":"Show",")"]})]}),N&&(0,Me.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl space-y-4",children:[(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Guidance Scale"}),(0,Me.jsx)("input",{type:"range",min:"1",max:"20",step:"0.5",value:R.guidance,onChange:e=>F(t=>({...t,guidance:parseFloat(e.target.value)})),className:"w-full"}),(0,Me.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",R.guidance," (Higher = more prompt adherence)"]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Steps"}),(0,Me.jsx)("input",{type:"range",min:"10",max:"100",step:"5",value:R.steps,onChange:e=>F(t=>({...t,steps:parseInt(e.target.value)})),className:"w-full"}),(0,Me.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",R.steps," (More steps = higher quality)"]})]})]}),"image-to-image"===O&&(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Transformation Strength"}),(0,Me.jsx)("input",{type:"range",min:"0.1",max:"1.0",step:"0.1",value:R.strength,onChange:e=>F(t=>({...t,strength:parseFloat(e.target.value)})),className:"w-full"}),(0,Me.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Current: ",R.strength," (0.1 = subtle, 1.0 = complete transformation)"]})]}),"openai"!==j&&"text-to-image"===O&&(0,Me.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Width"}),(0,Me.jsxs)("select",{value:R.width,onChange:e=>F(t=>({...t,width:parseInt(e.target.value)})),className:"w-full p-2 text-sm border border-gray-200 rounded",children:[(0,Me.jsx)("option",{value:"512",children:"512px"}),(0,Me.jsx)("option",{value:"768",children:"768px"}),(0,Me.jsx)("option",{value:"1024",children:"1024px (Recommended)"}),(0,Me.jsx)("option",{value:"1536",children:"1536px"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Height"}),(0,Me.jsxs)("select",{value:R.height,onChange:e=>F(t=>({...t,height:parseInt(e.target.value)})),className:"w-full p-2 text-sm border border-gray-200 rounded",children:[(0,Me.jsx)("option",{value:"512",children:"512px"}),(0,Me.jsx)("option",{value:"768",children:"768px"}),(0,Me.jsx)("option",{value:"1024",children:"1024px (Recommended)"}),(0,Me.jsx)("option",{value:"1536",children:"1536px"})]})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Negative Prompt"}),(0,Me.jsx)("input",{type:"text",value:R.negativePrompt,onChange:e=>F(t=>({...t,negativePrompt:e.target.value})),className:"w-full p-2 text-sm border border-gray-200 rounded",placeholder:"What to avoid in the image..."})]})]})]}),(0,Me.jsxs)("div",{className:"flex gap-4",children:[(0,Me.jsx)("button",{onClick:async()=>{if(c.trim()){x(!0),m(""),g(""),L(!1);try{if(0===v.length)throw new Error("No AI providers are available. Please check your API configuration.");const e={prompt:c.trim(),provider:j,customerId:n,customerName:a,customerEmail:i,contentItemId:s,...R,enhanceQuality:!0,optimizeForCommercial:!0,professionalGrade:!0};"image-to-image"===O&&C&&(e.inputImage=C,e.transformationMode="professional"),"gemini"===j?(e.useVisionAnalysis=!0,e.detailedPrompting=!0,e.commercialQuality=!0):"stability"===j?(e.engine="stable-diffusion-xl-1024-v1-0",e.style_preset="commercial"):"replicate"===j&&(e.model="flux-1-1-pro",e.safety_tolerance=5),console.log("\ud83c\udfa8 Generating premium quality image with request:",{...e,inputImage:C?"[IMAGE_DATA]":null});const r=new AbortController,o=setTimeout(()=>{r.abort()},"gemini"===j?18e4:"stability"===j?12e4:"replicate"===j?3e5:6e4),l=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:r.signal});if(clearTimeout(o),!l.ok){const e=await l.json();throw new Error(e.message||e.error||"Image generation failed")}const d=await l.json();if(d.success){if(m(d.imageUrl),g(""),d.enhancedPrompt&&(M(d.enhancedPrompt),L(!0)),"gemini"===d.provider){const e="image-to-image"===d.mode?`\u2728 Professional Quality: Gemini analyzed your image and created an optimized transformation using ${d.actualGenerator}`:`\u2728 Professional Quality: Gemini enhanced your prompt for premium results using ${d.actualGenerator}`;g(e),setTimeout(()=>g(""),8e3)}t&&t(d.imageUrl,d.isBase64)}else g(d.message||"Failed to generate image")}catch(e){console.error("Generation error:",e);let t=e.message||"Something went wrong";if("AbortError"===e.name?t="Generation timed out. For complex requests, try using Gemini provider for best results.":t.includes("authentication")?t=`${j.toUpperCase()} API authentication failed. Please check your API key.`:t.includes("insufficient credits")&&(t=`${j.toUpperCase()} account has insufficient credits. Please add credits or try Gemini provider.`),g(t),v.length>1&&!t.includes("No AI providers")){const e=v.includes("gemini")?"Gemini (recommended for best quality)":v.includes("stability")?"Stability AI":v.includes("replicate")?"Replicate":"available provider";g(t+` Try switching to ${e}.`)}}finally{x(!1)}}},disabled:h||!c.trim()||"image-to-image"===O&&!C,className:"flex-1 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 text-white py-4 px-8 rounded-xl font-semibold hover:from-purple-700 hover:via-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl",children:h?(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(_n,{className:"w-5 h-5 animate-spin"}),"gemini"===j?"Creating Premium Image...":"stability"===j?"Crafting Professional Quality...":"replicate"===j?"Generating High Quality...":"Generating..."]}):(0,Me.jsxs)(Me.Fragment,{children:[(0,Me.jsx)(qT,{className:"w-5 h-5"}),"image-to-image"===O?"Transform Image":"Generate Premium Image"]})}),(c||u)&&(0,Me.jsx)("button",{onClick:()=>{d(""),m(""),g(""),M(""),L(!1)},className:"px-6 py-4 border-2 border-gray-200 text-gray-600 rounded-xl hover:border-gray-300 hover:bg-gray-50 transition-all duration-200",children:"Clear"})]})]})}),p&&(0,Me.jsxs)("div",{className:"border rounded-xl p-4 mb-8 flex items-start gap-3 "+(p.includes("\u2728")||p.includes("\u2705")?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[p.includes("\u2728")||p.includes("\u2705")?(0,Me.jsx)(Je,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}):(0,Me.jsx)(We,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,Me.jsx)("div",{children:(0,Me.jsx)("p",{className:"text-sm "+(p.includes("\u2728")||p.includes("\u2705")?"text-green-700":"text-red-700"),children:p})})]}),u&&(0,Me.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-6 flex items-center justify-center gap-2",children:[(0,Me.jsx)(qT,{className:"w-5 h-5 text-purple-600"}),"Generated Premium Content"]}),(0,Me.jsxs)("div",{className:"relative inline-block",children:[(0,Me.jsx)("img",{src:u,alt:"AI Generated premium content",className:"max-w-full h-auto rounded-xl shadow-lg",style:{maxHeight:"600px"}}),(0,Me.jsx)("div",{className:"absolute top-2 right-2 bg-black/75 text-white px-2 py-1 rounded text-xs",children:"Premium Quality"})]}),(0,Me.jsxs)("div",{className:"mt-6 flex justify-center gap-4 flex-wrap",children:[(0,Me.jsxs)("button",{onClick:async()=>{if(u)try{let t,s=`premium-ai-image-${Date.now()}.png`;if(u.startsWith("data:")){const e=await fetch(u);t=await e.blob()}else try{const e=await fetch(u,{mode:"cors",headers:{Accept:"image/*"}});if(!e.ok)throw new Error("Network response was not ok");t=await e.blob()}catch(e){const s=await fetch("https://my-backend-593529385135.asia-south1.run.app/api/proxy-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:u})});if(!s.ok)throw new Error("Proxy fetch failed");t=await s.blob()}const n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=s,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(()=>window.URL.revokeObjectURL(n),100)}catch(t){console.error("Download error:",t),window.open(u,"_blank"),g("Download failed. Image opened in new tab for manual download.")}},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-xl font-medium transition-colors flex items-center gap-2 shadow-lg hover:shadow-xl",children:[(0,Me.jsx)(Ln,{className:"w-4 h-4"}),"Download Premium"]}),l&&n&&(0,Me.jsxs)("button",{onClick:async()=>{if(u&&n){_(!0);try{let e="";if(u.startsWith("data:"))e=u.split(",")[1];else{const t=await fetch(u),s=await t.blob(),n=await s.arrayBuffer();e=btoa(String.fromCharCode(...new Uint8Array(n)))}if(!(await fetch("https://my-backend-593529385135.asia-south1.run.app/api/media-library/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:`ai-premium-${Date.now()}.png`,contentType:"image/png",base64Data:e,tags:["ai-generated",j,"premium-quality"],type:"image",customer_id:n,customer_name:a,customer_email:i,metadata:{provider:j,quality:R.quality,style:R.style,enhanced:!!T}})})).ok)throw new Error("Failed to save to media library");alert("Premium quality image saved to media library successfully!")}catch(e){console.error("Save error:",e),g("Failed to save image to media library")}finally{_(!1)}}},disabled:S,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-medium transition-colors flex items-center gap-2 disabled:opacity-50 shadow-lg hover:shadow-xl",children:[S?(0,Me.jsx)(_n,{className:"w-4 h-4 animate-spin"}):(0,Me.jsx)(ND,{className:"w-4 h-4"}),"Save to Library"]})]}),(0,Me.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:["Generated with ","gemini"===j?"Gemini Intelligence":j.charAt(0).toUpperCase()+j.slice(1)," \u2022 Premium Quality \u2022 ",R.quality.charAt(0).toUpperCase()+R.quality.slice(1)," Settings"]})]})})]})})};const MD=function(){const e=te(),[t,s]=(0,r.useState)(null);return(0,Me.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-teal-100 via-cyan-50 to-yellow-100 relative overflow-hidden",children:[(0,Me.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-blue-400/30 rounded-full animate-float"}),(0,Me.jsx)("div",{className:"absolute top-40 right-20 w-48 h-48 bg-pink-300/40 rounded-full animate-float-delayed"}),(0,Me.jsx)("div",{className:"absolute bottom-32 left-1/4 w-40 h-40 bg-yellow-400/30 transform rotate-45 animate-spin-slow"}),(0,Me.jsx)("div",{className:"absolute top-1/3 right-1/3 w-24 h-24 bg-green-400/30 rounded-lg animate-pulse-slow"}),(0,Me.jsx)("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-pink-300/40 to-transparent rounded-tr-full"}),(0,Me.jsx)("div",{className:"absolute top-0 right-0 w-80 h-80 bg-gradient-to-bl from-blue-300/40 to-transparent rounded-bl-full"})]}),(0,Me.jsx)("div",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 py-12",children:(0,Me.jsxs)("div",{className:"max-w-6xl w-full grid lg:grid-cols-2 gap-12 items-center",children:[(0,Me.jsxs)("div",{className:"text-center lg:text-left space-y-8 animate-fade-in-left",children:[(0,Me.jsx)("div",{className:"flex justify-center lg:justify-start my-2",children:(0,Me.jsx)(Xe,{size:"large"})}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("h1",{className:"text-5xl lg:text-6xl font-bold text-gray-800 leading-tight animate-fade-in",children:["Ignite Your",(0,Me.jsx)("span",{className:"block bg-gradient-to-r from-cyan-600 via-blue-600 to-teal-600 bg-clip-text text-transparent",children:"Social Presence"})]}),(0,Me.jsx)("p",{className:"text-lg text-gray-600 max-w-lg mx-auto lg:mx-0",children:"Connect with talented content creators and elevate your social media game with premium, ready-to-post content."})]}),(0,Me.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center lg:justify-start",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-2 bg-white/60 backdrop-blur-sm px-4 py-2 rounded-full shadow-md animate-fade-in-up",children:[(0,Me.jsx)(mt,{className:"h-5 w-5 text-cyan-600"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"1000+ Creators"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-2 bg-white/60 backdrop-blur-sm px-4 py-2 rounded-full shadow-md animate-fade-in-up animation-delay-100",children:[(0,Me.jsx)(ut,{className:"h-5 w-5 text-blue-600"}),(0,Me.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Boost Engagement"})]})]})]}),(0,Me.jsx)("div",{className:"animate-fade-in-right",children:(0,Me.jsxs)("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl shadow-2xl p-8 lg:p-12 border border-white/50 transform hover:scale-105 transition-all duration-300",children:[(0,Me.jsxs)("div",{className:"text-center mb-8",children:[(0,Me.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Get Started"}),(0,Me.jsx)("p",{className:"text-gray-600",children:"Choose an option to continue"})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{onMouseEnter:()=>s("login"),onMouseLeave:()=>s(null),onClick:()=>e("/customer/login"),className:"group relative bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl p-6 cursor-pointer transform transition-all duration-300 hover:shadow-2xl hover:-translate-y-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold mb-1",children:"Log In"}),(0,Me.jsx)("p",{className:"text-cyan-50 text-sm",children:"Already have an account?"})]}),(0,Me.jsx)(Qe,{className:"h-8 w-8 transform transition-transform duration-300 "+("login"===t?"translate-x-2":"")})]}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 group-hover:animate-shine"})]}),(0,Me.jsxs)("div",{className:"relative",children:[(0,Me.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Me.jsx)("div",{className:"w-full border-t-2 border-gray-200"})}),(0,Me.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Me.jsx)("span",{className:"px-4 bg-white/70 text-gray-500 font-medium",children:"OR"})})]}),(0,Me.jsxs)("div",{onMouseEnter:()=>s("signup"),onMouseLeave:()=>s(null),onClick:()=>e("/customer/signup"),className:"group relative bg-gradient-to-r from-teal-500 to-emerald-600 rounded-2xl p-6 cursor-pointer transform transition-all duration-300 hover:shadow-2xl hover:-translate-y-1",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-2xl font-bold mb-1",children:"Sign Up"}),(0,Me.jsx)("p",{className:"text-teal-50 text-sm",children:"Create a new account"})]}),(0,Me.jsx)(Qe,{className:"h-8 w-8 transform transition-transform duration-300 "+("signup"===t?"translate-x-2":"")})]}),(0,Me.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 group-hover:animate-shine"})]})]}),(0,Me.jsx)("div",{className:"mt-8 text-center",children:(0,Me.jsxs)("p",{className:"text-xs text-gray-500",children:["By continuing, you agree to our"," ",(0,Me.jsx)("span",{className:"text-cyan-600 hover:underline cursor-pointer",children:"Terms"})," ","and"," ",(0,Me.jsx)("span",{className:"text-cyan-600 hover:underline cursor-pointer",children:"Privacy Policy"})]})})]})})]})}),(0,Me.jsx)("style",{children:"\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-20px); }\n        }\n\n        @keyframes float-delayed {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-30px); }\n        }\n\n        @keyframes spin-slow {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n\n        @keyframes pulse-slow {\n          0%, 100% { opacity: 0.3; }\n          50% { opacity: 0.6; }\n        }\n\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        @keyframes fade-in-left {\n          from {\n            opacity: 0;\n            transform: translateX(-30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        @keyframes fade-in-right {\n          from {\n            opacity: 0;\n            transform: translateX(30px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        @keyframes fade-in-up {\n          from {\n            opacity: 0;\n            transform: translateY(20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes shine {\n          0% { left: -100%; }\n          100% { left: 200%; }\n        }\n\n        .animate-float {\n          animation: float 6s ease-in-out infinite;\n        }\n\n        .animate-float-delayed {\n          animation: float-delayed 8s ease-in-out infinite;\n        }\n\n        .animate-spin-slow {\n          animation: spin-slow 20s linear infinite;\n        }\n\n        .animate-pulse-slow {\n          animation: pulse-slow 3s ease-in-out infinite;\n        }\n\n        .animate-fade-in {\n          animation: fade-in 1s ease-out;\n        }\n\n        .animate-fade-in-left {\n          animation: fade-in-left 0.8s ease-out;\n        }\n\n        .animate-fade-in-right {\n          animation: fade-in-right 0.8s ease-out;\n        }\n\n        .animate-fade-in-up {\n          animation: fade-in-up 0.6s ease-out;\n        }\n\n        .animation-delay-100 {\n          animation-delay: 0.1s;\n        }\n\n        .animate-shine {\n          animation: shine 1.5s ease-in-out;\n          position: absolute;\n          inset: 0;\n          left: -100%;\n        }\n      "})]})},DD=72e5;function LD(){const[e,t]=(0,r.useState)(!0),[s,n]=(0,r.useState)(""),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(null),[p,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),v=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=(()=>{if(window.location.search&&window.location.search.length>1)try{return new URLSearchParams(window.location.search)}catch(GB){}const e=window.location.hash||"",t=e.indexOf("?");if(-1!==t)try{return new URLSearchParams(e.substring(t+1))}catch(GB){}return new URLSearchParams})(),s=e.get("customerId")||e.get("customerid")||"",r=e.get("platform")||"",a=e.get("autoConnect")||e.get("auto")||"",o=e.get("t"),c=e.get("source")||"";if(console.log("\ud83d\udd0d Configure URL params:",{customerId:s,platform:r,auto:a,timestamp:o,source:c}),console.log("\ud83d\udd0d Current URL:",window.location.href),console.log("\ud83d\udd0d Origin:",window.location.origin),!s||!r)return n(`Missing required parameters. CustomerId: ${s||"missing"}, Platform: ${r||"missing"}`),void t(!1);d(r);m(o||"admin-qr-generator"===c||"1"===a||"true"===a);let u=null;if(o){const e=parseInt(o,10);if(!isNaN(e)){if(Date.now()-e>DD)return i(!0),void t(!1);const s=()=>{const t=e+DD-Date.now();if(t<=0)return x("Expired"),void i(!0);const s=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4),r=Math.floor(t%6e4/1e3);x(`${s}h ${n}m ${r}s`)};s(),u=setInterval(s,1e3)}}return(async()=>{try{t(!0),n("");let e="https://my-backend-593529385135.asia-south1.run.app";e||(e="https://my-backend-593529385135.asia-south1.run.app"),console.log("\ud83d\udd0d Using API base:",e);const r=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("\ud83d\udd0d Trying fetch:",e);const s=await fetch(e,t);if(!s.ok){let t;try{t=await s.text()}catch(GB){t=String(GB)}return console.warn("Request failed",e,s.status,t),{ok:!1,status:s.status,bodyText:t,json:null}}const n=await s.json();return console.log("\u2705 Fetch success:",e,n),{ok:!0,status:s.status,json:n}}catch(s){return console.warn("Network fetch error for",e,s.message),null}};if(e){const n=`${e.replace(/\/$/,"")}/api/customers/${encodeURIComponent(s)}`,a=await r(n);if(a&&a.ok){const e=a.json.customer||a.json;return l(e),void t(!1)}}const a=`/api/customers/${encodeURIComponent(s)}`,i=await r(a);if(i&&i.ok){const e=i.json.customer||i.json;return l(e),void t(!1)}const o="/api/customers",c=await r(o);if(c&&c.ok){const e=c.json.customers||c.json,n=Array.isArray(e)?e.find(e=>String(e._id)===String(s)||String(e.id)===String(s)):null;if(n)return l(n),void t(!1)}if(e){const n=`${e.replace(/\/$/,"")}/api/customers`,a=await r(n);if(a&&a.ok){const e=a.json.customers||a.json,n=Array.isArray(e)?e.find(e=>String(e._id)===String(s)||String(e.id)===String(s)):null;if(n)return l(n),void t(!1)}}n(`Customer not found. CustomerId: ${s}. Please verify the QR was generated for an existing customer or that the API is reachable.`)}catch(e){console.error("\ud83d\udeab Network error:",e),n("Network error while fetching customer.")}finally{t(!1)}})(),()=>{u&&clearInterval(u)}},[]),(0,r.useEffect)(()=>{u&&o&&c&&b(!0)},[u,o,c]);const y=(e=>{switch(e){case"fb":return"facebook";case"insta":return"instagram";case"yt":return"youtube";case"linkedin":return"linkedin";case"twitter":return"twitter";default:return e}})(c);return s?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,Me.jsx)("div",{className:"max-w-xl w-full bg-white rounded-xl p-6 shadow",children:(0,Me.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Me.jsx)(We,{className:"w-6 h-6 text-red-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold text-red-900",children:"Configuration error"}),(0,Me.jsx)("p",{className:"text-sm text-red-700 mt-1",children:s}),(0,Me.jsx)("div",{className:"mt-4",children:(0,Me.jsxs)("a",{href:"/",className:"text-blue-600 hover:underline flex items-center gap-2",children:[(0,Me.jsx)(Dn,{className:"w-4 h-4"})," Go to main app"]})})]})]})})}):a?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,Me.jsx)("div",{className:"max-w-xl w-full bg-white rounded-xl p-6 shadow",children:(0,Me.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Me.jsx)(on,{className:"w-6 h-6 text-amber-600"}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"font-semibold text-amber-900",children:"QR Code Expired"}),(0,Me.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:"This QR code has expired. For security reasons QR codes expire after a short time."}),(0,Me.jsxs)("div",{className:"mt-4 space-x-3",children:[(0,Me.jsxs)("a",{href:"/",className:"text-blue-600 hover:underline flex items-center gap-2",children:[(0,Me.jsx)(Dn,{className:"w-4 h-4"})," Go to main app"]}),(0,Me.jsx)("a",{href:"/#/admin/qr-generator",className:"text-slate-700 hover:underline flex items-center gap-2",children:"Open Admin QR Generator"})]})]})]})})}):e?(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,Me.jsx)("div",{className:"text-center",children:(0,Me.jsx)("div",{className:"animate-pulse text-slate-400",children:"Loading configuration..."})})}):(0,Me.jsx)("div",{className:"min-h-screen flex items-start justify-center p-6",children:(0,Me.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-xl p-6 shadow",children:[(0,Me.jsxs)("div",{className:"mb-4",children:[(0,Me.jsxs)("h2",{className:"text-xl font-bold",children:["Configure ",y?y.charAt(0).toUpperCase()+y.slice(1):"Social"]}),h&&(0,Me.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Link valid for: ",h]})]}),(0,Me.jsx)(An,{ref:v,platform:y,customer:o,compact:!0,onConnectionSuccess:()=>{g(!1),n("");const e=document.createElement("div");e.className="fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-6",e.innerHTML=`\n              <div class="bg-white rounded-xl p-8 max-w-md w-full text-center shadow-lg">\n                <div class="flex justify-center mb-4">\n                  <svg class="w-16 h-16 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n                  </svg>\n                </div>\n                <h3 class="text-xl font-semibold mb-2 text-green-900">Account Connected Successfully!</h3>\n                <p class="text-sm text-slate-600 mb-6">\n                  Your ${y?y.charAt(0).toUpperCase()+y.slice(1):"social media"} account has been connected.\n                </p>\n                <p class="text-xs text-slate-500">\n                  This window will close automatically...\n                </p>\n              </div>\n            `,document.body.appendChild(e),setTimeout(()=>{window.close(),setTimeout(()=>{e.innerHTML='\n                  <div class="bg-white rounded-xl p-8 max-w-md w-full text-center shadow-lg">\n                    <div class="flex justify-center mb-4">\n                      <svg class="w-16 h-16 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n                      </svg>\n                    </div>\n                    <h3 class="text-xl font-semibold mb-2 text-green-900">Connection Complete!</h3>\n                    <p class="text-sm text-slate-600 mb-4">\n                      Your account has been successfully connected.\n                    </p>\n                    <p class="text-sm font-medium text-slate-700">\n                      You can now close this window.\n                    </p>\n                  </div>\n                '},500)},2e3)}}),f&&(0,Me.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-6",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-lg",children:[(0,Me.jsxs)("div",{className:"text-center mb-6",children:[(0,Me.jsx)("div",{className:"flex justify-center mb-4",children:(0,Me.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Me.jsx)(Je,{className:"w-10 h-10 text-blue-600"})})}),(0,Me.jsxs)("h3",{className:"text-xl font-semibold mb-2 text-slate-900",children:["Connect ",y?y.charAt(0).toUpperCase()+y.slice(1):"Account","?"]}),(0,Me.jsxs)("p",{className:"text-sm text-slate-600 mb-2",children:["Do you want to connect your ",y?y.charAt(0).toUpperCase()+y.slice(1):"social media"," account?"]}),o&&(0,Me.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 mt-3",children:[(0,Me.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Customer"}),(0,Me.jsx)("p",{className:"text-sm font-medium text-slate-900",children:o.name||"Unknown"})]})]}),(0,Me.jsxs)("div",{className:"flex gap-3",children:[(0,Me.jsx)("button",{onClick:()=>{b(!1),n("Connection request was rejected.");const e=document.createElement("div");e.className="fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-6",e.innerHTML='\n      <div class="bg-white rounded-xl p-8 max-w-md w-full text-center shadow-lg">\n        <div class="flex justify-center mb-4">\n          <svg class="w-16 h-16 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\n          </svg>\n        </div>\n        <h3 class="text-xl font-semibold mb-2 text-slate-900">Connection Rejected</h3>\n        <p class="text-sm text-slate-600 mb-4">\n          You can close this window now.\n        </p>\n      </div>\n    ',document.body.appendChild(e),setTimeout(()=>{window.close()},2e3)},className:"flex-1 px-6 py-3 rounded-lg bg-slate-100 text-slate-700 font-semibold hover:bg-slate-200 transition-colors",children:"Reject"}),(0,Me.jsx)("button",{onClick:()=>{b(!1),g(!0)},className:"flex-1 px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors",children:"Accept"})]})]})}),p&&(0,Me.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-6",children:(0,Me.jsxs)("div",{className:"bg-white rounded-xl p-6 max-w-md w-full text-center shadow-lg",children:[(0,Me.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["Continue to Connect ",y?y.charAt(0).toUpperCase()+y.slice(1):""]}),(0,Me.jsxs)("p",{className:"text-sm text-slate-600 mb-4",children:["To complete authentication we need to open the ",y," sign-in window. Tap the button below to continue. This must be initiated by a tap on most mobile browsers."]}),(0,Me.jsxs)("button",{id:"auto-connect-btn",onClick:()=>{g(!1),setTimeout(()=>{v.current&&"function"===typeof v.current.triggerConnect?v.current.triggerConnect():n("Automatic trigger not available. Please press Connect in the widget.")},100)},className:"px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold",children:["Tap to Connect ",y?y.charAt(0).toUpperCase()+y.slice(1):"Account"]}),(0,Me.jsx)("div",{className:"mt-3 text-sm text-slate-500",children:(0,Me.jsx)("button",{onClick:()=>{g(!1),n("Auto-connect cancelled by user.")},className:"text-slate-600 hover:underline",children:"Cancel"})})]})})]})})}const RD=function(){const e=te(),[t,s]=(0,r.useState)("30days"),[n,a]=(0,r.useState)("all"),i=45,o=125420,l=8934,c=7.1,d=e=>{switch(e.toLowerCase()){case"instagram":return"bg-pink-100 text-pink-800";case"facebook":return"bg-blue-100 text-blue-800";case"linkedin":return"bg-indigo-100 text-indigo-800";case"youtube":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString();return(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Me.jsxs)("div",{className:"flex items-center h-16",children:[(0,Me.jsx)("button",{onClick:()=>e("/customer"),className:"mr-4 text-gray-600 hover:text-gray-900 transition-colors",children:(0,Me.jsx)(Ws,{className:"h-5 w-5"})}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("img",{src:"/aureum-logo.png",alt:"Aureum Solutions",className:"h-8 w-8"}),(0,Me.jsx)("span",{className:"ml-2 text-xl font-bold text-[#1a1f2e]",children:"Analytics Dashboard"})]})]})})}),(0,Me.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Me.jsxs)("div",{className:"space-y-6",children:[(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Me.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Content Analytics"}),(0,Me.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your social media performance"})]}),(0,Me.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(xt,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Me.jsxs)("select",{value:t,onChange:e=>s(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#1a1f2e]",children:[(0,Me.jsx)("option",{value:"7days",children:"Last 7 days"}),(0,Me.jsx)("option",{value:"30days",children:"Last 30 days"}),(0,Me.jsx)("option",{value:"90days",children:"Last 90 days"}),(0,Me.jsx)("option",{value:"1year",children:"Last year"})]})]}),(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)(mn,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Me.jsxs)("select",{value:n,onChange:e=>a(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#1a1f2e]",children:[(0,Me.jsx)("option",{value:"all",children:"All Platforms"}),(0,Me.jsx)("option",{value:"instagram",children:"Instagram"}),(0,Me.jsx)("option",{value:"facebook",children:"Facebook"}),(0,Me.jsx)("option",{value:"linkedin",children:"LinkedIn"}),(0,Me.jsx)("option",{value:"youtube",children:"YouTube"})]})]})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,Me.jsx)(xt,{className:"h-6 w-6 text-blue-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Posts"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:i})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,Me.jsx)(Ke,{className:"h-6 w-6 text-green-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Views"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:u(o)})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,Me.jsx)(ME,{className:"h-6 w-6 text-purple-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Engagement"}),(0,Me.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:u(l)})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-orange-100 rounded-full",children:(0,Me.jsx)(ut,{className:"h-6 w-6 text-orange-600"})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Avg. Engagement Rate"}),(0,Me.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:[c,"%"]})]})]})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Platform Performance"}),(0,Me.jsx)("div",{className:"space-y-4",children:[{platform:"Instagram",posts:18,views:65420,engagement:4521,rate:6.9},{platform:"Facebook",posts:15,views:38200,engagement:2890,rate:7.6},{platform:"LinkedIn",posts:8,views:15600,engagement:1234,rate:7.9},{platform:"YouTube",posts:4,views:6200,engagement:289,rate:4.7}].map(e=>(0,Me.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Me.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Me.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(e.platform)}`,children:e.platform}),(0,Me.jsxs)("span",{className:"text-sm text-gray-500",children:[e.posts," posts"]})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[e.rate,"%"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-500",children:"engagement rate"})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4 text-gray-400 mr-1"}),(0,Me.jsx)("span",{className:"font-medium",children:u(e.views)})]}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Views"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,Me.jsx)(ME,{className:"h-4 w-4 text-gray-400 mr-1"}),(0,Me.jsx)("span",{className:"font-medium",children:u(e.engagement)})]}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Engagement"})]}),(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-center mb-1",children:[(0,Me.jsx)(ut,{className:"h-4 w-4 text-gray-400 mr-1"}),(0,Me.jsxs)("span",{className:"font-medium",children:[e.rate,"%"]})]}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Rate"})]})]})]},e.platform))})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Posts Performance"}),(0,Me.jsx)("div",{className:"overflow-x-auto",children:(0,Me.jsxs)("table",{className:"min-w-full",children:[(0,Me.jsx)("thead",{children:(0,Me.jsxs)("tr",{className:"border-b",children:[(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Post"}),(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Platform"}),(0,Me.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Date"}),(0,Me.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-500",children:"Views"}),(0,Me.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-500",children:"Likes"}),(0,Me.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-500",children:"Shares"}),(0,Me.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-500",children:"Comments"}),(0,Me.jsx)("th",{className:"text-center py-3 px-4 font-medium text-gray-500",children:"Engagement Rate"})]})}),(0,Me.jsx)("tbody",{children:[{id:1,title:"Summer Collection Launch",platform:"Instagram",date:"2024-03-15",views:8420,likes:342,shares:89,comments:67,engagementRate:5.9},{id:2,title:"Customer Testimonial Video",platform:"Facebook",date:"2024-03-14",views:5630,likes:298,shares:156,comments:43,engagementRate:8.8},{id:3,title:"Industry Insights Article",platform:"LinkedIn",date:"2024-03-13",views:3240,likes:187,shares:92,comments:28,engagementRate:9.5},{id:4,title:"Behind the Scenes",platform:"YouTube",date:"2024-03-12",views:2180,likes:134,shares:45,comments:23,engagementRate:9.3}].map(e=>(0,Me.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Me.jsx)("td",{className:"py-3 px-4",children:(0,Me.jsx)("p",{className:"font-medium text-gray-900",children:e.title})}),(0,Me.jsx)("td",{className:"py-3 px-4",children:(0,Me.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(e.platform)}`,children:e.platform})}),(0,Me.jsx)("td",{className:"py-3 px-4 text-gray-600",children:e.date}),(0,Me.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsx)(Ke,{className:"h-4 w-4 text-gray-400 mr-1"}),u(e.views)]})}),(0,Me.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsx)(ME,{className:"h-4 w-4 text-gray-400 mr-1"}),e.likes]})}),(0,Me.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsx)(zT,{className:"h-4 w-4 text-gray-400 mr-1"}),e.shares]})}),(0,Me.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Me.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Me.jsx)(DE,{className:"h-4 w-4 text-gray-400 mr-1"}),e.comments]})}),(0,Me.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Me.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(e.engagementRate>=8?"bg-green-100 text-green-800":e.engagementRate>=6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[e.engagementRate,"%"]})})]},e.id))})]})})]})]})})]})};function FD(e){return e+.5|0}const zD=(e,t,s)=>Math.max(Math.min(e,s),t);function UD(e){return zD(FD(2.55*e),0,255)}function $D(e){return zD(FD(255*e),0,255)}function BD(e){return zD(FD(e/2.55)/100,0,1)}function VD(e){return zD(FD(100*e),0,100)}const WD={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},HD=[..."0123456789ABCDEF"],qD=e=>HD[15&e],YD=e=>HD[(240&e)>>4]+HD[15&e],GD=e=>(240&e)>>4===(15&e);function KD(e){var t=(e=>GD(e.r)&&GD(e.g)&&GD(e.b)&&GD(e.a))(e)?qD:YD;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const JD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QD(e,t,s){const n=t*Math.min(s,1-s),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return s-n*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function XD(e,t,s){const n=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return s-s*t*Math.max(Math.min(r,4-r,1),0)};return[n(5),n(3),n(1)]}function ZD(e,t,s){const n=QD(e,1,.5);let r;for(t+s>1&&(r=1/(t+s),t*=r,s*=r),r=0;r<3;r++)n[r]*=1-t-s,n[r]+=t;return n}function eL(e){const t=e.r/255,s=e.g/255,n=e.b/255,r=Math.max(t,s,n),a=Math.min(t,s,n),i=(r+a)/2;let o,l,c;return r!==a&&(c=r-a,l=i>.5?c/(2-r-a):c/(r+a),o=function(e,t,s,n,r){return e===r?(t-s)/n+(t<s?6:0):t===r?(s-e)/n+2:(e-t)/n+4}(t,s,n,c,r),o=60*o+.5),[0|o,l||0,i]}function tL(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map($D)}function sL(e,t,s){return tL(QD,e,t,s)}function nL(e){return(e%360+360)%360}function rL(e){const t=JD.exec(e);let s,n=255;if(!t)return;t[5]!==s&&(n=t[6]?UD(+t[5]):$D(+t[5]));const r=nL(+t[2]),a=+t[3]/100,i=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return tL(ZD,e,t,s)}(r,a,i):"hsv"===t[1]?function(e,t,s){return tL(XD,e,t,s)}(r,a,i):sL(r,a,i),{r:s[0],g:s[1],b:s[2],a:n}}const aL={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iL={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let oL;function lL(e){oL||(oL=function(){const e={},t=Object.keys(iL),s=Object.keys(aL);let n,r,a,i,o;for(n=0;n<t.length;n++){for(i=o=t[n],r=0;r<s.length;r++)a=s[r],o=o.replace(a,aL[a]);a=parseInt(iL[i],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),oL.transparent=[0,0,0,0]);const t=oL[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const cL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const dL=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,uL=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function mL(e,t,s){if(e){let n=eL(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,0===t?360:1)),n=sL(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function hL(e,t){return e?Object.assign(t||{},e):e}function xL(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$D(e[3]))):(t=hL(e,{r:0,g:0,b:0,a:1})).a=$D(t.a),t}function pL(e){return"r"===e.charAt(0)?function(e){const t=cL.exec(e);let s,n,r,a=255;if(t){if(t[7]!==s){const e=+t[7];a=t[8]?UD(e):zD(255*e,0,255)}return s=+t[1],n=+t[3],r=+t[5],s=255&(t[2]?UD(s):zD(s,0,255)),n=255&(t[4]?UD(n):zD(n,0,255)),r=255&(t[6]?UD(r):zD(r,0,255)),{r:s,g:n,b:r,a:a}}}(e):rL(e)}class gL{constructor(e){if(e instanceof gL)return e;const t=typeof e;let s;"object"===t?s=xL(e):"string"===t&&(s=function(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*WD[e[1]],g:255&17*WD[e[2]],b:255&17*WD[e[3]],a:5===s?17*WD[e[4]]:255}:7!==s&&9!==s||(t={r:WD[e[1]]<<4|WD[e[2]],g:WD[e[3]]<<4|WD[e[4]],b:WD[e[5]]<<4|WD[e[6]],a:9===s?WD[e[7]]<<4|WD[e[8]]:255})),t}(e)||lL(e)||pL(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=hL(this._rgb);return e&&(e.a=BD(e.a)),e}set rgb(e){this._rgb=xL(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${BD(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?KD(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=eL(e),s=t[0],n=VD(t[1]),r=VD(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${r}%, ${BD(e.a)})`:`hsl(${s}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,n=e.rgb;let r;const a=t===r?.5:t,i=2*a-1,o=s.a-n.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;r=1-l,s.r=255&l*s.r+r*n.r+.5,s.g=255&l*s.g+r*n.g+.5,s.b=255&l*s.b+r*n.b+.5,s.a=a*s.a+(1-a)*n.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const n=uL(BD(e.r)),r=uL(BD(e.g)),a=uL(BD(e.b));return{r:$D(dL(n+s*(uL(BD(t.r))-n))),g:$D(dL(r+s*(uL(BD(t.g))-r))),b:$D(dL(a+s*(uL(BD(t.b))-a))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new gL(this.rgb)}alpha(e){return this._rgb.a=$D(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=FD(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return mL(this._rgb,2,e),this}darken(e){return mL(this._rgb,2,-e),this}saturate(e){return mL(this._rgb,1,e),this}desaturate(e){return mL(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=eL(e);s[0]=nL(s[0]+t),s=sL(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}function fL(){}const bL=(()=>{let e=0;return()=>e++})();function vL(e){return null===e||void 0===e}function yL(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function jL(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function wL(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function NL(e,t){return wL(e)?e:t}function kL(e,t){return"undefined"===typeof e?t:e}const SL=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function _L(e,t,s){if(e&&"function"===typeof e.call)return e.apply(s,t)}function CL(e,t,s,n){let r,a,i;if(yL(e))if(a=e.length,n)for(r=a-1;r>=0;r--)t.call(s,e[r],r);else for(r=0;r<a;r++)t.call(s,e[r],r);else if(jL(e))for(i=Object.keys(e),a=i.length,r=0;r<a;r++)t.call(s,e[i[r]],i[r])}function AL(e,t){let s,n,r,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(r=e[s],a=t[s],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function PL(e){if(yL(e))return e.map(PL);if(jL(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let r=0;for(;r<n;++r)t[s[r]]=PL(e[s[r]]);return t}return e}function EL(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function OL(e,t,s,n){if(!EL(e))return;const r=t[e],a=s[e];jL(r)&&jL(a)?IL(r,a,n):t[e]=PL(a)}function IL(e,t,s){const n=yL(t)?t:[t],r=n.length;if(!jL(e))return e;const a=(s=s||{}).merger||OL;let i;for(let o=0;o<r;++o){if(i=n[o],!jL(i))continue;const t=Object.keys(i);for(let n=0,r=t.length;n<r;++n)a(t[n],e,i,s)}return e}function TL(e,t){return IL(e,t,{merger:ML})}function ML(e,t,s){if(!EL(e))return;const n=t[e],r=s[e];jL(n)&&jL(r)?TL(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=PL(r))}const DL={"":e=>e,x:e=>e.x,y:e=>e.y};function LL(e,t){const s=DL[t]||(DL[t]=function(e){const t=function(e){const t=e.split("."),s=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function RL(e){return e.charAt(0).toUpperCase()+e.slice(1)}const FL=e=>"undefined"!==typeof e,zL=e=>"function"===typeof e,UL=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const $L=Math.PI,BL=2*$L,VL=BL+$L,WL=Number.POSITIVE_INFINITY,HL=$L/180,qL=$L/2,YL=$L/4,GL=2*$L/3,KL=Math.log10,JL=Math.sign;function QL(e,t,s){return Math.abs(e-t)<s}function XL(e){const t=Math.round(e);e=QL(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(KL(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function ZL(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function eR(e,t,s){let n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function tR(e){return e*($L/180)}function sR(e){return e*(180/$L)}function nR(e){if(!wL(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function rR(e,t){const s=t.x-e.x,n=t.y-e.y,r=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*$L&&(a+=BL),{angle:a,distance:r}}function aR(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function iR(e,t){return(e-t+VL)%BL-$L}function oR(e){return(e%BL+BL)%BL}function lR(e,t,s,n){const r=oR(e),a=oR(t),i=oR(s),o=oR(a-r),l=oR(i-r),c=oR(r-a),d=oR(r-i);return r===a||r===i||n&&a===i||o>l&&c<d}function cR(e,t,s){return Math.max(t,Math.min(s,e))}function dR(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function uR(e,t,s){s=s||(s=>e[s]<t);let n,r=e.length-1,a=0;for(;r-a>1;)n=a+r>>1,s(n)?a=n:r=n;return{lo:a,hi:r}}const mR=(e,t,s,n)=>uR(e,s,n?n=>{const r=e[n][t];return r<s||r===s&&e[n+1][t]===s}:n=>e[n][t]<s),hR=(e,t,s)=>uR(e,s,n=>e[n][t]>=s);const xR=["push","pop","shift","splice","unshift"];function pR(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),n.length>0||(xR.forEach(t=>{delete e[t]}),delete e._chartjs)}function gR(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const fR="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function bR(e,t){let s=[],n=!1;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];s=a,n||(n=!0,fR.call(window,()=>{n=!1,e.apply(t,s)}))}}const vR=e=>"start"===e?"left":"end"===e?"right":"center",yR=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;function jR(e,t,s){const n=t.length;let r=0,a=n;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:m,minDefined:h,maxDefined:x}=i.getUserBounds();if(h){if(r=Math.min(mR(l,d,u).lo,s?n:mR(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,r+1).reverse().findIndex(e=>!vL(e[o.axis]));r-=Math.max(0,e)}r=cR(r,0,n-1)}if(x){let e=Math.max(mR(l,i.axis,m,!0).hi+1,s?0:mR(t,d,i.getPixelForValue(m),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!vL(e[o.axis]));e+=Math.max(0,t)}a=cR(e,r,n)-r}else a=n-r}return{start:r,count:a}}function wR(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=r,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,r),a}const NR=e=>0===e||1===e,kR=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*BL/s),SR=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*BL/s)+1,_R={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*qL),easeOutSine:e=>Math.sin(e*qL),easeInOutSine:e=>-.5*(Math.cos($L*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>NR(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>NR(e)?e:kR(e,.075,.3),easeOutElastic:e=>NR(e)?e:SR(e,.075,.3),easeInOutElastic(e){const t=.1125;return NR(e)?e:e<.5?.5*kR(2*e,t,.45):.5+.5*SR(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-_R.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*_R.easeInBounce(2*e):.5*_R.easeOutBounce(2*e-1)+.5};function CR(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function AR(e){return CR(e)?e:new gL(e)}function PR(e){return CR(e)?e:new gL(e).saturate(.5).darken(.1).hexString()}const ER=["x","y","borderWidth","radius","tension"],OR=["color","borderColor","backgroundColor"];const IR=new Map;function TR(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let n=IR.get(s);return n||(n=new Intl.NumberFormat(e,t),IR.set(s,n)),n}(t,s).format(e)}const MR={values:e=>yL(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const n=this.chart.options.locale;let r,a=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const i=KL(Math.abs(a)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),TR(e,n,l)},logarithmic(e,t,s){if(0===e)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(KL(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?MR.numeric.call(this,e,t,s):""}};var DR={formatters:MR};const LR=Object.create(null),RR=Object.create(null);function FR(e,t){if(!t)return e;const s=t.split(".");for(let n=0,r=s.length;n<r;++n){const t=s[n];e=e[t]||(e[t]=Object.create(null))}return e}function zR(e,t,s){return"string"===typeof t?IL(FR(e,t),s):IL(FR(e,""),t)}class UR{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>PR(t.backgroundColor),this.hoverBorderColor=(e,t)=>PR(t.borderColor),this.hoverColor=(e,t)=>PR(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return zR(this,e,t)}get(e){return FR(this,e)}describe(e,t){return zR(RR,e,t)}override(e,t){return zR(LR,e,t)}route(e,t,s,n){const r=FR(this,e),a=FR(this,s),i="_"+t;Object.defineProperties(r,{[i]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[n];return jL(e)?Object.assign({},t,e):kL(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var $R=new UR({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:OR},numbers:{type:"number",properties:ER}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:DR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function BR(e,t,s,n,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,s.push(r)),a>n&&(n=a),n}function VR(e,t,s){const n=e.currentDevicePixelRatio,r=0!==s?Math.max(s/2,.5):0;return Math.round((t-r)*n)/n+r}function WR(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function HR(e,t,s,n){qR(e,t,s,n,null)}function qR(e,t,s,n,r){let a,i,o,l,c,d,u,m;const h=t.pointStyle,x=t.rotation,p=t.radius;let g=(x||0)*HL;if(h&&"object"===typeof h&&(a=h.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(s,n),e.rotate(g),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),h){default:r?e.ellipse(s,n,r/2,p,0,0,BL):e.arc(s,n,p,0,BL),e.closePath();break;case"triangle":d=r?r/2:p,e.moveTo(s+Math.sin(g)*d,n-Math.cos(g)*p),g+=GL,e.lineTo(s+Math.sin(g)*d,n-Math.cos(g)*p),g+=GL,e.lineTo(s+Math.sin(g)*d,n-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,i=Math.cos(g+YL)*l,u=Math.cos(g+YL)*(r?r/2-c:l),o=Math.sin(g+YL)*l,m=Math.sin(g+YL)*(r?r/2-c:l),e.arc(s-u,n-o,c,g-$L,g-qL),e.arc(s+m,n-i,c,g-qL,g),e.arc(s+u,n+o,c,g,g+qL),e.arc(s-m,n+i,c,g+qL,g+$L),e.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*p,d=r?r/2:l,e.rect(s-d,n-l,2*d,2*l);break}g+=YL;case"rectRot":u=Math.cos(g)*(r?r/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,m=Math.sin(g)*(r?r/2:p),e.moveTo(s-u,n-o),e.lineTo(s+m,n-i),e.lineTo(s+u,n+o),e.lineTo(s-m,n+i),e.closePath();break;case"crossRot":g+=YL;case"cross":u=Math.cos(g)*(r?r/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,m=Math.sin(g)*(r?r/2:p),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+m,n-i),e.lineTo(s-m,n+i);break;case"star":u=Math.cos(g)*(r?r/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,m=Math.sin(g)*(r?r/2:p),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+m,n-i),e.lineTo(s-m,n+i),g+=YL,u=Math.cos(g)*(r?r/2:p),i=Math.cos(g)*p,o=Math.sin(g)*p,m=Math.sin(g)*(r?r/2:p),e.moveTo(s-u,n-o),e.lineTo(s+u,n+o),e.moveTo(s+m,n-i),e.lineTo(s-m,n+i);break;case"line":i=r?r/2:Math.cos(g)*p,o=Math.sin(g)*p,e.moveTo(s-i,n-o),e.lineTo(s+i,n+o);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(g)*(r?r/2:p),n+Math.sin(g)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function YR(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function GR(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function KR(e){e.restore()}function JR(e,t,s,n,r){if(!t)return e.lineTo(s.x,s.y);if("middle"===r){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else"after"===r!==!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function QR(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function XR(e,t,s,n,r){if(r.strikethrough||r.underline){const a=e.measureText(n),i=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=s-a.actualBoundingBoxAscent,c=s+a.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function ZR(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function eF(e,t,s,n,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=yL(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),vL(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<i.length;++l)c=i[l],a.backdrop&&ZR(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),vL(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,s,n,a.maxWidth)),e.fillText(c,s,n,a.maxWidth),XR(e,s,n,c,a),n+=Number(r.lineHeight);e.restore()}function tF(e,t){const{x:s,y:n,w:r,h:a,radius:i}=t;e.arc(s+i.topLeft,n+i.topLeft,i.topLeft,1.5*$L,$L,!0),e.lineTo(s,n+a-i.bottomLeft),e.arc(s+i.bottomLeft,n+a-i.bottomLeft,i.bottomLeft,$L,qL,!0),e.lineTo(s+r-i.bottomRight,n+a),e.arc(s+r-i.bottomRight,n+a-i.bottomRight,i.bottomRight,qL,0,!0),e.lineTo(s+r,n+i.topRight),e.arc(s+r-i.topRight,n+i.topRight,i.topRight,0,-qL,!0),e.lineTo(s+i.topLeft,n)}const sF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,nF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rF(e,t){const s=(""+e).match(sF);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}const aF=e=>+e||0;function iF(e,t){const s={},n=jL(t),r=n?Object.keys(t):t,a=jL(e)?n?s=>kL(e[s],e[t[s]]):t=>e[t]:()=>e;for(const i of r)s[i]=aF(a(i));return s}function oF(e){return iF(e,{top:"y",right:"x",bottom:"y",left:"x"})}function lF(e){return iF(e,["topLeft","topRight","bottomLeft","bottomRight"])}function cF(e){const t=oF(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function dF(e,t){e=e||{},t=t||$R.font;let s=kL(e.size,t.size);"string"===typeof s&&(s=parseInt(s,10));let n=kL(e.style,t.style);n&&!(""+n).match(nF)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:kL(e.family,t.family),lineHeight:rF(kL(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:kL(e.weight,t.weight),string:""};return r.string=function(e){return!e||vL(e.size)||vL(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function uF(e,t,s,n){let r,a,i,o=!0;for(r=0,a=e.length;r<a;++r)if(i=e[r],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==s&&yL(i)&&(i=i[s%i.length],o=!1),void 0!==i))return n&&!o&&(n.cacheable=!1),i}function mF(e,t){return Object.assign(Object.create(e),t)}function hF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof s&&(s=kF("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:n,override:n=>hF([n,...e],t,r,s)};return new Proxy(a,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,n)=>bF(s,n,()=>function(e,t,s,n){let r;for(const a of t)if(r=kF(gF(a,e),s),"undefined"!==typeof r)return fF(e,r)?wF(s,n,e,r):r}(n,t,e,s)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>SF(e).includes(t),ownKeys:e=>SF(e),set(e,t,s){const r=e._storage||(e._storage=n());return e[t]=r[t]=s,delete e._keys,!0}})}function xF(e,t,s,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:pF(e,n),setContext:t=>xF(e,t,s,n),override:r=>xF(e.override(r),t,s,n)};return new Proxy(r,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>bF(e,t,()=>function(e,t,s){const{_proxy:n,_context:r,_subProxy:a,_descriptors:i}=e;let o=n[t];zL(o)&&i.isScriptable(t)&&(o=function(e,t,s,n){const{_proxy:r,_context:a,_subProxy:i,_stack:o}=s;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,i||n);o.delete(e),fF(e,l)&&(l=wF(r._scopes,r,e,l));return l}(t,o,e,s));yL(o)&&o.length&&(o=function(e,t,s,n){const{_proxy:r,_context:a,_subProxy:i,_descriptors:o}=s;if("undefined"!==typeof a.index&&n(e))return t[a.index%t.length];if(jL(t[0])){const s=t,n=r._scopes.filter(e=>e!==s);t=[];for(const l of s){const s=wF(n,r,e,l);t.push(xF(s,a,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));fF(t,o)&&(o=xF(o,r,a&&a[t],i));return o}(e,t,s)),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,n)=>(e[s]=n,delete t[s],!0)})}function pF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:s,indexable:n,isScriptable:zL(s)?s:()=>s,isIndexable:zL(n)?n:()=>n}}const gF=(e,t)=>e?e+RL(t):t,fF=(e,t)=>jL(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function bF(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=s();return e[t]=n,n}function vF(e,t,s){return zL(e)?e(t,s):e}const yF=(e,t)=>!0===e?t:"string"===typeof e?LL(t,e):void 0;function jF(e,t,s,n,r){for(const a of t){const t=yF(s,a);if(t){e.add(t);const a=vF(t._fallback,s,r);if("undefined"!==typeof a&&a!==s&&a!==n)return a}else if(!1===t&&"undefined"!==typeof n&&s!==n)return null}return!1}function wF(e,t,s,n){const r=t._rootScopes,a=vF(t._fallback,s,n),i=[...e,...r],o=new Set;o.add(n);let l=NF(o,i,s,a||s,n);return null!==l&&(("undefined"===typeof a||a===s||(l=NF(o,i,a,l,n),null!==l))&&hF(Array.from(o),[""],r,a,()=>function(e,t,s){const n=e._getTarget();t in n||(n[t]={});const r=n[t];if(yL(r)&&jL(s))return s;return r||{}}(t,s,n)))}function NF(e,t,s,n,r){for(;s;)s=jF(e,t,s,n,r);return s}function kF(e,t){for(const s of t){if(!s)continue;const t=s[e];if("undefined"!==typeof t)return t}}function SF(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const _F=Number.EPSILON||1e-14,CF=(e,t)=>t<e.length&&!e[t].skip&&e[t],AF=e=>"x"===e?"y":"x";function PF(e,t,s,n){const r=e.skip?t:e,a=t,i=s.skip?t:s,o=aR(a,r),l=aR(i,a);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,m=n*d;return{previous:{x:a.x-u*(i.x-r.x),y:a.y-u*(i.y-r.y)},next:{x:a.x+m*(i.x-r.x),y:a.y+m*(i.y-r.y)}}}function EF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const s=AF(t),n=e.length,r=Array(n).fill(0),a=Array(n);let i,o,l,c=CF(e,0);for(i=0;i<n;++i)if(o=l,l=c,c=CF(e,i+1),l){if(c){const e=c[t]-l[t];r[i]=0!==e?(c[s]-l[s])/e:0}a[i]=o?c?JL(r[i-1])!==JL(r[i])?0:(r[i-1]+r[i])/2:r[i-1]:r[i]}!function(e,t,s){const n=e.length;let r,a,i,o,l,c=CF(e,0);for(let d=0;d<n-1;++d)l=c,c=CF(e,d+1),l&&c&&(QL(t[d],0,_F)?s[d]=s[d+1]=0:(r=s[d]/t[d],a=s[d+1]/t[d],o=Math.pow(r,2)+Math.pow(a,2),o<=9||(i=3/Math.sqrt(o),s[d]=r*i*t[d],s[d+1]=a*i*t[d])))}(e,r,a),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=AF(s),r=e.length;let a,i,o,l=CF(e,0);for(let c=0;c<r;++c){if(i=o,o=l,l=CF(e,c+1),!o)continue;const r=o[s],d=o[n];i&&(a=(r-i[s])/3,o[`cp1${s}`]=r-a,o[`cp1${n}`]=d-a*t[c]),l&&(a=(l[s]-r)/3,o[`cp2${s}`]=r+a,o[`cp2${n}`]=d+a*t[c])}}(e,a,t)}function OF(e,t,s){return Math.max(Math.min(e,s),t)}function IF(e,t,s,n,r){let a,i,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)EF(e,r);else{let s=n?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)o=e[a],l=PF(s,o,e[Math.min(a+1,i-(n?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,s=o}t.capBezierPoints&&function(e,t){let s,n,r,a,i,o=YR(e[0],t);for(s=0,n=e.length;s<n;++s)i=a,a=o,o=s<n-1&&YR(e[s+1],t),a&&(r=e[s],i&&(r.cp1x=OF(r.cp1x,t.left,t.right),r.cp1y=OF(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=OF(r.cp2x,t.left,t.right),r.cp2y=OF(r.cp2y,t.top,t.bottom)))}(e,s)}function TF(){return"undefined"!==typeof window&&"undefined"!==typeof document}function MF(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function DF(e,t,s){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[s])):n=e,n}const LF=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const RF=["top","right","bottom","left"];function FF(e,t,s){const n={};s=s?"-"+s:"";for(let r=0;r<4;r++){const a=RF[r];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function zF(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,r=LF(s),a="border-box"===r.boxSizing,i=FF(r,"padding"),o=FF(r,"border","width"),{x:l,y:c,box:d}=function(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:r,offsetY:a}=n;let i,o,l=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(r,a,e.target))i=r,o=a;else{const e=t.getBoundingClientRect();i=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,s),u=i.left+(d&&o.left),m=i.top+(d&&o.top);let{width:h,height:x}=t;return a&&(h-=i.width+o.width,x-=i.height+o.height),{x:Math.round((l-u)/h*s.width/n),y:Math.round((c-m)/x*s.height/n)}}const UF=e=>Math.round(10*e)/10;function $F(e,t,s,n){const r=LF(e),a=FF(r,"margin"),i=DF(r.maxWidth,e,"clientWidth")||WL,o=DF(r.maxHeight,e,"clientHeight")||WL,l=function(e,t,s){let n,r;if(void 0===t||void 0===s){const a=e&&MF(e);if(a){const e=a.getBoundingClientRect(),i=LF(a),o=FF(i,"border","width"),l=FF(i,"padding");t=e.width-l.width-o.width,s=e.height-l.height-o.height,n=DF(i.maxWidth,a,"clientWidth"),r=DF(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:n||WL,maxHeight:r||WL}}(e,t,s);let{width:c,height:d}=l;if("content-box"===r.boxSizing){const e=FF(r,"border","width"),t=FF(r,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-a.width),d=Math.max(0,n?c/n:d-a.height),c=UF(Math.min(c,i,l.maxWidth)),d=UF(Math.min(d,o,l.maxHeight)),c&&!d&&(d=UF(c/2));return(void 0!==t||void 0!==s)&&n&&l.height&&d>l.height&&(d=l.height,c=UF(Math.floor(d*n))),{width:c,height:d}}function BF(e,t,s){const n=t||1,r=UF(e.height*n),a=UF(e.width*n);e.height=UF(e.height),e.width=UF(e.width);const i=e.canvas;return i.style&&(s||!i.style.height&&!i.style.width)&&(i.style.height=`${e.height}px`,i.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||i.height!==r||i.width!==a)&&(e.currentDevicePixelRatio=n,i.height=r,i.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const VF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};TF()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(GB){}return e}();function WF(e,t){const s=function(e,t){return LF(e).getPropertyValue(t)}(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function HF(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function qF(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:"middle"===n?s<.5?e.y:t.y:"after"===n?s<1?e.y:t.y:s>0?t.y:e.y}}function YF(e,t,s,n){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=HF(e,r,s),o=HF(r,a,s),l=HF(a,t,s),c=HF(i,o,s),d=HF(o,l,s);return HF(c,d,s)}function GF(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function KF(e,t){let s,n;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function JF(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function QF(e){return"angle"===e?{between:lR,compare:iR,normalize:oR}:{between:dR,compare:(e,t)=>e-t,normalize:e=>e}}function XF(e){let{start:t,end:s,count:n,loop:r,style:a}=e;return{start:t%n,end:s%n,loop:r&&(s-t+1)%n===0,style:a}}function ZF(e,t,s){if(!s)return[e];const{property:n,start:r,end:a}=s,i=t.length,{compare:o,between:l,normalize:c}=QF(n),{start:d,end:u,loop:m,style:h}=function(e,t,s){const{property:n,start:r,end:a}=s,{between:i,normalize:o}=QF(n),l=t.length;let c,d,{start:u,end:m,loop:h}=e;if(h){for(u+=l,m+=l,c=0,d=l;c<d&&i(o(t[u%l][n]),r,a);++c)u--,m--;u%=l,m%=l}return m<u&&(m+=l),{start:u,end:m,loop:h,style:e.style}}(e,t,s),x=[];let p,g,f,b=!1,v=null;const y=()=>b||l(r,f,p)&&0!==o(r,f),j=()=>!b||0===o(a,p)||l(a,f,p);for(let w=d,N=d;w<=u;++w)g=t[w%i],g.skip||(p=c(g[n]),p!==f&&(b=l(p,r,a),null===v&&y()&&(v=0===o(p,r)?w:N),null!==v&&j()&&(x.push(XF({start:v,end:w,loop:m,count:i,style:h})),v=null),N=w,f=p));return null!==v&&x.push(XF({start:v,end:u,loop:m,count:i,style:h})),x}function ez(e,t){const s=[],n=e.segments;for(let r=0;r<n.length;r++){const a=ZF(n[r],e.points,t);a.length&&s.push(...a)}return s}function tz(e,t,s,n){return n&&n.setContext&&s?function(e,t,s,n){const r=e._chart.getContext(),a=sz(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=s.length,c=[];let d=a,u=t[0].start,m=u;function h(e,t,n,r){const a=o?-1:1;if(e!==t){for(e+=l;s[e%l].skip;)e-=a;for(;s[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:n,style:r}),d=r,u=t%l)}}for(const x of t){u=o?u:x.start;let e,t=s[u%l];for(m=u+1;m<=x.end;m++){const a=s[m%l];e=sz(n.setContext(mF(r,{type:"segment",p0:t,p1:a,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:i}))),nz(e,d)&&h(u,m-1,x.loop,d),t=a,d=e}u<m-1&&h(u,m-1,x.loop,d)}return c}(e,t,s,n):t}function sz(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function nz(e,t){if(!t)return!1;const s=[],n=function(e,t){return CR(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function rz(e,t,s){return e.options.clip?e[s]:t[s]}function az(e,t){const s=t._clip;if(s.disabled)return!1;const n=function(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:rz(s,t,"left"),right:rz(s,t,"right"),top:rz(n,t,"top"),bottom:rz(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:n.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:n.right+(!0===s.right?0:s.right),top:!1===s.top?0:n.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:n.bottom+(!0===s.bottom?0:s.bottom)}}class iz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,n){const r=t.listeners[n],a=t.duration;r.forEach(n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(s-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=fR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;const r=s.items;let a,i=r.length-1,o=!1;for(;i>=0;--i)a=r[i],a._active?(a._total>s.duration&&(s.duration=a._total),a.tick(e),o=!0):(r[i]=r[r.length-1],r.pop());o&&(n.draw(),this._notify(n,s,e,"progress")),r.length||(s.running=!1,this._notify(n,s,e,"complete"),s.initial=!1),t+=r.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var oz=new iz;const lz="transparent",cz={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const n=AR(e||lz),r=n.valid&&AR(t||lz);return r&&r.valid?r.mix(n,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class dz{constructor(e,t,s,n){const r=t[s];n=uF([e.to,n,r,e.from]);const a=uF([e.from,r,n]);this._active=!0,this._fn=e.fn||cz[e.type||typeof a],this._easing=_R[e.easing]||_R.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const n=this._target[this._prop],r=s-this._start,a=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=uF([e.to,t,n,e.from]),this._from=uF([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,n=this._prop,r=this._from,a=this._loop,i=this._to;let o;if(this._active=r!==i&&(a||t<s),!this._active)return this._target[n]=i,void this._notify(!0);t<0?this._target[n]=r:(o=t/s%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(r,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][t]()}}class uz{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!jL(e))return;const t=Object.keys($R.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!jL(r))return;const a={};for(const e of t)a[e]=r[e];(yL(r.properties)&&r.properties||[n]).forEach(e=>{e!==n&&s.has(e)||s.set(e,a)})})}_animateOptions(e,t){const s=t.options,n=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!n)return[];const r=this._createAnimations(n,s);return s.$shared&&function(e,t){const s=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const t=e[n[r]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,t){const s=this._properties,n=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=r[l];const u=s.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(r[l]=d=new dz(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(oz.add(this._chart,s),!0):void 0}}function mz(e,t){const s=e&&e.options||{},n=s.reverse,r=void 0===s.min?t:0,a=void 0===s.max?t:0;return{start:n?a:r,end:n?r:a}}function hz(e,t){const s=[],n=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=n.length;r<a;++r)s.push(n[r].index);return s}function xz(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,a="single"===n.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=r.length;i<o;++i){if(l=+r[i],l===s){if(d=!0,n.all)continue;break}c=e.values[l],wL(c)&&(a||0===t||JL(t)===JL(c))&&(t+=c)}return d||n.all?t:0}function pz(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function gz(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function fz(e,t,s,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const t=e[r.index];if(s&&t>0||!s&&t<0)return r.index}return null}function bz(e,t){const{chart:s,_cachedMeta:n}=e,r=s._stacks||(s._stacks={}),{iScale:a,vScale:i,index:o}=n,l=a.axis,c=i.axis,d=function(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}(a,i,n),u=t.length;let m;for(let h=0;h<u;++h){const e=t[h],{[l]:s,[c]:a}=e;m=(e._stacks||(e._stacks={}))[c]=gz(r,d,s),m[o]=a,m._top=fz(m,i,!0,n.type),m._bottom=fz(m,i,!1,n.type);(m._visualValues||(m._visualValues={}))[o]=a}}function vz(e,t){const s=e.scales;return Object.keys(s).filter(e=>s[e].axis===t).shift()}function yz(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][s])return;delete t[n][s],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[s]&&delete t[n]._visualValues[s]}}}const jz=e=>"reset"===e||"none"===e,wz=(e,t)=>t?e:Object.assign({},e);class Nz{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pz(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&yz(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),n=(e,t,s,n)=>"x"===e?t:"r"===e?n:s,r=t.xAxisID=kL(s.xAxisID,vz(e,"x")),a=t.yAxisID=kL(s.yAxisID,vz(e,"y")),i=t.rAxisID=kL(s.rAxisID,vz(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,r,a,i),c=t.vAxisID=n(o,a,r,i);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&pR(this._data,this),e._stacked&&yz(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(jL(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:n}=t,r="x"===s.axis?"x":"y",a="x"===n.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[r]:d,[a]:e[d]};return o}(t,e)}else if(s!==t){if(s){pR(s,this);const e=this._cachedMeta;yz(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),xR.forEach(t=>{const s="_onData"+RL(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];const i=n.apply(this,r);return e._chartjs.listeners.forEach(e=>{"function"===typeof e[s]&&e[s](...r)}),i}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const r=t._stacked;t._stacked=pz(t.vScale,t),t.stack!==s.stack&&(n=!0,yz(t),t.stack=s.stack),this._resyncElements(e),(n||r!==t._stacked)&&(bz(this,t._parsed),t._stacked=pz(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:n}=this,{iScale:r,_stacked:a}=s,i=r.axis;let o,l,c,d=0===e&&t===n.length||s._sorted,u=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=n,s._sorted=!0,c=n;else{c=yL(n[e])?this.parseArrayData(s,n,e,t):jL(n[e])?this.parseObjectData(s,n,e,t):this.parsePrimitiveData(s,n,e,t);const r=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)s._parsed[o+e]=l=c[o],d&&(r()&&(d=!1),u=l);s._sorted=d}a&&bz(this,c)}parsePrimitiveData(e,t,s,n){const{iScale:r,vScale:a}=e,i=r.axis,o=a.axis,l=r.getLabels(),c=r===a,d=new Array(n);let u,m,h;for(u=0,m=n;u<m;++u)h=u+s,d[u]={[i]:c||r.parse(l[h],h),[o]:a.parse(t[h],h)};return d}parseArrayData(e,t,s,n){const{xScale:r,yScale:a}=e,i=new Array(n);let o,l,c,d;for(o=0,l=n;o<l;++o)c=o+s,d=t[c],i[o]={x:r.parse(d[0],c),y:a.parse(d[1],c)};return i}parseObjectData(e,t,s,n){const{xScale:r,yScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,d,u,m;for(c=0,d=n;c<d;++c)u=c+s,m=t[u],l[c]={x:r.parse(LL(m,i),u),y:a.parse(LL(m,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const n=this.chart,r=this._cachedMeta,a=t[e.axis];return xz({keys:hz(n,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:s})}updateRangeFromParsed(e,t,s,n){const r=s[t.axis];let a=null===r?NaN:r;const i=n&&s._stacks[t.axis];n&&i&&(n.values=i,a=xz(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const s=this._cachedMeta,n=s._parsed,r=s._sorted&&e===s.iScale,a=n.length,i=this._getOtherScale(e),o=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:hz(s,!0),values:null})(t,s,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}(i);let u,m;function h(){m=n[u];const t=m[i.axis];return!wL(m[e.axis])||c>t||d<t}for(u=0;u<a&&(h()||(this.updateRangeFromParsed(l,e,m,o),!r));++u);if(r)for(u=a-1;u>=0;--u)if(!h()){this.updateRangeFromParsed(l,e,m,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let n,r,a;for(n=0,r=t.length;n<r;++n)a=t[n][e.axis],wL(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,n,r;return jL(e)?(t=e.top,s=e.right,n=e.bottom,r=e.left):t=s=n=r=e,{top:t,right:s,bottom:n,left:r,disabled:!1===e}}(kL(this.options.clip,function(e,t,s){if(!1===s)return!1;const n=mz(e,s),r=mz(t,s);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,n=s.data||[],r=t.chartArea,a=[],i=this._drawStart||0,o=this._drawCount||n.length-i,l=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,r,i,o),c=i;c<i+o;++c){const t=n[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,r))}for(c=0;c<a.length;++c)a[c].draw(e,r)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,s){return mF(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return mF(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;const n="active"===t,r=this._cachedDataOpts,a=e+"-"+t,i=r[a],o=this.enableOptionSharing&&FL(s);if(i)return wz(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),m=Object.keys($R.elements[e]),h=l.resolveNamedOptions(u,m,()=>this.getContext(s,n,t),d);return h.$shared&&(h.$shared=o,r[a]=Object.freeze(wz(h,o))),h}_resolveAnimations(e,t,s){const n=this.chart,r=this._cachedDataOpts,a=`animation-${t}`,i=r[a];if(i)return i;let o;if(!1!==n.options.animation){const n=this.chart.config,r=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),r);o=n.createResolver(a,this.getContext(e,s,t))}const l=new uz(n,o&&o.animations);return o&&o._cacheable&&(r[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||jz(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(s),a=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,s),{sharedOptions:r,includeOptions:a}}updateElement(e,t,s,n){jz(n)?Object.assign(e,s):this._resolveAnimations(t,n).update(e,s)}updateSharedOptions(e,t,s){e&&!jz(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,n){e.active=n;const r=this.getStyle(t,n);this._resolveAnimations(t,s,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const n=s.length,r=t.length,a=Math.min(r,n);a&&this.parse(0,a),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,r=n.data,a=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(o(r),i=e;i<a;++i)r[i]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),s&&this.updateElements(r,e,t,"reset")}updateElements(e,t,s,n){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(e,t);s._stacked&&yz(s,n)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,n]=e;this[t](s,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function kz(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,r=s.length;t<r;t++)n=n.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=gR(n.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let n,r,a,i,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(FL(i)&&(o=Math.min(o,Math.abs(a-i)||o)),i=a)};for(n=0,r=s.length;n<r;++n)a=t.getPixelForValue(s[n]),l();for(i=void 0,n=0,r=t.ticks.length;n<r;++n)a=t.getPixelForTick(n),l();return o}function Sz(e,t,s,n){return yL(e)?function(e,t,s,n){const r=s.parse(e[0],n),a=s.parse(e[1],n),i=Math.min(r,a),o=Math.max(r,a);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:a,min:i,max:o}}(e,t,s,n):t[s.axis]=s.parse(e,n),t}function _z(e,t,s,n){const r=e.iScale,a=e.vScale,i=r.getLabels(),o=r===a,l=[];let c,d,u,m;for(c=s,d=s+n;c<d;++c)m=t[c],u={},u[r.axis]=o||r.parse(i[c],c),l.push(Sz(m,u,a,c));return l}function Cz(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Az(e,t,s,n){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:d}=function(e){let t,s,n,r,a;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(r="end",a="start"):(r="start",a="end"),{start:s,end:n,reverse:t,top:r,bottom:a}}(e);"middle"===r&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?r=c:(s._bottom||0)===n?r=d:(a[Pz(d,i,o,l)]=!0,r=c)),a[Pz(r,i,o,l)]=!0,e.borderSkipped=a}function Pz(e,t,s,n){var r,a,i;return n?(i=s,e=Ez(e=(r=e)===(a=t)?i:r===i?a:r,s,t)):e=Ez(e,t,s),e}function Ez(e,t,s){return"start"===e?t:"end"===e?s:e}function Oz(e,t,s){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===s?.33:0:n}class Iz extends Nz{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,n){return _z(e,t,s,n)}parseArrayData(e,t,s,n){return _z(e,t,s,n)}parseObjectData(e,t,s,n){const{iScale:r,vScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===r.axis?i:o,c="x"===a.axis?i:o,d=[];let u,m,h,x;for(u=s,m=s+n;u<m;++u)x=t[u],h={},h[r.axis]=r.parse(LL(x,l),u),d.push(Sz(LL(x,c),h,a,u));return d}updateRangeFromParsed(e,t,s,n){super.updateRangeFromParsed(e,t,s,n);const r=s._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:n}=t,r=this.getParsed(e),a=r._custom,i=Cz(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,n){const r="reset"===n,{index:a,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let m=t;m<t+s;m++){const t=this.getParsed(m),s=r||vL(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(m),h=this._calculateBarIndexPixels(m,c),x=(t._stacks||{})[i.axis],p={horizontal:l,base:s.base,enableBorderRadius:!x||Cz(t._custom)||a===x._top||a===x._bottom,x:l?s.head:h.center,y:l?h.center:s.head,height:l?h.size:Math.abs(s.size),width:l?Math.abs(s.size):h.size};u&&(p.options=d||this.resolveDataElementOptions(m,e[m].active?"active":n));const g=p.options||e[m].options;Az(p,g,x,a),Oz(p,g,c.ratio),this.updateElement(e[m],m,p,n)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),r=s.options.stacked,a=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[s.axis],l=e=>{const t=e._parsed.find(e=>e[s.axis]===o),n=t&&t[e.vScale.axis];if(vL(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!l(c))&&((!1===r||-1===a.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[kL("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const n=this._getStacks(e,s),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,n=[];let r,a;for(r=0,a=t.data.length;r<a;++r)n.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const i=e.barThickness;return{min:i||kz(t),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:n},options:{base:r,minBarLength:a}}=this,i=r||0,o=this.getParsed(e),l=o._custom,c=Cz(l);let d,u,m=o[t.axis],h=0,x=s?this.applyStack(t,o,s):m;x!==m&&(h=x-m,x=m),c&&(m=l.barStart,x=l.barEnd-l.barStart,0!==m&&JL(m)!==JL(l.barEnd)&&(h=0),h+=m);const p=vL(r)||c?h:r;let g=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(h+x):g,u=d-g,Math.abs(u)<a){u=function(e,t,s){return 0!==e?JL(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(u,t,i)*a,m===i&&(g-=u/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),l=Math.min(e,r),h=Math.max(e,r);g=Math.max(Math.min(g,h),l),d=g+u,s&&!c&&(o._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(i)){const e=JL(u)*t.getLineWidthForValue(i)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const s=t.scale,n=this.options,r=n.skipNull,a=kL(n.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const s=r?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,s,n){const r=t.pixels,a=r[e];let i=e>0?r[e-1]:null,o=e<r.length-1?r[e+1]:null;const l=s.categoryPercentage;null===i&&(i=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-i);const c=a-(a-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/n,ratio:s.barPercentage,start:c}}(e,t,n,s*l):function(e,t,s,n){const r=s.barThickness;let a,i;return vL(r)?(a=t.min*s.categoryPercentage,i=s.barPercentage):(a=r*n,i=1),{chunk:a/n,ratio:i,start:t.pixels[e]-a/2}}(e,t,n,s*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(kL(d,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+u;i=c.start+c.chunk*m+c.chunk/2,o=Math.min(a,c.chunk*c.ratio)}else i=s.getPixelForValue(this.getParsed(e)[s.axis],e),o=Math.min(a,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,n=s.length;let r=0;for(;r<n;++r)null===this.getParsed(r)[t.axis]||s[r].hidden||s[r].draw(this._ctx)}}class Tz extends Nz{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:n,color:r,useBorderRadius:a,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:l.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(o),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:n,pointStyle:s,borderRadius:a&&(i||l.borderRadius),index:o}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=s;else{let r,a,i=e=>+s[e];if(jL(s[e])){const{key:e="value"}=this._parsing;i=t=>+LL(s[t],e)}for(r=e,a=e+t;r<a;++r)n._parsed[r]=i(r)}}_getRotation(){return tR(this.options.rotation-90)}_getCircumference(){return tR(this.options.circumference)}_getRotationExtents(){let e=BL,t=-BL;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,r=n._getRotation(),a=n._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,n=this._cachedMeta,r=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,i=Math.max((Math.min(s.width,s.height)-a)/2,0),o=Math.min(((e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t)(this.options.cutout,i),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:m,offsetX:h,offsetY:x}=function(e,t,s){let n=1,r=1,a=0,i=0;if(t<BL){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),m=Math.sin(l),h=(e,t,n)=>lR(e,o,l,!0)?1:Math.max(t,t*s,n,n*s),x=(e,t,n)=>lR(e,o,l,!0)?-1:Math.min(t,t*s,n,n*s),p=h(0,c,u),g=h(qL,d,m),f=x($L,c,u),b=x($L+qL,d,m);n=(p-f)/2,r=(g-b)/2,a=-(p+f)/2,i=-(g+b)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:i}}(d,c,o),p=(s.width-a)/u,g=(s.height-a)/m,f=Math.max(Math.min(p,g)/2,0),b=SL(this.options.radius,f),v=(b-Math.max(b*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=h*b,this.offsetY=x*b,n.total=this.calculateTotal(),this.outerRadius=b-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const s=this.options,n=this._cachedMeta,r=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/BL)}updateElements(e,t,s,n){const r="reset"===n,a=this.chart,i=a.chartArea,o=a.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=r&&o.animateScale,u=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:h,includeOptions:x}=this._getSharedOptions(t,n);let p,g=this._getRotation();for(p=0;p<t;++p)g+=this._circumference(p,r);for(p=t;p<t+s;++p){const t=this._circumference(p,r),s=e[p],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:m,innerRadius:u};x&&(a.options=h||this.resolveDataElementOptions(p,s.active?"active":n)),g+=t,this.updateElement(s,p,a,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,n=0;for(s=0;s<t.length;s++){const r=e._parsed[s];null===r||isNaN(r)||!this.chart.getDataVisibility(s)||t[s].hidden||(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?BL*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],r=TR(t._parsed[e],s.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const s=this.chart;let n,r,a,i,o;if(!e)for(n=0,r=s.data.datasets.length;n<r;++n)if(s.isDatasetVisible(n)){a=s.getDatasetMeta(n),e=a.data,i=a.controller;break}if(!e)return 0;for(n=0,r=e.length;n<r;++n)o=i.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,n=e.length;s<n;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(kL(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Mz extends Nz{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:n=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:i,count:o}=jR(t,n,a);this._drawStart=i,this._drawCount=o,wR(t)&&(i=0,o=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:l},e),this.updateElements(n,i,o,e)}updateElements(e,t,s,n){const r="reset"===n,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=a.axis,m=i.axis,{spanGaps:h,segment:x}=this.options,p=ZL(h)?h:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===n,f=t+s,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const s=e[y],h=g?s:{};if(y<t||y>=f){h.skip=!0;continue}const b=this.getParsed(y),j=vL(b[m]),w=h[u]=a.getPixelForValue(b[u],y),N=h[m]=r||j?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,b,o):b[m],y);h.skip=isNaN(w)||isNaN(N)||j,h.stop=y>0&&Math.abs(b[u]-v[u])>p,x&&(h.parsed=b,h.raw=l.data[y]),d&&(h.options=c||this.resolveDataElementOptions(y,s.active?"active":n)),g||this.updateElement(s,y,h,n),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Dz(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lz{static override(e){Object.assign(Lz.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Dz()}parse(){return Dz()}format(){return Dz()}add(){return Dz()}diff(){return Dz()}startOf(){return Dz()}endOf(){return Dz()}}var Rz=Lz;function Fz(e,t,s,n){const{controller:r,data:a,_sorted:i}=e,o=r._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&a.length){const i=o._reversePixels?hR:mR;if(!n){const n=i(a,t,s);if(l){const{vScale:t}=r._cachedMeta,{_parsed:s}=e,a=s.slice(0,n.lo+1).reverse().findIndex(e=>!vL(e[t.axis]));n.lo-=Math.max(0,a);const i=s.slice(n.hi).findIndex(e=>!vL(e[t.axis]));n.hi+=Math.max(0,i)}return n}if(r._sharedOptions){const e=a[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=i(a,t,s-n),r=i(a,t,s+n);return{lo:e.lo,hi:r.hi}}}}return{lo:0,hi:a.length-1}}function zz(e,t,s,n,r){const a=e.getSortedVisibleDatasetMetas(),i=s[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:s}=a[o],{lo:l,hi:c}=Fz(a[o],t,i,r);for(let t=l;t<=c;++t){const r=s[t];r.skip||n(r,e,t)}}}function Uz(e,t,s,n,r){const a=[];if(!r&&!e.isPointInArea(t))return a;return zz(e,s,t,function(s,i,o){(r||YR(s,e.chartArea,0))&&s.inRange(t.x,t.y,n)&&a.push({element:s,datasetIndex:i,index:o})},!0),a}function $z(e,t,s,n,r,a){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,n){const r=t?Math.abs(e.x-n.x):0,a=s?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(s);let l=Number.POSITIVE_INFINITY;return zz(e,s,t,function(s,c,d){const u=s.inRange(t.x,t.y,r);if(n&&!u)return;const m=s.getCenterPoint(r);if(!(!!a||e.isPointInArea(m))&&!u)return;const h=o(t,m);h<l?(i=[{element:s,datasetIndex:c,index:d}],l=h):h===l&&i.push({element:s,datasetIndex:c,index:d})}),i}function Bz(e,t,s,n,r,a){return a||e.isPointInArea(t)?"r"!==s||n?$z(e,t,s,n,r,a):function(e,t,s,n){let r=[];return zz(e,s,t,function(e,s,a){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=rR(e,{x:t.x,y:t.y});lR(l,i,o)&&r.push({element:e,datasetIndex:s,index:a})}),r}(e,t,s,r):[]}function Vz(e,t,s,n,r){const a=[],i="x"===s?"inXRange":"inYRange";let o=!1;return zz(e,s,t,(e,n,l)=>{e[i]&&e[i](t[s],r)&&(a.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,r))}),n&&!o?[]:a}var Wz={evaluateInteractionItems:zz,modes:{index(e,t,s,n){const r=zF(t,e),a=s.axis||"x",i=s.includeInvisible||!1,o=s.intersect?Uz(e,r,a,n,i):Bz(e,r,a,!1,n,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,s=e.data[t];s&&!s.skip&&l.push({element:s,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,s,n){const r=zF(t,e),a=s.axis||"xy",i=s.includeInvisible||!1;let o=s.intersect?Uz(e,r,a,n,i):Bz(e,r,a,!1,n,i);if(o.length>0){const t=o[0].datasetIndex,s=e.getDatasetMeta(t).data;o=[];for(let e=0;e<s.length;++e)o.push({element:s[e],datasetIndex:t,index:e})}return o},point:(e,t,s,n)=>Uz(e,zF(t,e),s.axis||"xy",n,s.includeInvisible||!1),nearest(e,t,s,n){const r=zF(t,e),a=s.axis||"xy",i=s.includeInvisible||!1;return Bz(e,r,a,s.intersect,n,i)},x:(e,t,s,n)=>Vz(e,zF(t,e),"x",s.intersect,n),y:(e,t,s,n)=>Vz(e,zF(t,e),"y",s.intersect,n)}};const Hz=["left","top","right","bottom"];function qz(e,t){return e.filter(e=>e.pos===t)}function Yz(e,t){return e.filter(e=>-1===Hz.indexOf(e.pos)&&e.box.axis===t)}function Gz(e,t){return e.sort((e,s)=>{const n=t?s:e,r=t?e:s;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function Kz(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:n,stackWeight:r}=s;if(!e||!Hz.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let a,i,o;for(a=0,i=e.length;a<i;++a){o=e[a];const{fullSize:i}=o.box,l=s[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:i&&t.availableWidth,o.height=r):(o.width=n,o.height=c?c*r:i&&t.availableHeight)}return s}function Jz(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Qz(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Xz(e,t,s,n){const{pos:r,box:a}=s,i=e.maxPadding;if(!jL(r)){s.size&&(e[r]-=s.size);const t=n[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?a.height:a.width),s.size=t.size/t.count,e[r]+=s.size}a.getPadding&&Qz(i,a.getPadding());const o=Math.max(0,t.outerWidth-Jz(i,e,"left","right")),l=Math.max(0,t.outerHeight-Jz(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,s.horizontal?{same:c,other:d}:{same:d,other:c}}function Zz(e,t){const s=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],s[e])}),n}return n(e?["left","right"]:["top","bottom"])}function eU(e,t,s,n){const r=[];let a,i,o,l,c,d;for(a=0,i=e.length,c=0;a<i;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,Zz(o.horizontal,t));const{same:i,other:u}=Xz(t,s,o,n);c|=i&&r.length,d=d||u,l.fullSize||r.push(o)}return c&&eU(r,t,s,n)||d}function tU(e,t,s,n,r){e.top=s,e.left=t,e.right=t+n,e.bottom=s+r,e.width=n,e.height=r}function sU(e,t,s,n){const r=s.padding;let{x:a,y:i}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*c,a=l.size||e.height;FL(l.start)&&(i=l.start),e.fullSize?tU(e,r.left,i,s.outerWidth-r.right-r.left,a):tU(e,t.left+l.placed,i,n,a),l.start=i,l.placed+=n,i=e.bottom}else{const n=t.h*c,i=l.size||e.width;FL(l.start)&&(a=l.start),e.fullSize?tU(e,a,r.top,i,s.outerHeight-r.bottom-r.top):tU(e,a,t.top+l.placed,i,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=i}var nU={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const r=cF(e.options.layout.padding),a=Math.max(t-r.width,0),i=Math.max(s-r.height,0),o=function(e){const t=function(e){const t=[];let s,n,r,a,i,o;for(s=0,n=(e||[]).length;s<n;++s)r=e[s],({position:a,options:{stack:i,stackWeight:o=1}}=r),t.push({index:s,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:i&&a+i,stackWeight:o});return t}(e),s=Gz(t.filter(e=>e.box.fullSize),!0),n=Gz(qz(t,"left"),!0),r=Gz(qz(t,"right")),a=Gz(qz(t,"top"),!0),i=Gz(qz(t,"bottom")),o=Yz(t,"x"),l=Yz(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:r.concat(l).concat(i).concat(o),chartArea:qz(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:a.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;CL(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:s,padding:r,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},r);Qz(m,cF(n));const h=Object.assign({maxPadding:m,w:a,h:i,x:r.left,y:r.top},r),x=Kz(l.concat(c),u);eU(o.fullSize,h,u,x),eU(l,h,u,x),eU(c,h,u,x)&&eU(l,h,u,x),function(e){const t=e.maxPadding;function s(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(h),sU(o.leftAndTop,h,u,x),h.x+=h.w,h.y+=h.h,sU(o.rightAndBottom,h,u,x),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},CL(o.chartArea,t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class rU{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,n){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):s)}}isAttached(e){return!0}updateConfig(e){}}class aU extends rU{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const iU="$chartjs",oU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lU=e=>null===e||""===e;const cU=!!VF&&{passive:!0};function dU(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,cU)}function uU(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function mU(e,t,s){const n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||uU(s.addedNodes,n),t=t&&!uU(s.removedNodes,n);t&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function hU(e,t,s){const n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||uU(s.removedNodes,n),t=t&&!uU(s.addedNodes,n);t&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const xU=new Map;let pU=0;function gU(){const e=window.devicePixelRatio;e!==pU&&(pU=e,xU.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function fU(e,t,s){const n=e.canvas,r=n&&MF(n);if(!r)return;const a=bR((e,t)=>{const n=r.clientWidth;s(e,t),n<r.clientWidth&&s()},window),i=new ResizeObserver(e=>{const t=e[0],s=t.contentRect.width,n=t.contentRect.height;0===s&&0===n||a(s,n)});return i.observe(r),function(e,t){xU.size||window.addEventListener("resize",gU),xU.set(e,t)}(e,a),i}function bU(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){xU.delete(e),xU.size||window.removeEventListener("resize",gU)}(e)}function vU(e,t,s){const n=e.canvas,r=bR(t=>{null!==e.ctx&&s(function(e,t){const s=oU[e.type]||e.type,{x:n,y:r}=zF(e,t);return{type:s,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(t,e))},e);return function(e,t,s){e&&e.addEventListener(t,s,cU)}(n,t,r),r}class yU extends rU{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[iU]={initial:{height:n,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",lU(r)){const t=WF(e,"width");void 0!==t&&(e.width=t)}if(lU(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=WF(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[iU])return!1;const s=t[iU].initial;["height","width"].forEach(e=>{const n=s[e];vL(n)?t.removeAttribute(e):t.setAttribute(e,n)});const n=s.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[iU],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),r={attach:mU,detach:hU,resize:fU}[t]||vU;n[t]=r(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),n=s[t];if(!n)return;({attach:bU,detach:bU,resize:bU}[t]||dU)(e,t,n),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,n){return $F(e,t,s,n)}isAttached(e){const t=e&&MF(e);return!(!t||!t.isConnected)}}class jU{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return ZL(this.x)&&ZL(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const n={};return e.forEach(e=>{n[e]=s[e]&&s[e].active()?s[e]._to:this[e]}),n}}function wU(e,t){const s=e.options.ticks,n=function(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),r=e._maxLength/s;return Math.floor(Math.min(n,r))}(e),r=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?function(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}(t):[],i=a.length,o=a[0],l=a[i-1],c=[];if(i>r)return function(e,t,s,n){let r,a=0,i=s[0];for(n=Math.ceil(n),r=0;r<e.length;r++)r===i&&(t.push(e[r]),a++,i=s[a*n])}(t,c,a,i/r),c;const d=function(e,t,s){const n=function(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}(e),r=t.length/s;if(!n)return Math.max(r,1);const a=function(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(0|s)&&t.push(s),t.sort((e,t)=>e-t).pop(),t}(n);for(let i=0,o=a.length-1;i<o;i++){const e=a[i];if(e>r)return e}return Math.max(r,1)}(a,t,r);if(i>0){let e,s;const n=i>1?Math.round((l-o)/(i-1)):null;for(NU(t,c,d,vL(n)?0:o-n,o),e=0,s=i-1;e<s;e++)NU(t,c,d,a[e],a[e+1]);return NU(t,c,d,l,vL(n)?t.length:l+n),c}return NU(t,c,d),c}function NU(e,t,s,n,r){const a=kL(n,0),i=Math.min(kL(r,e.length),e.length);let o,l,c,d=0;for(s=Math.ceil(s),r&&(o=r-n,s=o/Math.floor(o/s)),c=a;c<0;)d++,c=Math.round(a+d*s);for(l=Math.max(a,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(a+d*s))}const kU=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,SU=(e,t)=>Math.min(t||e,e);function _U(e,t){const s=[],n=e.length/t,r=e.length;let a=0;for(;a<r;a+=n)s.push(e[Math.floor(a)]);return s}function CU(e,t,s){const n=e.ticks.length,r=Math.min(t,n-1),a=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(r);if(!(s&&(l=1===n?Math.max(c-a,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<a-o||c>i+o)))return c}function AU(e){return e.drawTicks?e.tickLength:0}function PU(e,t){if(!e.display)return 0;const s=dF(e.font,t),n=cF(e.padding);return(yL(e.text)?e.text.length:1)*s.lineHeight+n.height}function EU(e,t,s){let n=vR(e);return(s&&"right"!==t||!s&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class OU extends jU{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:n}=this;return e=NL(e,Number.POSITIVE_INFINITY),t=NL(t,Number.NEGATIVE_INFINITY),s=NL(s,Number.POSITIVE_INFINITY),n=NL(n,Number.NEGATIVE_INFINITY),{min:NL(e,s),max:NL(t,n),minDefined:wL(e),maxDefined:wL(t)}}getMinMax(e){let t,{min:s,max:n,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:s,max:n};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),r||(s=Math.min(s,t.min)),a||(n=Math.max(n,t.max));return s=a&&s>n?n:s,n=r&&s>n?s:n,{min:NL(s,NL(n,s)),max:NL(n,NL(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_L(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:n,grace:r,ticks:a}=this.options,i=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:n,max:r}=e,a=SL(t,(r-n)/2),i=(e,t)=>s&&0===e?0:e+t;return{min:i(n,-Math.abs(a)),max:i(r,a)}}(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?_U(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=wU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_L(this.options.afterUpdate,[this])}beforeSetDimensions(){_L(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_L(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),_L(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_L(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,n,r;for(s=0,n=e.length;s<n;s++)r=e[s],r.label=_L(t.callback,[r.value,s,e],this)}afterTickToLabelConversion(){_L(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_L(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=SU(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,r=t.maxRotation;let a,i,o,l=n;if(!this._isVisible()||!t.display||n>=r||s<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,m=cR(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:m/(s-1),d+6>a&&(a=m/(s-(e.offset?.5:1)),i=this.maxHeight-AU(e.grid)-t.padding-PU(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=sR(Math.min(Math.asin(cR((c.highest.height+6)/a,-1,1)),Math.asin(cR(i/o,-1,1))-Math.asin(cR(u/o,-1,1)))),l=Math.max(n,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){_L(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_L(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:n,grid:r}}=this,a=this._isVisible(),i=this.isHorizontal();if(a){const a=PU(n,t.options.font);if(i?(e.width=this.maxWidth,e.height=AU(r)+a):(e.height=this.maxHeight,e.width=AU(r)+a),s.display&&this.ticks.length){const{first:t,last:n,widest:r,highest:a}=this._getLabelSizes(),o=2*s.padding,l=tR(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=s.mirror?0:d*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=s.mirror?0:c*r.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,n){const{ticks:{align:r,padding:a},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=n*e.width,u=s*t.height):(d=s*e.height,u=n*t.width):"start"===r?u=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+a)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let s=t.height/2,n=e.height/2;"start"===r?(s=0,n=e.height):"end"===r&&(s=t.height,n=0),this.paddingTop=s+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_L(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)vL(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=_U(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:n,_longestTextCache:r}=this,a=[],i=[],o=Math.floor(t/SU(t,s));let l,c,d,u,m,h,x,p,g,f,b,v=0,y=0;for(l=0;l<t;l+=o){if(u=e[l].label,m=this._resolveTickFontOptions(l),n.font=h=m.string,x=r[h]=r[h]||{data:{},gc:[]},p=m.lineHeight,g=f=0,vL(u)||yL(u)){if(yL(u))for(c=0,d=u.length;c<d;++c)b=u[c],vL(b)||yL(b)||(g=BR(n,x.data,x.gc,g,b),f+=p)}else g=BR(n,x.data,x.gc,g,u),f=p;a.push(g),i.push(f),v=Math.max(g,v),y=Math.max(f,y)}!function(e,t){CL(e,e=>{const s=e.gc,n=s.length/2;let r;if(n>t){for(r=0;r<n;++r)delete e.data[s[r]];s.splice(0,n)}})}(r,t);const j=a.indexOf(v),w=i.indexOf(y),N=e=>({width:a[e]||0,height:i[e]||0});return{first:N(0),last:N(t-1),widest:N(j),highest:N(w),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return cR(e,-32768,32767)}(this._alignToPixels?VR(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return mF(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=mF(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=tR(this.labelRotation),s=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,i=r?r.widest.width+a:0,o=r?r.highest.height+a:0;return this.isHorizontal()?o*s>i*n?i/s:o/n:o*n<i*s?o/s:i/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,n=this.options,{grid:r,position:a,border:i}=n,o=r.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=AU(r),u=[],m=i.setContext(this.getContext()),h=m.display?m.width:0,x=h/2,p=function(e){return VR(s,e,h)};let g,f,b,v,y,j,w,N,k,S,_,C;if("top"===a)g=p(this.bottom),j=this.bottom-d,N=g-x,S=p(e.top)+x,C=e.bottom;else if("bottom"===a)g=p(this.top),S=e.top,C=p(e.bottom)-x,j=g+x,N=this.top+d;else if("left"===a)g=p(this.right),y=this.right-d,w=g-x,k=p(e.left)+x,_=e.right;else if("right"===a)g=p(this.left),k=e.left,_=p(e.right)-x,y=g+x,w=this.left+d;else if("x"===t){if("center"===a)g=p((e.top+e.bottom)/2+.5);else if(jL(a)){const e=Object.keys(a)[0],t=a[e];g=p(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,j=g+x,N=j+d}else if("y"===t){if("center"===a)g=p((e.left+e.right)/2);else if(jL(a)){const e=Object.keys(a)[0],t=a[e];g=p(this.chart.scales[e].getPixelForValue(t))}y=g-x,w=y-d,k=e.left,_=e.right}const A=kL(n.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/A));for(f=0;f<c;f+=P){const e=this.getContext(f),t=r.setContext(e),n=i.setContext(e),a=t.lineWidth,c=t.color,d=n.dash||[],m=n.dashOffset,h=t.tickWidth,x=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;b=CU(this,f,o),void 0!==b&&(v=VR(s,b,a),l?y=w=k=_=v:j=N=S=C=v,u.push({tx1:y,ty1:j,tx2:w,ty2:N,x1:k,y1:S,x2:_,y2:C,width:a,color:c,borderDash:d,borderDashOffset:m,tickWidth:h,tickColor:x,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,s=this.options,{position:n,ticks:r}=s,a=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=r,u=AU(s.grid),m=u+c,h=d?-c:m,x=-tR(this.labelRotation),p=[];let g,f,b,v,y,j,w,N,k,S,_,C,A="middle";if("top"===n)j=this.bottom-h,w=this._getXAxisLabelAlignment();else if("bottom"===n)j=this.top+h,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,y=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,y=e.x}else if("x"===t){if("center"===n)j=(e.top+e.bottom)/2+m;else if(jL(n)){const e=Object.keys(n)[0],t=n[e];j=this.chart.scales[e].getPixelForValue(t)+m}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)y=(e.left+e.right)/2-m;else if(jL(n)){const e=Object.keys(n)[0],t=n[e];y=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?A="top":"end"===o&&(A="bottom"));const P=this._getLabelSizes();for(g=0,f=i.length;g<f;++g){b=i[g],v=b.label;const e=r.setContext(this.getContext(g));N=this.getPixelForTick(g)+r.labelOffset,k=this._resolveTickFontOptions(g),S=k.lineHeight,_=yL(v)?v.length:1;const t=_/2,s=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,m=w;if(a?(y=N,"inner"===w&&(m=g===f-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==x?-_*S+S/2:"center"===l?-P.highest.height/2-t*S+S:-P.highest.height+S/2:"near"===l||0!==x?S/2:"center"===l?P.highest.height/2-t*S:P.highest.height-_*S,d&&(C*=-1),0===x||e.showLabelBackdrop||(y+=S/2*Math.sin(x))):(j=N,C=(1-_)*S/2),e.showLabelBackdrop){const t=cF(e.backdropPadding),s=P.heights[g],n=P.widths[g];let r=C-t.top,a=0-t.left;switch(A){case"middle":r-=s/2;break;case"bottom":r-=s}switch(w){case"center":a-=n/2;break;case"right":a-=n;break;case"inner":g===f-1?a-=n:g>0&&(a-=n/2)}u={left:a,top:r,width:n+t.width,height:s+t.height,color:e.backdropColor}}p.push({label:v,font:k,textOffset:C,options:{rotation:x,color:s,strokeColor:o,strokeWidth:c,textAlign:m,textBaseline:A,translation:[y,j],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-tR(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:n,padding:r}}=this.options,a=e+r,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+r,"near"===s?o="left":"center"===s?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-a,"near"===s?o="right":"center"===s?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+r,"near"===s?o="right":"center"===s?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+a,"near"===s?o="left":"center"===s?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:n,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,n,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(t=>t.value===e);if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const i=(e,t,n)=>{n.width&&n.color&&(s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(r=0,a=n.length;r<a;++r){const e=n[r];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:n}}=this,r=s.setContext(this.getContext()),a=s.display?r.width:0;if(!a)return;const i=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=VR(e,this.left,a)-a/2,c=VR(e,this.right,i)+i/2,d=u=o):(d=VR(e,this.top,a)-a/2,u=VR(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&GR(t,s);const n=this.getLabelItems(e);for(const r of n){const e=r.options,s=r.font;eF(t,r.label,0,r.textOffset,s,e)}s&&KR(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:n}}=this;if(!s.display)return;const r=dF(s.font),a=cF(s.padding),i=s.align;let o=r.lineHeight/2;"bottom"===t||"center"===t||jL(t)?(o+=a.bottom,yL(s.text)&&(o+=r.lineHeight*(s.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,s,n){const{top:r,left:a,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,m,h,x=0;const p=i-r,g=o-a;if(e.isHorizontal()){if(m=yR(n,a,o),jL(s)){const e=Object.keys(s)[0],n=s[e];h=d[e].getPixelForValue(n)+p-t}else h="center"===s?(c.bottom+c.top)/2+p-t:kU(e,s,t);u=o-a}else{if(jL(s)){const e=Object.keys(s)[0],n=s[e];m=d[e].getPixelForValue(n)-g+t}else m="center"===s?(c.left+c.right)/2-g+t:kU(e,s,t);h=yR(n,i,r),x="left"===s?-qL:qL}return{titleX:m,titleY:h,maxWidth:u,rotation:x}}(this,o,t,i);eF(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:u,textAlign:EU(i,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=kL(e.grid&&e.grid.z,-1),n=kL(e.border&&e.border.z,0);return this._isVisible()&&this.draw===OU.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[s]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return dF(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class IU{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const n=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,function(e,t,s){const n=IL(Object.create(null),[s?$R.get(s):{},$R.get(t),e.defaults]);$R.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),r=n.pop(),a=[e].concat(n).join("."),i=t[s].split("."),o=i.pop(),l=i.join(".");$R.route(a,r,l,o)})}(t,e.defaultRoutes);e.descriptors&&$R.describe(t,e.descriptors)}(e,a,s),this.override&&$R.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,n=this.scope;s in t&&delete t[s],n&&s in $R[n]&&(delete $R[n][s],this.override&&delete LR[s])}}class TU{constructor(){this.controllers=new IU(Nz,"datasets",!0),this.elements=new IU(jU,"elements"),this.plugins=new IU(Object,"plugins"),this.scales=new IU(OU,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.scales)}_each(e,t,s){[...t].forEach(t=>{const n=s||this._getRegistryForType(t);s||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):CL(t,t=>{const n=s||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,s){const n=RL(e);_L(s["before"+n],[],s),t[e](s),_L(s["after"+n],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+s+".");return n}}var MU=new TU;class DU{constructor(){this._init=void 0}notify(e,t,s,n){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const r=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(r,e,t,s);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,s,n){n=n||{};for(const r of e){const e=r.plugin;if(!1===_L(e[s],[t,n,r.options],e)&&n.cancelable)return!1}return!0}invalidate(){vL(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,n=kL(s.options&&s.options.plugins,{}),r=function(e){const t={},s=[],n=Object.keys(MU.plugins.items);for(let a=0;a<n.length;a++)s.push(MU.getPlugin(n[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const e=r[a];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==n||t?function(e,t,s,n){let{plugins:r,localIds:a}=t;const i=[],o=e.getContext();for(const l of r){const t=l.id,r=LU(s[t],n);null!==r&&i.push({plugin:l,options:RU(e.config,{plugin:l,local:a[t]},r,o)})}return i}(e,r,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,s),e,"stop"),this._notify(n(s,t),e,"start")}}function LU(e,t){return t||!1!==e?!0===e?{}:e:null}function RU(e,t,s,n){let{plugin:r,local:a}=t;const i=e.pluginScopeKeys(r),o=e.getOptionScopes(s,i);return a&&r.defaults&&o.push(r.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function FU(e,t){const s=$R.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function zU(e){if("x"===e||"y"===e||"r"===e)return e}function UU(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function $U(e){if(zU(e))return e;for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];for(const r of s){const t=r.axis||UU(r.position)||e.length>1&&zU(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function BU(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function VU(e,t){const s=LR[e.type]||{scales:{}},n=t.scales||{},r=FU(e.type,t),a=Object.create(null);return Object.keys(n).forEach(t=>{const i=n[t];if(!jL(i))return console.error(`Invalid scale configuration for scale: ${t}`);if(i._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=$U(t,i,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(s.length)return BU(e,"x",s[0])||BU(e,"y",s[0])}return{}}(t,e),$R.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,r),c=s.scales||{};a[t]=TL(Object.create(null),[{axis:o},i,c[o],c[l]])}),e.data.datasets.forEach(s=>{const r=s.type||e.type,i=s.indexAxis||FU(r,t),o=(LR[r]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,i),r=s[t+"AxisID"]||t;a[r]=a[r]||Object.create(null),TL(a[r],[{axis:t},n[r],o[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];TL(t,[$R.scales[t.type],$R.scale])}),a}function WU(e){const t=e.options||(e.options={});t.plugins=kL(t.plugins,{}),t.scales=VU(e,t)}function HU(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const qU=new Map,YU=new Set;function GU(e,t){let s=qU.get(e);return s||(s=t(),qU.set(e,s),YU.add(s)),s}const KU=(e,t,s)=>{const n=LL(t,s);void 0!==n&&e.add(n)};class JU{constructor(e){this._config=function(e){return(e=e||{}).data=HU(e.data),WU(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=HU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),WU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return GU(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return GU(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return GU(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return GU(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let n=s.get(e);return n&&!t||(n=new Map,s.set(e,n)),n}getOptionScopes(e,t,s){const{options:n,type:r}=this,a=this._cachedScopes(e,s),i=a.get(t);if(i)return i;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>KU(o,e,t))),t.forEach(e=>KU(o,n,e)),t.forEach(e=>KU(o,LR[r]||{},e)),t.forEach(e=>KU(o,$R,e)),t.forEach(e=>KU(o,RR,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),YU.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,LR[t]||{},$R.datasets[t]||{},{type:t},$R,RR]}resolveNamedOptions(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:a,subPrefixes:i}=QU(this._resolverCache,e,n);let o=a;if(function(e,t){const{isScriptable:s,isIndexable:n}=pF(e);for(const r of t){const t=s(r),a=n(r),i=(a||t)&&e[r];if(t&&(zL(i)||XU(i))||a&&yL(i))return!0}return!1}(a,t)){r.$shared=!1;o=xF(a,s=zL(s)?s():s,this.createResolver(e,s,i))}for(const l of t)r[l]=o[l];return r}createResolver(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:r}=QU(this._resolverCache,e,s);return jL(t)?xF(r,t,void 0,n):r}}function QU(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=s.join();let a=n.get(r);if(!a){a={resolver:hF(t,s),subPrefixes:s.filter(e=>!e.toLowerCase().includes("hover"))},n.set(r,a)}return a}const XU=e=>jL(e)&&Object.getOwnPropertyNames(e).some(t=>zL(e[t]));const ZU=["top","bottom","left","right","chartArea"];function e$(e,t){return"top"===e||"bottom"===e||-1===ZU.indexOf(e)&&"x"===t}function t$(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function s$(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),_L(s&&s.onComplete,[e],t)}function n$(e){const t=e.chart,s=t.options.animation;_L(s&&s.onProgress,[e],t)}function r$(e){return TF()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const a$={},i$=e=>{const t=r$(e);return Object.values(a$).filter(e=>e.canvas===t).pop()};function o$(e,t,s){const n=Object.keys(e);for(const r of n){const n=+r;if(n>=t){const a=e[r];delete e[r],(s>0||n>t)&&(e[n+s]=a)}}}class l${static defaults=(()=>$R)();static instances=(()=>a$)();static overrides=(()=>LR)();static registry=(()=>MU)();static version="4.5.1";static getChart=(()=>i$)();static register(){MU.add(...arguments),c$()}static unregister(){MU.remove(...arguments),c$()}constructor(e,t){const s=this.config=new JU(t),n=r$(e),r=i$(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!TF()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?aU:yU}(n)),this.platform.updateConfig(s);const i=this.platform.acquireContext(n,a.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=bL(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t?(clearTimeout(s),s=setTimeout(e,t,r)):e.apply(this,r),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],a$[this.id]=this,i&&o?(oz.listen(this,"complete",s$),oz.listen(this,"progress",n$),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:n,_aspectRatio:r}=this;return vL(e)?t&&r?r:n?s/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return MU}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():BF(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return WR(this.canvas,this.ctx),this}stop(){return oz.stop(this),this}resize(e,t){oz.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,n=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,r),i=s.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,BF(this,i,!0)&&(this.notifyPlugins("resize",{size:a}),_L(s.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){CL(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,n=Object.keys(s).reduce((e,t)=>(e[t]=!1,e),{});let r=[];t&&(r=r.concat(Object.keys(t).map(e=>{const s=t[e],n=$U(e,s),r="r"===n,a="x"===n;return{options:s,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),CL(r,t=>{const r=t.options,a=r.id,i=$U(a,r),o=kL(r.type,t.dtype);void 0!==r.position&&e$(r.position,i)===e$(t.dposition)||(r.position=t.dposition),n[a]=!0;let l=null;if(a in s&&s[a].type===o)l=s[a];else{l=new(MU.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),s[l.id]=l}l.init(r,e)}),CL(n,(e,t)=>{e||delete s[t]}),CL(s,e=>{nU.configure(this,e,e.options),nU.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((e,t)=>e.index-t.index),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(t$("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,s)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=t.length;s<n;s++){const n=t[s];let r=this.getDatasetMeta(s);const a=n.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=n.indexAxis||FU(a,this.options),r.order=n.order||0,r.index=s,r.label=""+n.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const t=MU.getController(a),{datasetElementType:n,dataElementType:i}=$R.datasets[a];Object.assign(t,{dataElementType:MU.getElement(i),datasetElementType:n&&MU.getElement(n)}),r.controller=new t(this,s),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){CL(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===r.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),n||CL(r,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(t$("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){CL(this.scales,e=>{nU.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);UL(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:r}of t){o$(e,n,"_removeElements"===s?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=s(0);for(let r=1;r<t;r++)if(!UL(n,s(r)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;nU.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],CL(this.boxes,e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,zL(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),n={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(s.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(oz.has(this)?this.attached&&!oz.running(this)&&oz.start(this):(this.draw(),s$({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let n,r;for(n=0,r=t.length;n<r;++n){const r=t[n];e&&!r.visible||s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},n=az(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&GR(t,n),e.controller.draw(),n&&KR(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return YR(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,n){const r=Wz.modes[t];return"function"===typeof r?r(this,e,s,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let n=s.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=mF(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"===typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const n=s?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,n);FL(t)?(r.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(r,{visible:s}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),oz.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),WR(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete a$[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};CL(this.options.events,e=>s(e,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(s,n)=>{e[s]&&(t.removeEventListener(this,s,n),delete e[s])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const i=()=>{n("attach",i),this.attached=!0,this.resize(),s("resize",r),s("detach",a)};a=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),s("attach",i)},t.isAttached(this.canvas)?i():a()}unbindEvents(){CL(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},CL(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const n=s?"set":"remove";let r,a,i,o;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(e=>{let{datasetIndex:t,index:s}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[s],index:s}});!AL(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,s){const n=this.options.hover,r=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=r(t,e),i=s?e:r(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,n))return;const r=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(r||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:n=[],options:r}=this,a=t,i=this._getActiveElements(e,n,s,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,s,n){return s&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,s,o);s&&(this._lastEvent=null,_L(r.onHover,[e,i,this],this),o&&_L(r.onClick,[e,i,this],this));const c=!AL(i,n);return(c||t)&&(this._active=i,this._updateHoverStyles(i,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,s,n){if("mouseout"===e.type)return[];if(!s)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function c$(){return CL(l$.instances,e=>e._plugins.invalidate())}function d$(e,t,s,n){const r=function(e){return iF(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),a=(s-t)/2,i=Math.min(a,n*t/2),o=e=>{const t=(s-Math.min(a,e))*n/2;return cR(e,0,Math.min(a,t))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:cR(r.innerStart,0,i),innerEnd:cR(r.innerEnd,0,i)}}function u$(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function m$(e,t,s,n,r,a){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+s-c,0),m=d>0?d+n+s+c:0;let h=0;const x=r-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;h=(x-(0!==e?x*e/(e+n):x))/2}const p=(x-Math.max(.001,x*u-s/$L)/u)/2,g=l+p+h,f=r-p-h,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:j}=d$(t,m,u,f-g),w=u-b,N=u-v,k=g+b/w,S=f-v/N,_=m+y,C=m+j,A=g+y/_,P=f-j/C;if(e.beginPath(),a){const t=(k+S)/2;if(e.arc(i,o,u,k,t),e.arc(i,o,u,t,S),v>0){const t=u$(N,S,i,o);e.arc(t.x,t.y,v,S,f+qL)}const s=u$(C,f,i,o);if(e.lineTo(s.x,s.y),j>0){const t=u$(C,P,i,o);e.arc(t.x,t.y,j,f+qL,P+Math.PI)}const n=(f-j/m+(g+y/m))/2;if(e.arc(i,o,m,f-j/m,n,!0),e.arc(i,o,m,n,g+y/m,!0),y>0){const t=u$(_,A,i,o);e.arc(t.x,t.y,y,A+Math.PI,g-qL)}const r=u$(w,g,i,o);if(e.lineTo(r.x,r.y),b>0){const t=u$(w,k,i,o);e.arc(t.x,t.y,b,g-qL,k)}}else{e.moveTo(i,o);const t=Math.cos(k)*u+i,s=Math.sin(k)*u+o;e.lineTo(t,s);const n=Math.cos(S)*u+i,r=Math.sin(S)*u+o;e.lineTo(n,r)}e.closePath()}function h$(e,t,s,n,r){const{fullCircles:a,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:m,borderRadius:h}=l,x="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=m,x?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(a){m$(e,t,s,n,p,r);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(p=i+(o%BL||BL))}x&&function(e,t,s){const{startAngle:n,pixelMargin:r,x:a,y:i,outerRadius:o,innerRadius:l}=t;let c=r/o;e.beginPath(),e.arc(a,i,o,n-c,s+c),l>r?(c=r/l,e.arc(a,i,l,s+c,n-c,!0)):e.arc(a,i,r,s+qL,n-qL),e.closePath(),e.clip()}(e,t,p),l.selfJoin&&p-i>=$L&&0===h&&"miter"!==d&&function(e,t,s){const{startAngle:n,x:r,y:a,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/i,oR(n-s));if(e.beginPath(),e.arc(r,a,i-c/2,n+u/2,s-u/2),o>0){const t=Math.min(c/o,oR(n-s));e.arc(r,a,o+c/2,s-t/2,n+t/2,!0)}else{const t=Math.min(c/2,i*oR(n-s));if("round"===d)e.arc(r,a,t,s-$L/2,n+$L/2,!0);else if("bevel"===d){const i=2*t*t,o=-i*Math.cos(s+$L/2)+r,l=-i*Math.sin(s+$L/2)+a,c=i*Math.cos(n+$L/2)+r,d=i*Math.sin(n+$L/2)+a;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,p),a||(m$(e,t,s,n,p,r),e.stroke())}class x$ extends jU{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.getProps(["x","y"],s),{angle:r,distance:a}=rR(n,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,m=kL(d,o-i),h=lR(r,i,o)&&i!==o,x=m>=BL||h,p=dR(a,l+u,c+u);return x&&p}getCenterPoint(e){const{x:t,y:s,startAngle:n,endAngle:r,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(n+r)/2,d=(a+i+l+o)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,n=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>BL?Math.floor(s/BL):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*n,Math.sin(i)*n);const o=n*(1-Math.sin(Math.min($L,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,n,r){const{fullCircles:a,startAngle:i,circumference:o}=t;let l=t.endAngle;if(a){m$(e,t,s,n,l,r);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=i+(o%BL||BL))}m$(e,t,s,n,l,r),e.fill()}(e,this,o,r,a),h$(e,this,o,r,a),e.restore()}}function p$(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=kL(s.borderCapStyle,t.borderCapStyle),e.setLineDash(kL(s.borderDash,t.borderDash)),e.lineDashOffset=kL(s.borderDashOffset,t.borderDashOffset),e.lineJoin=kL(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=kL(s.borderWidth,t.borderWidth),e.strokeStyle=kL(s.borderColor,t.borderColor)}function g$(e,t,s){e.lineTo(s.x,s.y)}function f$(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:r=0,end:a=n-1}=s,{start:i,end:o}=t,l=Math.max(r,i),c=Math.min(a,o),d=r<i&&a<i||r>o&&a>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function b$(e,t,s,n){const{points:r,options:a}=t,{count:i,start:o,loop:l,ilen:c}=f$(r,s,n),d=function(e){return e.stepped?JR:e.tension||"monotone"===e.cubicInterpolationMode?QR:g$}(a);let u,m,h,{move:x=!0,reverse:p}=n||{};for(u=0;u<=c;++u)m=r[(o+(p?c-u:u))%i],m.skip||(x?(e.moveTo(m.x,m.y),x=!1):d(e,h,m,p,a.stepped),h=m);return l&&(m=r[(o+(p?c:0))%i],d(e,h,m,p,a.stepped)),!!l}function v$(e,t,s,n){const r=t.points,{count:a,start:i,ilen:o}=f$(r,s,n),{move:l=!0,reverse:c}=n||{};let d,u,m,h,x,p,g=0,f=0;const b=e=>(i+(c?o-e:e))%a,v=()=>{h!==x&&(e.lineTo(g,x),e.lineTo(g,h),e.lineTo(g,p))};for(l&&(u=r[b(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=r[b(d)],u.skip)continue;const t=u.x,s=u.y,n=0|t;n===m?(s<h?h=s:s>x&&(x=s),g=(f*g+t)/++f):(v(),e.lineTo(t,s),m=n,f=0,h=x=s),p=s}v()}function y$(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!s?v$:b$}const j$="function"===typeof Path2D;function w$(e,t,s,n){j$&&!t.options.segment?function(e,t,s,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,s,n)&&r.closePath()),p$(e,t.options),e.stroke(r)}(e,t,s,n):function(e,t,s,n){const{segments:r,options:a}=t,i=y$(t);for(const o of r)p$(e,a,o.style),e.beginPath(),i(e,t,o,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}(e,t,s,n)}class N$ extends jU{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;IF(this._points,s,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,n=e.options.spanGaps,r=s.length;if(!r)return[];const a=!!e._loop,{start:i,end:o}=function(e,t,s,n){let r=0,a=t-1;if(s&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,s&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(s,r,a,n);return tz(e,!0===n?[{start:i,end:o,loop:a}]:function(e,t,s,n){const r=e.length,a=[];let i,o=t,l=e[t];for(i=t+1;i<=s;++i){const s=e[i%r];s.skip||s.stop?l.skip||(n=!1,a.push({start:t%r,end:(i-1)%r,loop:n}),t=o=s.stop?i:null):(o=i,l.skip&&(t=i)),l=s}return null!==o&&a.push({start:t%r,end:o%r,loop:n}),a}(s,i,o<i?o+r:o,!!e._fullLoop&&0===i&&o===r-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,n=e[t],r=this.points,a=ez(this,{property:t,start:n,end:n});if(!a.length)return;const i=[],o=function(e){return e.stepped?qF:e.tension||"monotone"===e.cubicInterpolationMode?YF:HF}(s);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:d}=a[l],u=r[c],m=r[d];if(u===m){i.push(u);continue}const h=o(u,m,Math.abs((n-u[t])/(m[t]-u[t])),s.stepped);h[t]=e[t],i.push(h)}return 1===i.length?i[0]:i}pathSegment(e,t,s){return y$(this)(e,this,t,s)}path(e,t,s){const n=this.segments,r=y$(this);let a=this._loop;t=t||0,s=s||this.points.length-t;for(const i of n)a&=r(e,this,i,{start:t,end:t+s-1});return!!a}draw(e,t,s,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),w$(e,this,s,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function k$(e,t,s,n){const r=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<r.radius+r.hitRadius}class S$ extends jU{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.options,{x:r,y:a}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return k$(this,e,"x",t)}inYRange(e,t){return k$(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!YR(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,HR(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function _$(e,t){const{x:s,y:n,base:r,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(s,r),l=Math.max(s,r),c=n-u,d=n+u):(u=a/2,o=s-u,l=s+u,c=Math.min(n,r),d=Math.max(n,r)),{left:o,top:c,right:l,bottom:d}}function C$(e,t,s,n){return e?0:cR(t,s,n)}function A$(e){const t=_$(e),s=t.right-t.left,n=t.bottom-t.top,r=function(e,t,s){const n=e.options.borderWidth,r=e.borderSkipped,a=oF(n);return{t:C$(r.top,a.top,0,s),r:C$(r.right,a.right,0,t),b:C$(r.bottom,a.bottom,0,s),l:C$(r.left,a.left,0,t)}}(e,s/2,n/2),a=function(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=lF(r),i=Math.min(t,s),o=e.borderSkipped,l=n||jL(r);return{topLeft:C$(!l||o.top||o.left,a.topLeft,0,i),topRight:C$(!l||o.top||o.right,a.topRight,0,i),bottomLeft:C$(!l||o.bottom||o.left,a.bottomLeft,0,i),bottomRight:C$(!l||o.bottom||o.right,a.bottomRight,0,i)}}(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:s-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function P$(e,t,s,n){const r=null===t,a=null===s,i=e&&!(r&&a)&&_$(e,n);return i&&(r||dR(t,i.left,i.right))&&(a||dR(s,i.top,i.bottom))}function E$(e,t){e.rect(t.x,t.y,t.w,t.h)}function O$(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==s.x?-t:0,r=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-n,i=(e.y+e.h!==s.y+s.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+a,h:e.h+i,radius:e.radius}}class I$ extends jU{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:n}}=this,{inner:r,outer:a}=A$(this),i=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?tF:E$;var o;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),i(e,O$(a,t,r)),e.clip(),i(e,O$(r,-t,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),i(e,O$(r,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,s){return P$(this,e,t,s)}inXRange(e,t){return P$(this,e,null,t)}inYRange(e,t){return P$(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+n)/2:t,y:r?s:(s+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function T$(e,t,s,n){if(n)return;let r=t[e],a=s[e];return"angle"===e&&(r=oR(r),a=oR(a)),{property:e,start:r,end:a}}function M$(e,t,s){for(;t>e;t--){const e=s[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function D$(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function L$(e,t){let s=[],n=!1;return yL(e)?(n=!0,s=e):s=function(e,t){const{x:s=null,y:n=null}=e||{},r=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:i}=e;i=M$(t,i,r);const o=r[t],l=r[i];null!==n?(a.push({x:o.x,y:n}),a.push({x:l.x,y:n})):null!==s&&(a.push({x:s,y:o.y}),a.push({x:s,y:l.y}))}),a}(e,t),s.length?new N$({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function R$(e){return e&&!1!==e.fill}function F$(e,t,s){let n=e[t].fill;const r=[t];let a;if(!s)return n;for(;!1!==n&&-1===r.indexOf(n);){if(!wL(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;r.push(n),n=a.fill}return!1}function z$(e,t,s){const n=function(e){const t=e.options,s=t.fill;let n=kL(s&&s.target,s);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(jL(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return wL(r)&&Math.floor(r)===r?function(e,t,s,n){"-"!==e&&"+"!==e||(s=t+s);if(s===t||s<0||s>=n)return!1;return s}(n[0],t,r,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function U$(e,t,s){const n=[];for(let r=0;r<s.length;r++){const a=s[r],{first:i,last:o,point:l}=$$(a,t,"x");if(!(!l||i&&o))if(i)n.unshift(l);else if(e.push(l),!o)break}e.push(...n)}function $$(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const r=n[s],a=e.segments,i=e.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const e=a[c],t=i[e.start][s],n=i[e.end][s];if(dR(r,t,n)){o=r===t,l=r===n;break}}return{first:o,last:l,point:n}}class B${constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:n,y:r,radius:a}=this;return t=t||{start:0,end:BL},e.arc(n,r,a,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:n}=this,r=e.angle;return{x:t+Math.cos(r)*n,y:s+Math.sin(r)*n,angle:r}}}function V$(e){const{chart:t,fill:s,line:n}=e;if(wL(s))return function(e,t){const s=e.getDatasetMeta(t),n=s&&e.isDatasetVisible(t);return n?s.dataset:null}(t,s);if("stack"===s)return function(e){const{scale:t,index:s,line:n}=e,r=[],a=n.segments,i=n.points,o=function(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const e=n[r];if(e.index===t)break;e.hidden||s.unshift(e.dataset)}return s}(t,s);o.push(L$({x:null,y:t.bottom},n));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)U$(r,i[t],o)}return new N$({points:r,options:{}})}(e);if("shape"===s)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:s}=e,n=t.options,r=t.getLabels().length,a=n.reverse?t.max:t.min,i=function(e,t,s){let n;return n="start"===e?s:"end"===e?t.options.reverse?t.min:t.max:jL(e)?e.value:t.getBaseValue(),n}(s,t,a),o=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,a);return new B$({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<r;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:s}=e,n=function(e,t){let s=null;return"start"===e?s=t.bottom:"end"===e?s=t.top:jL(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}(s,t);if(wL(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return r instanceof B$?r:L$(r,n)}function W$(e,t,s){const n=V$(t),{chart:r,index:a,line:i,scale:o,axis:l}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:m=u,below:h=u}=d||{},x=r.getDatasetMeta(a),p=az(r,x);n&&i.points.length&&(GR(e,s),function(e,t){const{line:s,target:n,above:r,below:a,area:i,scale:o,clip:l}=t,c=s._loop?"angle":t.axis;e.save();let d=a;a!==r&&("x"===c?(H$(e,n,i.top),Y$(e,{line:s,target:n,color:r,scale:o,property:c,clip:l}),e.restore(),e.save(),H$(e,n,i.bottom)):"y"===c&&(q$(e,n,i.left),Y$(e,{line:s,target:n,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),q$(e,n,i.right),d=r));Y$(e,{line:s,target:n,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:i,target:n,above:m,below:h,area:s,scale:o,axis:l,clip:p}),KR(e))}function H$(e,t,s){const{segments:n,points:r}=t;let a=!0,i=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,c=r[n],d=r[M$(n,l,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,s),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function q$(e,t,s){const{segments:n,points:r}=t;let a=!0,i=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,c=r[n],d=r[M$(n,l,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(s,c.y),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(s,d.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function Y$(e,t){const{line:s,target:n,property:r,color:a,scale:i,clip:o}=t,l=function(e,t,s){const n=e.segments,r=e.points,a=t.points,i=[];for(const o of n){let{start:e,end:n}=o;n=M$(e,n,r);const l=T$(s,r[e],r[n],o.loop);if(!t.segments){i.push({source:o,target:l,start:r[e],end:r[n]});continue}const c=ez(t,l);for(const t of c){const e=T$(s,a[t.start],a[t.end],t.loop),n=ZF(o,r,e);for(const r of n)i.push({source:r,target:t,start:{[s]:D$(l,e,"start",Math.max)},end:{[s]:D$(l,e,"end",Math.min)}})}}return i}(s,n,r);for(const{source:c,target:d,start:u,end:m}of l){const{style:{backgroundColor:t=a}={}}=c,l=!0!==n;e.save(),e.fillStyle=t,G$(e,i,o,l&&T$(r,u,m)),e.beginPath();const h=!!s.pathSegment(e,c);let x;if(l){h?e.closePath():K$(e,n,m,r);const t=!!n.pathSegment(e,d,{move:h,reverse:!0});x=h&&t,x||K$(e,n,u,r)}e.closePath(),e.fill(x?"evenodd":"nonzero"),e.restore()}}function G$(e,t,s,n){const r=t.chart.chartArea,{property:a,start:i,end:o}=n||{};if("x"===a||"y"===a){let t,n,l,c;"x"===a?(t=i,n=r.top,l=o,c=r.bottom):(t=r.left,n=i,l=r.right,c=o),e.beginPath(),s&&(t=Math.max(t,s.left),l=Math.min(l,s.right),n=Math.max(n,s.top),c=Math.min(c,s.bottom)),e.rect(t,n,l-t,c-n),e.clip()}}function K$(e,t,s,n){const r=t.interpolate(s,n);r&&e.lineTo(r.x,r.y)}var J$={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,r=[];let a,i,o,l;for(i=0;i<n;++i)a=e.getDatasetMeta(i),o=a.dataset,l=null,o&&o.options&&o instanceof N$&&(l={visible:e.isDatasetVisible(i),index:i,fill:z$(o,i,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,r.push(l);for(i=0;i<n;++i)l=r[i],l&&!1!==l.fill&&(l.fill=F$(r,i,s.propagate))},beforeDraw(e,t,s){const n="beforeDraw"===s.drawTime,r=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;t&&(t.line.updateControlPoints(a,t.axis),n&&t.fill&&W$(e.ctx,t,a))}},beforeDatasetsDraw(e,t,s){if("beforeDatasetsDraw"!==s.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const t=n[r].$filler;R$(t)&&W$(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;R$(n)&&"beforeDatasetDraw"===s.drawTime&&W$(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Q$=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}};class X$ extends jU{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=_L(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,s)=>e.sort(t,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,n=dF(s.font),r=n.size,a=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=Q$(s,r);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,r,i,o)+10):(c=this.maxHeight,l=this._fitCols(a,n,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,n){const{ctx:r,maxWidth:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+i;let d=e;r.textAlign="left",r.textBaseline="middle";let u=-1,m=-c;return this.legendItems.forEach((e,h)=>{const x=s+t/2+r.measureText(e.text).width;(0===h||l[l.length-1]+x+2*i>a)&&(d+=c,l[l.length-(h>0?0:1)]=0,m+=c,u++),o[h]={left:0,top:m,row:u,width:x,height:n},l[l.length-1]+=x+i}),d}_fitCols(e,t,s,n){const{ctx:r,maxHeight:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let d=i,u=0,m=0,h=0,x=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:p,itemHeight:g}=function(e,t,s,n,r){const a=function(e,t,s,n){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce((e,t)=>e.length>t.length?e:t));return t+s.size/2+n.measureText(r).width}(n,e,t,s),i=function(e,t,s){let n=e;"string"!==typeof t.text&&(n=Z$(t,s));return n}(r,n,t.lineHeight);return{itemWidth:a,itemHeight:i}}(s,t,r,e,n);a>0&&m+g+2*i>c&&(d+=u+i,l.push({width:u,height:m}),h+=u+i,x++,u=m=0),o[a]={left:h,top:m,col:x,width:p,height:g},u=Math.max(u,p),m+=g+i}),d+=u,l.push({width:u,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:n},rtl:r}}=this,a=GF(r,this.left,this.width);if(this.isHorizontal()){let r=0,i=yR(s,this.left+n,this.right-this.lineWidths[r]);for(const o of t)r!==o.row&&(r=o.row,i=yR(s,this.left+n,this.right-this.lineWidths[r])),o.top+=this.top+e+n,o.left=a.leftForLtr(a.x(i),o.width),i+=o.width+n}else{let r=0,i=yR(s,this.top+e+n,this.bottom-this.columnSizes[r].height);for(const o of t)o.col!==r&&(r=o.col,i=yR(s,this.top+e+n,this.bottom-this.columnSizes[r].height)),o.top=i,o.left+=this.left+n,o.left=a.leftForLtr(a.x(o.left),o.width),i+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;GR(e,this),this._draw(),KR(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:n}=this,{align:r,labels:a}=e,i=$R.color,o=GF(e.rtl,this.left,this.width),l=dF(a.font),{padding:c}=a,d=l.size,u=d/2;let m;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:h,boxHeight:x,itemHeight:p}=Q$(a,d),g=this.isHorizontal(),f=this._computeTitleHeight();m=g?{x:yR(r,this.left+c,this.right-s[0]),y:this.top+c+f,line:0}:{x:this.left+c,y:yR(r,this.top+f+c,this.bottom-t[0].height),line:0},KF(this.ctx,e.textDirection);const b=p+c;this.legendItems.forEach((v,y)=>{n.strokeStyle=v.fontColor,n.fillStyle=v.fontColor;const j=n.measureText(v.text).width,w=o.textAlign(v.textAlign||(v.textAlign=a.textAlign)),N=h+u+j;let k=m.x,S=m.y;o.setWidth(this.width),g?y>0&&k+N+c>this.right&&(S=m.y+=b,m.line++,k=m.x=yR(r,this.left+c,this.right-s[m.line])):y>0&&S+b>this.bottom&&(k=m.x=k+t[m.line].width+c,m.line++,S=m.y=yR(r,this.top+f+c,this.bottom-t[m.line].height));if(function(e,t,s){if(isNaN(h)||h<=0||isNaN(x)||x<0)return;n.save();const r=kL(s.lineWidth,1);if(n.fillStyle=kL(s.fillStyle,i),n.lineCap=kL(s.lineCap,"butt"),n.lineDashOffset=kL(s.lineDashOffset,0),n.lineJoin=kL(s.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=kL(s.strokeStyle,i),n.setLineDash(kL(s.lineDash,[])),a.usePointStyle){const i={radius:x*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:r},l=o.xPlus(e,h/2);qR(n,i,l,t+u,a.pointStyleWidth&&h)}else{const a=t+Math.max((d-x)/2,0),i=o.leftForLtr(e,h),l=lF(s.borderRadius);n.beginPath(),Object.values(l).some(e=>0!==e)?tF(n,{x:i,y:a,w:h,h:x,radius:l}):n.rect(i,a,h,x),n.fill(),0!==r&&n.stroke()}n.restore()}(o.x(k),S,v),k=((e,t,s,n)=>e===(n?"left":"right")?s:"center"===e?(t+s)/2:t)(w,k+h+u,g?k+N:this.right,e.rtl),function(e,t,s){eF(n,s.text,e,t+p/2,l,{strikethrough:s.hidden,textAlign:o.textAlign(s.textAlign)})}(o.x(k),S,v),g)m.x+=N+c;else if("string"!==typeof v.text){const e=l.lineHeight;m.y+=Z$(v,e)+c}else m.y+=b}),JF(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=dF(t.font),n=cF(t.padding);if(!t.display)return;const r=GF(e.rtl,this.left,this.width),a=this.ctx,i=t.position,o=s.size/2,l=n.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=yR(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+yR(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const m=yR(i,d,d+u);a.textAlign=r.textAlign(vR(i)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=s.string,eF(a,t.text,m,c,s)}_computeTitleHeight(){const e=this.options.title,t=dF(e.font),s=cF(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,n,r;if(dR(e,this.left,this.right)&&dR(t,this.top,this.bottom))for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(n=r[s],dR(e,n.left,n.left+n.width)&&dR(t,n.top,n.top+n.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(n,s);n&&!r&&_L(t.onLeave,[e,n,this],this),this._hoveredItem=s,s&&!r&&_L(t.onHover,[e,s,this],this)}else s&&_L(t.onClick,[e,s,this],this)}}function Z$(e,t){return t*(e.text?e.text.length:0)}var eB={id:"legend",_element:X$,start(e,t,s){const n=e.legend=new X$({ctx:e.ctx,options:s,chart:e});nU.configure(e,n,s),nU.addBox(e,n)},stop(e){nU.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;nU.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,r=s.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:r,color:a,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(s?0:void 0),c=cF(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class tB extends jU{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=yL(s.text)?s.text.length:1;this._padding=cF(s.padding);const r=n*dF(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:n,right:r,options:a}=this,i=a.align;let o,l,c,d=0;return this.isHorizontal()?(l=yR(i,s,r),c=t+e,o=r-s):("left"===a.position?(l=s+e,c=yR(i,n,t),d=-.5*$L):(l=r-e,c=yR(i,t,n),d=.5*$L),o=n-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=dF(t.font),n=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:i,rotation:o}=this._drawArgs(n);eF(e,t.text,0,0,s,{color:t.color,maxWidth:i,rotation:o,textAlign:vR(t.align),textBaseline:"middle",translation:[r,a]})}}var sB={id:"title",_element:tB,start(e,t,s){!function(e,t){const s=new tB({ctx:e.ctx,options:t,chart:e});nU.configure(e,s,t),nU.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;nU.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;nU.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const nB={average(e){if(!e.length)return!1;let t,s,n=new Set,r=0,a=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();n.add(e.x),r+=e.y,++a}}if(0===a||0===n.size)return!1;const i=[...n].reduce((e,t)=>e+t)/n.size;return{x:i,y:r/a}},nearest(e,t){if(!e.length)return!1;let s,n,r,a=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(s=0,n=e.length;s<n;++s){const n=e[s].element;if(n&&n.hasValue()){const e=aR(t,n.getCenterPoint());e<o&&(o=e,r=n)}}if(r){const e=r.tooltipPosition();a=e.x,i=e.y}return{x:a,y:i}}};function rB(e,t){return t&&(yL(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function aB(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function iB(e,t){const{element:s,datasetIndex:n,index:r}=t,a=e.getDatasetMeta(n).controller,{label:i,value:o}=a.getLabelAndValue(r);return{chart:e,label:i,parsed:a.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:s}}function oB(e,t){const s=e.chart.ctx,{body:n,footer:r,title:a}=e,{boxWidth:i,boxHeight:o}=t,l=dF(t.bodyFont),c=dF(t.titleFont),d=dF(t.footerFont),u=a.length,m=r.length,h=n.length,x=cF(t.padding);let p=x.height,g=0,f=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(f+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),f){p+=h*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(f-h)*l.lineHeight+(f-1)*t.bodySpacing}m&&(p+=t.footerMarginTop+m*d.lineHeight+(m-1)*t.footerSpacing);let b=0;const v=function(e){g=Math.max(g,s.measureText(e).width+b)};return s.save(),s.font=c.string,CL(e.title,v),s.font=l.string,CL(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?i+2+t.boxPadding:0,CL(n,e=>{CL(e.before,v),CL(e.lines,v),CL(e.after,v)}),b=0,s.font=d.string,CL(e.footer,v),s.restore(),g+=x.width,{width:g,height:p}}function lB(e,t,s,n){const{x:r,width:a}=s,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===n?c=r<=(o+l)/2?"left":"right":r<=a/2?c="left":r>=i-a/2&&(c="right"),function(e,t,s,n){const{x:r,width:a}=n,i=s.caretSize+s.caretPadding;return"left"===e&&r+a+i>t.width||"right"===e&&r-a-i<0||void 0}(c,e,t,s)&&(c="center"),c}function cB(e,t,s){const n=s.yAlign||t.yAlign||function(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||lB(e,t,s,n),yAlign:n}}function dB(e,t,s,n){const{caretSize:r,caretPadding:a,cornerRadius:i}=e,{xAlign:o,yAlign:l}=s,c=r+a,{topLeft:d,topRight:u,bottomLeft:m,bottomRight:h}=lF(i);let x=function(e,t){let{x:s,width:n}=e;return"right"===t?s-=n:"center"===t&&(s-=n/2),s}(t,o);const p=function(e,t,s){let{y:n,height:r}=e;return"top"===t?n+=s:n-="bottom"===t?r+s:r/2,n}(t,l,c);return"center"===l?"left"===o?x+=c:"right"===o&&(x-=c):"left"===o?x-=Math.max(d,m)+r:"right"===o&&(x+=Math.max(u,h)+r),{x:cR(x,0,n.width-t.width),y:cR(p,0,n.height-t.height)}}function uB(e,t,s){const n=cF(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function mB(e){return rB([],aB(e))}function hB(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const xB={beforeTitle:fL,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:fL,beforeBody:fL,beforeLabel:fL,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return vL(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:fL,afterBody:fL,beforeFooter:fL,footer:fL,afterFooter:fL};function pB(e,t,s,n){const r=e[t].call(s,n);return"undefined"===typeof r?xB[t].call(s,n):r}class gB extends jU{static positioners=(()=>nB)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&t.options.animation&&s.animations,r=new uz(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,mF(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,n=pB(s,"beforeTitle",this,e),r=pB(s,"title",this,e),a=pB(s,"afterTitle",this,e);let i=[];return i=rB(i,aB(n)),i=rB(i,aB(r)),i=rB(i,aB(a)),i}getBeforeBody(e,t){return mB(pB(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,n=[];return CL(e,e=>{const t={before:[],lines:[],after:[]},r=hB(s,e);rB(t.before,aB(pB(r,"beforeLabel",this,e))),rB(t.lines,pB(r,"label",this,e)),rB(t.after,aB(pB(r,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return mB(pB(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,n=pB(s,"beforeFooter",this,e),r=pB(s,"footer",this,e),a=pB(s,"afterFooter",this,e);let i=[];return i=rB(i,aB(n)),i=rB(i,aB(r)),i=rB(i,aB(a)),i}_createItems(e){const t=this._active,s=this.chart.data,n=[],r=[],a=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(iB(this.chart,t[i]));return e.filter&&(l=l.filter((t,n,r)=>e.filter(t,n,r,s))),e.itemSort&&(l=l.sort((t,n)=>e.itemSort(t,n,s))),CL(l,t=>{const s=hB(e.callbacks,t);n.push(pB(s,"labelColor",this,t)),r.push(pB(s,"labelPointStyle",this,t)),a.push(pB(s,"labelTextColor",this,t))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const s=this.options.setContext(this.getContext()),n=this._active;let r,a=[];if(n.length){const e=nB[s.position].call(this,n,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const t=this._size=oB(this,s),i=Object.assign({},e,t),o=cB(this.chart,s,i),l=dB(s,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,n){const r=this.getCaretPosition(e,s,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,s){const{xAlign:n,yAlign:r}=this,{caretSize:a,cornerRadius:i}=s,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=lF(i),{x:u,y:m}=e,{width:h,height:x}=t;let p,g,f,b,v,y;return"center"===r?(v=m+x/2,"left"===n?(p=u,g=p-a,b=v+a,y=v-a):(p=u+h,g=p+a,b=v-a,y=v+a),f=p):(g="left"===n?u+Math.max(o,c)+a:"right"===n?u+h-Math.max(l,d)-a:this.caretX,"top"===r?(b=m,v=b-a,p=g-a,f=g+a):(b=m+x,v=b+a,p=g+a,f=g-a),y=b),{x1:p,x2:g,x3:f,y1:b,y2:v,y3:y}}drawTitle(e,t,s){const n=this.title,r=n.length;let a,i,o;if(r){const l=GF(s.rtl,this.x,this.width);for(e.x=uB(this,s.titleAlign,s),t.textAlign=l.textAlign(s.titleAlign),t.textBaseline="middle",a=dF(s.titleFont),i=s.titleSpacing,t.fillStyle=s.titleColor,t.font=a.string,o=0;o<r;++o)t.fillText(n[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i,o+1===r&&(e.y+=s.titleMarginBottom-i)}}_drawColorBox(e,t,s,n,r){const a=this.labelColors[s],i=this.labelPointStyles[s],{boxHeight:o,boxWidth:l}=r,c=dF(r.bodyFont),d=uB(this,"left",r),u=n.x(d),m=o<c.lineHeight?(c.lineHeight-o)/2:0,h=t.y+m;if(r.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},s=n.leftForLtr(u,l)+l/2,c=h+o/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,HR(e,t,s,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,HR(e,t,s,c)}else{e.lineWidth=jL(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(u,l),s=n.leftForLtr(n.xPlus(u,1),l-2),i=lF(a.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,tF(e,{x:t,y:h,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),tF(e,{x:s,y:h+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,h,l,o),e.strokeRect(t,h,l,o),e.fillStyle=a.backgroundColor,e.fillRect(s,h+1,l-2,o-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:n}=this,{bodySpacing:r,bodyAlign:a,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=s,d=dF(s.bodyFont);let u=d.lineHeight,m=0;const h=GF(s.rtl,this.x,this.width),x=function(s){t.fillText(s,h.x(e.x+m),e.y+u/2),e.y+=u+r},p=h.textAlign(a);let g,f,b,v,y,j,w;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=uB(this,p,s),t.fillStyle=s.bodyColor,CL(this.beforeBody,x),m=i&&"right"!==p?"center"===a?l/2+c:l+2+c:0,v=0,j=n.length;v<j;++v){for(g=n[v],f=this.labelTextColors[v],t.fillStyle=f,CL(g.before,x),b=g.lines,i&&b.length&&(this._drawColorBox(t,e,v,h,s),u=Math.max(d.lineHeight,o)),y=0,w=b.length;y<w;++y)x(b[y]),u=d.lineHeight;CL(g.after,x)}m=0,u=d.lineHeight,CL(this.afterBody,x),e.y-=r}drawFooter(e,t,s){const n=this.footer,r=n.length;let a,i;if(r){const o=GF(s.rtl,this.x,this.width);for(e.x=uB(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=o.textAlign(s.footerAlign),t.textBaseline="middle",a=dF(s.footerFont),t.fillStyle=s.footerColor,t.font=a.string,i=0;i<r;++i)t.fillText(n[i],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,t,s,n){const{xAlign:r,yAlign:a}=this,{x:i,y:o}=e,{width:l,height:c}=s,{topLeft:d,topRight:u,bottomLeft:m,bottomRight:h}=lF(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===a&&this.drawCaret(e,t,s,n),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===a&&"right"===r&&this.drawCaret(e,t,s,n),t.lineTo(i+l,o+c-h),t.quadraticCurveTo(i+l,o+c,i+l-h,o+c),"bottom"===a&&this.drawCaret(e,t,s,n),t.lineTo(i+m,o+c),t.quadraticCurveTo(i,o+c,i,o+c-m),"center"===a&&"left"===r&&this.drawCaret(e,t,s,n),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,n=s&&s.x,r=s&&s.y;if(n||r){const s=nB[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=oB(this,e),i=Object.assign({},s,this._size),o=cB(t,e,i),l=dB(e,i,o,t);n._to===l.x&&r._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=cF(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,n,t),KF(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),JF(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,n=e.map(e=>{let{datasetIndex:t,index:s}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[s],index:s}}),r=!AL(s,n),a=this._positionChanged(n,t);(r||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,s),i=this._positionChanged(a,e),o=t||!AL(a,r)||i;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,s,n){const r=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:s,caretY:n,options:r}=this,a=nB[r.position].call(this,e,t);return!1!==a&&(s!==a.x||n!==a.y)}}var fB={id:"tooltip",_element:gB,positioners:nB,afterInit(e,t,s){s&&(e.tooltip=new gB({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function bB(e,t,s,n){const r=e.indexOf(t);if(-1===r)return((e,t,s,n)=>("string"===typeof t?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,n);return r!==e.lastIndexOf(t)?s:r}function vB(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class yB extends OU{static id="category";static defaults=(()=>({ticks:{callback:vB}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:n}of t)e[s]===n&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(vL(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:cR(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:bB(s,e,kL(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,n=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return vB.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function jB(e,t){const s=[],{bounds:n,step:r,min:a,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,m=r||1,h=c-1,{min:x,max:p}=t,g=!vL(a),f=!vL(i),b=!vL(l),v=(p-x)/(d+1);let y,j,w,N,k=XL((p-x)/h/m)*m;if(k<1e-14&&!g&&!f)return[{value:x},{value:p}];N=Math.ceil(p/k)-Math.floor(x/k),N>h&&(k=XL(N*k/h/m)*m),vL(o)||(y=Math.pow(10,o),k=Math.ceil(k*y)/y),"ticks"===n?(j=Math.floor(x/k)*k,w=Math.ceil(p/k)*k):(j=x,w=p),g&&f&&r&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((i-a)/r,k/1e3)?(N=Math.round(Math.min((i-a)/k,c)),k=(i-a)/N,j=a,w=i):b?(j=g?a:j,w=f?i:w,N=l-1,k=(w-j)/N):(N=(w-j)/k,N=QL(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(nR(k),nR(j));y=Math.pow(10,vL(o)?S:o),j=Math.round(j*y)/y,w=Math.round(w*y)/y;let _=0;for(g&&(u&&j!==a?(s.push({value:a}),j<a&&_++,QL(Math.round((j+_*k)*y)/y,a,wB(a,v,e))&&_++):j<a&&_++);_<N;++_){const e=Math.round((j+_*k)*y)/y;if(f&&e>i)break;s.push({value:e})}return f&&u&&w!==i?s.length&&QL(s[s.length-1].value,i,wB(i,v,e))?s[s.length-1].value=i:s.push({value:i}):f&&w!==i||s.push({value:w}),s}function wB(e,t,s){let{horizontal:n,minRotation:r}=s;const a=tR(r),i=(n?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}class NB extends OU{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return vL(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this;const a=e=>n=t?n:e,i=e=>r=s?r:e;if(e){const e=JL(n),t=JL(r);e<0&&t<0?i(0):e>0&&t>0&&a(0)}if(n===r){let t=0===r?1:Math.abs(.05*r);i(r+t),e||a(n-t)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n=jB({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&eR(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const n=(s-t)/Math.max(e.length-1,1)/2;t-=n,s+=n}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return TR(e,this.chart.options.locale,this.options.ticks.format)}}class kB extends NB{static id="linear";static defaults=(()=>({ticks:{callback:DR.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=wL(e)?e:0,this.max=wL(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=tR(this.options.ticks.minRotation),n=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}DR.formatters.logarithmic;DR.formatters.numeric;const SB={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_B=Object.keys(SB);function CB(e,t){return e-t}function AB(e,t){if(vL(t))return null;const s=e._adapter,{parser:n,round:r,isoWeekday:a}=e._parseOpts;let i=t;return"function"===typeof n&&n(i),wL(i)||("string"===typeof n?s.parse(i,n):s.parse(i)),null===i?null:(r&&("week"!==r||!ZL(a)&&!0!==a?s.startOf(i,r):s.startOf(i,"isoWeek",a)),+i)}function PB(e,t,s,n){const r=_B.length;for(let a=_B.indexOf(e);a<r-1;++a){const e=SB[_B[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(r*e.size))<=n)return _B[a]}return _B[r-1]}function EB(e,t,s){if(s){if(s.length){const{lo:n,hi:r}=uR(s,t);e[s[n]>=t?s[n]:s[r]]=!0}}else e[t]=!0}function OB(e,t,s){const n=[],r={},a=t.length;let i,o;for(0;i<a;++i)t[i],r[o]=i,n.push({value:o,major:!1});return 0!==a&&s?function(e,t,s,n){const r=e._adapter,a=+r.startOf(t[0].value,n),i=t[t.length-1].value;let o,l;for(a;o<=i;+r.add(o,1,n))s[o],l>=0&&(t[l].major=!0);return t}(e,n,r,s):n}class IB extends OU{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.time||(e.time={}),n=this._adapter=new Rz(e.adapters.date);n.init(t),TL(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:AB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:n,max:r,minDefined:a,maxDefined:i}=this.getUserBounds();function o(e){a||isNaN(e.min)||Math.min(n,e.min),i||isNaN(e.max)||Math.max(r,e.max)}a&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),wL(n)&&!isNaN(n)?n:+t.startOf(Date.now(),s),wL(r)&&!isNaN(r)?r:+t.endOf(Date.now(),s)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,n="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,a=function(e,t,s){let n=0,r=e.length;for(;n<r&&e[n]<t;)0;for(;r>n&&e[r-1]>s;)0;return n>0||r<e.length?e.slice(n,r):e}(n,r,this.max);return this._unit=t.unit||(s.autoSkip?PB(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,s,n,r){for(let a=_B.length-1;a>=_B.indexOf(s);a--){const s=_B[a];if(SB[s].common&&e._adapter.diff(r,n,s)>=t-1)return s}return _B[s?_B.indexOf(s):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=_B.indexOf(e)+1,s=_B.length;t<s;++t)if(SB[_B[t]].common)return _B[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),OB(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,r=0;this.options.offset&&s.length&&(this.getDecimalForValue(s[0]),1===s.length?1-e:(this.getDecimalForValue(s[1])-e)/2,this.getDecimalForValue(s[s.length-1]),1===s.length?t:(t-this.getDecimalForValue(s[s.length-2]))/2);const a=s.length<3?.5:.25;cR(n,0,a),cR(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,t=this.min,s=this.max,n=this.options,r=n.time,a=r.unit||PB(r.minUnit,t,s,this._getLabelCapacity(t)),i=kL(n.ticks.stepSize,1),o="week"===a&&r.isoWeekday,l=ZL(o)||!0===o,c={};let d,u,m=t;if(l&&+e.startOf(m,"isoWeek",o),+e.startOf(m,l?"day":a),e.diff(s,t,a)>1e5*i)throw new Error(t+" and "+s+" are too far apart with stepSize of "+i+" "+a);const h="data"===n.ticks.source&&this.getDataTimestamps();for(0;d<s;+e.add(d,i,a),u++)EB(c,d,h);return d!==s&&"ticks"!==n.bounds&&1!==u||EB(c,d,h),Object.keys(c).sort(CB).map(e=>+e)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,n=this._unit,r=t||s[n];return this._adapter.format(e,r)}_tickFormatFunction(e,t,s,n){const r=this.options,a=r.ticks.callback;if(a)return _L(a,[e,t,s],this);const i=r.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],d=l&&i[l],u=s[t],m=l&&d&&u&&u.major;return this._adapter.format(e,n||(m?d:c))}generateTickLabels(e){let t,s,n;for(e.length;t<s;++t)e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,n=tR(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(n),a=Math.sin(n),i=this._resolveTickFontOptions(0).size;return{w:s*r+i*a,h:s*a+i*r}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,n=s[t.unit]||s.millisecond,r=this._tickFormatFunction(e,0,OB(this,[e],this._majorUnit),n),a=this._getLabelSize(r),i=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(n.length;e<t;++e)s.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const n=this.getLabels();for(n.length;t<s;++t)e.push(AB(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gR(e.sort(CB))}}const TB="label";function MB(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function DB(e,t){e.labels=t}function LB(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TB;const n=[];e.datasets=t.map(t=>{const r=e.datasets.find(e=>e[s]===t[s]);return r&&t.data&&!n.includes(r)?(n.push(r),Object.assign(r,t),r):{...t}})}function RB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TB;const s={labels:[],datasets:[]};return DB(s,e.labels),LB(s,e.datasets,t),s}function FB(e,t){const{height:s=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:m,...h}=e,x=(0,r.useRef)(null),p=(0,r.useRef)(null),g=()=>{x.current&&(p.current=new l$(x.current,{type:o,data:RB(l,i),options:c&&{...c},plugins:d}),MB(t,p.current))},f=()=>{MB(t,null),p.current&&(p.current.destroy(),p.current=null)};return(0,r.useEffect)(()=>{!a&&p.current&&c&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(p.current,c)},[a,c]),(0,r.useEffect)(()=>{!a&&p.current&&DB(p.current.config.data,l.labels)},[a,l.labels]),(0,r.useEffect)(()=>{!a&&p.current&&l.datasets&&LB(p.current.config.data,l.datasets,i)},[a,l.datasets]),(0,r.useEffect)(()=>{p.current&&(a?(f(),setTimeout(g)):p.current.update(m))},[a,c,l.labels,l.datasets,m]),(0,r.useEffect)(()=>{p.current&&(f(),setTimeout(g))},[o]),(0,r.useEffect)(()=>(g(),()=>f()),[]),(0,Me.jsx)("canvas",{ref:x,role:"img",height:s,width:n,...h,children:u})}const zB=(0,r.forwardRef)(FB);function UB(e,t){return l$.register(t),(0,r.forwardRef)((t,s)=>(0,Me.jsx)(zB,{...t,ref:s,type:e}))}const $B=UB("line",Mz),BB=UB("bar",Iz),VB=UB("doughnut",Tz);l$.register(yB,kB,S$,N$,I$,x$,sB,fB,eB,J$);const WB=()=>{var e,t,s,n,a,i,o,l;const{currentUser:c}=Le(),d=te(),[u,m]=(0,r.useState)("last_30_days"),[h,x]=(0,r.useState)("all"),[p,g]=(0,r.useState)(!0),[f,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[j,w]=(0,r.useState)(null),[N,k]=(0,r.useState)([]),[S,_]=(0,r.useState)(null),[C,A]=(0,r.useState)(!1),P=async()=>{try{if(g(!0),w(null),console.log("\ud83d\udd0d Current user data:",c),console.log("\ud83d\udd0d Customer ID:",null===c||void 0===c?void 0:c._id),null===c||void 0===c||!c._id)return b(null),y(null),void g(!1);const s=c._id;console.log("\ud83d\udd0d Fetching analytics data for customer:",s);const n="http://localhost:3001";try{console.log("\ud83d\udcca Attempting to fetch historical data...");const e=await fetch(`${n}/api/historical-data/get?accountId=${s}&platform=all&timePeriod=30`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(console.log("\ud83d\udcca Historical data API response status:",e.status),e.ok){const t=await e.json();if(console.log("\ud83d\udcca Historical data received:",t),console.log("\ud83d\udcca Historical success:",t.success),console.log("\ud83d\udcca Historical structure:",{hasData:!!t.data,hasSuccess:!!t.success,snapshotsCount:t.snapshotsCount||0}),t.success&&t.data){const e=t.data;console.log("\ud83d\udcca Historical data object:",e);const n=t.snapshotsCount>0;if(console.log("\ud83d\udcca Historical data has real snapshots:",n),n){const t=I(e);return console.log("\ud83d\udcca Processed historical chart data:",t),t&&Object.keys(t).length>0?(b(t),y({customerId:s,platforms:Object.keys(t),summary:T(t),isHistorical:!0}),k(Object.keys(t)),_((new Date).toISOString()),console.log("\u2705 Historical data set successfully")):(console.log("\u26a0\ufe0f No processed historical data, nothing to display"),b(null)),void g(!1)}console.log("\ud83d\udcca Historical data returned empty, falling back to connected accounts...")}else console.log("\u274c Historical data response missing success or data")}else console.log("\u274c Historical data response not ok:",e.status)}catch(e){console.log("\ud83d\udcca Historical data not available:",e.message),console.log("\ud83d\udcca Historical error details:",e)}try{console.log("\ud83d\udd17 Attempting to fetch social links...");const e=await fetch(`${n}/api/customer-social-links/${s}`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(console.log("\ud83d\udd17 Social links API response status:",e.status),e.ok){const t=await e.json();if(console.log("\ud83d\udd17 Social links data received:",t),t.success&&t.accounts&&t.accounts.length>0){console.log("\ud83d\udd17 Found connected accounts, creating preliminary analytics...");const e=[...new Set(t.accounts.map(e=>e.platform))],n=await E(t.accounts,u);return console.log("\ud83d\udd17 Preliminary data created:",n),console.log("\ud83d\udd17 Chart data keys:",Object.keys(n.chartData||{})),y({customerId:s,platforms:e,isPreliminary:!0,summary:n.summary,quickStats:n.quickStats,accountNames:n.accountNames}),k(e),_((new Date).toISOString()),b(n.chartData),void g(!1)}console.log("\ud83d\udd17 No connected accounts found")}}catch(t){console.log("\ud83d\udd17 Social links not available:",t.message)}console.warn("\u26a0\ufe0f No data available"),b(null),y(null)}catch(s){console.error("\u274c Error fetching analytics data:",s),"AbortError"===s.name||s.message.includes("fetch")?console.log("\ud83d\udd04 Backend not available, showing demo data"):w(s.message),b(null),y(null)}finally{g(!1)}};(0,r.useEffect)(()=>{null!==c&&void 0!==c&&c._id?P():(b(null),g(!1))},[null===c||void 0===c?void 0:c._id,u]);const E=async(e,t)=>{console.log("\ud83d\udd04 Creating preliminary analytics for accounts:",e.length);const s={},n=[];let r=0,a={};try{console.log("\ud83d\udd17 Attempting to fetch historical data for connected accounts...");const i="http://localhost:3001";c._id;for(const o of e)if(o.platform&&(o.platformUserId||o.pageId)){const e=o.platformUserId||o.pageId||o.name,l="last_7_days"===t?7:"last_30_days"===t?30:90;try{console.log(`\ud83d\udd0d Fetching historical data for ${o.platform}:${e}...`);const c=await fetch(`${i}/api/historical-data/get?platform=${o.platform}&accountId=${e}&timePeriod=${l}`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(8e3)});if(c.ok){const i=await c.json();if(console.log(`\ud83d\udcca Historical data for ${o.platform}:${e}:`,i),i.success&&i.data&&i.snapshotsCount>0){const l=O(i.data,o.platform,t);if(l){s[o.platform]=l,a[o.platform]=o.name||e,n.includes(o.platform)||(n.push(o.platform),r++),console.log(`\u2705 Used historical data for ${o.platform}`);continue}}}}catch(u){console.log(`\u26a0\ufe0f No historical data for ${o.platform}:${e}:`,u.message)}}console.log(`\ud83d\udcca Found historical data for ${Object.keys(s).length} platforms`)}catch(j){console.warn("\u26a0\ufe0f Error fetching historical data:",j.message)}try{console.log("\ud83d\udd17 Attempting to fetch real-time social metrics...");const e="http://localhost:3001",i=c._id,o=await fetch(`${e}/api/customer/social-metrics/${i}`,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(console.log("\ud83d\udcca Real-time metrics response status:",o.status),o.ok){const e=await o.json();if(console.log("\ud83d\udcca Real-time metrics received:",e),e.success&&e.metrics){const i=e.metrics,o=e.accountNames||{};console.log("\ud83d\udcca Processing real metrics for platforms:",Object.keys(i)),Object.keys(i).forEach(e=>{if(s[e])return void console.log(`\u23ed\ufe0f Skipping ${e} - already have historical data`);const l=i[e];n.includes(e)||(n.push(e),r++),console.log(`\ud83d\udcf1 Processing ${e} metrics:`,l);const c={followers:Math.max(1,Math.round(.85*l.followers)),likes:Math.max(0,Math.round(.75*l.likes)),comments:Math.max(0,Math.round(.8*l.comments)),shares:Math.max(0,Math.round(.85*(l.shares||.1*l.totalEngagement)))},d=l.followers>0?(l.followers-c.followers)/c.followers*100:0,u=l.likes>0?(l.likes-c.likes)/Math.max(1,c.likes)*100:0,m=l.comments>0?(l.comments-c.comments)/Math.max(1,c.comments)*100:0,h=(l.shares||0)>0?((l.shares||c.shares)-c.shares)/Math.max(1,c.shares)*100:0;"facebook"===e?(s[e]={followers:{current:l.followers,previous:c.followers,growth:Math.round(100*d)/100},likes:{current:l.likes,previous:c.likes,growth:Math.round(100*u)/100},comments:{current:l.comments,previous:c.comments,growth:Math.round(100*m)/100},shares:{current:l.shares||Math.round(.1*l.totalEngagement),previous:c.shares,growth:Math.round(100*h)/100},engagement_rate:{current:Math.min(100,l.engagementRate||0),previous:Math.min(100,.9*(l.engagementRate||0)),growth:10},monthlyData:M(l.followers,"last_7_days"===t||"last_30_days"===t?6:12)},console.log("\u2705 Created Facebook analytics from real-time data:",s[e])):"instagram"===e?(s[e]={followers:{current:l.followers,previous:c.followers,growth:Math.round(100*d)/100},likes:{current:l.likes,previous:c.likes,growth:Math.round(100*u)/100},comments:{current:l.comments,previous:c.comments,growth:Math.round(100*m)/100},shares:{current:Math.round(.05*l.totalEngagement),previous:Math.round(.05*c.likes),growth:Math.round(100*u)/100},engagement_rate:{current:Math.min(100,l.engagementRate||0),previous:Math.min(100,.85*(l.engagementRate||0)),growth:15},monthlyData:M(l.followers,"last_7_days"===t||"last_30_days"===t?6:12)},console.log("\u2705 Created Instagram analytics from real-time data:",s[e])):"linkedin"===e&&(s[e]={followers:{current:l.followers,previous:c.followers,growth:Math.round(100*d)/100},likes:{current:l.likes,previous:c.likes,growth:Math.round(100*u)/100},comments:{current:l.comments,previous:c.comments,growth:Math.round(100*m)/100},shares:{current:l.shares||Math.round(.3*l.totalEngagement),previous:c.shares,growth:Math.round(100*h)/100},impressions:{current:l.impressions||Math.round(15*l.totalEngagement),previous:Math.round(12*l.totalEngagement),growth:25},engagement_rate:{current:Math.min(100,l.engagementRate||0),previous:Math.min(100,.9*(l.engagementRate||0)),growth:12},monthlyData:M(l.followers,"last_7_days"===t||"last_30_days"===t?6:12)},console.log("\u2705 Created LinkedIn analytics from real-time data:",s[e])),o[e]&&(a[e]=o[e])}),console.log("\u2705 Using real metrics for preliminary analytics")}}else console.warn("\u26a0\ufe0f Could not fetch real-time metrics, falling back to estimates")}catch(j){console.warn("\u26a0\ufe0f Error fetching real-time metrics:",j.message)}console.log("\ud83d\udd04 Processing connected accounts...",e.length,"accounts found"),e.forEach(e=>{console.log("Processing account:",e.platform,e.name),n.includes(e.platform)||n.push(e.platform),s[e.platform]?console.log(`\u23ed\ufe0f Skipping ${e.platform} - already have data`):function(e){if("facebook"===e.platform&&e.pages)r+=e.pages.length,e.pages.forEach(e=>{s.facebook||(s.facebook={followers:{current:250,previous:180,growth:38.9},likes:{current:120,previous:85,growth:41.2},comments:{current:25,previous:18,growth:38.9},shares:{current:12,previous:8,growth:50},engagement_rate:{current:4.2,previous:3.8,growth:10.5},monthlyData:"last_7_days"===t||"last_30_days"===t?[180,195,210,225,240,250]:[120,135,150,165,180,195,210,220,230,240,245,250]}),e.name&&(a.facebook=e.name),e.instagramBusinessAccount&&!s.instagram&&(s.instagram={followers:{current:320,previous:220,growth:45.5},likes:{current:180,previous:130,growth:38.5},comments:{current:35,previous:25,growth:40},shares:{current:15,previous:10,growth:50},engagement_rate:{current:5.8,previous:5.2,growth:11.5},monthlyData:"last_7_days"===t||"last_30_days"===t?[220,240,260,280,300,320]:[150,170,190,210,220,240,250,270,285,300,310,320]},e.instagramBusinessAccount.username&&(a.instagram=e.instagramBusinessAccount.username))});else if("instagram"!==e.platform||s.instagram)if("youtube"!==e.platform||s.youtube)"linkedin"!==e.platform||s.linkedin||e.name&&(a.linkedin=e.name);else{r+=1;const n=e.channels&&e.channels[0],i=n&&parseInt(n.subscriberCount)||10,o=(n&&parseInt(n.videoCount),n&&parseInt(n.viewCount)||50);s.youtube={subscribers:{current:i,previous:Math.max(1,Math.floor(.8*i)),growth:Math.round((i-Math.floor(.8*i))/Math.floor(.8*i)*100)||25},views:{current:o,previous:Math.max(1,Math.floor(.7*o)),growth:Math.round((o-Math.floor(.7*o))/Math.floor(.7*o)*100)||43},likes:{current:Math.floor(.1*o)||5,previous:Math.floor(.05*o)||2,growth:50},comments:{current:Math.floor(.05*o)||2,previous:Math.floor(.02*o)||1,growth:67},watchTime:{current:Math.floor(3*o)||150,previous:Math.floor(2*o)||100,growth:50},engagement_rate:{current:6.2,previous:5.1,growth:21.6},monthlyData:M(i,"last_7_days"===t||"last_30_days"===t?6:12)},e.name?a.youtube=e.name:e.channels&&e.channels[0]&&e.channels[0].name&&(a.youtube=e.channels[0].name)}else r+=1,s.instagram={followers:{current:320,previous:220,growth:45.5},likes:{current:180,previous:130,growth:38.5},comments:{current:35,previous:25,growth:40},shares:{current:15,previous:10,growth:50},engagement_rate:{current:5.8,previous:5.2,growth:11.5},monthlyData:"last_7_days"===t||"last_30_days"===t?[220,240,260,280,300,320]:[150,170,190,210,220,240,250,270,285,300,310,320]},e.name&&(a.instagram=e.name)}(e)});const i=Object.values(s).reduce((e,t)=>{var s;return e+((null===(s=t[t.subscribers?"subscribers":"followers"])||void 0===s?void 0:s.current)||0)},0),o=Object.values(s).reduce((e,t)=>{var s,n,r,a;return e+((null===(s=t.likes)||void 0===s?void 0:s.current)||0)+((null===(n=t.comments)||void 0===n?void 0:n.current)||0)+((null===(r=t.shares)||void 0===r?void 0:r.current)||0)+((null===(a=t.views)||void 0===a?void 0:a.current)||0)},0),l=Object.values(s).reduce((e,t)=>{var s;return e+((null===(s=t.engagement_rate)||void 0===s?void 0:s.current)||0)},0)/Object.keys(s).length,d=Object.values(s).reduce((e,t)=>{var s;return e+((null===(s=t[t.subscribers?"subscribers":"followers"])||void 0===s?void 0:s.growth)||0)},0)/Object.keys(s).length;return console.log("Generated preliminary analytics for platforms:",Object.keys(s)),console.log("Full platforms data:",s),console.log("Account names:",a),{chartData:s,accountNames:a,summary:{totalFollowers:i,totalEngagement:o,averageEngagementRate:l,overallGrowth:d,totalAccounts:r,connectedPlatforms:n.length},quickStats:{totalAccounts:r,dataFreshness:(new Date).toISOString(),lastWeekGrowth:d}}},O=(e,t,s)=>{if(console.log(`\ud83d\udd04 Processing historical data for ${t}:`,e),!e||"object"!==typeof e)return null;const n={monthlyData:[]};if(Object.keys(e).forEach(s=>{const r=e[s];if(!Array.isArray(r)||0===r.length)return;const a=r[r.length-1],i=r.length>1?r[r.length-2]:a,o=a.value||0,l=i.value||0,c=l>0?(o-l)/l*100:0;"followers"===s&&"youtube"!==t?(n.followers={current:o,previous:l,growth:Math.round(100*c)/100},n.monthlyData=r.map(e=>e.value)):"followers"===s&&"youtube"===t?(n.subscribers={current:o,previous:l,growth:Math.round(100*c)/100},n.monthlyData=r.map(e=>e.value)):"likes"===s?n.likes={current:o,previous:l,growth:Math.round(100*c)/100}:"comments"===s?n.comments={current:o,previous:l,growth:Math.round(100*c)/100}:"shares"===s?n.shares={current:o,previous:l,growth:Math.round(100*c)/100}:"views"===s&&"youtube"===t?n.views={current:o,previous:l,growth:Math.round(100*c)/100}:"impressions"===s&&"linkedin"===t?n.impressions={current:o,previous:l,growth:Math.round(100*c)/100}:"reach"!==s||"facebook"!==t&&"instagram"!==t?"engagement"===s&&(n.engagement_rate={current:o,previous:l,growth:Math.round(100*c)/100}):n.reach={current:o,previous:l,growth:Math.round(100*c)/100}}),!n.engagement_rate&&n.likes&&n.comments){const e=n.subscribers||n.followers;if(e&&e.current>0){var r;const t=((n.likes.current||0)+(n.comments.current||0)+((null===(r=n.shares)||void 0===r?void 0:r.current)||0))/e.current*100;n.engagement_rate={current:Math.round(100*t)/100,previous:Math.round(.9*t*100)/100,growth:10}}}return console.log(`\u2705 Processed historical data for ${t}:`,n),n},I=e=>{if(console.log("\ud83d\udd04 Processing historical data:",e),!e||"object"!==typeof e)return console.log("\u274c Historical data missing or invalid structure"),null;const t={};return Object.keys(e).forEach(s=>{const n=e[s];if(!Array.isArray(n)||0===n.length)return;console.log(`\ud83d\udcca Processing metric type: ${s} with ${n.length} data points`);const r=n[n.length-1],a=n.length>1?n[n.length-2]:r,i=(n[0],r.value||0),o=a.value||0,l=o>0?(i-o)/o*100:0,c=r.platform||"unknown";t[c]||(t[c]={}),"followers"===s?t[c].followers={current:i,previous:o,growth:Math.round(100*l)/100,monthlyData:n.map(e=>e.value)}:"likes"===s?t[c].likes={current:i,previous:o,growth:Math.round(100*l)/100}:"comments"===s?t[c].comments={current:i,previous:o,growth:Math.round(100*l)/100}:"shares"===s?t[c].shares={current:i,previous:o,growth:Math.round(100*l)/100}:"engagement"===s?t[c].engagement_rate={current:i,previous:o,growth:Math.round(100*l)/100}:"views"===s?t[c].views={current:i,previous:o,growth:Math.round(100*l)/100}:"reach"===s?t[c].reach={current:i,previous:o,growth:Math.round(100*l)/100}:"impressions"===s&&(t[c].impressions={current:i,previous:o,growth:Math.round(100*l)/100})}),console.log("\u2705 Processed historical platform data:",Object.keys(t)),t},T=e=>{const t=Object.keys(e),s=t.reduce((t,s)=>{var n,r;const a="youtube"===s?"subscribers":"followers";return t+((null===(n=e[s])||void 0===n||null===(r=n[a])||void 0===r?void 0:r.current)||0)},0),n=t.reduce((t,s)=>{var n,r,a,i,o,l;return t+((null===(n=e[s])||void 0===n||null===(r=n.likes)||void 0===r?void 0:r.current)||0)+((null===(a=e[s])||void 0===a||null===(i=a.comments)||void 0===i?void 0:i.current)||0)+((null===(o=e[s])||void 0===o||null===(l=o.shares)||void 0===l?void 0:l.current)||0)},0),r=t.reduce((t,s)=>{var n,r;return t+((null===(n=e[s])||void 0===n||null===(r=n.engagement_rate)||void 0===r?void 0:r.current)||0)},0)/t.length,a=t.reduce((t,s)=>{var n,r;const a="youtube"===s?"subscribers":"followers";return t+((null===(n=e[s])||void 0===n||null===(r=n[a])||void 0===r?void 0:r.growth)||0)},0)/t.length;return{totalFollowers:s,totalEngagement:n,averageEngagementRate:r,overallGrowth:a,totalAccounts:t.length,connectedPlatforms:t.length}},M=(e,t)=>{const s=[];for(let n=0;n<t;n++){const r=.25/t,a=Math.round(e*(.75+r*(n+1)));s.push(a)}return s},D={facebook:"#1877F2",instagram:"#E4405F",youtube:"#FF0000",linkedin:"#0077B5"},L=()=>v&&v.isPreliminary?v.accountNames||{facebook:"Aureum Solutions",instagram:"aureum.solutions.in",youtube:"AirsparkOfficial",linkedin:"airspark-inc"}:{},R=()=>{var e;return null!==v&&void 0!==v&&null!==(e=v.summary)&&void 0!==e&&e.totalFollowers?v.summary.totalFollowers:f?Object.keys(f).reduce((e,t)=>{var s,n;const r="youtube"===t?"subscribers":"followers";return e+((null===(s=f[t])||void 0===s||null===(n=s[r])||void 0===n?void 0:n.current)||0)},0):0},F=()=>{var e;return null!==v&&void 0!==v&&null!==(e=v.summary)&&void 0!==e&&e.totalEngagement?v.summary.totalEngagement:f?Object.keys(f).reduce((e,t)=>{var s,n,r;const a=f[t];return e+((null===a||void 0===a||null===(s=a.likes)||void 0===s?void 0:s.current)||0)+((null===a||void 0===a||null===(n=a.comments)||void 0===n?void 0:n.current)||0)+((null===a||void 0===a||null===(r=a.shares)||void 0===r?void 0:r.current)||0)},0):0},z=()=>{var e;if(null!==v&&void 0!==v&&null!==(e=v.summary)&&void 0!==e&&e.averageEngagementRate)return v.summary.averageEngagementRate.toFixed(1);if(!f)return 0;const t=Object.keys(f).map(e=>{var t,s;return(null===(t=f[e])||void 0===t||null===(s=t.engagement_rate)||void 0===s?void 0:s.current)||0}).filter(e=>e>0);return t.length>0?(t.reduce((e,t)=>e+t,0)/t.length).toFixed(1):0},U=()=>{var e;if(null!==v&&void 0!==v&&null!==(e=v.summary)&&void 0!==e&&e.overallGrowth)return Math.abs(v.summary.overallGrowth).toFixed(1);if(!f)return 0;const t=R(),s=Object.keys(f).reduce((e,t)=>{var s,n;const r="youtube"===t?"subscribers":"followers";return e+((null===(s=f[t])||void 0===s||null===(n=s[r])||void 0===n?void 0:n.previous)||0)},0);return s>0?((t-s)/s*100).toFixed(1):0},$={labels:"6months"===u?["Month 1","Month 2","Month 3","Month 4","Month 5","Month 6"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:f?Object.keys(f).map(e=>{let t=f[e].monthlyData;if(!t||t.length<6||t.every(e=>e===t[0])){var s,n;const r="youtube"===e?"subscribers":"followers",a=(null===(s=f[e][r])||void 0===s?void 0:s.current)||0,i=(null===(n=f[e][r])||void 0===n?void 0:n.previous)||0,o="6months"===u?6:12;t=Array.from({length:o},(e,t)=>Math.round(i+(a-i)*(t+1)/o))}return{label:e.charAt(0).toUpperCase()+e.slice(1),data:t,borderColor:D[e],backgroundColor:D[e]+"20",fill:!0,tension:.4}}):[]},B={labels:["Likes","Comments","Shares/Views/Impressions"],datasets:f?Object.keys(f).map(e=>{var t,s,n,r,a;return{label:e.charAt(0).toUpperCase()+e.slice(1),data:[(null===(t=f[e].likes)||void 0===t?void 0:t.current)||0,(null===(s=f[e].comments)||void 0===s?void 0:s.current)||0,"youtube"===e?(null===(n=f[e].views)||void 0===n?void 0:n.current)||0:"linkedin"===e?(null===(r=f[e].impressions)||void 0===r?void 0:r.current)||0:(null===(a=f[e].shares)||void 0===a?void 0:a.current)||0],backgroundColor:D[e],borderColor:D[e],borderWidth:1}}):[]},V={labels:["Facebook","Instagram","YouTube","LinkedIn"],datasets:[{data:f?[(null===(e=f.facebook)||void 0===e||null===(t=e.followers)||void 0===t?void 0:t.current)||0,(null===(s=f.instagram)||void 0===s||null===(n=s.followers)||void 0===n?void 0:n.current)||0,(null===(a=f.youtube)||void 0===a||null===(i=a.subscribers)||void 0===i?void 0:i.current)||0,(null===(o=f.linkedin)||void 0===o||null===(l=o.followers)||void 0===l?void 0:l.current)||0]:[],backgroundColor:[D.facebook,D.instagram,D.youtube,D.linkedin],borderWidth:2}]},W={labels:["Followers","Likes","Comments","Engagement Rate"],datasets:f?Object.keys(f).filter(e=>f[e]).map(e=>{var t,s,n,r,a,i,o,l;return{label:e.charAt(0).toUpperCase()+e.slice(1),data:[(null===(t=f[e])||void 0===t||null===(s=t["youtube"===e?"subscribers":"followers"])||void 0===s?void 0:s.growth)||0,(null===(n=f[e])||void 0===n||null===(r=n.likes)||void 0===r?void 0:r.growth)||0,(null===(a=f[e])||void 0===a||null===(i=a.comments)||void 0===i?void 0:i.growth)||0,(null===(o=f[e])||void 0===o||null===(l=o.engagement_rate)||void 0===l?void 0:l.growth)||0],backgroundColor:D[e]+"80",borderColor:D[e],borderWidth:2}}):[]},H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20}}},scales:{y:{beginAtZero:!0,grid:{color:"#f0f0f0"}},x:{grid:{color:"#f0f0f0"}}}};return p?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto"}),(0,Me.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading ROI Analytics..."})]})}):j?(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-red-500 text-xl mb-4",children:"\u26a0\ufe0f"}),(0,Me.jsx)("p",{className:"text-gray-600",children:j}),(0,Me.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]})}):f?(0,Me.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6",children:(0,Me.jsxs)("div",{className:"px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24",children:[(0,Me.jsx)("div",{className:"mb-8",children:(0,Me.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 via-blue-600 to-cyan-500 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden",children:[(0,Me.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,Me.jsx)("div",{className:"relative",children:(0,Me.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,Me.jsxs)("button",{onClick:()=>d("/customer"),className:"group flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-lg hover:bg-white/30 transition-all",children:[(0,Me.jsx)(Ws,{className:"h-5 w-5"}),(0,Me.jsx)("span",{className:"font-medium",children:"Back to Dashboard"})]})}),(0,Me.jsxs)("h1",{className:"text-4xl font-bold mb-3 flex items-center gap-3",children:[(0,Me.jsx)("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:(0,Me.jsx)(ut,{className:"h-7 w-7"})}),"ROI Analytics Dashboard"]}),(0,Me.jsx)("p",{className:"text-blue-50 text-lg",children:"Comprehensive social media performance and return on investment analysis"})]}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Me.jsxs)("button",{onClick:async()=>{A(!0),await P(),A(!1)},disabled:C,className:"flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 disabled:opacity-50 transition-all font-medium",children:[(0,Me.jsx)(_n,{className:"h-4 w-4 "+(C?"animate-spin":"")}),C?"Refreshing...":"Refresh"]}),(0,Me.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-semibold backdrop-blur-sm "+(v&&!v.isPreliminary?"bg-emerald-500/90 text-white":v&&v.isPreliminary?"bg-blue-500/90 text-white":"bg-amber-500/90 text-white"),children:v&&!v.isPreliminary?"\u2713 Live Data":v&&v.isPreliminary?"\ud83d\udd17 Connected Data":"\u26a0 Demo Data"})]}),S&&(0,Me.jsxs)("div",{className:"text-sm text-blue-100 mb-2",children:["Last updated: ",new Date(S).toLocaleDateString()]}),!v&&(0,Me.jsxs)("div",{className:"text-right bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[(0,Me.jsx)("p",{className:"text-sm text-blue-100 mb-1",children:"Connect social accounts to see live data"}),(0,Me.jsxs)("button",{onClick:()=>d("/customer/settings"),className:"text-sm text-white font-semibold inline-flex items-center gap-1 hover:gap-2 transition-all",children:["Connect Accounts ",(0,Me.jsx)(Dn,{className:"h-4 w-4"})]})]}),v&&v.isPreliminary&&(0,Me.jsxs)("div",{className:"text-right bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[(0,Me.jsx)("p",{className:"text-sm text-blue-100 mb-1",children:"Preliminary data from connected accounts"}),(0,Me.jsx)("p",{className:"text-sm text-blue-200",children:"Analytics processing will provide detailed insights"})]})]})]})})]})}),v&&N.length>0&&(0,Me.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6 mb-8",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[(0,Me.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-lg flex items-center justify-center",children:(0,Me.jsx)(nr,{className:"h-5 w-5 text-white"})}),"Connected Accounts"]}),(0,Me.jsx)("div",{children:(0,Me.jsxs)("div",{className:"text-sm text-slate-600 bg-slate-100 px-4 py-2 rounded-lg font-medium",children:[N.length," Platform",1!==N.length?"s":""," Connected"]})})]}),(0,Me.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:N.map(e=>{const t=e.toLowerCase();return(0,Me.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,Me.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D[t]||"#6B7280"}}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("div",{className:"font-medium capitalize text-gray-900",children:e}),(0,Me.jsx)("div",{className:"text-sm text-green-600",children:"Connected"})]})]},t)})}),v.insights&&v.insights.length>0&&(0,Me.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Me.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Latest Insights"}),(0,Me.jsx)("div",{className:"space-y-2",children:v.insights.slice(0,2).map((e,t)=>(0,Me.jsxs)("div",{className:"text-sm p-2 rounded "+("positive"===e.type?"bg-green-50 text-green-700":"warning"===e.type?"bg-yellow-50 text-yellow-700":"bg-blue-50 text-blue-700"),children:[(0,Me.jsxs)("span",{className:"font-medium",children:[e.title,":"]})," ",e.description]},t))})]})]}),(0,Me.jsx)("div",{className:"mb-8",children:(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,Me.jsxs)("div",{className:"text-center py-8",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Post-Level Analytics Available"}),(0,Me.jsx)("p",{className:"text-gray-600 mb-4",children:"View detailed analytics for individual posts by visiting the respective platform integration pages."}),(0,Me.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,Me.jsx)("button",{onClick:()=>d("/customer/integrations/facebook"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"\ud83d\udcd8 Facebook Analytics"}),(0,Me.jsx)("button",{onClick:()=>d("/customer/integrations/instagram"),className:"flex items-center gap-2 px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700",children:"\ud83d\udcf8 Instagram Analytics"}),(0,Me.jsx)("button",{onClick:()=>d("/customer/integrations/youtube"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"\ud83c\udfac YouTube Analytics"}),(0,Me.jsx)("button",{onClick:()=>d("/customer/integrations/linkedin"),className:"flex items-center gap-2 px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800",children:"\ud83d\udcbc LinkedIn Analytics"})]})]})})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8",children:(0,Me.jsxs)("div",{className:"flex flex-wrap gap-6 items-center",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Period"}),(0,Me.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Me.jsx)("option",{value:"last_7_days",children:"Last 7 Days"}),(0,Me.jsx)("option",{value:"last_30_days",children:"Last 30 Days"}),(0,Me.jsx)("option",{value:"last_90_days",children:"Last 90 Days"})]})]}),(0,Me.jsxs)("div",{children:[(0,Me.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform Filter"}),(0,Me.jsxs)("select",{value:h,onChange:e=>x(e.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Me.jsx)("option",{value:"all",children:"All Platforms"}),(0,Me.jsx)("option",{value:"facebook",children:"Facebook"}),(0,Me.jsx)("option",{value:"instagram",children:"Instagram"}),(0,Me.jsx)("option",{value:"youtube",children:"YouTube"}),(0,Me.jsx)("option",{value:"linkedin",children:"LinkedIn"})]})]})]})}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,Me.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Followers"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:R().toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Across all platforms"})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-green-100 rounded-xl",children:(0,Me.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Engagement"}),(0,Me.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:F().toLocaleString()}),(0,Me.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Likes + Comments + Shares"})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-purple-100 rounded-xl",children:(0,Me.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Engagement Rate"}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[z(),"%"]}),(0,Me.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"Platform average"})]})]})}),(0,Me.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,Me.jsxs)("div",{className:"flex items-center",children:[(0,Me.jsx)("div",{className:"p-3 bg-yellow-100 rounded-xl",children:(0,Me.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Me.jsxs)("div",{className:"ml-4",children:[(0,Me.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overall ROI"}),(0,Me.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["+",U(),"%"]}),(0,Me.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Growth period"})]})]})})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Follower Growth Over Time"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"6months"===u?"Last 6 Months":"Last 12 Months"})]}),(0,Me.jsx)("div",{className:"h-80",children:(0,Me.jsx)($B,{data:$,options:H})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Platform Distribution"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"Current Followers"})]}),(0,Me.jsx)("div",{className:"h-80",children:(0,Me.jsx)(VB,{data:V,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20}}}}})})]})]}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Engagement Comparison"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"Current Period"})]}),(0,Me.jsx)("div",{className:"h-80",children:(0,Me.jsx)(BB,{data:B,options:H})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Growth Rate Comparison"}),(0,Me.jsx)("div",{className:"text-sm text-gray-500",children:"% Growth"})]}),(0,Me.jsx)("div",{className:"h-80",children:(0,Me.jsx)(BB,{data:W,options:{...H,scales:{...H.scales,y:{...H.scales.y,ticks:{callback:function(e){return e+"%"}}}}}})})]})]}),(0,Me.jsxs)("div",{className:"mb-8",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Platform Performance Details"}),(0,Me.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:f&&Object.keys(f).filter(e=>{const t=f[e];return!!t&&(t.followers&&t.followers.current>0||t.subscribers&&t.subscribers.current>0||t.likes&&t.likes.current>0||t.comments&&t.comments.current>0||t.shares&&t.shares.current>0||t.views&&t.views.current>0||t.impressions&&t.impressions.current>0||t.engagement_rate&&t.engagement_rate.current>0)}).map(e=>{var t,s,n,r,a,i,o,l,c,d,u,m,h,x,p,g,b,y,j,w,N,k,S,_,C,A,P,E,O,I;return(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Me.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Me.jsxs)("div",{children:[(0,Me.jsx)("h3",{className:"text-lg font-semibold capitalize",style:{color:D[e]},children:e}),L()[e]&&(0,Me.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["@",L()[e]]})]}),(0,Me.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{backgroundColor:D[e]},children:v?"Connected":"Demo"})]}),(0,Me.jsxs)("div",{className:"space-y-4",children:[(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600 font-medium",children:"youtube"===e?"Subscribers":"Followers"}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"font-bold text-lg",children:((null===(t=f[e])||void 0===t||null===(s=t["youtube"===e?"subscribers":"followers"])||void 0===s?void 0:s.current)||0).toLocaleString()}),(0,Me.jsxs)("div",{className:"text-sm text-green-600 font-medium",children:["+",(null===(n=f[e])||void 0===n||null===(r=n["youtube"===e?"subscribers":"followers"])||void 0===r?void 0:r.growth)||0,"%"]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Likes"}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"font-semibold",children:((null===(a=f[e])||void 0===a||null===(i=a.likes)||void 0===i?void 0:i.current)||0).toLocaleString()}),(0,Me.jsxs)("div",{className:"text-sm text-green-600",children:["+",(null===(o=f[e])||void 0===o||null===(l=o.likes)||void 0===l?void 0:l.growth)||0,"%"]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"Comments"}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"font-semibold",children:((null===(c=f[e])||void 0===c||null===(d=c.comments)||void 0===d?void 0:d.current)||0).toLocaleString()}),(0,Me.jsxs)("div",{className:"text-sm text-green-600",children:["+",(null===(u=f[e])||void 0===u||null===(m=u.comments)||void 0===m?void 0:m.growth)||0,"%"]})]})]}),(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600",children:"youtube"===e?"Views":"linkedin"===e?"Impressions":"Shares"}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsx)("div",{className:"font-semibold",children:"youtube"===e?((null===(h=f[e])||void 0===h||null===(x=h.views)||void 0===x?void 0:x.current)||0).toLocaleString():"linkedin"===e?((null===(p=f[e])||void 0===p||null===(g=p.impressions)||void 0===g?void 0:g.current)||0).toLocaleString():((null===(b=f[e])||void 0===b||null===(y=b.shares)||void 0===y?void 0:y.current)||0).toLocaleString()}),(0,Me.jsxs)("div",{className:"text-sm text-green-600",children:["+","youtube"===e?(null===(j=f[e])||void 0===j||null===(w=j.views)||void 0===w?void 0:w.growth)||0:"linkedin"===e?(null===(N=f[e])||void 0===N||null===(k=N.impressions)||void 0===k?void 0:k.growth)||0:(null===(S=f[e])||void 0===S||null===(_=S.shares)||void 0===_?void 0:_.growth)||0,"%"]})]})]}),(0,Me.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,Me.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Me.jsx)("span",{className:"text-gray-600 font-medium",children:"Engagement Rate"}),(0,Me.jsxs)("div",{className:"text-right",children:[(0,Me.jsxs)("div",{className:"font-bold text-lg",style:{color:D[e]},children:[(null===(C=f[e])||void 0===C||null===(A=C.engagement_rate)||void 0===A?void 0:A.current)||0,"%"]}),(0,Me.jsxs)("div",{className:"text-sm text-green-600 font-medium",children:["+",(null===(P=f[e])||void 0===P||null===(E=P.engagement_rate)||void 0===E?void 0:E.growth)||0,"%"]})]})]})}),(0,Me.jsx)("div",{className:"pt-4",children:(0,Me.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Me.jsx)("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(10*((null===(O=f[e])||void 0===O||null===(I=O.engagement_rate)||void 0===I?void 0:I.current)||0),100)}%`,backgroundColor:D[e]}})})})]})]},e)})})]}),(0,Me.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[(0,Me.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"ROI Analysis Summary"}),(0,Me.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Me.jsxs)("div",{className:"text-center p-6 bg-green-50 rounded-lg",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["+",U(),"%"]}),(0,Me.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:"Overall Growth"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Follower increase"})]}),(0,Me.jsxs)("div",{className:"text-center p-6 bg-blue-50 rounded-lg",children:[(0,Me.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[z(),"%"]}),(0,Me.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:"Avg Engagement"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Across platforms"})]}),(0,Me.jsxs)("div",{className:"text-center p-6 bg-purple-50 rounded-lg",children:[(0,Me.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:F().toLocaleString()}),(0,Me.jsx)("div",{className:"text-lg font-semibold text-gray-800",children:"Total Interactions"}),(0,Me.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Current period"})]})]})]})]})}):(0,Me.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Me.jsxs)("div",{className:"text-center",children:[(0,Me.jsx)("div",{className:"text-gray-400 text-5xl mb-4",children:"\ud83d\udcca"}),(0,Me.jsx)("p",{className:"text-gray-600 text-lg mb-2",children:"No analytics data available."}),(0,Me.jsx)("p",{className:"text-gray-500",children:"Connect your social accounts to see your ROI dashboard."})]})})};function HB(e){let{children:t,role:s}=e;const{currentUser:n}=Le();return n?s&&n.role!==s?"admin"===n.role?(0,Me.jsx)(fe,{to:"/admin",replace:!0}):"customer"===n.role?(0,Me.jsx)(fe,{to:"/customer",replace:!0}):"content_creator"===n.role?(0,Me.jsx)(fe,{to:"/content-creator",replace:!0}):"superadmin"===n.role?(0,Me.jsx)(fe,{to:"/superadmin",replace:!0}):(0,Me.jsx)(fe,{to:"/login",replace:!0}):t:"admin"===s?(0,Me.jsx)(fe,{to:"/login",replace:!0}):"customer"===s?(0,Me.jsx)(fe,{to:"/customer/login",replace:!0}):"content_creator"===s?(0,Me.jsx)(fe,{to:"/content-creator/login",replace:!0}):"superadmin"===s?(0,Me.jsx)(fe,{to:"/superadmin/login",replace:!0}):(0,Me.jsx)(fe,{to:"/login",replace:!0})}function qB(){const[e,t]=r.useState(null),[s,n]=r.useState(""),a=r.useRef(null);return r.useEffect(()=>{const e=(()=>{if(window.location.search&&window.location.search.length>1)try{return new URLSearchParams(window.location.search)}catch(GB){}const e=window.location.hash||"",t=e.indexOf("?");if(-1!==t)try{return new URLSearchParams(e.substring(t+1))}catch(GB){}return new URLSearchParams})(),s=e.get("customerId")||e.get("id")||"",r=e.get("customerName")||e.get("name")||"",a=e.get("platform")||e.get("p")||"";s&&t({id:s,name:r||"Customer"}),n(a)},[]),e&&s?(0,Me.jsx)("div",{className:"min-h-screen flex items-start justify-center p-6",children:(0,Me.jsx)("div",{className:"w-full max-w-2xl bg-white rounded-xl p-6 shadow",children:(0,Me.jsx)(An,{ref:a,platform:s,customer:e,compact:!0,onConnectionSuccess:()=>{window.location.href="/"}})})}):(0,Me.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,Me.jsxs)("div",{className:"max-w-xl w-full bg-white rounded-xl p-6 shadow text-center",children:[(0,Me.jsx)("h3",{className:"font-semibold text-slate-900",children:"Missing parameters"}),(0,Me.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:"This page expects customerId and platform in the URL query. Example: /#/customer/social-integrations?customerId=xxx&platform=facebook"})]})})}const YB=function(){const[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(null),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{try{const e=window.location.search||"";if(!e||e.length<2)return;const t=new URLSearchParams(e),s=t.get("customerId"),n=t.get("platform")||t.get("p");if(!s||!n)return;if(!(window.location.hash||"").replace(/^#/,"").startsWith("/configure")){const e=t.toString();window.location.hash=`/configure?${e}`}}catch(GB){}},[]),(0,Me.jsx)(Ae,{children:(0,Me.jsx)(Re,{children:(0,Me.jsx)(Ue,{children:(0,Me.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Me.jsx)("div",{}),(0,Me.jsxs)(ye,{children:[(0,Me.jsx)(be,{path:"/signup",element:(0,Me.jsx)(Ze,{})}),(0,Me.jsx)(be,{path:"/login",element:(0,Me.jsx)(et,{})}),(0,Me.jsx)(be,{path:"/customer/signup",element:(0,Me.jsx)(wT,{})}),(0,Me.jsx)(be,{path:"/customer/login",element:(0,Me.jsx)(NT,{})}),(0,Me.jsx)(be,{path:"/content-creator/signup",element:(0,Me.jsx)(bD,{})}),(0,Me.jsx)(be,{path:"/content-creator/login",element:(0,Me.jsx)(vD,{})}),(0,Me.jsx)(be,{path:"/configure",element:(0,Me.jsx)(LD,{})}),(0,Me.jsx)(be,{path:"/customer/social-integrations",element:(0,Me.jsx)(qB,{})}),(0,Me.jsx)(be,{path:"/social-integrations",element:(0,Me.jsx)(qB,{})}),(0,Me.jsx)(be,{path:"/customer/integration/facebook",element:(0,Me.jsx)(TE,{})}),(0,Me.jsx)(be,{path:"/customer/integration/instagram",element:(0,Me.jsx)(FE,{})}),(0,Me.jsx)(be,{path:"/customer/integration/youtube",element:(0,Me.jsx)(YE,{})}),(0,Me.jsx)(be,{path:"/customer/integration/linkedin",element:(0,Me.jsx)(xT,{})}),(0,Me.jsx)(be,{path:"/customer/integration/instagram-ads",element:(0,Me.jsx)(B_,{})}),(0,Me.jsx)(be,{path:"/superadmin/signup",element:(0,Me.jsx)(qn,{})}),(0,Me.jsx)(be,{path:"/superadmin/login",element:(0,Me.jsx)(zn,{})}),(0,Me.jsx)(be,{path:"/customer/media-library",element:(0,Me.jsx)(MT,{})}),(0,Me.jsx)(be,{path:"/superadmin",element:(0,Me.jsx)(HB,{role:"superadmin",children:(0,Me.jsx)(Hn,{})})}),(0,Me.jsx)(be,{path:"/superadmin/dashboard",element:(0,Me.jsx)(HB,{role:"superadmin",children:(0,Me.jsx)(Hn,{})})}),(0,Me.jsx)(be,{path:"/superadmin/view-assignments",element:(0,Me.jsx)(HB,{role:"superadmin",children:(0,Me.jsx)(Gn,{})})}),(0,Me.jsx)(be,{path:"/superadmin/analytics",element:(0,Me.jsx)(HB,{role:"superadmin",children:(0,Me.jsx)(Kn,{})})}),(0,Me.jsx)(be,{path:"/superadmin/qr-generator",element:(0,Me.jsx)(HB,{role:"superadmin",children:(0,Me.jsx)(Fn,{})})}),(0,Me.jsx)(be,{path:"/admin",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(bt,{})})}),(0,Me.jsx)(be,{path:"/admin/dashboard",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(bt,{})})}),(0,Me.jsx)(be,{path:"/admin/customers/:id",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(zs,{})})}),(0,Me.jsx)(be,{path:"/admin/comment",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(Vs,{})})}),(0,Me.jsx)(be,{path:"/admin/customers-list",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(Gs,{})})}),(0,Me.jsx)(be,{path:"/admin/calendar",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(Gs,{})})}),(0,Me.jsx)(be,{path:"/admin/customer-details/:id",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(Zs,{})})}),(0,Me.jsx)(be,{path:"/admin/customers",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(en,{})})}),(0,Me.jsx)(be,{path:"/admin/content-creators",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(sn,{})})}),(0,Me.jsx)(be,{path:"/admin/content-creator-details/:id",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(an,{})})}),(0,Me.jsx)(be,{path:"/admin/scheduled-posts",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(xn,{})})}),(0,Me.jsx)(be,{path:"/admin/content-portfolio",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(Pn,{})})}),(0,Me.jsx)(be,{path:"/admin/content-upload/:calendarId/:itemIndex",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(In,{})})}),(0,Me.jsx)(be,{path:"/admin/approve/:id",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(OT,{})})}),(0,Me.jsx)(be,{path:"/admin/customer-social-manager",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(DT,{})})}),(0,Me.jsx)(be,{path:"/admin/integrated-post-analytics",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(HT,{instagramAccount:s,facebookPages:e,youtubeChannels:a,customerInfo:o})})}),(0,Me.jsx)(be,{path:"/admin/post-analytics",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(VT,{})})}),(0,Me.jsx)(be,{path:"/admin/customer-value-dashboard",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(WT,{})})}),(0,Me.jsx)(be,{path:"/admin/social-analytics-dashboard",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(pD,{})})}),(0,Me.jsx)(be,{path:"/admin/timeperiod-chart",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(IE,{})})}),(0,Me.jsx)(be,{path:"/admin/schedule-post-modal",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(Nn,{})})}),(0,Me.jsx)(be,{path:"/admin/content-detail-view",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(kn,{})})}),(0,Me.jsx)(be,{path:"/admin/qr-generator",element:(0,Me.jsx)(HB,{role:"admin",children:(0,Me.jsx)(Fn,{})})}),(0,Me.jsx)(be,{path:"/customer/welcome",element:(0,Me.jsx)(MD,{})}),(0,Me.jsx)(be,{path:"/customer",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(H_,{})})})}),(0,Me.jsx)(be,{path:"/customer/calendar",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(K_,{})})})}),(0,Me.jsx)(be,{path:"/customer/settings",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(vT,{})})})}),(0,Me.jsx)(be,{path:"/customer/subscription",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(CT,{})})})}),(0,Me.jsx)(be,{path:"/customer/content-review",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(ET,{})})})}),(0,Me.jsx)(be,{path:"/customer/approve/:id",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(OT,{})})})}),(0,Me.jsx)(be,{path:"/customer/upload",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(wD,{})})})}),(0,Me.jsx)(be,{path:"/customer/customer-value-dashboard",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(WT,{})})})}),(0,Me.jsx)(be,{path:"/customer/integrated-post-analytics",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(HT,{instagramAccount:s,facebookPages:e,youtubeChannels:a,customerInfo:o})})})}),(0,Me.jsx)(be,{path:"/customer/post-analytics",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(VT,{})})})}),(0,Me.jsx)(be,{path:"/customer/analytics",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(RD,{})})})}),(0,Me.jsx)(be,{path:"/customer/roi-dashboard",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(WB,{})})})}),(0,Me.jsx)(be,{path:"/customer/social-analytics-dashboard",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(pD,{})})})}),(0,Me.jsx)(be,{path:"/customer/timeperiod-chart",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(IE,{})})})}),(0,Me.jsx)(be,{path:"/customer/whatsapp-integration",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(gT,{})})})}),(0,Me.jsx)(be,{path:"/customer/instagram-ads-integration",element:(0,Me.jsx)(HB,{role:"customer",children:(0,Me.jsx)(jT,{children:(0,Me.jsx)(B_,{})})})}),(0,Me.jsx)(be,{path:"/content-creator",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(fD,{})})}),(0,Me.jsx)(be,{path:"/content-creator/assignments",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(yD,{})})}),(0,Me.jsx)(be,{path:"/content-creator/portfolio",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(jD,{})})}),(0,Me.jsx)(be,{path:"/content-creator/upload/:assignmentId",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(wD,{})})}),(0,Me.jsx)(be,{path:"/content-creator/upload",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(wD,{})})}),(0,Me.jsx)(be,{path:"/content-creator/profile",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(_D,{})})}),(0,Me.jsx)(be,{path:"/content-creator/settings",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(ED,{})})}),(0,Me.jsx)(be,{path:"/content-creator/ai-image-generator",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(TD,{})})}),(0,Me.jsx)(be,{path:"/content-creator/whatsapp-integration",element:(0,Me.jsx)(HB,{role:"content_creator",children:(0,Me.jsx)(gT,{})})}),(0,Me.jsx)(be,{path:"/",element:(0,Me.jsx)(fe,{to:"/login",replace:!0})})]})]})})})})};i.createRoot(document.getElementById("root")).render((0,Me.jsx)(r.StrictMode,{children:(0,Me.jsx)(YB,{})}))})()})();
//# sourceMappingURL=main.c5c6fdc4.js.map